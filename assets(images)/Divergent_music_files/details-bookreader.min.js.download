// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = GeneratorFunctionPrototype;
  define(Gp, "constructor", GeneratorFunctionPrototype);
  define(GeneratorFunctionPrototype, "constructor", GeneratorFunction);
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  });
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  define(Gp, iteratorSymbol, function() {
    return this;
  });

  define(Gp, "toString", function() {
    return "[object Generator]";
  });

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, in modern engines
  // we can explicitly access globalThis. In older engines we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}
"use strict";var _regeneratorRuntime=_interopRequireDefault(regeneratorRuntime);function _arrayLikeToArray(A,Ae){(Ae==null||Ae>A.length)&&(Ae=A.length);for(var Or=0,Xt=new Array(Ae);Or<Ae;Or++)Xt[Or]=A[Or];return Xt}function _arrayWithHoles(A){if(Array.isArray(A))return A}function _arrayWithoutHoles(A){if(Array.isArray(A))return _arrayLikeToArray(A)}function _assertThisInitialized(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function _classCallCheck(A,Ae){if(!(A instanceof Ae))throw new TypeError("Cannot call a class as a function")}function isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(A){return!1}}function _construct(A,Ae,Or){return isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(ii,ri,oa){var xo=[null];xo.push.apply(xo,ri);var aa=Function.bind.apply(ii,xo),Os=new aa;return oa&&_setPrototypeOf(Os,oa.prototype),Os},_construct.apply(null,arguments)}function _defineProperties(A,Ae){for(var Or=0;Or<Ae.length;Or++){var Xt=Ae[Or];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(A,Xt.key,Xt)}}function _createClass(A,Ae,Or){return Ae&&_defineProperties(A.prototype,Ae),Or&&_defineProperties(A,Or),A}function _get(A,Ae,Or){return typeof Reflect!="undefined"&&Reflect.get?_get=Reflect.get:_get=function(ii,ri,oa){var xo=_superPropBase(ii,ri);if(!!xo){var aa=Object.getOwnPropertyDescriptor(xo,ri);return aa.get?aa.get.call(oa):aa.value}},_get(A,Ae,Or||A)}function _getPrototypeOf(A){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(Or){return Or.__proto__||Object.getPrototypeOf(Or)},_getPrototypeOf(A)}function _inherits(A,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Ae&&_setPrototypeOf(A,Ae)}function _instanceof(A,Ae){return Ae!=null&&typeof Symbol!="undefined"&&Ae[Symbol.hasInstance]?!!Ae[Symbol.hasInstance](A):A instanceof Ae}function _interopRequireDefault(A){return A&&A.__esModule?A:{default:A}}function _isNativeFunction(A){return Function.toString.call(A).indexOf("[native code]")!==-1}function _iterableToArray(A){if(typeof Symbol!="undefined"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function _iterableToArrayLimit(A,Ae){var Or=A==null?null:typeof Symbol!="undefined"&&A[Symbol.iterator]||A["@@iterator"];if(Or!=null){var Xt=[],ii=!0,ri=!1,oa,xo;try{for(Or=Or.call(A);!(ii=(oa=Or.next()).done)&&(Xt.push(oa.value),!(Ae&&Xt.length===Ae));ii=!0);}catch(aa){ri=!0,xo=aa}finally{try{!ii&&Or.return!=null&&Or.return()}finally{if(ri)throw xo}}return Xt}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possibleConstructorReturn(A,Ae){return Ae&&(_typeof(Ae)==="object"||typeof Ae=="function")?Ae:_assertThisInitialized(A)}function _setPrototypeOf(A,Ae){return _setPrototypeOf=Object.setPrototypeOf||function(Xt,ii){return Xt.__proto__=ii,Xt},_setPrototypeOf(A,Ae)}function _slicedToArray(A,Ae){return _arrayWithHoles(A)||_iterableToArrayLimit(A,Ae)||_unsupportedIterableToArray(A,Ae)||_nonIterableRest()}function _superPropBase(A,Ae){for(;!Object.prototype.hasOwnProperty.call(A,Ae)&&(A=_getPrototypeOf(A),A!==null););return A}function _taggedTemplateLiteral(A,Ae){return Ae||(Ae=A.slice(0)),Object.freeze(Object.defineProperties(A,{raw:{value:Object.freeze(Ae)}}))}function _toConsumableArray(A){return _arrayWithoutHoles(A)||_iterableToArray(A)||_unsupportedIterableToArray(A)||_nonIterableSpread()}var _typeof=function(A){return A&&typeof Symbol!="undefined"&&A.constructor===Symbol?"symbol":typeof A};function _unsupportedIterableToArray(A,Ae){if(!!A){if(typeof A=="string")return _arrayLikeToArray(A,Ae);var Or=Object.prototype.toString.call(A).slice(8,-1);if(Or==="Object"&&A.constructor&&(Or=A.constructor.name),Or==="Map"||Or==="Set")return Array.from(Or);if(Or==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Or))return _arrayLikeToArray(A,Ae)}}function _wrapNativeSuper(A){var Ae=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(Xt){if(Xt===null||!_isNativeFunction(Xt))return Xt;if(typeof Xt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Ae!="undefined"){if(Ae.has(Xt))return Ae.get(Xt);Ae.set(Xt,ii)}function ii(){return _construct(Xt,arguments,_getPrototypeOf(this).constructor)}return ii.prototype=Object.create(Xt.prototype,{constructor:{value:ii,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(ii,Xt)},_wrapNativeSuper(A)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}function _createSuper(A){var Ae=_isNativeReflectConstruct();return function(){var Xt=_getPrototypeOf(A),ii;if(Ae){var ri=_getPrototypeOf(this).constructor;ii=Reflect.construct(Xt,arguments,ri)}else ii=Xt.apply(this,arguments);return _possibleConstructorReturn(this,ii)}}function _templateObject(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject=function(){return A},A}function _templateObject1(){var A=_taggedTemplateLiteral(['\n<svg\n  class="ia-logo"\n  viewBox="0 0 27 30"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="logoTitleID logoDescID"\n>\n  <title id="logoTitleID">Internet Archive logo</title>\n  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <mask id="mask-2" class="fill-color">\n      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n    </mask>\n    <use class="fill-color" xlink:href="#path-1"></use>\n    <g mask="url(#mask-2)" class="fill-color">\n      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n    </g>\n  </g>\n</svg>\n']);return _templateObject1=function(){return A},A}function _templateObject2(){var A=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject2=function(){return A},A}function _templateObject3(){var A=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject3=function(){return A},A}function _templateObject4(){var A=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject4=function(){return A},A}function _templateObject5(){var A=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject5=function(){return A},A}function _templateObject6(){var A=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject6=function(){return A},A}function _templateObject7(){var A=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject7=function(){return A},A}function _templateObject8(){var A=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        tabindex="0"\n        @click=',"\n      >\n        ","\n      </button>\n    "]);return _templateObject8=function(){return A},A}function _templateObject9(){var A=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject9=function(){return A},A}function _templateObject10(){var A=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject10=function(){return A},A}function _templateObject11(){var A=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject11=function(){return A},A}function _templateObject12(){var A=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject12=function(){return A},A}function _templateObject13(){var A=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject13=function(){return A},A}function _templateObject14(){var A=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject14=function(){return A},A}function _templateObject15(){var A=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject15=function(){return A},A}function _templateObject16(){var A=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject16=function(){return A},A}function _templateObject17(){var A=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject17=function(){return A},A}function _templateObject18(){var A=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject18=function(){return A},A}function _templateObject19(){var A=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject19=function(){return A},A}function _templateObject20(){var A=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject20=function(){return A},A}function _templateObject21(){var A=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject21=function(){return A},A}function _templateObject22(){var A=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject22=function(){return A},A}function _templateObject23(){var A=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject23=function(){return A},A}function _templateObject24(){var A=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject24=function(){return A},A}function _templateObject25(){var A=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject25=function(){return A},A}function _templateObject26(){var A=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject26=function(){return A},A}function _templateObject27(){var A=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="0"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject27=function(){return A},A}function _templateObject28(){var A=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject28=function(){return A},A}function _templateObject29(){var A=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject29=function(){return A},A}function _templateObject30(){var A=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject30=function(){return A},A}function _templateObject31(){var A=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject31=function(){return A},A}function _templateObject32(){var A=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject32=function(){return A},A}function _templateObject33(){var A=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject33=function(){return A},A}function _templateObject34(){var A=_taggedTemplateLiteral([' <div class="title">',"</div> "]);return _templateObject34=function(){return A},A}function _templateObject35(){var A=_taggedTemplateLiteral(['\n      <div class="container ','">\n        <div class="badge-container">\n          <div class="badge">','</div>\n        </div>\n        <div class="content-container">\n          ','\n          <div class="content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    ']);return _templateObject35=function(){return A},A}function _templateObject36(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeTransition, 0.25s ease-out)"]);return _templateObject36=function(){return A},A}function _templateObject37(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeMargin, 1rem)"]);return _templateObject37=function(){return A},A}function _templateObject38(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeBackgroundColor, #333)"]);return _templateObject38=function(){return A},A}function _templateObject39(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeRadius, 1.2rem)"]);return _templateObject39=function(){return A},A}function _templateObject40(){var A=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject40=function(){return A},A}function _templateObject41(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeFontSize, 1.8rem)"]);return _templateObject41=function(){return A},A}function _templateObject42(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeFontWeight, bold)"]);return _templateObject42=function(){return A},A}function _templateObject43(){var A=_taggedTemplateLiteral(["var(--formSectionBadgeFontColor, #fff)"]);return _templateObject43=function(){return A},A}function _templateObject44(){var A=_taggedTemplateLiteral(["var(--formSectionTitleFontSize, 1.8rem)"]);return _templateObject44=function(){return A},A}function _templateObject45(){var A=_taggedTemplateLiteral(["var(--formSectionTitleFontWeight, bold)"]);return _templateObject45=function(){return A},A}function _templateObject46(){var A=_taggedTemplateLiteral(["var(--formSectionContentBackgroundColor, transparent)"]);return _templateObject46=function(){return A},A}function _templateObject47(){var A=_taggedTemplateLiteral(["var(--formSectionTextColor, #333)"]);return _templateObject47=function(){return A},A}function _templateObject48(){var A=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject48=function(){return A},A}function _templateObject49(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        background-color: ",";\n        color: ",";\n      }\n      .container {\n        position: relative;\n        padding: 0.5rem;\n      }\n\n      .content-container {\n        position: relative;\n        left: calc("," + ",");\n        width: calc(100% - ("," + ","));\n        transition: ",";\n        z-index: 1;\n      }\n\n      .hidebadge .content-container {\n        left: 0;\n        width: 100%;\n      }\n\n      .hidebadge .badge-container {\n        display: none;\n      }\n\n      .hidebadgeleavespacing .badge {\n        display: none;\n      }\n\n      .badge-container {\n        position: absolute;\n        width: ",";\n      }\n\n      .badge {\n        background-color: ",";\n        color: ",";\n        width: ",";\n        height: ",";\n        border-radius: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-weight: ",";\n        font-size: ",";\n      }\n\n      .title {\n        line-height: ",";\n        margin-bottom: 0.5rem;\n        font-size: ",";\n        font-weight: ",";\n      }\n    "]);return _templateObject49=function(){return A},A}function _templateObject50(){var A=_taggedTemplateLiteral(['<slot name="edit-donation-amount-title"></slot>']);return _templateObject50=function(){return A},A}function _templateObject51(){var A=_taggedTemplateLiteral(['<li class="custom-amount">',"</li>"]);return _templateObject51=function(){return A},A}function _templateObject52(){var A=_taggedTemplateLiteral(['\n          <div class="checkbox-options">\n            ',"\n            ","\n          </div>"]);return _templateObject52=function(){return A},A}function _templateObject53(){var A=_taggedTemplateLiteral(["\n      ",'\n\n      <donation-form-section\n        sectionBadge="','"\n        headline=',"\n        badgeMode=","\n      >\n        ",'\n        <ul class="amount-selector">\n          ',"\n          ",'\n        </ul>\n\n        <div class="errors">',"</div>\n\n        ","\n      </donation-form-section>\n    "]);return _templateObject53=function(){return A},A}function _templateObject54(){var A=_taggedTemplateLiteral(['\n      <donation-form-section\n        sectionBadge="1"\n        headline="Choose a frequency"\n        badgeMode=','\n      >\n        <ul class="frequency-selector">\n          ',"\n        </ul>\n      </donation-form-section>\n    "]);return _templateObject54=function(){return A},A}function _templateObject55(){var A=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="make-this-monthly"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="make-this-monthly"> Make this monthly </label>\n      </div>\n    ']);return _templateObject55=function(){return A},A}function _templateObject56(){var A=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="cover-fees"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="cover-fees"> '," </label>\n      </div>\n    "]);return _templateObject56=function(){return A},A}function _templateObject57(){var A=_taggedTemplateLiteral([" I'll generously add "," to cover fees. "]);return _templateObject57=function(){return A},A}function _templateObject58(){var A=_taggedTemplateLiteral(["\n      <li>\n        ","\n      </li>\n\n      <li>\n        ","\n      </li>\n    "]);return _templateObject58=function(){return A},A}function _templateObject59(){var A=_taggedTemplateLiteral(["\n          <li>\n            ","\n          </li>\n        "]);return _templateObject59=function(){return A},A}function _templateObject60(){var A=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject60=function(){return A},A}function _templateObject61(){var A=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=',"\n          value=","\n          id=",'\n          tabindex="0"\n          .checked=',"\n          @change=","\n          @click=","\n        />\n        <label for=","> "," </label>\n      </div>\n    "]);return _templateObject61=function(){return A},A}function _templateObject62(){var A=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=','\n          value="custom"\n          id="custom-amount-button"\n          tabindex="0"\n          @change=','\n        />\n\n        <label for="custom-amount-button">\n          <span class="custom-amount-text">Custom: $</span\n          ><input\n            type="text"\n            id="custom-amount-input"\n            tabindex="-1"\n            value=',"\n            @input=","\n            @keydown=","\n            @focus=","\n          />\n        </label>\n      </div>\n    "]);return _templateObject62=function(){return A},A}function _templateObject63(){var A=_taggedTemplateLiteral(['\n          To make a donation of $10,000 or more, please contact our philanthropy\n          department at\n          <a href="mailto:donations@archive.org">donations@archive.org</a>\n        ']);return _templateObject63=function(){return A},A}function _templateObject64(){var A=_taggedTemplateLiteral([" Please select an amount (minimum $1) "]);return _templateObject64=function(){return A},A}function _templateObject65(){var A=_taggedTemplateLiteral([" Please enter a valid donation amount "]);return _templateObject65=function(){return A},A}function _templateObject66(){var A=_taggedTemplateLiteral(["var(--paymentButtonBorderColor, #333)"]);return _templateObject66=function(){return A},A}function _templateObject67(){var A=_taggedTemplateLiteral(["var(--paymentButtonGridGap, 1rem)"]);return _templateObject67=function(){return A},A}function _templateObject68(){var A=_taggedTemplateLiteral(["var(--paymentButtonFontSize, 1.6rem)"]);return _templateObject68=function(){return A},A}function _templateObject69(){var A=_taggedTemplateLiteral(["var(--paymentButtonFontColor, #000)"]);return _templateObject69=function(){return A},A}function _templateObject70(){var A=_taggedTemplateLiteral(["var(--paymentButtonSelectedFontColor, #000)"]);return _templateObject70=function(){return A},A}function _templateObject71(){var A=_taggedTemplateLiteral(["var(--paymentButtonSelectedColor, #f9bf3b)"]);return _templateObject71=function(){return A},A}function _templateObject72(){var A=_taggedTemplateLiteral(["var(--paymentButtonFocusedOutlineColor, #7fb3f9)"]);return _templateObject72=function(){return A},A}function _templateObject73(){var A=_taggedTemplateLiteral(["var(--paymentButtonColor, #fff)"]);return _templateObject73=function(){return A},A}function _templateObject74(){var A=_taggedTemplateLiteral(["var(--coverFeesFontSize, 1.2rem)"]);return _templateObject74=function(){return A},A}function _templateObject75(){var A=_taggedTemplateLiteral(["var(--coverFeesFontWeight, bold)"]);return _templateObject75=function(){return A},A}function _templateObject76(){var A=_taggedTemplateLiteral(["var(--customAmountWidth, 4rem)"]);return _templateObject76=function(){return A},A}function _templateObject77(){var A=_taggedTemplateLiteral(["var(--inputFieldFontColor, #333)"]);return _templateObject77=function(){return A},A}function _templateObject78(){var A=_taggedTemplateLiteral(["var(--inputBorder, 1px solid #d9d9d9)"]);return _templateObject78=function(){return A},A}function _templateObject79(){var A=_taggedTemplateLiteral(["var(--paymentSelectorAmountColumnCount, 5)"]);return _templateObject79=function(){return A},A}function _templateObject80(){var A=_taggedTemplateLiteral(["var(--paymentSelectorCustomAmountColSpan, 3)"]);return _templateObject80=function(){return A},A}function _templateObject81(){var A=_taggedTemplateLiteral(["\n      :host {\n        --formSectionContentBackgroundColor: var(--editFormBgColor, transparent);\n        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);\n        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);\n        --formSectionTextColor: var(--editFormTextColor, #333);\n      }\n      .errors {\n        color: red;\n        font-size: 1.4rem;\n        margin-top: 0.5rem;\n      }\n\n      ul {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: grid;\n        grid-gap: ",";\n      }\n\n      li {\n        margin: 0;\n        padding: 0;\n        display: inline-block;\n      }\n\n      .frequency-selector {\n        grid-template-columns: repeat(2, 1fr);\n      }\n\n      .amount-selector {\n        grid-template-columns: repeat(",", 1fr);\n      }\n\n      .custom-amount {\n        grid-column: span ",";\n      }\n\n      .selection-button {\n        height: 3rem;\n      }\n\n      .selection-button label {\n        padding: 0 0.3rem;\n        display: flex;\n        cursor: pointer;\n        text-align: center;\n        font-size: ",";\n        font-weight: bold;\n        border: 1px solid ",";\n        border-radius: 5px;\n        background-color: #ccc;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n      }\n\n      label[for='custom-amount-button'] {\n        padding: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .custom-amount-text {\n        white-space: nowrap;\n        margin-right: 0.5rem;\n      }\n\n      input[type='radio'] {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      input[type='radio'] + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:checked + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:focus + label {\n        outline: 2px solid ",";\n      }\n\n      .checkbox-options {\n        margin-top: 1rem;\n      }\n\n      .checkbox-option-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .checkbox-option-container input {\n        width: 2rem;\n      }\n\n      .checkbox-option-container label {\n        font-size: ",";\n        font-weight: ",";\n        flex: 1;\n      }\n\n      #custom-amount-input {\n        width: ",";\n        font-size: 1.6rem;\n        font-weight: bold;\n        color: ",";\n        padding: 0.1rem;\n        border: ",";\n        appearance: none;\n        -moz-appearance: none;\n        -webkit-appearance: none;\n      }\n    "]);return _templateObject81=function(){return A},A}function _templateObject82(){var A=_taggedTemplateLiteral([' <div class="donate-goal">',"</div> "]);return _templateObject82=function(){return A},A}function _templateObject83(){var A=_taggedTemplateLiteral(['\n      <div\n        class="container"\n        role="progressbar"\n        aria-valuemin="0"\n        aria-valuemax="','"\n        aria-valuenow="','"\n        aria-valuetext="','"\n      >\n        <div class="thermometer-message-container">\n          <div class="thermometer-container">\n            <div\n              class="thermometer-background ','"\n            >\n              <div\n                class="thermometer-fill"\n                style="width: ','%"\n              >\n                ',"\n              </div>\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject83=function(){return A},A}function _templateObject84(){var A=_taggedTemplateLiteral(["",""]);return _templateObject84=function(){return A},A}function _templateObject85(){var A=_taggedTemplateLiteral(['\n          <div class="thermometer-value">',"</div>\n        "]);return _templateObject85=function(){return A},A}function _templateObject86(){var A=_taggedTemplateLiteral(["var(--bannerThermometerHeight, 20px)"]);return _templateObject86=function(){return A},A}function _templateObject87(){var A=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueLeftColor, #fff)"]);return _templateObject87=function(){return A},A}function _templateObject88(){var A=_taggedTemplateLiteral(["var(--bannerThermometerProgressColor, #23765D)"]);return _templateObject88=function(){return A},A}function _templateObject89(){var A=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueRightColor, ",")"]);return _templateObject89=function(){return A},A}function _templateObject90(){var A=_taggedTemplateLiteral(["var(--bannerThermometerBackgroundColor, #B8F5E2)"]);return _templateObject90=function(){return A},A}function _templateObject91(){var A=_taggedTemplateLiteral(["var(--bannerThermometerBorder, 1px solid ",")"]);return _templateObject91=function(){return A},A}function _templateObject92(){var A=_taggedTemplateLiteral(["var(--bannerThermometerBorderRadius, calc("," / 2))"]);return _templateObject92=function(){return A},A}function _templateObject93(){var A=_taggedTemplateLiteral(["var(--bannerThermometerGoalMessagePadding, 0 10px)"]);return _templateObject93=function(){return A},A}function _templateObject94(){var A=_taggedTemplateLiteral(["var(--bannerThermometerGoalValueColor, #2c2c2c)"]);return _templateObject94=function(){return A},A}function _templateObject95(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .container {\n        height: 100%;\n      }\n\n      .thermometer-message-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-container {\n        height: 100%;\n        flex: 1;\n      }\n\n      .thermometer-background {\n        background-color: ",";\n        padding: 0;\n        height: 100%;\n        border-radius: ",";\n        border: ",";\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-fill {\n        background-color: ",";\n        text-align: right;\n        height: 100%;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n\n      .thermometer-value {\n        font-weight: bold;\n      }\n\n      .value-left .thermometer-value {\n        color: ",";\n        padding: 0 0.5rem 0 1rem;\n      }\n\n      .value-right .thermometer-value {\n        color: ",";\n        padding: 0 1rem 0 0.5rem;\n      }\n\n      .donate-goal {\n        text-align: left;\n        padding: ",";\n        text-transform: uppercase;\n        font-weight: bold;\n        color: ",";\n      }\n    "]);return _templateObject95=function(){return A},A}function _templateObject96(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="tocTitleID tocDescID"\n>\n  <title id="tocTitleID">Table of contents icon</title>\n  <desc id="tocDescID">An illustration of three text list items</desc>\n  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>\n</svg>\n']);return _templateObject96=function(){return A},A}function _templateObject97(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject97=function(){return A},A}function _templateObject98(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="ellipsesTitleID ellipsesDescID"\n>\n  <title id="ellipsesTitleID">Ellipses icon</title>\n  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>\n  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject98=function(){return A},A}function _templateObject99(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject99=function(){return A},A}function _templateObject100(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 18 18"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"\n>\n  <title id="collapseSidebarTitleID">Collapse sidebar</title>\n  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>\n  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />\n</svg>\n']);return _templateObject100=function(){return A},A}function _templateObject101(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject101=function(){return A},A}function _templateObject102(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">\n  <title id="linkTitleID">Link icon</title>\n  <desc id="linkDescID">Two chain links linked together</desc>\n  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />\n</svg>\n']);return _templateObject102=function(){return A},A}function _templateObject103(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject103=function(){return A},A}function _templateObject104(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="shareTitleID shareDescID"\n>\n  <title id="shareTitleID">Share icon</title>\n  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>\n  <g class="fill-color">\n    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>\n  </g>\n</svg>\n']);return _templateObject104=function(){return A},A}function _templateObject105(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject105=function(){return A},A}function _templateObject106(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">\n  <title id="emailTitleID">Email icon</title>\n  <desc id="emailDescID">An illustration of an envelope</desc>\n  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />\n</svg>\n']);return _templateObject106=function(){return A},A}function _templateObject107(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject107=function(){return A},A}function _templateObject108(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">\n  <title id="facebookTitleID">Facebook icon</title>\n  <desc id="facebookDescID">A lowercase f</desc>\n  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />\n</svg>\n']);return _templateObject108=function(){return A},A}function _templateObject109(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject109=function(){return A},A}function _templateObject110(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">\n  <title id="pinterestTitleID">Pinterest icon</title>\n  <desc id="pinterestDescID">A stylized letter p</desc>\n  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />\n</svg>\n']);return _templateObject110=function(){return A},A}function _templateObject111(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject111=function(){return A},A}function _templateObject112(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">\n  <title id="tumblrTitleID">Tumblr icon</title>\n  <desc id="tumblrDescID">A lowercase letter t</desc>\n  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />\n</svg>\n']);return _templateObject112=function(){return A},A}function _templateObject113(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject113=function(){return A},A}function _templateObject114(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">\n  <title id="twitterTitleID">Twitter icon</title>\n  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>\n  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />\n</svg>\n']);return _templateObject114=function(){return A},A}function _templateObject115(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject115=function(){return A},A}function _templateObject116(){var A=_taggedTemplateLiteral(["42px"]);return _templateObject116=function(){return A},A}function _templateObject117(){var A=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject117=function(){return A},A}function _templateObject118(){var A=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject118=function(){return A},A}function _templateObject119(){var A=_taggedTemplateLiteral(["\n  .main {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  .animate {\n    transition: transform "," ease-out;\n  }\n\n  .menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: ",";\n    padding: 0.5rem 0.5rem 0 0;\n    box-sizing: border-box;\n    font-size: 1.4rem;\n    color: var(--primaryTextColor);\n    background: var(--menuSliderBg);\n    transform: translateX(calc("," * -1));\n  }\n\n  .menu > button.close {\n    right: 0.7rem;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  header {\n    margin: 0 0 0.5rem 0;\n  }\n\n  header * {\n    margin: 0;\n    display: inline-block;\n  }\n  header button {\n    cursor: pointer;\n  }\n\n  header.with-secondary-action .details {\n    width: 80%;\n  }\n\n  header .details {\n    font-weight: bold;\n    width: 88%;\n  }\n\n  header .custom-action > *,\n  button.close {\n    padding: 0;\n    background-color: transparent;\n    border: 0;\n    --iconWidth: var(--menuSliderHeaderIconWidth);\n    --iconHeight: var(--menuSliderHeaderIconHeight);\n  }\n\n  header .custom-action,\n  button.close {\n    position: absolute;\n  }\n  button.close {\n    right: 0.5rem;\n  }\n\n  button.close * {\n    float: right;\n  }\n\n  .content {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: ",";\n    z-index: 1;\n    transform: translateX(calc("," * -1));\n    transition: transform "," ease-out;\n    background: var(--activeButtonBg);\n    border-right: 0.2rem solid;\n    border-color: var(--subpanelRightBorderColor);\n    padding: 0.5rem 0 0 0.5rem;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .open {\n    transform: translateX(0);\n  }\n\n  .menu-list {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    background: var(--menuSliderBg);\n  }\n  .menu-list li {\n    margin-bottom: 0.2rem;\n  }\n\n  .content > section {\n    overflow: auto;\n    overscroll-behavior: contain;\n  }\n"]);return _templateObject119=function(){return A},A}function _templateObject120(){var A=_taggedTemplateLiteral(["\n  a {\n    display: inline-block;\n    text-decoration: none;\n  }\n\n  .menu-item {\n    display: inline-flex;\n    width: 100%;\n    padding: 0;\n    font-size: 1.6rem;\n    text-align: left;\n    background: transparent;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n  }\n\n  button.menu-item {\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 0;\n  }\n\n  .label {\n    display: var(--menuButtonLabelDisplay, none);\n    padding: 0;\n    font-weight: 400;\n    color: var(--primaryTextColor);\n    text-align: left;\n    vertical-align: middle;\n    margin-left: 1rem;\n  }\n\n  .menu-details {\n    color: var(--primaryTextColor);\n    display: inline-block;\n    margin-left: 0.5rem;\n    font-style: italic;\n    font-size: 1.5rem;\n  }\n\n  .menu-item > .icon {\n    position: relative;\n    display: inline-flex;\n    z-index: 2;\n    min-width: 4.2rem;\n    max-width: 4.2rem;\n    height: 4.2rem;\n    vertical-align: middle;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .menu-item.selected .icon {\n    background-color: var(--activeButtonBg);\n    border-radius: 1rem 0 0 1rem;\n  }\n\n  .icon .fill-color {\n    fill: #999;\n  }\n\n  .icon.active .fill-color {\n    fill: #fff;\n  }\n"]);return _templateObject120=function(){return A},A}function _templateObject121(){var A=_taggedTemplateLiteral(['\n      <span class="icon ','"> ',' </span>\n      <span class="label">','</span>\n      <span class="menu-details">',"</span>\n    "]);return _templateObject121=function(){return A},A}function _templateObject122(){var A=_taggedTemplateLiteral(['\n      <a\n        href="','"\n        class="menu-item ','"\n        @click=',"\n        >","</a\n      >\n    "]);return _templateObject122=function(){return A},A}function _templateObject123(){var A=_taggedTemplateLiteral(['\n      <button class="menu-item ','" @click=',">\n        ","\n      </button>\n    "]);return _templateObject123=function(){return A},A}function _templateObject124(){var A=_taggedTemplateLiteral([""]);return _templateObject124=function(){return A},A}function _templateObject125(){var A=_taggedTemplateLiteral(["\n        <li>\n          <menu-button\n            @menuTypeSelected=","\n            .icon=","\n            .label=","\n            .menuDetails=","\n            .buttonId=","\n            .selected=","\n            .followable=","\n            .href=","\n          ></menu-button>\n        </li>\n      "]);return _templateObject125=function(){return A},A}function _templateObject126(){var A=_taggedTemplateLiteral(['<span class="custom-action">',"</span>"]);return _templateObject126=function(){return A},A}function _templateObject127(){var A=_taggedTemplateLiteral(['\n      <header class="','">\n        <div class="details">\n          <h3>','</h3>\n          <span class="extra-details">',"</span>\n        </div>\n        "," ","\n      </header>\n    "]);return _templateObject127=function(){return A},A}function _templateObject128(){var A=_taggedTemplateLiteral(['\n      <button\n        class="close"\n        aria-label="Close this menu"\n        @click=',"\n      >\n        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>\n      </button>\n    "]);return _templateObject128=function(){return A},A}function _templateObject129(){var A=_taggedTemplateLiteral(['\n      <div class="main">\n        <div class="menu ','">\n          ','\n          <ul class="menu-list">\n            ','\n          </ul>\n          <div\n            class="content ','"\n            @menuTypeSelected=',"\n          >\n            ",'\n            <section>\n              <div class="selected-menu">',"</div>\n            </section>\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject129=function(){return A},A}function _templateObject130(){var A=_taggedTemplateLiteral(['\n      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">\n        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>\n        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>\n        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>\n      </g>\n    ']);return _templateObject130=function(){return A},A}function _templateObject131(){var A=_taggedTemplateLiteral(['\n    <svg\n      height="100"\n      viewBox="0 0 100 100"\n      width="100"\n      xmlns="http://www.w3.org/2000/svg"\n      aria-labelledby="item-loading"\n    >\n      <title id="item-loading">Currently loading viewer.</title>\n      <desc>Please wait while we load theater.</desc>\n      <g fill="#333" fill-rule="evenodd" class="book-icon">\n        ','\n        <path\n          class="ring"\n          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"\n          fill-rule="nonzero"\n        />\n      </g>\n    </svg>\n    ']);return _templateObject131=function(){return A},A}function _templateObject132(){var A=_taggedTemplateLiteral(["<h2>","</h2>"]);return _templateObject132=function(){return A},A}function _templateObject133(){var A=_taggedTemplateLiteral(['\n      <div class="place-holder">\n        '," ","\n        <h3>Loading viewer</h3>\n      </div>\n    "]);return _templateObject133=function(){return A},A}function _templateObject134(){var A=_taggedTemplateLiteral(["\n      .place-holder {\n        width: 30%;\n        margin: auto;\n        text-align: center;\n        color: var(--primaryTextColor);\n      }\n\n      .place-holder {\n        position: relative;\n      }\n\n      .place-holder svg {\n        display: block;\n        width: 60%;\n        max-width: 100px;\n        height: auto;\n        margin: auto;\n      }\n\n      svg * {\n        fill: var(--primaryTextColor);\n      }\n\n      svg .ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n        display: block; // transform won't work on inline style\n      }\n\n      @keyframes rotate {\n        0% {\n          -moz-transform: rotate(-360deg);\n          -webkit-transform: rotate(-360deg);\n          transform: rotate(-360deg);\n        }\n      }\n    "]);return _templateObject134=function(){return A},A}function _templateObject135(){var A=_taggedTemplateLiteral(["\n      <section>\n        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>\n        <p>\n          This item does not appear to have any files that can be experienced on\n          Archive.org. <br />\n          Please download files in this item to interact with them on your\n          computer.\n        </p>\n        <a href=",">Show all files</a>\n      </section>\n    "]);return _templateObject135=function(){return A},A}function _templateObject136(){var A=_taggedTemplateLiteral(["\n      :host {\n        color: var(--primaryTextColor, #fff);\n        text-align: center;\n      }\n      section {\n        width: 100%;\n        margin: 5%;\n        padding: 0 5%;\n      }\n      p {\n        font-size: 1.4rem;\n      }\n      a {\n        color: var(--primaryTextColor, #fff);\n        background-color: rgb(25, 72, 128);\n        min-height: 35px;\n        cursor: pointer;\n        line-height: normal;\n        border-radius: 0.4rem;\n        text-align: center;\n        vertical-align: middle;\n        font-size: 1.4rem;\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        display: inline-block;\n        padding: 0.85rem 1.2rem;\n        border: 1px solid rgb(197, 209, 223);\n        white-space: nowrap;\n        appearance: auto;\n        box-sizing: border-box;\n        user-select: none;\n        text-decoration: none;\n      }\n    "]);return _templateObject136=function(){return A},A}function _templateObject137(){var A=_taggedTemplateLiteral(['\n      <div class="loading-area">\n        <div class="loading-view">\n          <ia-itemnav-loader\n            .loaderMessage=',"\n          ></ia-itemnav-loader>\n        </div>\n      </div>\n    "]);return _templateObject137=function(){return A},A}function _templateObject138(){var A=_taggedTemplateLiteral(['\n      <div id="frame" class=','>\n        <slot\n          name="header"\n          style=',"\n          @slotchange=",'\n        ></slot>\n        <div class="menu-and-reader">\n          ','\n          <div id="reader" class=',">\n            ","\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject138=function(){return A},A}function _templateObject139(){var A=_taggedTemplateLiteral(["<ia-no-theater-available\n      .identifier=","\n      @loadingStateUpdated=","\n    ></ia-no-theater-available>"]);return _templateObject139=function(){return A},A}function _templateObject140(){var A=_taggedTemplateLiteral(['\n      <div slot="main" style=','>\n        <slot\n          name="main"\n          @slotchange=',"\n        ></slot>\n      </div>\n    "]);return _templateObject140=function(){return A},A}function _templateObject141(){var A=_taggedTemplateLiteral(['\n      <button\n        class="toggle-menu"\n        @click=','\n        title="Toggle theater side panels"\n      >\n        <div>\n          <ia-icon-ellipses\n            style="width: var(--iconWidth); height: var(--iconHeight);"\n          ></ia-icon-ellipses>\n        </div>\n      </button>\n    ']);return _templateObject141=function(){return A},A}function _templateObject142(){var A=_taggedTemplateLiteral(['\n      <nav>\n        <div class="minimized">'," ",'</div>\n        <div id="menu" class=',">\n          <ia-menu-slider\n            .menus=","\n            .selectedMenu=","\n            @menuTypeSelected=","\n            @menuSliderClosed=","\n            manuallyHandleClose\n            open\n          ></ia-menu-slider>\n        </div>\n      </nav>\n    "]);return _templateObject142=function(){return A},A}function _templateObject143(){var A=_taggedTemplateLiteral(["",""]);return _templateObject143=function(){return A},A}function _templateObject144(){var A=_taggedTemplateLiteral(['\n        <button class="shortcut ','" @click="','">\n          ',"\n        </button>\n      "]);return _templateObject144=function(){return A},A}function _templateObject145(){var A=_taggedTemplateLiteral(['<div class="shortcuts">',"</div>"]);return _templateObject145=function(){return A},A}function _templateObject146(){var A=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject146=function(){return A},A}function _templateObject147(){var A=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject147=function(){return A},A}function _templateObject148(){var A=_taggedTemplateLiteral(["transform "," ease-out"]);return _templateObject148=function(){return A},A}function _templateObject149(){var A=_taggedTemplateLiteral(["var(--theaterMenuMargin, 42px)"]);return _templateObject149=function(){return A},A}function _templateObject150(){var A=_taggedTemplateLiteral(["var(--theaterBgColor, #000)"]);return _templateObject150=function(){return A},A}function _templateObject151(){var A=_taggedTemplateLiteral(["\n      :host,\n      #frame,\n      .menu-and-reader {\n        position: relative;\n        overflow: hidden;\n        display: block;\n      }\n\n      :host,\n      #frame,\n      .loading-area,\n      .loading-view {\n        min-height: inherit;\n        height: inherit;\n      }\n\n      slot {\n        display: block;\n        width: 100%;\n      }\n\n      slot * {\n        display: block;\n        height: inherit;\n      }\n\n      #frame {\n        background-color: ",";\n        color-scheme: dark;\n        display: flex;\n        flex-direction: column;\n      }\n\n      #frame.fullscreen {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 9;\n      }\n\n      .loading-view {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .loading-area {\n        width: 100%;\n      }\n\n      ia-itemnav-loader {\n        display: block;\n        width: 100%;\n      }\n\n      .hidden {\n        display: none !important;\n      }\n\n      button {\n        cursor: pointer;\n        padding: 0;\n        border: 0;\n      }\n\n      .menu-and-reader {\n        position: relative;\n        display: flex;\n        flex: 1;\n      }\n\n      nav button {\n        background: none;\n      }\n\n      nav .minimized {\n        background: rgba(0, 0, 0, 0.7);\n        padding-top: 6px;\n        position: absolute;\n        width: ",";\n        z-index: 2;\n        left: 0;\n        border-bottom-right-radius: 5%;\n      }\n\n      nav .minimized button {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin-bottom: 0.2rem;\n        margin: auto;\n        display: inline-flex;\n        vertical-align: middle;\n        -webkit-box-align: center;\n        align-items: center;\n        -webkit-box-pack: center;\n        justify-content: center;\n        width: ",";\n        height: ",";\n      }\n\n      nav .minimized button.toggle-menu > * {\n        border: 2px solid var(--iconStrokeColor);\n        border-radius: var(--iconWidth);\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin: auto;\n      }\n\n      ia-icon-ellipses {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n      }\n\n      #menu {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 3;\n        overflow: hidden;\n        transform: translateX(-",");\n        width: ",";\n        transform: translateX(calc("," * -1));\n        transition: ",";\n      }\n\n      #reader {\n        position: relative;\n        z-index: 1;\n        transform: translateX(0);\n        width: 100%;\n        display: flex;\n      }\n\n      #reader > * {\n        width: 100%;\n        display: flex;\n        flex: 1;\n      }\n\n      .open.overlay #reader {\n        transition: none;\n      }\n\n      .open #menu {\n        width: ",";\n        transform: translateX(0);\n        transition: ",";\n      }\n\n      .open.shift #reader {\n        width: calc(100% - ",");\n        margin-left: ",";\n        transition: ",";\n      }\n    "]);return _templateObject151=function(){return A},A}function _templateObject152(){var A=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject152=function(){return A},A}function _templateObject153(){var A=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject153=function(){return A},A}function _templateObject154(){var A=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject154=function(){return A},A}function _templateObject155(){var A=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject155=function(){return A},A}function _templateObject156(){var A=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject156=function(){return A},A}function _templateObject157(){var A=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject157=function(){return A},A}function _templateObject158(){var A=_taggedTemplateLiteral(['<li>\n          <a\n            class="','"\n            href="','"\n            target="_blank"\n          >\n            '," ","\n          </a>\n        </li>"]);return _templateObject158=function(){return A},A}function _templateObject159(){var A=_taggedTemplateLiteral(['<li>\n      <a href="#" @click=',">\n        <ia-icon-link></ia-icon-link>\n        Get an embeddable link\n      </a>\n    </li>"]);return _templateObject159=function(){return A},A}function _templateObject160(){var A=_taggedTemplateLiteral(['&lt;iframe\n    src="https://',"/embed/",'" width="560"\n    height="384" frameborder="0" webkitallowfullscreen="true"\n    mozallowfullscreen="true" allowfullscreen&gt;&lt;/iframe&gt;']);return _templateObject160=function(){return A},A}function _templateObject161(){var A=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject161=function(){return A},A}function _templateObject162(){var A=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        "," ","\n        <div\n          class=",'\n        >\n          <h4>Embed</h4>\n          <div class="code" @click=',">\n            <textarea readonly>",'</textarea>\n            <small>Copied to clipboard</small>\n          </div>\n          <h4>\n            Embed for wordpress.com hosted blogs and archive.org item\n            &lt;description&gt; tags\n          </h4>\n          <div class="code" @click=',">\n            <textarea readonly>","</textarea>\n            <small>Copied to clipboard</small>\n          </div>\n          <p>\n            Want more?\n            <a href=","\n              >Advanced embedding details, examples, and help</a\n            >!\n          </p>\n        </div>\n      </ul>\n    "]);return _templateObject162=function(){return A},A}function _templateObject163(){var A=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject163=function(){return A},A}function _templateObject164(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        list-style: none;\n      }\n\n      li {\n        padding: 0 0 1rem 0;\n      }\n\n      li a {\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n      }\n\n      li a * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      .embed {\n        display: none;\n      }\n      .embed.visible {\n        display: block;\n        width: 95%;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject164=function(){return A},A}function _templateObject165(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject165=function(){return A},A}function _templateObject166(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject166=function(){return A},A}function _templateObject167(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject167=function(){return A},A}function _templateObject168(){var A=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject168=function(){return A},A}function _templateObject169(){var A=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject169=function(){return A},A}function _templateObject170(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject170=function(){return A},A}function _templateObject171(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject171=function(){return A},A}function _templateObject172(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject172=function(){return A},A}function _templateObject173(){var A=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject173=function(){return A},A}function _templateObject174(){var A=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject174=function(){return A},A}function _templateObject175(){var A=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject175=function(){return A},A}function _templateObject176(){var A=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject176=function(){return A},A}function _templateObject177(){var A=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject177=function(){return A},A}function _templateObject178(){var A=_taggedTemplateLiteral([" "," "]);return _templateObject178=function(){return A},A}function _templateObject179(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject179=function(){return A},A}function _templateObject180(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="searchTitleID searchDescID"\n>\n  <title id="searchTitleID">Search icon</title>\n  <desc id="searchDescID">Search for something.</desc>\n  <path\n    class="fill-color"\n    fill="none"\n    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />\n</svg>\n']);return _templateObject180=function(){return A},A}function _templateObject181(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject181=function(){return A},A}function _templateObject182(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="downloadTitleID downloadDescID"\n>\n  <title id="downloadTitleID">Download icon</title>\n  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>\n  <g class="fill-color">\n\n    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>\n  </g>\n</svg>\n']);return _templateObject182=function(){return A},A}function _templateObject183(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject183=function(){return A},A}function _templateObject184(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"\n>\n  <title id="visualAdjustmentTitleID">Visual adjustment</title>\n  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>\n  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />\n</svg>\n']);return _templateObject184=function(){return A},A}function _templateObject185(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject185=function(){return A},A}function _templateObject186(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-minusTitleID magnify-minusDescID"\n>\n  <title id="magnify-minusTitleID">Zoom out</title>\n  <desc id="magnify-minusDescID">Take a look further.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>\n  </g>\n</svg>\n']);return _templateObject186=function(){return A},A}function _templateObject187(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject187=function(){return A},A}function _templateObject188(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-plusTitleID magnify-plusDescID"\n>\n  <title id="magnify-plusTitleID">Zoom in</title>\n  <desc id="magnify-plusDescID">Take a look closer.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>\n  </g>\n</svg>\n']);return _templateObject188=function(){return A},A}function _templateObject189(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject189=function(){return A},A}function _templateObject190(){var A=_taggedTemplateLiteral(['\n<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>\n']);return _templateObject190=function(){return A},A}function _templateObject191(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject191=function(){return A},A}function _templateObject192(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      #hollow,\n      #plus,\n      #minus {\n        display: none;\n      }\n\n      .hollow #filled,\n      .plus #filled,\n      .minus #filled {\n        display: none;\n      }\n\n      .hollow #hollow,\n      .plus #hollow,\n      .minus #hollow {\n        display: block;\n      }\n\n      .plus #plus {\n        display: block;\n      }\n\n      .minus #minus {\n        display: block;\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject192=function(){return A},A}function _templateObject193(){var A=_taggedTemplateLiteral(["\n      <div class=",'>\n        <svg\n          height="24"\n          viewBox="0 0 16 24"\n          width="16"\n          xmlns="http://www.w3.org/2000/svg"\n          aria-labelledby="bookmarkTitleID bookmarDescID"\n        >\n          <title id="bookmarkTitleID">Bookmark icon</title>\n          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>\n          <path\n            id="filled"\n            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"\n            class="fill-color"\n            fill-rule="evenodd"\n          />\n          <g class="fill-color" fill-rule="evenodd">\n            <path\n              id="hollow"\n              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"\n            />\n            <path\n              id="plus"\n              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"\n              fill-rule="nonzero"\n            />\n            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject193=function(){return A},A}function _templateObject194(){var A=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject194=function(){return A},A}function _templateObject195(){var A=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject195=function(){return A},A}function _templateObject196(){var A=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject196=function(){return A},A}function _templateObject197(){var A=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject197=function(){return A},A}function _templateObject198(){var A=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject198=function(){return A},A}function _templateObject199(){var A=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject199=function(){return A},A}function _templateObject200(){var A=_taggedTemplateLiteral(['<li>\n          <a\n            class="','"\n            href="','"\n            target="_blank"\n          >\n            '," ","\n          </a>\n        </li>"]);return _templateObject200=function(){return A},A}function _templateObject201(){var A=_taggedTemplateLiteral(['<li>\n      <a href="#" @click=',">\n        <ia-icon-link></ia-icon-link>\n        Get an embeddable link\n      </a>\n    </li>"]);return _templateObject201=function(){return A},A}function _templateObject202(){var A=_taggedTemplateLiteral(['&lt;iframe\n    src="https://',"/embed/",'" width="560"\n    height="384" frameborder="0" webkitallowfullscreen="true"\n    mozallowfullscreen="true" allowfullscreen&gt;&lt;/iframe&gt;']);return _templateObject202=function(){return A},A}function _templateObject203(){var A=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject203=function(){return A},A}function _templateObject204(){var A=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        "," ","\n        <div\n          class=",'\n        >\n          <h4>Embed</h4>\n          <div class="code" @click=',">\n            <textarea readonly>",'</textarea>\n            <small>Copied to clipboard</small>\n          </div>\n          <h4>\n            Embed for wordpress.com hosted blogs and archive.org item\n            &lt;description&gt; tags\n          </h4>\n          <div class="code" @click=',">\n            <textarea readonly>","</textarea>\n            <small>Copied to clipboard</small>\n          </div>\n          <p>\n            Want more?\n            <a href=","\n              >Advanced embedding details, examples, and help</a\n            >!\n          </p>\n        </div>\n      </ul>\n    "]);return _templateObject204=function(){return A},A}function _templateObject205(){var A=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject205=function(){return A},A}function _templateObject206(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        list-style: none;\n      }\n\n      li {\n        padding: 0 0 1rem 0;\n      }\n\n      li a {\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n      }\n\n      li a * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      .embed {\n        display: none;\n      }\n      .embed.visible {\n        display: block;\n        width: 95%;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject206=function(){return A},A}function _templateObject207(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject207=function(){return A},A}function _templateObject208(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject208=function(){return A},A}function _templateObject209(){var A=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject209=function(){return A},A}function _templateObject210(){var A=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject210=function(){return A},A}function _templateObject211(){var A=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject211=function(){return A},A}function _templateObject212(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject212=function(){return A},A}function _templateObject213(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject213=function(){return A},A}function _templateObject214(){var A=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject214=function(){return A},A}function _templateObject215(){var A=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject215=function(){return A},A}function _templateObject216(){var A=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject216=function(){return A},A}function _templateObject217(){var A=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject217=function(){return A},A}function _templateObject218(){var A=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject218=function(){return A},A}function _templateObject219(){var A=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject219=function(){return A},A}function _templateObject220(){var A=_taggedTemplateLiteral([" "," "]);return _templateObject220=function(){return A},A}function _templateObject221(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject221=function(){return A},A}function _templateObject222(){var A=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"]);return _templateObject222=function(){return A},A}function _templateObject223(){var A=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="]);return _templateObject223=function(){return A},A}function _templateObject224(){var A=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    color: var(--primaryTextColor);\n    line-height: normal;\n    border-radius: .4rem;\n    text-align: center;\n    vertical-align: middle;\n    font-size: 1.4rem;\n    display: inline-block;\n    padding: .6rem 1.2rem;\n    border: 1px solid transparent;\n\n    white-space: nowrap;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .ia-button.link,\n  .ia-button.external {\n    min-height: unset;\n    text-decoration: none;\n  }\n\n  .ia-button:disabled,\n  .ia-button.disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  \n  .ia-button.slim {\n    padding: 0;\n  }\n\n  .ia-button.primary {\n    background-color: var(--primaryCTAFill);\n    border-color: var(--primaryCTABorder);\n  }\n\n  .ia-button.cancel {\n    background-color: var(--primaryErrorCTAFill);\n    border-color: var(--primaryErrorCTABorder);\n  }\n\n  .ia-button.external {\n    background: var(--secondaryCTAFill);\n    border-color: var(--secondaryCTABorder);\n  }\n"]);return _templateObject224=function(){return A},A}function _templateObject225(){var A=_taggedTemplateLiteral(["<p>("," result",")</p>"]);return _templateObject225=function(){return A},A}function _templateObject226(){var A=_taggedTemplateLiteral(["<header>\n      <h3>Search inside</h3>\n      ","\n    </header>"]);return _templateObject226=function(){return A},A}function _templateObject227(){var A=_taggedTemplateLiteral(['\n      <input name="all_files" id="all_files" type="checkbox" />\n      <label class="checkbox" for="all_files">Search all files</label>\n    ']);return _templateObject227=function(){return A},A}function _templateObject228(){var A=_taggedTemplateLiteral(['\n      <div class="loading">\n        <ia-activity-indicator mode="processing"></ia-activity-indicator>\n        <p>Searching</p>\n        <button class="ia-button external cancel-search" @click=',">Cancel</button>\n      </div>\n    "]);return _templateObject228=function(){return A},A}function _templateObject229(){var A=_taggedTemplateLiteral(['<img src="','" />']);return _templateObject229=function(){return A},A}function _templateObject230(){var A=_taggedTemplateLiteral(["\n            <li @click=",">\n              ","\n              <h4>",'</h4>\n              <p class="page-num">Page ',"</p>\n              <p>","</p>\n            </li>\n          "]);return _templateObject230=function(){return A},A}function _templateObject231(){var A=_taggedTemplateLiteral(['\n      <ul class="results ','">\n        ',"\n      </ul>\n    "]);return _templateObject231=function(){return A},A}function _templateObject232(){var A=_taggedTemplateLiteral(['\n      <form action="" method="get" @submit=',">\n        <fieldset>\n          ",'\n          <input\n            type="search"\n            name="query"\n            alt="Search inside this book."\n            @keyup=',"\n            @search=","\n            .value=","\n          />\n        </fieldset>\n      </form>\n    "]);return _templateObject232=function(){return A},A}function _templateObject233(){var A=_taggedTemplateLiteral(['\n      <p class="error-message">',"</p>\n    "]);return _templateObject233=function(){return A},A}function _templateObject234(){var A=_taggedTemplateLiteral(['<p class="search-cta"><em>Please enter text to search for</em></p>']);return _templateObject234=function(){return A},A}function _templateObject235(){var A=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <div class="results-container">\n        ',"\n        ","\n        ","\n        ","\n      </div>\n    "]);return _templateObject235=function(){return A},A}function _templateObject236(){var A=_taggedTemplateLiteral(["var(--searchResultText, #adaedc)"]);return _templateObject236=function(){return A},A}function _templateObject237(){var A=_taggedTemplateLiteral(["var(--searchResultBg, #272958)"]);return _templateObject237=function(){return A},A}function _templateObject238(){var A=_taggedTemplateLiteral(["var(--searchResultBorder, #adaedc)"]);return _templateObject238=function(){return A},A}function _templateObject239(){var A=_taggedTemplateLiteral(["(--tertiaryBGColor, #333)"]);return _templateObject239=function(){return A},A}function _templateObject240(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 1rem 2rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      mark {\n        padding: 0 .2rem;\n        color: ",";\n        background: ",";\n        border: 1px solid ",';\n        border-radius: 2px;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 2rem;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem 0 0;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n\n      fieldset {\n        padding: 0 0 1rem 0;\n        border: none;\n      }\n\n      [type="checkbox"] {\n        display: none;\n      }\n\n      label {\n        display: block;\n        text-align: center;\n      }\n\n      label.checkbox {\n        padding-bottom: .5rem;\n        font-size: 1.6rem;\n        line-height: 150%;\n        vertical-align: middle;\n      }\n\n      label.checkbox:after {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: .7rem;\n        content: "";\n        border-radius: 2px;\n      }\n      :checked + label.checkbox:after {\n        background-image: url(\'','\');\n      }\n\n      label.checkbox[for="all_files"]:after {\n        background: ',' 50% 50% no-repeat;\n        border: 1px solid var(--primaryTextColor);\n      }\n\n      [type="search"] {\n        color: var(--primaryTextColor);\n        border: 1px solid var(--primaryTextColor);\n        -webkit-appearance: textfield;\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        box-sizing: border-box;\n        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;\n        border-radius: 1.5rem;\n        background: transparent;\n      }\n      [type="search"]:focus {\n        outline: none;\n      }\n      [type="search"]::-webkit-search-cancel-button {\n        width: 18px;\n        height: 18px;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-mask: url(\'',"') 0 0 no-repeat;\n        mask: url('","') 0 0 no-repeat;\n        -webkit-mask-size: 100%;\n        mask-size: 100%;\n        background: #fff;\n      }\n\n      p.page-num {\n        font-weight: bold;\n        padding-bottom: 0;\n      }\n\n      p.search-cta {\n        text-align: center;\n      }\n\n      .results-container {\n        padding-bottom: 2rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      ul.show-image li {\n        display: grid;\n      }\n\n      li {\n        cursor: pointer;\n        grid-template-columns: 30px 1fr;\n        grid-gap: 0 .5rem;\n      }\n\n      li img {\n        display: block;\n        width: 100%;\n      }\n\n      li h4 {\n        grid-column: 2 / 3;\n        padding: 0 0 2rem 0;\n        margin: 0;\n        font-weight: normal;\n      }\n\n      li p {\n        grid-column: 2 / 3;\n        padding: 0 0 1.5rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      .loading {\n        text-align: center;\n      }\n\n      .loading p {\n        padding: 0 0 1rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      ia-activity-indicator {\n        display: block;\n        width: 40px;\n        height: 40px;\n        margin: 0 auto;\n      }\n    "]);return _templateObject240=function(){return A},A}function _templateObject241(){var A=_taggedTemplateLiteral(["("," ",")"]);return _templateObject241=function(){return A},A}function _templateObject242(){var A=_taggedTemplateLiteral(['<p class="error">',"</p>"]);return _templateObject242=function(){return A},A}function _templateObject243(){var A=_taggedTemplateLiteral(["\n    <ia-book-search-results\n      .query=","\n      .results=","\n      .errorMessage=","\n      ?queryInProgress=","\n      ?renderSearchAllFiles=","\n      @resultSelected=","\n      @bookSearchInitiated=","\n      @bookSearchResultsCleared=","\n      @bookSearchCanceled=","\n    ></ia-book-search-results>\n  "]);return _templateObject243=function(){return A},A}function _templateObject244(){var A=_taggedTemplateLiteral(['<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>']);return _templateObject244=function(){return A},A}function _templateObject245(){var A=_taggedTemplateLiteral(["<p>"," format","</p>"]);return _templateObject245=function(){return A},A}function _templateObject246(){var A=_taggedTemplateLiteral([""]);return _templateObject246=function(){return A},A}function _templateObject247(){var A=_taggedTemplateLiteral(["<h2>These files will expire in "," days.</h2>"]);return _templateObject247=function(){return A},A}function _templateObject248(){var A=_taggedTemplateLiteral([""]);return _templateObject248=function(){return A},A}function _templateObject249(){var A=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject249=function(){return A},A}function _templateObject250(){var A=_taggedTemplateLiteral([""]);return _templateObject250=function(){return A},A}function _templateObject251(){var A=_taggedTemplateLiteral(['\n        <li>\n          <a class="ia-button link primary" href="','">Get ',"</a>\n          ","\n        </li>\n      "]);return _templateObject251=function(){return A},A}function _templateObject252(){var A=_taggedTemplateLiteral(["\n      <header>\n        <h3>Downloadable files</h3>\n        ","\n      </header>\n    "]);return _templateObject252=function(){return A},A}function _templateObject253(){var A=_taggedTemplateLiteral(['\n      <p>To access downloaded books, you need Adobe-compliant software on your device. The Internet Archive will administer this loan, but Adobe may also collect some information.</p>\n      <a class="ia-button external primary" href="https://www.adobe.com/solutions/ebook/digital-editions/download.html" rel="noopener noreferrer" target="_blank">Install Adobe Digital Editions</a>\n    ']);return _templateObject253=function(){return A},A}function _templateObject254(){var A=_taggedTemplateLiteral(['\n    <p>For LCP downloads, make sure you have SimplyE or Aldiko Next installed on mobile or Thorium on desktop.</p>\n    <ul>\n      <li><a href="https://librarysimplified.org/simplye/" rel="noopener noreferrer nofollow" target="_blank">Install SimplyE</a></li>\n      <li><a href="https://www.demarque.com/en-aldiko" rel="noopener noreferrer nofollow" target="_blank">Install Aldiko</a></li>\n      <li><a href="https://www.edrlab.org/software/thorium-reader/" rel="noopener noreferrer nofollow" target="_blank">Install Thorium</a></li>\n    </ul>\n  ']);return _templateObject254=function(){return A},A}function _templateObject255(){var A=_taggedTemplateLiteral(["\n      ","\n      ","\n      <ul>","</ul>\n      ","\n    "]);return _templateObject255=function(){return A},A}function _templateObject256(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      a.close ia-icon {\n        --iconWidth: 18px;\n        --iconHeight: 18px;\n      }\n      a.close {\n        justify-self: end;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n      header div {\n        display: flex;\n        align-items: baseline;\n      }      \n\n      h2 {\n        font-size: 1.6rem;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      p {\n        margin: .3rem 0 0 0;\n      }\n\n      li,\n      ul + p {\n        padding-bottom: 1.2rem;\n        font-size: 1.2rem;\n        line-height: 140%;\n      }\n    "]);return _templateObject256=function(){return A},A}function _templateObject257(){var A=_taggedTemplateLiteral(["<ia-book-downloads .downloads=","></ia-book-downloads>"]);return _templateObject257=function(){return A},A}function _templateObject258(){var A=_taggedTemplateLiteral(['<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>']);return _templateObject258=function(){return A},A}function _templateObject259(){var A=_taggedTemplateLiteral(["\n      <div class=",'>\n        <input\n          type="range"\n          name="','_range"\n          min=',"\n          max=","\n          step=","\n          .value=","\n          @input=","\n          @change=","\n        />\n        <p>","%</p>\n      </div>\n    "]);return _templateObject259=function(){return A},A}function _templateObject260(){var A=_taggedTemplateLiteral(['<li>\n      <label for="','">\n        <span class="name">','</span>\n        <input\n          type="checkbox"\n          name="','"\n          id="','"\n          @change=',"\n          ?checked=",'\n        />\n        <span class="icon"></span>\n      </label>\n      ',"\n    </li>"]);return _templateObject260=function(){return A},A}function _templateObject261(){var A=_taggedTemplateLiteral(["<p>("," active)</p>"]);return _templateObject261=function(){return A},A}function _templateObject262(){var A=_taggedTemplateLiteral(["<header>\n      <h3>Visual adjustments</h3>\n      ","\n    </header>"]);return _templateObject262=function(){return A},A}function _templateObject263(){var A=_taggedTemplateLiteral(['\n      <h4>Zoom</h4>\n      <button class="zoom_out" @click=',' title="zoom out">\n        <ia-icon-magnify-minus></ia-icon-magnify-minus>\n      </button>\n      <button class="zoom_in" @click=',' title="zoom in">\n        <ia-icon-magnify-plus></ia-icon-magnify-plus>\n      </button>\n    ']);return _templateObject263=function(){return A},A}function _templateObject264(){var A=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        ","\n      </ul>\n      ","\n    "]);return _templateObject264=function(){return A},A}function _templateObject265(){var A=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      height: 100%;\n      overflow-y: auto;\n      font-size: 1.4rem;\n      box-sizing: border-box;\n    }\n\n    header {\n      display: flex;\n      align-items: baseline;\n    }\n\n    h3 {\n      padding: 0;\n      margin: 0 1rem 0 0;\n      font-size: 1.6rem;\n    }\n\n    header p {\n      padding: 0;\n      margin: 0;\n      font-size: 1.2rem;\n      font-weight: bold;\n      font-style: italic;\n    }\n\n    ul {\n      padding: 1rem 2rem 0 0;\n      list-style: none;\n      margin-top: 0;\n    }\n\n    [type="checkbox"] {\n      display: none;\n    }\n\n    label {\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      font-size: 1.4rem;\n      font-weight: bold;\n      line-height: 150%;\n      vertical-align: middle;\n    }\n\n    .icon {\n      display: inline-block;\n      width: 14px;\n      height: 14px;\n      margin-left: .7rem;\n      border: 1px solid var(--primaryTextColor);\n      border-radius: 2px;\n      background: var(--activeButtonBg) 50% 50% no-repeat;\n    }\n    :checked + .icon {\n      background-image: url(\'',"');\n    }\n\n    .range {\n      display: none;\n      padding-top: .5rem;\n    }\n    .range.visible {\n      display: flex;\n    }\n\n    .range p {\n      margin-left: 1rem;\n    }\n\n    h4 {\n      padding: 1rem 0;\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    button {\n      -webkit-appearance: none;\n      appearance: none;\n      border: none;\n      border-radius: 0;\n      background: transparent;\n      outline: none;\n      cursor: pointer;\n      --iconFillColor: var(--primaryTextColor);\n      --iconStrokeColor: var(--primaryTextColor);\n      height: 4rem;\n      width: 4rem;\n    }\n\n    button * {\n      display: inline-block;\n    }"]);return _templateObject265=function(){return A},A}function _templateObject266(){var A=_taggedTemplateLiteral(['<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>']);return _templateObject266=function(){return A},A}function _templateObject267(){var A=_taggedTemplateLiteral(["\n      <ia-book-visual-adjustments\n        .options=","\n        @visualAdjustmentOptionChanged=","\n        @visualAdjustmentZoomIn=","\n        @visualAdjustmentZoomOut=","\n      ></ia-book-visual-adjustments>\n    "]);return _templateObject267=function(){return A},A}function _templateObject268(){var A=_taggedTemplateLiteral(['\n      div {\n        display: flex;\n        justify-content: center;\n        padding-top: 2rem;\n      }\n\n      button {\n        appearance: none;\n        padding: 0.5rem 1rem;\n        margin: 0 .5rem;\n        box-sizing: border-box;\n        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n        color: var(--primaryTextColor);\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        background: var(--primaryCTAFill);\n      }\n\n      .delete {\n        background: var(--primaryErrorCTAFill);\n      }\n    ']);return _templateObject268=function(){return A},A}function _templateObject269(){var A=_taggedTemplateLiteral(['\n      <div>\n        <button class="delete" @click=',">Delete</button>\n        <button @click=",">Cancel</button>\n      </div>\n    "]);return _templateObject269=function(){return A},A}function _templateObject270(){var A=_taggedTemplateLiteral(["\n      button {\n        -webkit-appearance: none;\n        appearance: none;\n        outline: 0;\n        border: none;\n        padding: 0;\n        height: 4rem;\n        width: 4rem;\n        background: transparent;\n        cursor: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\"), pointer;\n        position: relative;\n      }\n      button > * {\n        display: block;\n        position: absolute;\n        top: 0.2rem;\n      }\n      button.left > * {\n        left: 0.2rem;\n      }\n\n      button.right > * {\n        right: 0.2rem;\n      }\n    "]);return _templateObject270=function(){return A},A}function _templateObject271(){var A=_taggedTemplateLiteral(["\n      <button title="," @click="," class=",">\n        <icon-bookmark state=","></icon-bookmark>\n      </button>\n    "]);return _templateObject271=function(){return A},A}function _templateObject272(){var A=_taggedTemplateLiteral(['\n      <p>A free account is required to save and access bookmarks.</p>\n      <a class="ia-button link primary" href="','">Log in</a>\n    ']);return _templateObject272=function(){return A},A}function _templateObject273(){var A=_taggedTemplateLiteral(["\n      .bookmarks {\n        height: 100%;\n        overflow: hidden;\n        padding-bottom: 20px;\n      }\n\n      .list ia-bookmark-edit {\n        display: none;\n      }\n\n      .edit ia-bookmarks-list {\n        display: none;\n      }\n    "]);return _templateObject273=function(){return A},A}function _templateObject274(){var A=_taggedTemplateLiteral(["\n        <bookmark-button\n          @bookmarkButtonClicked=","\n          state=","\n          side=","\n        ></bookmark-button>"]);return _templateObject274=function(){return A},A}function _templateObject275(){var A=_taggedTemplateLiteral(["\n      <delete-modal-actions\n        .deleteAction=","\n        .cancelAction=","\n        .pageID=","\n      ></delete-modal-actions>\n    "]);return _templateObject275=function(){return A},A}function _templateObject276(){var A=_taggedTemplateLiteral(['\n      <button\n        class="ia-button primary"\n        tabindex="-1"\n        ?disabled=',"\n        @click=",">\n        Add bookmark\n      </button>\n    "]);return _templateObject276=function(){return A},A}function _templateObject277(){var A=_taggedTemplateLiteral(["\n      <ia-bookmarks-list\n        @bookmarkEdited=","\n        @bookmarkSelected=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        .editedBookmark=","\n        .bookmarks=","\n        .activeBookmarkID=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=",">\n      </ia-bookmarks-list>\n    "]);return _templateObject277=function(){return A},A}function _templateObject278(){var A=_taggedTemplateLiteral(["<p>Please use 1up or 2up view modes to add bookmark.</p>"]);return _templateObject278=function(){return A},A}function _templateObject279(){var A=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject279=function(){return A},A}function _templateObject280(){var A=_taggedTemplateLiteral(["<bookmarks-login\n        @click=","\n        .url=","></bookmarks-login>"]);return _templateObject280=function(){return A},A}function _templateObject281(){var A=_taggedTemplateLiteral(['\n      <section class="bookmarks">\n      ',"\n      </section>\n    "]);return _templateObject281=function(){return A},A}function _templateObject282(){var A=_taggedTemplateLiteral(["\n  .blue {\n    --iconFillColor: var(--blueBookmarkColor, #0023f5);\n  }\n\n  .red {\n    --iconFillColor: var(--redBookmarkColor, #eb3223);\n  }\n\n  .green {\n    --iconFillColor: var(--greenBookmarkColor, #75ef4c);\n  }\n"]);return _templateObject282=function(){return A},A}function _templateObject283(){var A=_taggedTemplateLiteral(["<header>\n      <h3>Edit Bookmark</h3>\n    </header>"]);return _templateObject283=function(){return A},A}function _templateObject284(){var A=_taggedTemplateLiteral(['\n      <li>\n        <input type="radio" name="color" id="color_','" .value='," @change="," ?checked=",'>\n        <label for="color_','">\n          <icon-bookmark class=',"></icon-bookmark>\n        </label>\n      </li>\n    "]);return _templateObject284=function(){return A},A}function _templateObject285(){var A=_taggedTemplateLiteral(['\n      <div class="bookmark">\n        <img src='," />\n        <h4>Page ","</h4>\n      </div>\n    "]);return _templateObject285=function(){return A},A}function _templateObject286(){var A=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <form action="" method="put" @submit=','>\n        <fieldset>\n          <label for="note">Note <small>(optional)</small></label>\n          <textarea rows="4" cols="80" name="note" id="note" @change=',">",'</textarea>\n          <label for="color">Bookmark color</label>\n          <ul>\n            ','\n          </ul>\n          <div class="actions">\n            <button type="button" class="ia-button cancel" @click=','>Delete</button>\n            <input class="ia-button" type="submit" value="Save">\n          </div>\n        </fieldset>\n      </form>\n    ']);return _templateObject286=function(){return A},A}function _templateObject287(){var A=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      padding: 0 1rem 2rem 1rem;\n      color: var(--primaryTextColor);\n    }\n\n    small {\n      font-style: italic;\n    }\n\n    .bookmark {\n      display: grid;\n      grid-template-columns: 37px 1fr;\n      grid-gap: 0 1rem;\n      align-items: center;\n    }\n\n    h4 {\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    fieldset {\n      padding: 2rem 0 0 0;\n      border: none;\n    }\n\n    label {\n      display: block;\n      font-weight: bold;\n    }\n\n    p {\n      padding: 0;\n      margin: .5rem 0;\n      font-size: 1.2rem;\n      line-height: 120%;\n    }\n\n    textarea {\n      width: 100%;\n      margin-bottom: 2rem;\n      box-sizing: border-box;\n      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n      resize: vertical;\n    }\n\n    ul {\n      display: grid;\n      grid-template-columns: repeat(3, auto);\n      grid-gap: 0 2rem;\n      justify-content: start;\n      padding: 1rem 0 0 0;\n      margin: 0 0 2rem 0;\n      list-style: none;\n    }\n\n    li input {\n      display: none;\n    }\n\n    li label {\n      display: block;\n      min-width: 50px;\n      padding-top: .4rem;\n      text-align: center;\n      border: 1px solid transparent;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    li input:checked + label {\n      border-color: var(--primaryTextColor);\n    }\n\n    input[type="submit"] {\n      background: var(--primaryCTAFill);\n      border-color: var(--primaryCTABorder);\n    }\n\n    button {\n      background: var(--primaryErrorCTAFill);\n      border-color: var(--primaryErrorCTABorder);\n    }\n\n    .button {\n      -webkit-appearance: none;\n      appearance: none;\n      padding: .5rem 1rem;\n      box-sizing: border-box;\n      color: var(--primaryTextColor);\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    .actions {\n      display: grid;\n      grid-template-columns: auto auto;\n      grid-gap: 0 1rem;\n      justify-items: stretch;\n    }\n    ']);return _templateObject287=function(){return A},A}function _templateObject288(){var A=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject288=function(){return A},A}function _templateObject289(){var A=_taggedTemplateLiteral(["\n      <li\n        @click=",'\n        tabindex="0"\n        data-pageIndex=','\n      >\n        <div class="separator"></div>\n        <div class="content ','">\n          <button\n            class="edit"\n            @click=','\n            title="Edit this bookmark"\n          >\n            <ia-icon-edit-pencil></ia-icon-edit-pencil>\n          </button>\n          <h4>\n            <icon-bookmark class=',"></icon-bookmark>\n            <span> Page ","</span>\n          </h4>\n          ","\n          ","\n        </div>\n      </li>\n    "]);return _templateObject289=function(){return A},A}function _templateObject290(){var A=_taggedTemplateLiteral(["\n      <ia-bookmark-edit\n        .bookmark=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=","\n        .showBookmark=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        @bookmarkColorChanged=","\n      ></ia-bookmark-edit>\n    "]);return _templateObject290=function(){return A},A}function _templateObject291(){var A=_taggedTemplateLiteral(["<small>(",")</small>"]);return _templateObject291=function(){return A},A}function _templateObject292(){var A=_taggedTemplateLiteral(["<header>\n      <h3>\n        Bookmarks\n        ","\n      </h3>\n    </header>"]);return _templateObject292=function(){return A},A}function _templateObject293(){var A=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject293=function(){return A},A}function _templateObject294(){var A=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject294=function(){return A},A}function _templateObject295(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      icon-bookmark {\n        width: 16px;\n        height: 24px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      small {\n        font-style: italic;\n      }\n\n      h4 {\n        margin: 0;\n        font-size: 1.4rem;\n      }\n      h4 * {\n        display: inline-block;\n      }\n      h4 icon-bookmark {\n        vertical-align: bottom;\n      }\n      h4 span {\n        vertical-align: top;\n        padding-top: 1%;\n      }\n\n      p {\n        padding: 0;\n        margin: 5px 0 0 0;\n        width: 98%;\n        overflow-wrap: break-word;\n      }\n\n      ia-bookmark-edit {\n        margin: 5px 5px 3px 6px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n      ul > li:first-child .separator {\n        display: none;\n      }\n      li {\n        cursor: pointer;\n        outline: none;\n        position: relative;\n      }\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: .2rem 0 .4rem .2rem;\n      }\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n      li button.edit {\n        padding: 5px 2px 0 0;\n        background: transparent;\n        cursor: pointer;\n        height: 40px;\n        width: 40px;\n        position: absolute;\n        right: 2px;\n        top: 2px;\n        text-align: right;\n        -webkit-appearance: none;\n        appearance: none;\n        outline: none;\n        box-sizing: border-box;\n        border: none;\n      }\n      li button.edit > * {\n        display: block;\n        height: 100%;\n        width: 100%;\n      }\n    "]);return _templateObject295=function(){return A},A}function _templateObject296(){var A=_taggedTemplateLiteral(['<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>']);return _templateObject296=function(){return A},A}function _templateObject297(){var A=_taggedTemplateLiteral(["",""]);return _templateObject297=function(){return A},A}function _templateObject298(){var A=_taggedTemplateLiteral(["<iaux-in-share-panel\n      .identifier=","\n      .type=","\n      .creator=","\n      .description=","\n      .baseHost=","\n      .fileSubPrefix=","\n    ></iaux-in-share-panel>"]);return _templateObject298=function(){return A},A}function _templateObject299(){var A=_taggedTemplateLiteral(["",""]);return _templateObject299=function(){return A},A}function _templateObject300(){var A=_taggedTemplateLiteral(['\n  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject300=function(){return A},A}function _templateObject301(){var A=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        title="Exit fullscreen view"\n      >',"</button>\n    "]);return _templateObject301=function(){return A},A}function _templateObject302(){var A=_taggedTemplateLiteral(['<img class="cover-img" src=',' alt="cover image for ','">']);return _templateObject302=function(){return A},A}function _templateObject303(){var A=_taggedTemplateLiteral(['<div class="placeholder">',"</div>"]);return _templateObject303=function(){return A},A}function _templateObject304(){var A=_taggedTemplateLiteral(['<slot name="main"></slot>']);return _templateObject304=function(){return A},A}function _templateObject305(){var A=_taggedTemplateLiteral(['<div id="book-navigator__root">\n      ',"\n      ","\n    </div>\n  "]);return _templateObject305=function(){return A},A}function _templateObject306(){var A=_taggedTemplateLiteral(["\n    :host,\n    #book-navigator__root,\n    slot,\n    slot > * {\n      display: block;\n      height: inherit;\n      width: inherit;\n    }\n    .placeholder {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      margin: 5%;\n    }\n    .cover-img {\n      max-height: 300px;\n    }\n  "]);return _templateObject306=function(){return A},A}function _templateObject307(){var A=_taggedTemplateLiteral(['\n      <div class="main-component">\n        <iaux-item-navigator\n          ?viewportInFullscreen=',"\n          .basehost=","\n          .item=","\n          .modal=","\n          .loaded=","\n          .sharedObserver=","\n          ?signedIn=","\n          .menuShortcuts=","\n          .menuContents=","\n          .openMenu=",'\n        >\n          <div slot="header">\n            <slot name="header"></slot>\n          </div>\n          <div slot="main">\n            <book-navigator\n              .modal=',"\n              .baseHost=","\n              .itemMD=","\n              ?signedIn=","\n              ?sideMenuOpen=","\n              .sharedObserver=","\n              @ViewportInFullScreen=","\n              @loadingStateUpdated=","\n              @updateSideMenu=","\n              @menuUpdated=","\n              @menuShortcutsUpdated=",'\n            >\n              <div slot="main">\n                <slot name="main"></slot>\n              </div>\n            </book-navigator>\n          </div>\n        </iaux-item-navigator>\n      </div>\n    ']);return _templateObject307=function(){return A},A}function _templateObject308(){var A=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        --primaryBGColor: var(--black, #000);\n        --secondaryBGColor: #222;\n        --tertiaryBGColor: #333;\n        --primaryTextColor: var(--white, #fff);\n        --primaryCTAFill: #194880;\n        --primaryCTABorder: #c5d1df;\n        --secondaryCTAFill: #333;\n        --secondaryCTABorder: #999;\n        --primaryErrorCTAFill: #e51c26;\n        --primaryErrorCTABorder: #f8c6c8;\n        background-color: var(--primaryBGColor);\n        position: relative;\n      }\n\n      :host([fullscreen]),\n      iaux-item-navigator[viewportinfullscreen] {\n        position: fixed;\n        inset: 0;\n        height: 100%;\n        min-height: unset;\n      }\n\n      .main-component {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        display: flex;\n        width: 100%;\n      }\n\n      slot {\n        display: block;\n        flex: 1;\n      }\n\n      iaux-item-navigator {\n        min-height: var(--br-height, inherit);\n        height: var(--br-height, inherit);\n        display: block;\n        width: 100%;\n        color: var(--primaryTextColor);\n        --menuButtonLabelDisplay: block;\n        --menuWidth: 320px;\n        --menuSliderBg: var(--secondaryBGColor);\n        --activeButtonBg: var(--tertiaryBGColor);\n        --subpanelRightBorderColor: var(--secondaryCTABorder);\n        --animationTiming: 100ms;\n        --iconFillColor: var(--primaryTextColor);\n        --iconStrokeColor: var(--primaryTextColor);\n        --menuSliderHeaderIconHeight: 2rem;\n        --menuSliderHeaderIconWidth: 2rem;\n        --iconWidth: 2.4rem;\n        --iconHeight: 2.4rem;\n        --shareLinkColor: var(--primaryTextColor);\n        --shareIconBorder: var(--primaryTextColor);\n        --shareIconBg: var(--secondaryBGColor);\n        --activityIndicatorLoadingDotColor: var(--primaryTextColor);\n        --activityIndicatorLoadingRingColor: var(--primaryTextColor);\n      }\n    ']);return _templateObject308=function(){return A},A}function _templateObject309(){var A=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject309=function(){return A},A}function _templateObject310(){var A=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject310=function(){return A},A}function _templateObject311(){var A=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject311=function(){return A},A}function _templateObject312(){var A=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n      fill=""></path>\n  </svg>']);return _templateObject312=function(){return A},A}function _templateObject313(){var A=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill=""></path>\n  </svg>']);return _templateObject313=function(){return A},A}function _templateObject314(){var A=_taggedTemplateLiteral(['<span class="caret">',"</span>"]);return _templateObject314=function(){return A},A}function _templateObject315(){var A=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button @click=',' class="click-main">\n          <span class="cta sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n      </div>\n    "]);return _templateObject315=function(){return A},A}function _templateObject316(){var A=_taggedTemplateLiteral(["\n    :host {\n      display: inline;\n      color: var(--dropdownTextColor, #fff);\n    }\n\n    svg.caret-up-svg,\n    svg.caret-down-svg {\n      fill: var(--dropdownCaretColor, #fff);\n      vertical-align: middle;\n    }\n\n    button.click-main {\n      background: transparent;\n      color: inherit;\n      border: none;\n      cursor: pointer;\n      outline: inherit;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: row;\n      padding-left: 0;\n    }\n\n    button slot {\n      padding-right: 5px;\n      display: inline-block;\n    }\n\n    .ia-dropdown-group {\n      width: inherit;\n      height: inherit;\n      position: relative;\n    }\n\n    .sr-only {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n      clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n\n    .caret svg {\n      height: var(--caretHeight, 10px);\n      width: var(--caretWidth, 20px);\n    }\n\n    ul {\n      z-index: var(--dropdownListZIndex, 1);\n    }\n\n    ul.dropdown-main.closed {\n      visibility: hidden;\n      height: 1px;\n      width: 1px;\n    }\n\n    ul.dropdown-main {\n      position: absolute;\n      list-style: none;\n      margin: 5px 0 0 0;\n      padding: 0;\n      color: var(--dropdownTextColor, #fff);\n      border-radius: 4px;\n      border: 1px solid var(--dropdownBorderColor, #fff);\n    }\n\n    ul.dropdown-main {\n      background: var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li:hover:first-child {\n      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n    }\n\n    ul.dropdown-main li:hover:last-child {\n      border-bottom-color: var(\n        --dropdownHoverBgColor,\n        rgba(255, 255, 255, 0.3)\n      );\n    }\n\n    ul.dropdown-main li:hover:not(:first-child) {\n      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n    ul.dropdown-main li:hover:not(:last-child) {\n      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n\n    ul.dropdown-main li.selected:last-child {\n      border-bottom-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected:first-child {\n      border-top-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected > * {\n      background-color: var(--dropdownSelectedBgColor, #fff);\n      color: var(--dropdownSelectedTextColor, #2c2c2c);\n    }\n\n    ul.dropdown-main li:hover {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n      list-style: none;\n      cursor: pointer;\n    }\n\n    ul.dropdown-main li:hover > * {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n    }\n\n    ul.dropdown-main li {\n      background: var(--dropdownBgColor, #333);\n      list-style: none;\n      height: 30px;\n      cursor: pointer;\n      border-bottom: 0.5px solid var(--dropdownBgColor, #333);\n      border-top: 0.5px solid var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li button {\n      background: none;\n      color: inherit;\n      border: none;\n      font: inherit;\n      cursor: pointer;\n      outline: inherit;\n    }\n\n    ul.dropdown-main li a {\n      text-decoration: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li:first-child {\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n    }\n\n    ul.dropdown-main li:last-child {\n      border-bottom-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n    }\n\n    /* cover the list with the label */\n    ul.dropdown-main li > * > :first-child {\n      margin: 0;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n      padding: 5px 10px;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li > * {\n      width: 100%;\n      height: inherit;\n      color: var(--dropdownTextColor, #fff);\n      background: transparent;\n      padding: 0;\n    }\n  "]);return _templateObject316=function(){return A},A}function _templateObject317(){var A=_taggedTemplateLiteral(["\n  section#radio {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  #radio #selector-title {\n    margin-right: 5px;\n  }\n\n  #radio ul {\n    display: inline-block;\n  }\n\n  #radio ul {\n    border-radius: 50px;\n    display: inline-flex;\n    align-content: flex-start;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #radio li {\n    border: 1px solid #fff;\n  }\n\n  #radio li:first-child {\n    border-top-left-radius: 50px;\n    border-bottom-left-radius: 50px;\n    padding-left: 5px;\n  }\n  #radio li:first-child ia-icon-label {\n    margin-left: 5px;\n  }\n\n  #radio li:last-child {\n    border-top-right-radius: 50px;\n    border-bottom-right-radius: 50px;\n    padding-right: 10px;\n    padding-left: 5px;\n  }\n\n  #radio li:last-child ia-icon-label {\n    margin-right: 5px;\n  }\n\n  #radio li:not(:last-child) {\n    border-right: none;\n    padding-right: 5px;\n    padding-left: 5px;\n  }\n\n  /* Demarcate when hovering next to selected channel */\n  #radio li > ia-icon-label {\n    height: 30px;\n    padding: 5px;\n    box-sizing: border-box;\n  }\n  /* End demarcation */\n"]);return _templateObject317=function(){return A},A}function _templateObject318(){var A=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject318=function(){return A},A}function _templateObject319(){var A=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n  "]);return _templateObject319=function(){return A},A}function _templateObject320(){var A=_taggedTemplateLiteral(['<img\n    class="ia"\n    src="https://archive.org/images/music-theater/internet-archive.svg"\n    alt="Internet Archive logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject320=function(){return A},A}function _templateObject321(){var A=_taggedTemplateLiteral(['<img\n    class="ia-beta"\n    src="https://archive.org/images/music-theater/streaming.svg"\n    alt="Internet Archive beta player logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject321=function(){return A},A}function _templateObject322(){var A=_taggedTemplateLiteral(['<img\n    class="spotify"\n    src="https://archive.org/images/music-theater/spotify.svg"\n    alt="Spotify logo"\n    style="display: block;"\n  />']);return _templateObject322=function(){return A},A}function _templateObject323(){var A=_taggedTemplateLiteral(['<img\n    class="webamp"\n    src="https://archive.org/images/music-theater/webamp.svg"\n    alt="webamp logo"\n    style="height: 20px;"\n  />']);return _templateObject323=function(){return A},A}function _templateObject324(){var A=_taggedTemplateLiteral(['<img\n    class="youtube"\n    src="https://archive.org/images/music-theater/youtube.svg"\n    alt="youtube logo"\n    style="height: 20px; width: 20px; display: block;"\n  />']);return _templateObject324=function(){return A},A}function _templateObject325(){var A=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject325=function(){return A},A}function _templateObject326(){var A=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject326=function(){return A},A}function _templateObject327(){var A=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject327=function(){return A},A}function _templateObject328(){var A=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>Webamp</span>\n    </ia-icon-label>\n  "]);return _templateObject328=function(){return A},A}function _templateObject329(){var A=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject329=function(){return A},A}function _templateObject330(){var A=_taggedTemplateLiteral(["\n    <a href="," @click=",">","</button>\n  "]);return _templateObject330=function(){return A},A}function _templateObject331(){var A=_taggedTemplateLiteral(["\n    <button @click=",' class="ia">\n      ',"\n    </button>\n  "]);return _templateObject331=function(){return A},A}function _templateObject332(){var A=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="ia-beta"\n>\n  ',"\n</button>"]);return _templateObject332=function(){return A},A}function _templateObject333(){var A=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="sp"\n>\n  ',"\n</button>"]);return _templateObject333=function(){return A},A}function _templateObject334(){var A=_taggedTemplateLiteral(["\n    <a href="," @click=",' class="wa">',"</button>\n  "]);return _templateObject334=function(){return A},A}function _templateObject335(){var A=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="yt"\n>\n  ',"\n</button>"]);return _templateObject335=function(){return A},A}function _templateObject336(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject336=function(){return A},A}function _templateObject337(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject337=function(){return A},A}function _templateObject338(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject338=function(){return A},A}function _templateObject339(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject339=function(){return A},A}function _templateObject340(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject340=function(){return A},A}function _templateObject341(){var A=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject341=function(){return A},A}function _templateObject342(){var A=_taggedTemplateLiteral(["\n      <ia-dropdown\n        displayCaret\n        .options=","\n        .selectedOption=","\n        class=",'\n      >\n        <span slot="dropdown-label">',"</span>\n      </ia-dropdown>\n    "]);return _templateObject342=function(){return A},A}function _templateObject343(){var A=_taggedTemplateLiteral(['\n      <div id="selector-title"><h4>Play from:</h4></div>\n      <div>\n        <ul>\n          '," ","\n          ","\n          ","\n          ","\n        </ul>\n      </div>\n    "]);return _templateObject343=function(){return A},A}function _templateObject344(){var A=_taggedTemplateLiteral(["\n      <section\n        id=",'\n        class="'," ",'"\n      >\n        ',"\n      </section>\n    "]);return _templateObject344=function(){return A},A}function _templateObject345(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      section.radio ul,\n      section.radio h4 {\n        color: #fff;\n      }\n\n      section.radio.light h4 {\n        color: #222;\n      }\n\n      ia-dropdown.light {\n        --channel-selector-dropdown-text-color: #222;\n        color: var(--channel-selector-dropdown-text-color, #222);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);\n      }\n\n      ia-dropdown {\n        --dropdownBgColor: #333;\n        --dropdownHoverBgColor: #474747;\n        color: var(--channel-selector-dropdown-text-color, #fff);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);\n      }\n\n      ia-dropdown.light img.ia,\n      ia-dropdown.light img.ia-beta,\n      ia-dropdown.light img.webamp {\n        filter: invert(1);\n      }\n\n      h4 {\n        margin: 0;\n      }\n\n      a:link,\n      a:visited,\n      a:active,\n      a {\n        color: inherit;\n        text-decoration: none;\n      }\n\n      button {\n        color: inherit;\n        background: none;\n        border: none;\n        padding: 0;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n        margin: 0;\n      }\n\n      li > *,\n      #dropdown .selected-option {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-content: center;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n      }\n\n      li:hover {\n        background-color: var(--channel-selector-hover-bg-color, #474747);\n      }\n\n      li.selected {\n        background-color: #fff;\n        color: #2c2c2c;\n      }\n\n      ul,\n      li {\n        list-style-type: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      li {\n        display: flex;\n        height: 30px;\n        background-color: #333;\n      }\n\n      #dropdown .close,\n      .sr-only {\n        width: 1px;\n        height: 1px;\n        padding: 0px;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0px, 0px, 0px, 0px);\n        border: 0px;\n        display: block;\n      }\n\n      #radio .selected-option {\n        display: none;\n      }\n\n      li a.ia {\n        display: flex;\n      }\n\n      *[slot='dropdown-label'] img {\n        height: 30px !important;\n        width: 30px !important;\n        display: block;\n      }\n    "]);return _templateObject345=function(){return A},A}function _templateObject346(){var A=_taggedTemplateLiteral(['\n  <svg\n    height="12"\n    viewBox="0 0 12 12"\n    width="12"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="closeCircleTitleID closeCircleDescID"\n  >\n    <title id="closeCircleTitleID">Close circle icon</title>\n    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>\n    <path\n      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"\n      class="fill-color"\n      fill-rule="evenodd"\n    />\n  </svg>\n']);return _templateObject346=function(){return A},A}function _templateObject347(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor, #999);\n      }\n    "]);return _templateObject347=function(){return A},A}function _templateObject348(){var A=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="audioTitleID audioDescID"\n>\n  <title id="audioTitleID">Audio icon</title>\n  <desc id="audioDescID">An illustration of an audio speaker.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(10, 8)" class="fill-color">\n      <path\n        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"\n      ></path>\n      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>\n    </g>\n  </g>\n</svg>\n']);return _templateObject348=function(){return A},A}function _templateObject349(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject349=function(){return A},A}function _templateObject350(){var A=_taggedTemplateLiteral(['\n      <div class="no-image">\n        <ia-icon-audio class=',"></ia-icon-audio>\n      </div>\n    "]);return _templateObject350=function(){return A},A}function _templateObject351(){var A=_taggedTemplateLiteral(["\n    ia-icon-audio {\n      margin: auto;\n      display: block;\n      height: var(--imageHeight, 100%);\n      width: var(--imageWidth, 100%);\n      opacity: 0.8;\n    }\n    :host {\n      height: 100%;\n      width: 100%;\n    }\n\n    ia-icon-audio {\n      border: 1px solid #fff8;\n    }\n\n    ia-icon-audio.grad0 {\n      background: linear-gradient(\n        hsl(300, 80%, 55%),\n        hsl(330, 80%, 33%) 35%,\n        hsl(330, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad1 {\n      background: linear-gradient(\n        hsl(200, 80%, 55%),\n        hsl(230, 80%, 33%) 35%,\n        hsl(230, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad2 {\n      background: linear-gradient(\n        hsl(160, 80%, 55%),\n        hsl(190, 80%, 33%) 35%,\n        hsl(190, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad3 {\n      background: linear-gradient(\n        hsl(250, 80%, 55%),\n        hsl(280, 80%, 33%) 35%,\n        hsl(280, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad4 {\n      background: linear-gradient(\n        hsl(280, 80%, 55%),\n        hsl(310, 80%, 33%) 35%,\n        hsl(310, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad5 {\n      background: linear-gradient(\n        hsl(340, 80%, 55%),\n        hsl(0, 80%, 33%) 35%,\n        hsl(0, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n  "]);return _templateObject351=function(){return A},A}function _templateObject352(){var A=_taggedTemplateLiteral(['\n  <svg\n    id="more-inside-icon"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 100 100"\n  >\n    <path\n      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"\n      fill-rule="evenodd"\n      class="fill-color"\n    />\n  </svg>\n']);return _templateObject352=function(){return A},A}function _templateObject353(){var A=_taggedTemplateLiteral(['\n        <div class="no-images">\n          <iamusic-noimage .iaIdentifier=',"\n            >no image available</iamusic-noimage\n          >\n        </div>\n      "]);return _templateObject353=function(){return A},A}function _templateObject354(){var A=_taggedTemplateLiteral(["\n      <div\n        class=",'\n      >\n        <div class="flip-card-inner">\n          <div class="flip-card-front">','</div>\n          <div class="flip-card-back">',"</div>\n        </div>\n      </div>\n    "]);return _templateObject354=function(){return A},A}function _templateObject355(){var A=_taggedTemplateLiteral(["\n      <div class=",'>\n        <button\n          id="close-photo-viewer"\n          @click=','\n        >\n          <span class="sr-only">Click to close Photo Viewer.</span>\n          <ia-icon-close-circle></ia-icon-close-circle>\n        </button>\n        <ia-bookreader\n          .item=',"\n          .baseHost=","\n          .signedIn=",'\n          ><div slot="main"><slot name="main"></slot></div\n        ></ia-bookreader>\n      </div>\n    ']);return _templateObject355=function(){return A},A}function _templateObject356(){var A=_taggedTemplateLiteral(['\n      <div class="cover-art">\n        <button\n          class="click-for-photos"\n          @click=',"\n        >\n          <img\n            src=","\n            alt=","\n            @load=",'\n          />\n          <span class="sr-only">See all photos for ','</span>\n          <div id="see-more-cta">\n            <p><span>See more</span> <span>',"</span></p>\n          </div>\n        </button>\n      </div>\n    "]);return _templateObject356=function(){return A},A}function _templateObject357(){var A=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    :host[fullscreenactive],\n    .flip-card.fullscreenActive {\n      position: absolute;\n      inset: 0;\n      height: var(--linerNotesFullscreenHeight, 100vh);\n    }\n\n    div.no-images {\n      display: flex;\n      height: inherit;\n    }\n    div.no-images * {\n      --iconFillColor: white;\n      --iconHeight: 250px;\n      --iconWidth: 250px;\n      margin: auto;\n    }\n\n    ia-icon-texts {\n      height: 50px;\n      width: 50px;\n      --iconFillColor: white;\n      display: block;\n    }\n\n    button {\n      cursor: pointer;\n      border: 1px solid transparent;\n      background-color: transparent;\n    }\n\n    .cover-art,\n    button.click-for-photos {\n      height: inherit;\n      position: relative;\n      padding: 0;\n    }\n\n    button.click-for-photos {\n      display: flex;\n      margin: auto;\n      min-height: 30%;\n      min-width: 25%;\n    }\n\n    button.click-for-photos img {\n      display: block;\n      overflow: hidden;\n      object-fit: contain;\n      object-position: top;\n      max-width: 100%;\n      margin-top: 18px;\n      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);\n    }\n\n    button.click-for-photos ia-icon-texts,\n    button#close-photo-viewer {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n\n    button span.sr-only {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      top: 0;\n      left: 0;\n      visibility: hidden;\n    }\n\n    button#close-photo-viewer {\n      border: none;\n      z-index: 2;\n      padding: 0;\n    }\n\n    button#close-photo-viewer ia-icon-close-circle {\n      display: block;\n      padding: 10px;\n      --iconHeight: 20px;\n      --iconWidth: 20px;\n      --iconFillColor: #fff;\n    }\n\n    .flip-card {\n      width: 100%;\n      height: 100%;\n      perspective: 1000px;\n    }\n\n    .flip-card-inner {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      transition: transform 0.6s;\n      transform-style: preserve-3d;\n    }\n\n    .flip-card.show-back .flip-card-inner {\n      transform: rotateY(180deg);\n    }\n\n    .flip-card.show-back .flip-card-front .cover-art {\n      transition: height 0.5s;\n      height: 100%;\n      visibility: hidden;\n    }\n\n    .flip-card-front,\n    .flip-card-back {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: transparent;\n      -webkit-backface-visibility: hidden;\n      backface-visibility: hidden;\n    }\n\n    .flip-card-back {\n      transform: rotateY(180deg);\n    }\n\n    .photo-viewer-container {\n      height: inherit;\n    }\n\n    ia-bookreader {\n      display: block;\n      background-color: transparent;\n    }\n\n    /* see more cta */\n    .flip-card #see-more-cta {\n      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;\n      font-weight: bold;\n      font-size: 14px;\n      align-self: end;\n      margin: 0;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n    .flip-card #see-more-cta p {\n      display: inline-block;\n      margin: 0;\n      width: 90px;\n    }\n    .flip-card #see-more-cta svg {\n      position: absolute;\n      width: 16px;\n      margin-left: 0px;\n      top: 0;\n      right: 0;\n      margin-top: -2px;\n    }\n\n    .flip-card #see-more-cta {\n      color: white;\n    }\n    .flip-card #see-more-cta .fill-color {\n      fill: white;\n    }\n\n    .flip-card.light #see-more-cta {\n      color: #222;\n    }\n    .flip-card.light #see-more-cta .fill-color {\n      fill: #222;\n    }\n  "]);return _templateObject357=function(){return A},A}function _templateObject358(){var A=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="200"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="YouTube Player"\n      ></iframe>\n    ']);return _templateObject358=function(){return A},A}function _templateObject359(){var A=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject359=function(){return A},A}function _templateObject360(){var A=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="80"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="Spotify Player"\n      ></iframe>\n    ']);return _templateObject360=function(){return A},A}function _templateObject361(){var A=_taggedTemplateLiteral(["<h3>Invalid Spotify URI: ","</h3>"]);return _templateObject361=function(){return A},A}function _templateObject362(){var A=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject362=function(){return A},A}function _templateObject363(){var A=_taggedTemplateLiteral(["\n          <spotify-player .iaUrn=","></spotify-player>\n        "]);return _templateObject363=function(){return A},A}function _templateObject364(){var A=_taggedTemplateLiteral(["\n          <youtube-player .iaUrn=","></youtube-player>\n        "]);return _templateObject364=function(){return A},A}function _templateObject365(){var A=_taggedTemplateLiteral(["<iaux-photo-viewer\n            noimageavailable\n            .itemIdentifier=","></iaux-photo-viewer>"]);return _templateObject365=function(){return A},A}function _templateObject366(){var A=_taggedTemplateLiteral(["<iaux-photo-viewer\n            ?noimageavailable=","\n            class=","\n            .backgroundTheme=","\n            .baseHost=","\n            .itemIdentifier=","\n            .itemMD=","\n            .signedIn=","\n            .linerNotesManifest=","\n            .lightDomHook=","\n            .sharedRO=","\n            @fullscreenOpened=","\n            @fullscreenClosed=","\n            @showingAllPhotos=","\n            @coverImageLoaded=",'\n          >\n            <div slot="main" class="main">\n              <slot name="main"></slot>\n            </div>\n          </iaux-photo-viewer>']);return _templateObject366=function(){return A},A}function _templateObject367(){var A=_taggedTemplateLiteral(['<div class="image"><slot name="image"></slot></div>']);return _templateObject367=function(){return A},A}function _templateObject368(){var A=_taggedTemplateLiteral(['\n      <section\n        id="music-theater"\n        class=',"\n      >\n        <channel-selector\n          .backgroundTheme=","\n          webamp\n          .youtube=","\n          .spotify=","\n          .url=","\n          .selected=","\n          @channelChange=","\n          .displayStyle=","\n        ></channel-selector>\n        ","\n        ",'\n        <div class="player">\n          <div id="ext-channels-section">\n            <externalchannels-player\n                .album=',"\n                selectedChannel=","\n                .playerApi=","\n                @externalChannelsPlayerLoaded=","\n                @externalChannelsSelectedTrack=",'\n              ></external-channels-player>\n          </div>\n          <slot class="player"></slot>\n        </div>\n      </section>\n    ']);return _templateObject368=function(){return A},A}function _templateObject369(){var A=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        /* petabox styling is very sticky for outlines, let\'s remove */\n        outline: none !important;\n        font-size: 16px;\n        height: 100%;\n        min-height: inherit;\n        --imageWidth: 350px;\n        --imageHeight: 350px;\n      }\n\n      :host[bgtheme="dark"],\n      #music-theater.dark {\n        color: white;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .linerNotesFullscreen channel-selector {\n        visibility: hidden;\n      }\n\n      channel-selector {\n        z-index: 1;\n        position: relative;\n      }\n\n      channel-selector[displaystyle="dropdown"] {\n        padding-left: 5px;\n        padding-bottom: 10px;\n        padding-top: 10px;\n        z-index: 3;\n        display: inline-block;\n        position: absolute;\n        top: 0;\n      }\n\n      #music-theater.dropdown {\n        margin-top: 5px;\n      }\n\n      @media(max-width: 768px) {\n        #music-theater.one-col.hasimage slot[name="image"],\n        #music-theater.one-col.hasimage iaux-photo-viewer {\n          overflow: hidden;\n          height: 268px;\n          margin-top: 20px;\n        }\n\n        #music-theater.one-col.noimageavailable channel-selector {\n          position: absolute;\n        }\n\n        #music-theater.one-col.noimageavailable iaux-photo-viewer {\n          overflow: hidden;\n          --imageHeight: 190px;\n          --imageWidth: 190px;\n          --linerNotesHeight: 200px;\n          height: 200px !important;\n          padding-top: 10px;\n        }\n\n        #music-theater.one-col slot.player {\n          padding: 0 5px;\n        }\n      }\n\n      @media(min-width: 1201px) {\n        #music-theater.two-col {\n          margin: 10px auto;\n        }\n      }\n\n      #music-theater.two-col {\n        display: grid;\n        grid-template-columns: 0.7fr 1.3fr;\n        grid-template-rows: 0.2fr;\n        gap: 0;\n        column-gap: 0;\n        grid-template-areas: "image channel-selector" "image player";\n        column-gap: 20px;\n        margin: 10px 30px;\n      }\n\n      #music-theater.two-col .image,\n      #music-theater.two-col iaux-photo-viewer {\n        grid-area: image;\n        z-index: 2;\n        max-height: var(--linerNotesInTheaterHeight, 100%);\n        margin-top: 10px;\n        height: auto;\n      }\n      #music-theater.two-col .player {\n        grid-area: player;\n      }\n      #music-theater.two-col channel-selector[displaystyle="radio"] {\n        grid-area: channel-selector;\n      }\n\n      @media(min-width: 768px) and (max-width: 1200px) {\n        #music-theater.two-col.hasimage {\n          grid-template-columns: 1fr 1fr;\n        }\n      }\n\n      slot {\n        display: block;\n      }\n\n      slot[name="image"] {\n        max-height: 400px;\n        display: block;\n        max-width: 100%;\n        height: inherit;\n        object-fit: contain;\n        position: relative;\n      }\n\n      div#ext-channels-section {\n        margin-top: 5px;\n      }\n    ']);return _templateObject369=function(){return A},A}function _templateObject370(){var A=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject370=function(){return A},A}function _templateObject371(){var A=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject371=function(){return A},A}function _templateObject372(){var A=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject372=function(){return A},A}function _templateObject373(){var A=_taggedTemplateLiteral(['\n      <div class="container">\n        ','\n\n        <div\n          class="scroll-container"\n          id="scroll-container"\n          @wheel=',"\n          @touchmove=",'\n        >\n          <div class="col time">\n            ','\n          </div>\n\n          <div class="col">\n            ',"\n            ","\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject373=function(){return A},A}function _templateObject374(){var A=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        class="auto-scroll-button ','"\n      >\n        Scroll text with audio\n      </button>\n    ']);return _templateObject374=function(){return A},A}function _templateObject375(){var A=_taggedTemplateLiteral(['\n      <div class="time-display" style="top: ','px">\n        <duration-formatter .seconds=',"> </duration-formatter>\n      </div>\n    "]);return _templateObject375=function(){return A},A}function _templateObject376(){var A=_taggedTemplateLiteral(["\n      <transcript-entry\n        .entry=","\n        ?isSelected=","\n        ?isActive=","\n        ?isSearchResult=","\n        ?isMusicEntry=",'\n        isClickable="true"\n        data-search-result-index=',"\n        data-identifier=","\n        @click=","\n      >\n      </transcript-entry>\n    "]);return _templateObject376=function(){return A},A}function _templateObject377(){var A=_taggedTemplateLiteral(["\n      "," ","\n    "]);return _templateObject377=function(){return A},A}function _templateObject378(){var A=_taggedTemplateLiteral(['\n      <div class="top context-overlay" style="height: ','px"></div>\n    ']);return _templateObject378=function(){return A},A}function _templateObject379(){var A=_taggedTemplateLiteral(['\n      <div class="bottom context-overlay" style="height: ','px"></div>\n    ']);return _templateObject379=function(){return A},A}function _templateObject380(){var A=_taggedTemplateLiteral(["var(--transcriptHeight, 200px)"]);return _templateObject380=function(){return A},A}function _templateObject381(){var A=_taggedTemplateLiteral(["var(--timeFontSize, 1em)"]);return _templateObject381=function(){return A},A}function _templateObject382(){var A=_taggedTemplateLiteral(["var(--timeLineHeight, 1em)"]);return _templateObject382=function(){return A},A}function _templateObject383(){var A=_taggedTemplateLiteral(["var(--timeColor, white)"]);return _templateObject383=function(){return A},A}function _templateObject384(){var A=_taggedTemplateLiteral(["var(--timeColumnWidth, 3rem)"]);return _templateObject384=function(){return A},A}function _templateObject385(){var A=_taggedTemplateLiteral(["var(--timeDisplay, block)"]);return _templateObject385=function(){return A},A}function _templateObject386(){var A=_taggedTemplateLiteral(["var(--autoScrollButtonFontColor, black)"]);return _templateObject386=function(){return A},A}function _templateObject387(){var A=_taggedTemplateLiteral(["var(--autoScrollButtonBackgroundColor, white)"]);return _templateObject387=function(){return A},A}function _templateObject388(){var A=_taggedTemplateLiteral(["var(--autoScrollButtonWidth, 12rem)"]);return _templateObject388=function(){return A},A}function _templateObject389(){var A=_taggedTemplateLiteral(["var(--autoScrollButtonFontSize, 1em)"]);return _templateObject389=function(){return A},A}function _templateObject390(){var A=_taggedTemplateLiteral(["var(--transcriptNormalTextColor, gray)"]);return _templateObject390=function(){return A},A}function _templateObject391(){var A=_taggedTemplateLiteral(["var(--transcriptActiveTextColor, white)"]);return _templateObject391=function(){return A},A}function _templateObject392(){var A=_taggedTemplateLiteral(["var(--transcriptHoverTextColor, silver)"]);return _templateObject392=function(){return A},A}function _templateObject393(){var A=_taggedTemplateLiteral(["var(--transcriptMusicNormalTextColor, gray)"]);return _templateObject393=function(){return A},A}function _templateObject394(){var A=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, white)"]);return _templateObject394=function(){return A},A}function _templateObject395(){var A=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, silver)"]);return _templateObject395=function(){return A},A}function _templateObject396(){var A=_taggedTemplateLiteral(["var(--transcriptSearchResultInactiveBorderColor, gray)"]);return _templateObject396=function(){return A},A}function _templateObject397(){var A=_taggedTemplateLiteral(["var(--transcriptSearchResultActiveBorderColor, green)"]);return _templateObject397=function(){return A},A}function _templateObject398(){var A=_taggedTemplateLiteral(["\n      :host {\n        color: ",";\n      }\n\n      .container {\n        position: relative;\n      }\n\n      .auto-scroll-button.hidden {\n        display: none;\n      }\n\n      .auto-scroll-button {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 1rem;\n        margin: auto;\n        width: ",";\n        border-radius: 1em;\n        border: 0;\n        display: inline-block;\n        color: ",";\n        background-color: ",";\n        font-size: ",";\n        z-index: 10;\n      }\n\n      .context-overlay {\n        position: absolute;\n        left: 0;\n        width: 100%;\n        height: 0;\n        z-index: -1;\n      }\n\n      .context-overlay.top {\n        top: 0;\n        border-bottom: 1px solid green;\n      }\n\n      .context-overlay.bottom {\n        bottom: 0;\n        border-top: 1px solid green;\n      }\n\n      .time {\n        display: ",";\n        flex: 0 0 ",";\n        color: ",";\n        position: relative;\n      }\n\n      .time-display {\n        position: absolute;\n        top: 0;\n        font-size: ",";\n        line-height: ",";\n        transition: top 1s;\n      }\n\n      .scroll-container {\n        display: flex;\n        overflow-y: auto;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        height: ",";\n      }\n\n      .scroll-container::-webkit-scrollbar {\n        display: none;\n      }\n\n      transcript-entry {\n        cursor: pointer;\n      }\n\n      transcript-entry:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry] {\n        color: ",";\n        display: block;\n        font-style: italic;\n      }\n\n      transcript-entry[ismusicentry]:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry][isactive] {\n        color: ",";\n      }\n\n      transcript-entry[isactive] {\n        color: ",";\n      }\n\n      transcript-entry[issearchresult] {\n        display: inline-block; /* without this, the outline adds an extra space to the right of the text */\n        padding: 0 5px;\n        position: relative;\n      }\n\n      transcript-entry[issearchresult]:after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 2px solid ",";\n        border-radius: 5px;\n      }\n\n      transcript-entry[issearchresult][isselected]:after {\n        border: 2px solid ",";\n      }\n    "]);return _templateObject398=function(){return A},A}function _templateObject399(){var A=_taggedTemplateLiteral([""]);return _templateObject399=function(){return A},A}function _templateObject400(){var A=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject400=function(){return A},A}function _templateObject401(){var A=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject401=function(){return A},A}function _templateObject402(){var A=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject402=function(){return A},A}function _templateObject403(){var A=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject403=function(){return A},A}function _templateObject404(){var A=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject404=function(){return A},A}function _templateObject405(){var A=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject405=function(){return A},A}function _templateObject406(){var A=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject406=function(){return A},A}function _templateObject407(){var A=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject407=function(){return A},A}function _templateObject408(){var A=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject408=function(){return A},A}function _templateObject409(){var A=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject409=function(){return A},A}function _templateObject410(){var A=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject410=function(){return A},A}function _templateObject411(){var A=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject411=function(){return A},A}function _templateObject412(){var A=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject412=function(){return A},A}function _templateObject413(){var A=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject413=function(){return A},A}function _templateObject414(){var A=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject414=function(){return A},A}function _templateObject415(){var A=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject415=function(){return A},A}function _templateObject416(){var A=_taggedTemplateLiteral([""]);return _templateObject416=function(){return A},A}function _templateObject417(){var A=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject417=function(){return A},A}function _templateObject418(){var A=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject418=function(){return A},A}function _templateObject419(){var A=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject419=function(){return A},A}function _templateObject420(){var A=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject420=function(){return A},A}function _templateObject421(){var A=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject421=function(){return A},A}function _templateObject422(){var A=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject422=function(){return A},A}function _templateObject423(){var A=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject423=function(){return A},A}function _templateObject424(){var A=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject424=function(){return A},A}function _templateObject425(){var A=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject425=function(){return A},A}function _templateObject426(){var A=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject426=function(){return A},A}function _templateObject427(){var A=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject427=function(){return A},A}function _templateObject428(){var A=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject428=function(){return A},A}function _templateObject429(){var A=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject429=function(){return A},A}function _templateObject430(){var A=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject430=function(){return A},A}function _templateObject431(){var A=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject431=function(){return A},A}function _templateObject432(){var A=_taggedTemplateLiteral(['\n<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n  <title id="linkTitleID">Info icon</title>\n  <desc id="linkDescID">Informative icon</desc>\n    <path d="m0 0h100v100h-100z" fill="#000"/>\n    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>\n</svg>\n']);return _templateObject432=function(){return A},A}function _templateObject433(){var A=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject433=function(){return A},A}function _templateObject434(){var A=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject434=function(){return A},A}function _templateObject435(){var A=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject435=function(){return A},A}function _templateObject436(){var A=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject436=function(){return A},A}function _templateObject437(){var A=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject437=function(){return A},A}function _templateObject438(){var A=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject438=function(){return A},A}function _templateObject439(){var A=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject439=function(){return A},A}function _templateObject440(){var A=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject440=function(){return A},A}function _templateObject441(){var A=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject441=function(){return A},A}function _templateObject442(){var A=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject442=function(){return A},A}function _templateObject443(){var A=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject443=function(){return A},A}function _templateObject444(){var A=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject444=function(){return A},A}function _templateObject445(){var A=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject445=function(){return A},A}function _templateObject446(){var A=_taggedTemplateLiteral(["#ee8950"]);return _templateObject446=function(){return A},A}function _templateObject447(){var A=_taggedTemplateLiteral(["#ec7939"]);return _templateObject447=function(){return A},A}function _templateObject448(){var A=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 1rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject448=function(){return A},A}function _templateObject449(){var A=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject449=function(){return A},A}function _templateObject450(){var A=_taggedTemplateLiteral(["var(--primaryBGColor, #000)"]);return _templateObject450=function(){return A},A}function _templateObject451(){var A=_taggedTemplateLiteral(["var(--iaBookActionsDropdownBGColor, #2d2d2d)"]);return _templateObject451=function(){return A},A}function _templateObject452(){var A=_taggedTemplateLiteral(["\n  :host {\n    display: inline-flex;\n    height: 3.5rem;\n    padding: 1rem 0;\n  }\n  .actiongroup {\n    display: flex;\n  }\n  .action-buttons {\n    display: inline-flex;\n    align-items: center;\n  }\n  .action-buttons .ia-button {\n    margin: 0;\n    height: 3.5rem;\n  }\n  .action-buttons .desktop {\n    background-color: ",";\n    border-radius: 10px;\n  }\n  .action-buttons .desktop.purchase {\n    margin-left: 5px;\n  }\n  .action-buttons .mobile.purchase.dark {\n    padding-left: 0;\n  }\n  .primary {\n    background-color: ",";\n  }\n  .primary,\n  .secondary {\n    position: relative;\n    border-radius: 5px;\n    margin: 0 3px;\n  }\n  .primary .initial {\n    border-radius: 4px 0 0 4px;\n    margin-right: 0;\n  }\n  .primary svg {\n    vertical-align: middle;\n  }\n\n  .secondary .ia-button.purchase {\n    padding: 2px 10px 2px 35px;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  .secondary .ia-button.exit-admin {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  .dropdown-content {\n    position: absolute;\n    min-width: 14rem;\n    margin: 0;\n    padding: 0;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid var(--primaryCTABorder);\n    top: 3.4rem;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%);\n  }\n  .dropdown-content li {\n    color: ",";\n    list-style: none;\n    height: 3rem;\n  }\n  .dropdown-content .ia-button {\n    background: none;\n    color: ",";\n    border: none;\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    height: 3rem;\n    position: relative;\n    padding: 0.6rem 1.2rem;\n    margin: 0;\n  }\n  .dropdown-content .ia-button:is(:focus-visible, :hover) {\n    background: unset;\n  }\n  .dropdown-content li .ia-button {\n    border-radius: 0;\n  }\n  .dropdown-content li .ia-button:hover {\n    background: ",";\n    color: rgb(45, 45, 45);\n  }\n  .dropdown-content li:first-child .ia-button {\n    border-radius: 0.3rem 0.3rem 0 0;\n  }\n  .dropdown-content li:last-child .ia-button {\n    border-radius: 0;\n    border-radius: 0 0 0.3rem 0.3rem;\n  }\n  .dropdown-content .purchase:hover svg g {\n    fill: black;\n  }\n  .dropdown-content .purchase {\n    padding-left: 35px;\n    margin: 0;\n  }\n  .dropdown-content .purchase small {\n    display: initial;\n    font-size: 1.4rem;\n  }\n\n  .ia-button.down-arrow {\n    border-radius: 0 0.4rem 0.4rem 0;\n    padding: 0 0.6rem;\n    margin-left: 0;\n  }\n  .actionloader {\n    vertical-align: middle;\n    visibility: hidden;\n    padding: 0.9rem 0.2rem;\n  }\n  .close {\n    display: none;\n  }\n  .open {\n    display: block;\n    z-index: 2;\n  }\n  .visible {\n    display: inline-block;\n  }\n  .btn:hover,\n  .dropdown:hover .btn {\n    background-color: ",";\n  }\n  a {\n    text-decoration: none;\n  }\n  .purchase small {\n    display: block;\n    font-size: 1rem;\n  }\n  .purchase svg {\n    position: absolute;\n    left: 10px;\n    top: 20%;\n  }\n  .unavailable {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n  .disabled {\n    opacity: 0.8;\n    pointer-events: none;\n    visibility: visible;\n  }\n"]);return _templateObject452=function(){return A},A}function _templateObject453(){var A=_taggedTemplateLiteral(['<svg\n  height="20"\n  viewBox="0 0 75 75"\n  width="20"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">\n    <path\n      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"\n    />\n    <path\n      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"\n    />\n    <path\n      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"\n    />\n    <path\n      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"\n    />\n  </g>\n</svg>']);return _templateObject453=function(){return A},A}function _templateObject454(){var A=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject454=function(){return A},A}function _templateObject455(){var A=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject455=function(){return A},A}function _templateObject456(){var A=_taggedTemplateLiteral(['\n      <div\n        class="','"\n      >\n        ','\n        <section class="action-buttons primary">\n          ','\n        </section>\n        <section class="action-buttons secondary">\n          ',"\n        </section>\n      </div>\n    "]);return _templateObject456=function(){return A},A}function _templateObject457(){var A=_taggedTemplateLiteral(["\n      ",'\n      <button\n        class="ia-button ',' down-arrow"\n        @click=',"\n      >\n        ",'\n      </button>\n\n      <ul class="dropdown-content ','">\n        ',"\n      </ul>\n    "]);return _templateObject457=function(){return A},A}function _templateObject458(){var A=_taggedTemplateLiteral(['<span class="'," ",'">\n      <a\n        class="ia-button '," ",'"\n        href="','"\n        target=',"\n        @click=","\n      >\n        "," ","\n        <small>","</small>\n      </a>\n    </span>"]);return _templateObject458=function(){return A},A}function _templateObject459(){var A=_taggedTemplateLiteral(['<button\n      class="ia-button '," ",'"\n      @click=',"\n    >\n      ","\n    </button>"]);return _templateObject459=function(){return A},A}function _templateObject460(){var A=_taggedTemplateLiteral(["<li>","</li>"]);return _templateObject460=function(){return A},A}function _templateObject461(){var A=_taggedTemplateLiteral(['<img\n      class="','"\n      alt=""\n      src="','"\n    />']);return _templateObject461=function(){return A},A}function _templateObject462(){var A=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    width="26"\n    height="26"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject462=function(){return A},A}function _templateObject463(){var A=_taggedTemplateLiteral(['\n      <a\n        class="embed-link"\n        @click=','\n        href="/details/','"\n      >\n        <span>','</span>\n        <span class="title">',"</span>\n      </a>\n    "]);return _templateObject463=function(){return A},A}function _templateObject464(){var A=_taggedTemplateLiteral(["\n      :host {\n        padding: 0 10px;\n        height: 3.4rem;\n        display: flex;\n      }\n      .embed-link {\n        display: inline-flex;\n        align-items: center;\n        text-decoration: none;\n        color: var(--primaryTextColor, #fff);\n        font-size: 1.4rem;\n      }\n      .embed-link .title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        text-align: left;\n        line-height: initial;\n      }\n      .embed-link svg {\n        margin-right: 0.5rem;\n        display: block;\n      }\n      .embed-link:hover {\n        text-decoration: underline;\n      }\n    "]);return _templateObject464=function(){return A},A}function _templateObject465(){var A=_taggedTemplateLiteral(['\n      <span class="variable-texts ','">',"</span>\n    "]);return _templateObject465=function(){return A},A}function _templateObject466(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: inline-block;\n      }\n      .variable-texts {\n        margin-left: 10px;\n        vertical-align: middle;\n        font-size: 1.7rem;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject466=function(){return A},A}function _templateObject467(){var A=_taggedTemplateLiteral(['\n      <a\n        class="more-info-icon ','"\n        href=','\n        target="_blank"\n        title="Get more info on borrowing from The Lending Library"\n        data-event-click-tracking="BookReader|BrowsableMoreInfo"\n      >\n        <ia-icon-info></ia-icon-info>\n      </a>\n    ']);return _templateObject467=function(){return A},A}function _templateObject468(){var A=_taggedTemplateLiteral(["",""]);return _templateObject468=function(){return A},A}function _templateObject469(){var A=_taggedTemplateLiteral(["\n      ia-icon-info {\n        display: inline-block;\n        width: 18px;\n        height: 20px;\n        vertical-align: middle;\n        --iconFillColor: white;\n      }\n      .more-info-icon {\n        margin-left: 10px;\n      }\n      .more-info-icon img {\n        width: 24px;\n        height: 24px;\n        vertical-align: middle;\n        background: white;\n      }\n      .more-info-icon.mobile {\n        position: absolute;\n        top: 4px;\n        right: 10px;\n        margin-top: 15px;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject469=function(){return A},A}function _templateObject470(){var A=_taggedTemplateLiteral(['<section class="lending-wrapper">\n        ',"\n      </section>"]);return _templateObject470=function(){return A},A}function _templateObject471(){var A=_taggedTemplateLiteral(['<section class="lending-wrapper">\n      ',"\n    </section>"]);return _templateObject471=function(){return A},A}function _templateObject472(){var A=_taggedTemplateLiteral(["<book-title-bar\n      .identifier=","\n      .bookTitle=","\n    ></book-title-bar>"]);return _templateObject472=function(){return A},A}function _templateObject473(){var A=_taggedTemplateLiteral(["\n      <collapsible-action-group\n        .userid=","\n        .identifier=","\n        .primaryColor=","\n        .primaryActions=","\n        .secondaryActions=","\n        .width=","\n        .borrowType=","\n        .returnUrl=","\n        ?hasAdminAccess=","\n        ?disabled=","\n        @lendingActionError=","\n        @toggleActionGroup=","\n      >\n      </collapsible-action-group>\n      "," ","\n    "]);return _templateObject473=function(){return A},A}function _templateObject474(){var A=_taggedTemplateLiteral(['<button\n        style="background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"\n        @click=',"\n      >\n        refresh\n      </button>"]);return _templateObject474=function(){return A},A}function _templateObject475(){var A=_taggedTemplateLiteral([" Uh oh, something went wrong trying to access\n        this book.<br />\n        Please ",' to try again or send us an email to\n        <a\n          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ','"\n          >info@archive.org</a\n        >']);return _templateObject475=function(){return A},A}function _templateObject476(){var A=_taggedTemplateLiteral(["<info-icon iconClass=","></info-icon>"]);return _templateObject476=function(){return A},A}function _templateObject477(){var A=_taggedTemplateLiteral(["<text-group\n      textClass=","\n      texts=","\n    >\n    </text-group>"]);return _templateObject477=function(){return A},A}function _templateObject478(){var A=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        background: var(--primaryBGColor, #000);\n        color: var(--primaryTextColor, #fff);\n      }\n      .lending-wrapper {\n        width: 100%;\n        margin: 0 auto;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n    "]);return _templateObject478=function(){return A},A}function _templateObject479(){var A=_taggedTemplateLiteral(['\n      div[slot="main"] {\n        height: inherit;\n        width: inherit;\n      }\n      ia-bookreader {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        width: 100%;\n      }\n    ']);return _templateObject479=function(){return A},A}function _templateObject480(){var A=_taggedTemplateLiteral(["\n      <ia-bookreader\n      .item=","\n      .baseHost=","\n      ?signedIn=",'\n      class="focus-on-child-only"\n      style="min-height: inherit;"\n      .sharedObserver=',"\n      .modal=","\n      @fullscreenStateUpdated=",'\n      >\n        <div slot="header">\n          <slot name="header"></slot>\n        </div>\n        <!--\n          This width is set via CSS, but is not working on older browsers\n          for some reason, resulting in black screen. So set explicitly.\n        -->\n        <div slot="main" style="width:100%">\n          <slot name="main"></slot>\n        </div>\n      </ia-bookreader>\n    ']);return _templateObject480=function(){return A},A}(function(){var A=function(t,e,n,o){var u=arguments.length,l=u<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(l=(u<3?s(l):u>3?s(e,n,l):s(e,n))||l);return u>3&&l&&Object.defineProperty(e,n,l),l},Ae=function(t,e,n,o){function u(l){return _instanceof(l,n)?l:new n(function(s){s(l)})}return new(n||(n=Promise))(function(l,s){function r(h){try{c(o.next(h))}catch(f){s(f)}}function d(h){try{c(o.throw(h))}catch(f){s(f)}}function c(h){h.done?l(h.value):u(h.value).then(r,d)}c((o=o.apply(t,e||[])).next())})},Or=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return xf!==void 0?xf.createHTML(e):e},Xt=function(t){return function(e,n){return n!==void 0?$0(t,e,n):D0(t,e)}},ii=function(t){return Xt(Ei(Jr({},t),{state:!0}))},ri=function(t,e){return R0({descriptor:function(n){var o={get:function(){var s,r;return(r=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(t))!==null&&r!==void 0?r:null},enumerable:!0,configurable:!0};if(e){var u=(typeof n=="undefined"?"undefined":_typeof(n))=="symbol"?Symbol():"__"+n;o.get=function(){var l,s;return this[u]===void 0&&(this[u]=(s=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(t))!==null&&s!==void 0?s:null),this[u]}}return o}})},oa=function(t,e,n){var o=n||{},u=o.noTrailing,l=u===void 0?!1:u,s=o.noLeading,r=s===void 0?!1:s,d=o.debounceMode,c=d===void 0?void 0:d,h,f=!1,v=0;function x(){h&&clearTimeout(h)}function w(C){var P=C||{},E=P.upcomingOnly,T=E===void 0?!1:E;x(),f=!T}function b(){for(var C=arguments.length,P=new Array(C),E=0;E<C;E++)P[E]=arguments[E];var T=this,m=Date.now()-v;if(f)return;function a(){v=Date.now(),e.apply(T,P)}function p(){h=void 0}!r&&c&&!h&&a(),x(),c===void 0&&m>t?r?(v=Date.now(),l||(h=setTimeout(c?p:a,t))):a():l!==!0&&(h=setTimeout(c?p:a,c===void 0?t-m:t))}return b.cancel=w,b},xo=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var u=n[o].slice(n[o].indexOf("=")+1);return u.length>0?unescape(u):""}return""},aa=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(u){var l=e(u);return n==="callback"&&l?l:n==="default"?!0:(u&&u.preventDefault&&u.preventDefault(),u&&u.stopPropagation&&u.stopPropagation(),!1)})},Os=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t},uf=function(){ee(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;ee(e).find(".results").each(function(o,u){ee(u).show().css({visibility:"hidden"}),n||(n=ee(u).offset()),ee(u).offset().top!==n.top?ee(u).hide():ee(u).css({visibility:"visible"})})})},r0=function(t,e){var n=t.querySelector("output");n||(n=document.createElement("output"),n.setAttribute("role","alert"),t.appendChild(n)),n.textContent="",n.textContent=e},bO=function(t){var e=document.createElement("button");return e.type="button",e.textContent="Copy",e.title="Copy to clipboard",e.setAttribute("data-clipboard-target","#".concat(t.querySelector("input").id)),e},wO=function(t){!t.querySelector("input")||(t.appendChild(bO(t)),t.setAttribute("data-copyable-text-ready",""))},_O=function(){var t=new lp("[data-copyable-text] [data-clipboard-target]");t.on("success",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";r0(n,o)}),t.on("error",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-error-message")||"Something went wrong.";r0(n,o)})},kO=function(){var t=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");t.length<=0||!lp.isSupported()||(_toConsumableArray(t).forEach(wO),_O())},i0=function(t,e){var n=t.querySelector(e);return n?n.value:""},xO=function(){dn("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(function(t){var e=t.dataset.disabilityEligibilityType;t.addEventListener("submit",function(n){var o=i0(t,".disability-eligibility-password"),u=i0(t,".disability-eligibility-token"),l={type:e,password:o,token:u},s=/\?.*login=([^&]+)/,r=location.href.match(s),d;r&&(d=_slicedToArray(r,2),l.login=d[1]);var c=document.createElement("img");c.src="/images/loading.gif";var h=t.querySelector('input[type="submit"]').parentNode;h.appendChild(c),ee.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:l,success:function(f){if(f.status==="success"){alert("Success! Your eligibility has been verified.");return}if(f.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(f.status_code,", ").concat(f.message))},error:function(f,v,x){alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(v,", ").concat(x))},complete:function(){c.remove()}}),n.preventDefault()})})},Kr=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");ee(t).on("click",o,function(u){var l=e(u);return n==="callback"&&l?l:n==="default"?!0:(u&&u.preventDefault&&u.preventDefault(),u&&u.stopPropagation&&u.stopPropagation(),!1)})},cf=function(t,e){for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var u=n[o].slice(n[o].indexOf("=")+1);return u.length>0?unescape(u):""}return""},sa=function(t){for(var e="".concat(t).split("."),n=e[0],o=e.length>1?".".concat(e[1]):"",u=/(\d+)(\d{3})/;u.test(n);)n=n.replace(u,"$1,$2");return n+o},SO=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");ee(t).on("change",function(o){var u=e(o);return n==="callback"&&u?u:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},AO=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");ee(t).on("submit",function(o){var u=e(o);return n==="callback"&&u?u:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},js=function(t,e){Object.keys(e).forEach(function(n){var o=n;Sd&&n.search("animation")>-1&&(o=Sd+n[0].toUpperCase()+n.substr(1)),t.style[o]=e[n]})},o0=function(t){js(t,{display:"block"})},a0=function(t){js(t,{display:"none"})},CO=function(){var t=document.body,e=document.documentElement,n;return window.innerHeight?n=window.innerHeight:e&&e.clientHeight?n=e.clientHeight:t&&(n=t.clientHeight),n||0},OO=function(){var t=document.body,e=document.documentElement,n;return window.innerWidth?n=window.innerWidth:e&&e.clientWidth?n=e.clientWidth:t&&(n=t.clientWidth),n||0},jO=function(t,e){return e||(e=document.createElement("style"),document.body.appendChild(e)),e.textContent=t,e},od=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},EO=function(t){return t===document.body},ao=function(t,e){t.classList.add(e)},s0=function(t,e){t.classList.remove(e)},l0=function(t,e){return t+Math.floor(Math.random()*(e-t))},df=function(t,e,n,o,u){return o+(u-o)*(t-e)/(n-e)},u0=function(t,e,n){return Math.floor(df(t,0,Ad,e,n))},ad=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=0,u=e.decimal,l=e.errorOnInvalid,s=e.precision,r=e.fromCents,d=Cd(s),c=typeof t=="number",h=_instanceof(t,Bo);if(h&&r)return t.intValue;if(c||h)o=h?t.value:t;else if(typeof t=="string"){var f=new RegExp("[^-\\d"+u+"]","g"),v=new RegExp("\\"+u,"g");o=t.replace(/\((.*)\)/,"-$1").replace(f,"").replace(v,"."),o=o||0}else{if(l)throw Error("Invalid Input");o=0}return r||(o*=d,o=o.toFixed(4)),n?fp(o):o},PO=function(t,e){var n=e.pattern,o=e.negativePattern,u=e.symbol,l=e.separator,s=e.decimal,r=e.groups,d=(""+t).replace(/^-/,"").split("."),c=d[0],h=d[1];return(t.value>=0?n:o).replace("!",u).replace("#",c.replace(r,"$1"+l)+(h?s+h:""))},TO=function(t,e,n){if(typeof window.archive_analytics!="undefined"){var o={bookreader:"error",description:t,page:e,line:n};document.referrer==""?o.referrer="-":o.referrer=document.referrer,typeof br!="undefined"&&(o.itemid=br.bookId,o.subPrefix=br.subPrefix,o.server=br.server,o.bookPath=br.bookPath),archive_analytics.send_ping(o)}return!1},c0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return vv!==void 0?vv.createHTML(e):e},d0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ov!==void 0?Ov.createHTML(e):e},h0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return zv!==void 0?zv.createHTML(e):e},f0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return ag!==void 0?ag.createHTML(e):e},p0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _g!==void 0?_g.createHTML(e):e},v0=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},IO=function(t){var e,n=t.brOptions,o=Jr(Jr({},v0()),n),u=new window.BookReader(o),l=window.BookReader.prototype.getPageURI;u.getPageURI=function(r){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=Math.pow(2,Math.floor(Math.log2(Math.max(1,d)))),f=l.call(u,r,h,c);return f+=f.indexOf("?")>-1?"&":"?",f="".concat(f,"scale=").concat(h,"&rotate=").concat(c),f},window.br=u;var s=(e=t==null?void 0:t.data)===null||e===void 0?void 0:e.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:s}})),u},MO=function(t){return Sr(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,new Promise(function(u,l){var s=new Image;s.onload=function(){return u(s)},s.onerror=l,s.src=t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},e)}))},RO=function(t){return Sr(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=this,o=[],l.next=4,Promise.all(t.map(function(s){return Sr(n,null,_regeneratorRuntime.default.mark(function r(){var d,c;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=1,f.next=4,MO(s.uri);case 4:d=f.sent,f.next=10;break;case 7:f.prev=7,f.t0=f.catch(1),d=new Image(300,300);case 10:console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",d,d.height,d.width),c=t.indexOf(s),o[c]=Ei(Jr({},s),{width:d.width,height:d.height});case 13:case"end":return f.stop()}},r,null,[[1,7]])}))}));case 4:return l.abrupt("return",(l.sent,o));case 5:case"end":return l.stop()}},e,this)}))},LO=function(t){return Sr(this,arguments,_regeneratorRuntime.default.mark(function e(n){var o,u,l,s,r,d,c,h,f,v,x,w,b,C;return _regeneratorRuntime.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return o=n.images,u=o===void 0?[]:o,l=n.itemIdentifier,s=l===void 0?"":l,r=n.itemTitle,d=r===void 0?"":r,c=n.baseHost,h=c===void 0?"archive.org":c,E.next=3,fetch("https://".concat(h,"/metadata/").concat(s,"/metadata")).then(function(T){return T.json()});case 3:if(E.t0=E.sent.result,E.t0){E.next=6;break}E.t0={};case 6:return f=E.t0,v=u.map(function(T,m){var a=m%2===1?"L":"R";return console.log("imgPath",T),{uri:"https://".concat(h,"/download/").concat(s).concat(T),leafNum:m,pageType:"Normal",pageSide:a}}),E.next=10,RO(v);case 10:return x=E.sent,w=[],x.forEach(function(T,m){if(m===0){w.push([T]);return}if(m%2===1){w.push([T]);return}m%2===0&&w[w.length-1].push(T)}),b=Ei(Jr(Jr({},{bookId:s,bookPath:"/download/".concat(s),bookTitle:d,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:w}),v0()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),C={data:{streamOnly:!1,isRestricted:!1,id:s,subPrefix:s,bookUrl:"/details/".concat(s)},brOptions:b,metadata:f},E.abrupt("return",(console.log("**** MANIFEST _---",C,b),C));case 15:case"end":return E.stop()}},e)}))},Qn=function(t){var e,n,o;return typeof t=="object"?(e=t.hashFunction,n=t.expiring,o=t.tags):e=t,function(u,l,s){if(s.value!=null)s.value=g0(s.value,e,n,o);else if(s.get!=null)s.get=g0(s.get,e,n,o);else throw"Only put a Memoize() decorator on a method or get accessor."}},g0=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,u=Symbol("__memoized_map__");return function(){for(var l=arguments.length,s=new Array(l),r=0;r<l;r++)s[r]=arguments[r];var d;this.hasOwnProperty(u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var c=this[u],h=!0,f=!1,v=void 0;if(Array.isArray(o))try{for(var x=o[Symbol.iterator](),w;!(h=(w=x.next()).done);h=!0){var b=w.value;ch.has(b)?ch.get(b).push(c):ch.set(b,[c])}}catch(a){f=!0,v=a}finally{try{!h&&x.return!=null&&x.return()}finally{if(f)throw v}}if(e||s.length>0||n>0){var C;e===!0?C=s.map(function(a){return a.toString()}).join("!"):e?C=e.apply(this,s):C=s[0];var P="".concat(C,"__timestamp"),E=!1;if(n>0)if(!c.has(P))E=!0;else{var T=c.get(P);E=Date.now()-T>n}c.has(C)&&!E?d=c.get(C):(d=t.apply(this,s),c.set(C,d),n>0&&c.set(P,Date.now()))}else{var m=this;c.has(m)?d=c.get(m):(d=t.apply(this,s),c.set(m,d))}return d}},m0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return fm!==void 0?fm.createHTML(e):e},y0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Cm!==void 0?Cm.createHTML(e):e},hf=function(){ee(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;ee(e).find(".results").each(function(o,u){ee(u).show().css({visibility:"hidden"}),n||(n=ee(u).offset()),ee(u).offset().top!==n.top?ee(u).hide():ee(u).css({visibility:"visible"})})})},DO=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var u=n[o].slice(n[o].indexOf("=")+1);return u.length>0?unescape(u):""}return""},$O=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var u=o.slice(0,e).join(""),l=u.lastIndexOf(" ");return l>=0?n?t:"".concat(u.slice(0,l),"..."):"".concat(o.slice(0,e-2).join(""),"..")},BO=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},b0=function(){return location.hostname||location.host},ff=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},NO=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(u){var l=e(u);return n==="callback"&&l?l:n==="default"?!0:(u&&u.preventDefault&&u.preventDefault(),u&&u.stopPropagation&&u.stopPropagation(),!1)})},zO=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,u=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(u);case 4:return l=r.sent,r.abrupt("return",l.json());case 6:case"end":return r.stop()}},n)}))},w0=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Qm!==void 0?Qm.createHTML(e):e},HO=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var u=o.slice(0,e).join(""),l=u.lastIndexOf(" ");return l>=0?n?t:"".concat(u.slice(0,l),"..."):"".concat(o.slice(0,e-2).join(""),"..")},FO=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},_0=function(){return location.hostname||location.host},pf=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},UO=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,u=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(u);case 4:return l=r.sent,r.abrupt("return",l.json());case 6:case"end":return r.stop()}},n)}))},_l=function(t){return Sr(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,u,l,s,r,d,c,h,f;return _regeneratorRuntime.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return u=Jr({action:null,identifier:"",success:function(){},error:function(){}},t),l="/services/loans/loan",s=window==null?void 0:window.location,r="loan token not found. please try again later.",d="This book is not available to borrow at this time. Please try again later.",c=["browse_book","borrow_book","create_token"],h=((n=s==null?void 0:s.href)==null?void 0:n.indexOf("?error=true"))!==-1&&(s==null?void 0:s.hostname)!=="archive.org",(s==null?void 0:s.pathname)==="/demo/"&&(l="/demo/"),f=new FormData,f.append("action",u.action),f.append("identifier",u.identifier),x.prev=5,x.next=8,fetch(l,{method:"POST",body:f}).then(function(w){return h&&c.includes(u==null?void 0:u.action)?{success:!1,error:(u==null?void 0:u.action)==="create_token"?r:d}:l=="/demo/1"||l=="/demo/"?{success:!0,message:"operation executed successfully!"}:w.json()}).then(function(w){w!=null&&w.error?u==null||u.error(w):u==null||u.success(w)});case 8:x.next=13;break;case 10:x.prev=10,x.t0=x.catch(5),(o=window==null?void 0:window.Sentry)==null||o.captureException(x.t0);case 13:case"end":return x.stop()}},e,null,[[5,10]])}))},k0=function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},vf=function(t,e,n,o,u,l){return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+(n?"; expires=".concat(n.toUTCString()):"")+(u?"; domain=".concat(u):"")+(o?"; path=".concat(o):"")+(l?"; secure":""),!0},la=function(t,e,n){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=t,this.bookId=e||"",this.postInitCB=n,this.tokenErrorMessage="no access token"},VO=function(){try{return document.cookie,!0}catch(t){return!1}},x0=Object.defineProperty,WO=Object.defineProperties,qO=Object.getOwnPropertyDescriptors,GO=Object.getOwnPropertyNames,sd=Object.getOwnPropertySymbols,S0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable,ki=Math.pow,C0=function(S,t,e){return t in S?x0(S,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[t]=e},Jr=function(S,t){for(var e in t||(t={}))S0.call(t,e)&&C0(S,e,t[e]);var n=!0,o=!1,u=void 0;if(sd)try{for(var l=sd(t)[Symbol.iterator](),s;!(n=(s=l.next()).done);n=!0){var e=s.value;A0.call(t,e)&&C0(S,e,t[e])}}catch(r){o=!0,u=r}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw u}}return S},Ei=function(S,t){return WO(S,qO(t))},Pi=function(S){return typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(S,{get:function(t,e){return(typeof require!="undefined"?require:t)[e]}}):S}(function(S){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+S+'" is not supported')}),xi=function(S,t){var e={};for(var n in S)S0.call(S,n)&&t.indexOf(n)<0&&(e[n]=S[n]);var o=!0,u=!1,l=void 0;if(S!=null&&sd)try{for(var s=sd(S)[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var n=r.value;t.indexOf(n)<0&&A0.call(S,n)&&(e[n]=S[n])}}catch(d){u=!0,l=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}return e},Tt=function(S,t){return function(){return S&&(t=(0,S[GO(S)[0]])(S=0)),t}},qr=function(S,t){for(var e in t)x0(S,e,{get:t[e],enumerable:!0})},Sr=function(S,t,e){return new Promise(function(n,o){var u=function(r){try{s(e.next(r))}catch(d){o(d)}},l=function(r){try{s(e.throw(r))}catch(d){o(d)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(u,l)};s((e=e.apply(S,t)).next())})},Qr=Tt({"https-url:https://esm.archive.org/v99/tslib@2.6.2/deno/tslib.js":function(){}}),Iu,Mu,ld,gf,ud,mf,Kt,yf,cd,O0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/css-tag.js":function(){Iu=window,Mu=Iu.ShadowRoot&&(Iu.ShadyCSS===void 0||Iu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ld=Symbol(),gf=new WeakMap,ud=function(){"use strict";function S(t,e,n){if(_classCallCheck(this,S),this._$cssResult$=!0,n!==ld)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(S,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(Mu&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=gf.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&gf.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),S}(),mf=function(S){return new ud(typeof S=="string"?S:S+"",void 0,ld)},Kt=function(S){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=S.length===1?S[0]:e.reduce(function(u,l,s){return u+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(l)+S[s+1]},S[0]);return new ud(o,S,ld)},yf=function(S,t){Mu?S.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=Iu.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,S.appendChild(n)})},cd=Mu?function(S){return S}:function(S){return _instanceof(S,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,u=void 0;try{for(var l=t.cssRules[Symbol.iterator](),s;!(n=(s=l.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,u=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw u}}return mf(e)}(S):S}}}),j0={};qr(j0,{CSSResult:function(){return ud},ReactiveElement:function(){return ua},adoptStyles:function(){return yf},css:function(){return Kt},defaultConverter:function(){return Lu},getCompatibleStyle:function(){return cd},notEqual:function(){return dd},supportsAdoptingStyleSheets:function(){return Mu},unsafeCSS:function(){return mf}});var bf,Ru,wf,E0,_f,Lu,dd,hd,fd,ua,pd=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/reactive-element.js":function(){O0(),O0(),Ru=window,wf=Ru.trustedTypes,E0=wf?wf.emptyScript:"",_f=Ru.reactiveElementPolyfillSupport,Lu={toAttribute:function(t,e){switch(e){case Boolean:t=t?E0:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},dd=function(S,t){return t!==S&&(t==t||S==S)},hd={attribute:!0,type:String,converter:Lu,reflect:!1,hasChanged:dd},fd="finalized",ua=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n._$Eu(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"_$Eu",value:function(){var o=this,u;this._$E_=new Promise(function(l){return o.enableUpdating=l}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(u=this.constructor.h)===null||u===void 0||u.forEach(function(l){return l(o)})}},{key:"addController",value:function(o){var u,l;((u=this._$ES)!==null&&u!==void 0?u:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((l=o.hostConnected)===null||l===void 0||l.call(o))}},{key:"removeController",value:function(o){var u;(u=this._$ES)===null||u===void 0||u.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(u,l){o.hasOwnProperty(l)&&(o._$Ei.set(l,o[l]),delete o[l])})}},{key:"createRenderRoot",value:function(){var o,u=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return yf(u,this.constructor.elementStyles),u}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(u){var l;return(l=u.hostConnected)===null||l===void 0?void 0:l.call(u)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(u){var l;return(l=u.hostDisconnected)===null||l===void 0?void 0:l.call(u)})}},{key:"attributeChangedCallback",value:function(o,u,l){this._$AK(o,l)}},{key:"_$EO",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hd,s,r=this.constructor._$Ep(o,l);if(r!==void 0&&l.reflect===!0){var d=(((s=l.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?l.converter:Lu).toAttribute(u,l.type);this._$El=o,d==null?this.removeAttribute(r):this.setAttribute(r,d),this._$El=null}}},{key:"_$AK",value:function(o,u){var l,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var d=s.getPropertyOptions(r),c=typeof d.converter=="function"?{fromAttribute:d.converter}:((l=d.converter)===null||l===void 0?void 0:l.fromAttribute)!==void 0?d.converter:Lu;this._$El=r,this[r]=c.fromAttribute(u,d.type),this._$El=null}}},{key:"requestUpdate",value:function(o,u,l){var s=!0;o!==void 0&&(((l=l||this.constructor.getPropertyOptions(o)).hasChanged||dd)(this[o],u)?(this._$AL.has(o)||this._$AL.set(o,u),l.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,l))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(u=this.scheduleUpdate(),s.t1=u!=null,!s.t1){s.next=14;break}return s.next=14,u;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,u;if(!!this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,d){return o[d]=r}),this._$Ei=void 0);var l=!1,s=this._$AL;try{l=this.shouldUpdate(s),l?(this.willUpdate(s),(u=this._$ES)===null||u===void 0||u.forEach(function(r){var d;return(d=r.hostUpdate)===null||d===void 0?void 0:d.call(r)}),this.update(s)):this._$Ek()}catch(r){throw l=!1,this._$Ek(),r}l&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var u;(u=this._$ES)===null||u===void 0||u.forEach(function(l){var s;return(s=l.hostUpdated)===null||s===void 0?void 0:s.call(l)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var u=this;this._$EC!==void 0&&(this._$EC.forEach(function(l,s){return u._$EO(s,u[s],l)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var u;this.finalize(),((u=this.h)!==null&&u!==void 0?u:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var u=[];return this.elementProperties.forEach(function(l,s){var r=o._$Ep(s,l);r!==void 0&&(o._$Ev.set(r,s),u.push(r))}),u}},{key:"createProperty",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hd;if(u.state&&(u.attribute=!1),this.finalize(),this.elementProperties.set(o,u),!u.noAccessor&&!this.prototype.hasOwnProperty(o)){var l=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,l,u);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,u,l){return{get:function(){return this[u]},set:function(r){var d=this[o];this[u]=r,this.requestUpdate(o,d,l)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||hd}},{key:"finalize",value:function(){if(this.hasOwnProperty(fd))return!1;this[fd]=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var u=this.properties,l=_toConsumableArray(Object.getOwnPropertyNames(u)).concat(_toConsumableArray(Object.getOwnPropertySymbols(u))),s=!0,r=!1,d=void 0;try{for(var c=l[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,u[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var u=[];if(Array.isArray(o)){var l=new Set(o.flat(1/0).reverse()),s=!0,r=!1,d=void 0;try{for(var c=l[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;u.unshift(cd(f))}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}else o!==void 0&&u.push(cd(o));return u}},{key:"_$Ep",value:function(o,u){var l=u.attribute;return l===!1?void 0:typeof l=="string"?l:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),ua[fd]=!0,ua.elementProperties=new Map,ua.elementStyles=[],ua.shadowRootOptions={mode:"open"},_f==null||_f({ReactiveElement:ua}),((bf=Ru.reactiveElementVersions)!==null&&bf!==void 0?bf:Ru.reactiveElementVersions=[]).push("1.6.3")}}),P0={};qr(P0,{_$LH:function(){return M0},html:function(){return Ot},noChange:function(){return Ia},nothing:function(){return Un},render:function(){return md},svg:function(){return Ta}});function Es(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Ia)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=xl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Es(S,r._$AS(S,t.values),r,n)),t}var kf,Du,Ps,xf,$u,$o,vd,T0,Ea,kl,xl,Sf,Af,gd,Sl,Cf,Of,Pa,jf,Ef,Pf,Tf,Ot,Ta,Ia,Un,If,Ma,Mf,Bu,Rf,Al,Cl,Lf,I0,Df,$f,Bf,M0,Nf,md,Nu=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/lit-html.js":function(){Du=window,Ps=Du.trustedTypes,xf=Ps?Ps.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,$u="$lit$",$o="lit$".concat((Math.random()+"").slice(9),"$"),vd="?"+$o,T0="<".concat(vd,">"),Ea=document,kl=function(){return Ea.createComment("")},xl=function(S){return S===null||typeof S!="object"&&typeof S!="function"},Sf=Array.isArray,Af=function(S){return Sf(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},gd="[ 	\n\f\r]",Sl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Cf=/-->/g,Of=/>/g,Pa=RegExp(">|".concat(gd,"(?:([^\\s\"'>=/]+)(").concat(gd,"*=").concat(gd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),jf=/'/g,Ef=/"/g,Pf=/^(?:script|style|textarea|title)$/i,Tf=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},Ot=Tf(1),Ta=Tf(2),Ia=Symbol.for("lit-noChange"),Un=Symbol.for("lit-nothing"),If=new WeakMap,Ma=Ea.createTreeWalker(Ea,129,null,!1),Mf=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=Sl,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===Sl?c[1]==="!--"?l=Cf:c[1]!==void 0?l=Of:c[2]!==void 0?(Pf.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=Pa):c[3]!==void 0&&(l=Pa):l===Pa?c[0]===">"?(l=o!=null?o:Sl,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?Pa:c[3]==='"'?Ef:jf):l===Ef||l===jf?l=Pa:l===Cf||l===Of?l=Sl:(l=Pa,o=void 0);var v=l===Pa&&S[s+1].startsWith("/>")?" ":"";u+=l===Sl?r+T0:h>=0?(n.push(d),r.slice(0,h)+$u+r.slice(h)+$o+v):r+$o+(h===-2?(n.push(void 0),s):v)}return[Or(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},Bu=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(Mf(n,o),2),h=c[0],f=c[1];if(this.el=Bu.createElement(h,e),Ma.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=Ma.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith($u)||a.startsWith($o)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+$u).split($o),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?Lf:y[1]==="?"?Df:y[1]==="@"?$f:Cl})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(Pf.test(u.tagName)){var J=u.textContent.split($o),F=J.length-1;if(F>0){u.textContent=Ps?Ps.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],kl()),Ma.nextNode(),d.push({type:2,index:++l});u.append(J[F],kl())}}}else if(u.nodeType===8)if(u.data===vd)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf($o,re+1))!==-1;)d.push({type:7,index:l}),re+=$o.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=Ea.createElement("template");return o.innerHTML=e,o}}]),S}(),Rf=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ea).importNode(l,!0);Ma.currentNode=r;for(var d=Ma.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Al(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new Bf(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Ma.nextNode(),c++)}return Ma.currentNode=Ea,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Al=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=Un,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Es(this,e,n),xl(e)?e===Un||e==null||e===""?(this._$AH!==Un&&this._$AR(),this._$AH=Un):e!==this._$AH&&e!==Ia&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Af(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Un&&xl(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ea.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=Bu.createElement(Or(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new Rf(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=If.get(e.strings);return n===void 0&&If.set(e.strings,n=new Bu(e)),n}},{key:"T",value:function(e){Sf(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Al(this.k(kl()),this.k(kl()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),Cl=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=Un,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Un}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=Es(this,e,n,0),s=!xl(e)||e!==this._$AH&&e!==Ia,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=Es(this,r[o+d],n,d),c===Ia&&(c=this._$AH[d]),s||(s=!xl(c)||c!==this._$AH[d]),c===Un?e=Un:e!==Un&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===Un?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),Lf=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Un?void 0:o}}]),e}(Cl),I0=Ps?Ps.emptyScript:"",Df=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Un?this.element.setAttribute(this.name,I0):this.element.removeAttribute(this.name)}}]),e}(Cl),$f=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=Es(this,o,u,0))!==null&&l!==void 0?l:Un)!==Ia){var s=this._$AH,r=o===Un&&s!==Un||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Un&&(s===Un||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(Cl),Bf=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Es(this,e)}}]),S}(),M0={O:$u,P:$o,A:vd,C:1,M:Mf,L:Rf,R:Af,D:Es,I:Al,V:Cl,H:Df,N:$f,U:Lf,F:Bf},Nf=Du.litHtmlPolyfillSupport,Nf==null||Nf(Bu,Al),((kf=Du.litHtmlVersions)!==null&&kf!==void 0?kf:Du.litHtmlVersions=[]).push("2.8.0"),md=function(S,t,e){var n,o,u=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,l=u._$litPart$;if(l===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;u._$litPart$=l=new Al(t.insertBefore(kl(),s),s,void 0,e!=null?e:{})}return l._$AI(S),l}}}),R0,Ts=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/base.js":function(){R0=function(S){var t=S.finisher,e=S.descriptor;return function(n,o){var u;if(o===void 0){var l=(u=n.originalKey)!==null&&u!==void 0?u:n.key,s=e!=null?{kind:"method",placement:"prototype",key:l,descriptor:e(n.key)}:Ei(Jr({},n),{key:l});return t!=null&&(s.finisher=function(d){t(d,l)}),s}{var r=n.constructor;e!==void 0&&Object.defineProperty(n,o,e(o)),t==null||t(r,o)}}}}}),zr,L0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/custom-element.js":function(){zr=function(S){return function(t){return typeof t=="function"?function(e,n){return customElements.define(e,n),n}(S,t):function(e,n){var o=n.kind,u=n.elements;return{kind:o,elements:u,finisher:function(s){customElements.define(e,s)}}}(S,t)}}}}),D0,$0,zf=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/property.js":function(){D0=function(S,t){return t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?Ei(Jr({},t),{finisher:function(n){n.createProperty(t.key,S)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,S)}}},$0=function(S,t,e){t.constructor.createProperty(e,S)}}}),B0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/state.js":function(){zf()}}),N0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/event-options.js":function(){Ts()}}),z0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/query.js":function(){Ts()}}),H0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/query-all.js":function(){Ts()}}),F0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/query-async.js":function(){Ts()}}),Hf,YO,Ff=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/query-assigned-elements.js":function(){Ts(),YO=((Hf=window.HTMLSlotElement)===null||Hf===void 0?void 0:Hf.prototype.assignedElements)!=null?function(S,t){return S.assignedElements(t)}:function(S,t){return S.assignedNodes(t).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}}}),U0=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@1.6.3/deno/decorators/query-assigned-nodes.js":function(){Ts(),Ff()}}),Uf,V0,W0,q0,G0,Vf,Wf,yd,qf,Gf,Y0,Xn,Yf,X0,XO=Tt({"https-url:https://esm.archive.org/v99/lit-element@3.3.3/deno/lit-element.js":function(){pd(),Nu(),pd(),pd(),Nu(),Nu(),Ts(),L0(),zf(),B0(),N0(),z0(),H0(),F0(),Ff(),U0(),Uf=Object.defineProperty,V0=Object.getOwnPropertyDescriptor,W0=Object.getOwnPropertyNames,q0=Object.prototype.hasOwnProperty,G0=function(S,t){for(var e in t)Uf(S,e,{get:t[e],enumerable:!0})},Vf=function(S,t,e,n){var o=!0,u=!1,l=void 0;if(t&&typeof t=="object"||typeof t=="function")try{for(var s=function(c,h){var f=h.value;!q0.call(S,f)&&f!==e&&Uf(S,f,{get:function(){return t[f]},enumerable:!(n=V0(t,f))||n.enumerable})},r=W0(t)[Symbol.iterator](),d;!(o=(d=r.next()).done);o=!0)s(r,d)}catch(c){u=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(u)throw l}}return S},Wf=function(S,t,e){return Vf(S,t,"default"),e&&Vf(e,t,"default")},yd={},G0(yd,{LitElement:function(){return Xn},UpdatingElement:function(){return Y0},_$LE:function(){return X0}}),Wf(yd,j0),Wf(yd,P0),Y0=ua,Xn=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,u,l=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(u=this.renderOptions).renderBefore)!==null&&o!==void 0||(u.renderBefore=l.firstChild),l}},{key:"update",value:function(o){var u=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=md(u,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Ia}}]),e}(ua),Xn.finalized=!0,Xn._$litElement$=!0,(qf=globalThis.litElementHydrateSupport)===null||qf===void 0||qf.call(globalThis,{LitElement:Xn}),Yf=globalThis.litElementPolyfillSupport,Yf==null||Yf({LitElement:Xn}),X0={_$AK:function(S,t,e){S._$AK(t,e)},_$AL:function(S){return S._$AL}},((Gf=globalThis.litElementVersions)!==null&&Gf!==void 0?Gf:globalThis.litElementVersions=[]).push("3.3.3"),console.warn("The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.")}}),KO=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/is-server.js":function(){}}),_n=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/lit.js":function(){pd(),Nu(),XO(),KO()}}),ei=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/decorators.js":function(){L0(),zf(),B0(),N0(),z0(),H0(),F0(),Ff(),U0()}}),JO,K0=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-activity-indicator@0.0.4/deno/ia-activity-indicator.js":function(){_n(),JO=Object.freeze({processing:"processing",complete:"complete"})}}),J0,QO=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-close@1.3.4/deno/index.js":function(){_n(),J0=Ot(_templateObject())}}),Q0,ZO=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-ia-logo@1.3.4/deno/index.js":function(){_n(),Q0=Ot(_templateObject1())}}),e8=Tt({"https-url:https://esm.archive.org/v99/throttle-debounce@5.0.0/deno/throttle-debounce.js":function(){}}),bd,wd,Is,Z0,Ms,Ol=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/modal-manager@0.2.12/deno/modal-manager.js":function(){Qr(),_n(),ei(),Qr(),_n(),ei(),K0(),QO(),ZO(),e8(),bd=function S(t){"use strict";_classCallCheck(this,S);var e,n,o,u,l,s,r;this.title=t==null?void 0:t.title,this.subtitle=t==null?void 0:t.subtitle,this.headline=t==null?void 0:t.headline,this.message=t==null?void 0:t.message,this.headerColor=(e=t==null?void 0:t.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(n=t==null?void 0:t.bodyColor)!==null&&n!==void 0?n:"#f5f5f7",this.showProcessingIndicator=(o=t==null?void 0:t.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(u=t==null?void 0:t.processingImageMode)!==null&&u!==void 0?u:"complete",this.showCloseButton=(l=t==null?void 0:t.showCloseButton)!==null&&l!==void 0?l:!0,this.showHeaderLogo=(s=t==null?void 0:t.showHeaderLogo)!==null&&s!==void 0?s:!0,this.closeOnBackdropClick=(r=t==null?void 0:t.closeOnBackdropClick)!==null&&r!==void 0?r:!0},wd=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=new bd,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject7(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?Ot(_templateObject2(),Q0):Un,this.config.title?Ot(_templateObject3(),this.config.title):"",this.config.subtitle?Ot(_templateObject4(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?Ot(_templateObject5(),this.config.headline):"",this.config.message?Ot(_templateObject6(),this.config.message):"")}},{key:"handleCloseButton",value:function(){var o=new Event("closeButtonPressed");this.dispatchEvent(o)}},{key:"closeButtonTemplate",get:function(){return Ot(_templateObject8(),this.handleCloseButton,J0)}}],[{key:"styles",get:function(){var o=Kt(_templateObject9()),u=Kt(_templateObject10()),l=Kt(_templateObject11()),s=Kt(_templateObject12()),r=Kt(_templateObject13()),d=Kt(_templateObject14()),c=Kt(_templateObject15()),h=Kt(_templateObject16()),f=Kt(_templateObject17()),v=Kt(_templateObject18()),x=Kt(_templateObject19()),w=Kt(_templateObject20()),b=Kt(_templateObject21()),C=Kt(_templateObject22()),P=Kt(_templateObject23()),E=Kt(_templateObject24()),T=Kt(_templateObject25());return Kt(_templateObject26(),u,u,l,d,l,l,s,c,v,C,x,P,l,l,s,h,f,r,f,w,E,b,T,o,o,o,o)}}]),e}(Xn),A([Xt({type:Object})],wd.prototype,"config",void 0),wd=A([zr("modal-template")],wd),function(S){S.Open="open",S.Closed="closed"}(Is||(Is={})),Z0=function(){"use strict";function S(t){_classCallCheck(this,S),this.windowResizeThrottler=oa(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=t}return _createClass(S,[{key:"handleModeChange",value:function(e){switch(e){case Is.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Is.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),S}(),Ms=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.mode=Is.Closed,n.hostBridge=new Z0(_assertThisInitialized(n)),n.closeOnBackdropClick=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject27(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Is.Closed}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return Ae(this,void 0,void 0,_regeneratorRuntime.default.mark(function u(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Is.Open,s.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus();case 8:case"end":return s.stop()}},u,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=Kt(_templateObject28()),u=Kt(_templateObject29()),l=Kt(_templateObject30()),s=Kt(_templateObject31()),r=Kt(_templateObject32());return Kt(_templateObject33(),o,u,r,l,s)}}]),e}(Xn),A([Xt({type:String,reflect:!0})],Ms.prototype,"mode",void 0),A([Xt({type:Object})],Ms.prototype,"customModalContent",void 0),A([Xt({type:Object})],Ms.prototype,"hostBridge",void 0),A([ri("modal-template")],Ms.prototype,"modalTemplate",void 0),Ms=A([zr("modal-manager")],Ms)}}),eb,Xf,tb,nb,rb,ib,ob,ab,sb,lb,ub,Vn,Kf,cb,ee,Jf=Tt({"https-url:https://esm.archive.org/v99/jquery@3.6.1/deno/jquery.js":function(){eb=Object.create,Xf=Object.defineProperty,tb=Object.getOwnPropertyDescriptor,nb=Object.getOwnPropertyNames,rb=Object.getPrototypeOf,ib=Object.prototype.hasOwnProperty,ob=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},ab=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ib.call(t,v)&&v!==n&&Xf(t,v,{get:function(){return e[v]},enumerable:!(o=tb(e,v))||o.enumerable})},d=nb(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},sb=function(t,e,n){return n=t!=null?eb(rb(t)):{},ab(e||!t||!t.__esModule?Xf(n,"default",{value:t,enumerable:!0}):n,t)},lb=ob(function(t,e){(function(n,o){"use strict";typeof e=="object"&&typeof e.exports=="object"?e.exports=n.document?o(n,!0):function(u){if(!u.document)throw new Error("jQuery requires a window with a document");return o(u)}:o(n)})((typeof document=="undefined"?"undefined":_typeof(document))<"u"?window:t,function(n,o){"use strict";var u=function(k,O,I){I=I||_t;var M,W,U=I.createElement("script");if(U.text=k,O)for(M in st)W=O[M]||O.getAttribute&&O.getAttribute(M),W&&U.setAttribute(M,W);I.head.appendChild(U).parentNode.removeChild(U)},l=function(k){return k==null?k+"":typeof k=="object"||typeof k=="function"?ut[qe.call(k)]||"object":typeof k=="undefined"?"undefined":_typeof(k)},s=function(k){var O=!!k&&"length"in k&&k.length,I=l(k);return bt(k)||wt(k)?!1:I==="array"||O===0||typeof O=="number"&&O>0&&O-1 in k},r=function(k,O){return k.nodeName&&k.nodeName.toLowerCase()===O.toLowerCase()},d=function(k,O,I){return bt(O)?N.grep(k,function(M,W){return!!O.call(M,W,M)!==I}):O.nodeType?N.grep(k,function(M){return M===O!==I}):typeof O!="string"?N.grep(k,function(M){return at.call(O,M)>-1!==I}):N.filter(O,k,I)},c=function(k,O){for(;(k=k[O])&&k.nodeType!==1;);return k},h=function(k){var O={};return N.each(k.match(Ce)||[],function(I,M){O[M]=!0}),O},f=function(k){return k},v=function(k){throw k},x=function(k,O,I,M){var W;try{k&&bt(W=k.promise)?W.call(k).done(O).fail(I):k&&bt(W=k.then)?W.call(k,O,I):O.apply(void 0,[k].slice(M))}catch(U){I.apply(void 0,[U])}},w=function(k,O){return O.toUpperCase()},b=function(k){return k.replace(Pt,"ms-").replace(At,w)},C=function(k){return k==="true"?!0:k==="false"?!1:k==="null"?null:k===+k+""?+k:Bt.test(k)?JSON.parse(k):k},P=function(k,O,I){var M;if(I===void 0&&k.nodeType===1)if(M="data-"+O.replace(qt,"-$&").toLowerCase(),I=k.getAttribute(M),typeof I=="string"){try{I=C(I)}catch(W){}Ht.set(k,O,I)}else I=void 0;return I},E=function(k,O,I,M){var W,U,le=20,Oe=M?function(){return M.cur()}:function(){return N.css(k,O,"")},we=Oe(),lt=I&&I[3]||(N.cssNumber[O]?"":"px"),St=k.nodeType&&(N.cssNumber[O]||lt!=="px"&&+we)&&un.exec(N.css(k,O));if(St&&St[3]!==lt){for(we=we/2,lt=lt||St[3],St=+we||1;le--;)N.style(k,O,St+lt),(1-U)*(1-(U=Oe()/we||.5))<=0&&(le=0),St=St/U;St=St*2,N.style(k,O,St+lt),I=I||[]}return I&&(St=+St||+we||0,W=I[1]?St+(I[1]+1)*I[2]:+I[2],M&&(M.unit=lt,M.start=St,M.end=W)),W},T=function(k){var O,I=k.ownerDocument,M=k.nodeName,W=Me[M];return W||(O=I.body.appendChild(I.createElement(M)),W=N.css(O,"display"),O.parentNode.removeChild(O),W==="none"&&(W="block"),Me[M]=W,W)},m=function(k,O){for(var I,M,W=[],U=0,le=k.length;U<le;U++)M=k[U],M.style&&(I=M.style.display,O?(I==="none"&&(W[U]=Dt.get(M,"display")||null,W[U]||(M.style.display="")),M.style.display===""&&Nt(M)&&(W[U]=T(M))):I!=="none"&&(W[U]="none",Dt.set(M,"display",I)));for(U=0;U<le;U++)W[U]!=null&&(k[U].style.display=W[U]);return k},a=function(k,O){var I;return _typeof(k.getElementsByTagName)<"u"?I=k.getElementsByTagName(O||"*"):_typeof(k.querySelectorAll)<"u"?I=k.querySelectorAll(O||"*"):I=[],O===void 0||O&&r(k,O)?N.merge([k],I):I},p=function(k,O){for(var I=0,M=k.length;I<M;I++)Dt.set(k[I],"globalEval",!O||Dt.get(O[I],"globalEval"))},g=function(k,O,I,M,W){for(var U,le,Oe,we,lt,St,zt=O.createDocumentFragment(),Vt=[],jt=0,fn=k.length;jt<fn;jt++)if(U=k[jt],U||U===0)if(l(U)==="object")N.merge(Vt,U.nodeType?[U]:U);else if(!ct.test(U))Vt.push(O.createTextNode(U));else{for(le=le||zt.appendChild(O.createElement("div")),Oe=(Se.exec(U)||["",""])[1].toLowerCase(),we=it[Oe]||it._default,le.innerHTML=we[1]+N.htmlPrefilter(U)+we[2],St=we[0];St--;)le=le.lastChild;N.merge(Vt,le.childNodes),le=zt.firstChild,le.textContent=""}for(zt.textContent="",jt=0;U=Vt[jt++];){if(M&&N.inArray(U,M)>-1){W&&W.push(U);continue}if(lt=Qt(U),le=a(zt.appendChild(U),"script"),lt&&p(le),I)for(St=0;U=le[St++];)De.test(U.type||"")&&I.push(U)}return zt},y=function(){return!0},_=function(){return!1},j=function(k,O){return k===R()==(O==="focus")},R=function(){try{return _t.activeElement}catch(k){}},D=function(k,O,I){if(!I){Dt.get(k,O)===void 0&&N.event.add(k,O,y);return}Dt.set(k,O,!1),N.event.add(k,O,{namespace:!1,handler:function(W){var U,le,Oe=Dt.get(this,O);if(W.isTrigger&1&&this[O]){if(Oe.length)(N.event.special[O]||{}).delegateType&&W.stopPropagation();else if(Oe=Te.call(arguments),Dt.set(this,O,Oe),U=I(this,O),this[O](),le=Dt.get(this,O),Oe!==le||U?Dt.set(this,O,!1):le={},Oe!==le)return W.stopImmediatePropagation(),W.preventDefault(),le&&le.value}else Oe.length&&(Dt.set(this,O,{value:N.event.trigger(N.extend(Oe[0],N.Event.prototype),Oe.slice(1),this)}),W.stopImmediatePropagation())}})},H=function(k,O){return r(k,"table")&&r(O.nodeType!==11?O:O.firstChild,"tr")&&N(k).children("tbody")[0]||k},K=function(k){return k.type=(k.getAttribute("type")!==null)+"/"+k.type,k},J=function(k){return(k.type||"").slice(0,5)==="true/"?k.type=k.type.slice(5):k.removeAttribute("type"),k},F=function(k,O){var I,M,W,U,le,Oe,we;if(O.nodeType===1){if(Dt.hasData(k)&&(U=Dt.get(k),we=U.events,we)){Dt.remove(O,"handle events");for(W in we)for(I=0,M=we[W].length;I<M;I++)N.event.add(O,W,we[W][I])}Ht.hasData(k)&&(le=Ht.access(k),Oe=N.extend({},le),Ht.set(O,Oe))}},de=function(k,O){var I=O.nodeName.toLowerCase();I==="input"&&fe.test(k.type)?O.checked=k.checked:(I==="input"||I==="textarea")&&(O.defaultValue=k.defaultValue)},re=function(k,O,I){for(var M,W=O?N.filter(O,k):k,U=0;(M=W[U])!=null;U++)!I&&M.nodeType===1&&N.cleanData(a(M)),M.parentNode&&(I&&Qt(M)&&p(a(M,"script")),M.parentNode.removeChild(M));return k},V=function(k,O,I){var M,W,U,le,Oe=Cr.test(O),we=k.style;return I=I||Ti(k),I&&(le=I.getPropertyValue(O)||I[O],Oe&&(le=le.replace(bi,"$1")),le===""&&!Qt(k)&&(le=N.style(k,O)),!nt.pixelBoxStyles()&&yi.test(le)&&zi.test(O)&&(M=we.width,W=we.minWidth,U=we.maxWidth,we.minWidth=we.maxWidth=we.width=le,le=I.width,we.width=M,we.minWidth=W,we.maxWidth=U)),le!==void 0?le+"":le},X=function(k,O){return{get:function(){if(k()){delete this.get;return}return(this.get=O).apply(this,arguments)}}},oe=function(k){for(var O=k[0].toUpperCase()+k.slice(1),I=uo.length;I--;)if(k=uo[I]+O,k in Vr)return k},G=function(k){var O=N.cssProps[k]||si[k];return O||(k in Vr?k:si[k]=oe(k)||k)},Y=function(k,O,I){var M=un.exec(O);return M?Math.max(0,M[2]-(I||0))+(M[3]||"px"):O},Z=function(k,O,I,M,W,U){var le=O==="width"?1:0,Oe=0,we=0;if(I===(M?"border":"content"))return 0;for(;le<4;le+=2)I==="margin"&&(we+=N.css(k,I+Rt[le],!0,W)),M?(I==="content"&&(we-=N.css(k,"padding"+Rt[le],!0,W)),I!=="margin"&&(we-=N.css(k,"border"+Rt[le]+"Width",!0,W))):(we+=N.css(k,"padding"+Rt[le],!0,W),I!=="padding"?we+=N.css(k,"border"+Rt[le]+"Width",!0,W):Oe+=N.css(k,"border"+Rt[le]+"Width",!0,W));return!M&&U>=0&&(we+=Math.max(0,Math.ceil(k["offset"+O[0].toUpperCase()+O.slice(1)]-U-we-Oe-.5))||0),we},ae=function(k,O,I){var M=Ti(k),W=!nt.boxSizingReliable()||I,U=W&&N.css(k,"boxSizing",!1,M)==="border-box",le=U,Oe=V(k,O,M),we="offset"+O[0].toUpperCase()+O.slice(1);if(yi.test(Oe)){if(!I)return Oe;Oe="auto"}return(!nt.boxSizingReliable()&&U||!nt.reliableTrDimensions()&&r(k,"tr")||Oe==="auto"||!parseFloat(Oe)&&N.css(k,"display",!1,M)==="inline")&&k.getClientRects().length&&(U=N.css(k,"boxSizing",!1,M)==="border-box",le=we in k,le&&(Oe=k[we])),Oe=parseFloat(Oe)||0,Oe+Z(k,O,I||(U?"border":"content"),le,M,Oe)+"px"},ie=function(){return n.setTimeout(function(){en=void 0}),en=Date.now()},je=function(k,O){var I,M=0,W={height:k};for(O=O?1:0;M<4;M+=2-O)I=Rt[M],W["margin"+I]=W["padding"+I]=k;return O&&(W.opacity=W.width=k),W},Le=function(k,O,I){for(var M,W=(Sn.tweeners[O]||[]).concat(Sn.tweeners["*"]),U=0,le=W.length;U<le;U++)if(M=W[U].call(I,O,k))return M},ke=function(k,O,I){var M,W,U,le,Oe,we,lt,St,zt="width"in O||"height"in O,Vt=this,jt={},fn=k.style,ln=k.nodeType&&Nt(k),yn=Dt.get(k,"fxshow");I.queue||(le=N._queueHooks(k,"fx"),le.unqueued==null&&(le.unqueued=0,Oe=le.empty.fire,le.empty.fire=function(){le.unqueued||Oe()}),le.unqueued++,Vt.always(function(){Vt.always(function(){le.unqueued--,N.queue(k,"fx").length||le.empty.fire()})}));for(M in O)if(W=O[M],En.test(W)){if(delete O[M],U=U||W==="toggle",W===(ln?"hide":"show"))if(W==="show"&&yn&&yn[M]!==void 0)ln=!0;else continue;jt[M]=yn&&yn[M]||N.style(k,M)}if(we=!N.isEmptyObject(O),!(!we&&N.isEmptyObject(jt))){var qn=function(kn){we||(yn?"hidden"in yn&&(ln=yn.hidden):yn=Dt.access(k,"fxshow",{display:lt}),U&&(yn.hidden=!ln),ln&&m([k],!0),Vt.done(function(){ln||m([k]),Dt.remove(k,"fxshow");for(kn in jt)N.style(k,kn,jt[kn])})),we=Le(ln?yn[kn]:0,kn,Vt),kn in yn||(yn[kn]=we.start,ln&&(we.end=we.start,we.start=0))};zt&&k.nodeType===1&&(I.overflow=[fn.overflow,fn.overflowX,fn.overflowY],lt=yn&&yn.display,lt==null&&(lt=Dt.get(k,"display")),St=N.css(k,"display"),St==="none"&&(lt?St=lt:(m([k],!0),lt=k.style.display||lt,St=N.css(k,"display"),m([k]))),(St==="inline"||St==="inline-block"&&lt!=null)&&N.css(k,"float")==="none"&&(we||(Vt.done(function(){fn.display=lt}),lt==null&&(St=fn.display,lt=St==="none"?"":St)),fn.display="inline-block")),I.overflow&&(fn.overflow="hidden",Vt.always(function(){fn.overflow=I.overflow[0],fn.overflowX=I.overflow[1],fn.overflowY=I.overflow[2]})),we=!1;for(M in jt)qn(M)}},Ze=function(k,O){var I,M,W,U,le;for(I in k)if(M=b(I),W=O[M],U=k[I],Array.isArray(U)&&(W=U[1],U=k[I]=U[0]),I!==M&&(k[M]=U,delete k[I]),le=N.cssHooks[M],le&&"expand"in le){U=le.expand(U),delete k[M];for(I in U)I in k||(k[I]=U[I],O[I]=W)}else O[M]=W},Ve=function(k){var O=k.match(Ce)||[];return O.join(" ")},Xe=function(k){return k.getAttribute&&k.getAttribute("class")||""},dt=function(k){return Array.isArray(k)?k:typeof k=="string"?k.match(Ce)||[]:[]},yt=function(k){return function(O,I){typeof O!="string"&&(I=O,O="*");var M,W=0,U=O.toLowerCase().match(Ce)||[];if(bt(I))for(;M=U[W++];)M[0]==="+"?(M=M.slice(1)||"*",(k[M]=k[M]||[]).unshift(I)):(k[M]=k[M]||[]).push(I)}},pt=function(k,O,I,M){var W={},U=k===eo;function le(Oe){var we;return W[Oe]=!0,N.each(k[Oe]||[],function(lt,St){var zt=St(O,I,M);if(typeof zt=="string"&&!U&&!W[zt])return O.dataTypes.unshift(zt),le(zt),!1;if(U)return!(we=zt)}),we}return le(O.dataTypes[0])||!W["*"]&&le("*")},Re=function(k,O){var I,M,W=N.ajaxSettings.flatOptions||{};for(I in O)O[I]!==void 0&&((W[I]?k:M||(M={}))[I]=O[I]);return M&&N.extend(!0,k,M),k},_e=function(k,O,I){for(var M,W,U,le,Oe=k.contents,we=k.dataTypes;we[0]==="*";)we.shift(),M===void 0&&(M=k.mimeType||O.getResponseHeader("Content-Type"));if(M){for(W in Oe)if(Oe[W]&&Oe[W].test(M)){we.unshift(W);break}}if(we[0]in I)U=we[0];else{for(W in I){if(!we[0]||k.converters[W+" "+we[0]]){U=W;break}le||(le=W)}U=U||le}if(U)return U!==we[0]&&we.unshift(U),I[U]},Ne=function(k,O,I,M){var W,U,le,Oe,we,lt={},St=k.dataTypes.slice();if(St[1])for(le in k.converters)lt[le.toLowerCase()]=k.converters[le];for(U=St.shift();U;)if(k.responseFields[U]&&(I[k.responseFields[U]]=O),!we&&M&&k.dataFilter&&(O=k.dataFilter(O,k.dataType)),we=U,U=St.shift(),U){if(U==="*")U=we;else if(we!=="*"&&we!==U){if(le=lt[we+" "+U]||lt["* "+U],!le){for(W in lt)if(Oe=W.split(" "),Oe[1]===U&&(le=lt[we+" "+Oe[0]]||lt["* "+Oe[0]],le)){le===!0?le=lt[W]:lt[W]!==!0&&(U=Oe[0],St.unshift(Oe[1]));break}}if(le!==!0)if(le&&k.throws)O=le(O);else try{O=le(O)}catch(zt){return{state:"parsererror",error:le?zt:"No conversion from "+we+" to "+U}}}}return{state:"success",data:O}},Je=[],Ye=Object.getPrototypeOf,Te=Je.slice,rt=Je.flat?function(k){return Je.flat.call(k)}:function(z){return Je.concat.apply([],z)},ht=Je.push,at=Je.indexOf,ut={},qe=ut.toString,ze=ut.hasOwnProperty,Fe=ze.toString,tt=Fe.call(Object),nt={},bt=function(k){return typeof k=="function"&&typeof k.nodeType!="number"&&typeof k.item!="function"},wt=function(k){return k!=null&&k===k.window},_t=n.document,st={type:!0,src:!0,nonce:!0,noModule:!0},ye="3.6.1",N=function(z,k){return new N.fn.init(z,k)};N.fn=N.prototype={jquery:ye,constructor:N,length:0,toArray:function(){return Te.call(this)},get:function(k){return k==null?Te.call(this):k<0?this[k+this.length]:this[k]},pushStack:function(k){var O=N.merge(this.constructor(),k);return O.prevObject=this,O},each:function(k){return N.each(this,k)},map:function(k){return this.pushStack(N.map(this,function(O,I){return k.call(O,I,O)}))},slice:function(){return this.pushStack(Te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(k,O){return(O+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(k,O){return O%2}))},eq:function(k){var O=this.length,I=+k+(k<0?O:0);return this.pushStack(I>=0&&I<O?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:ht,sort:Je.sort,splice:Je.splice},N.extend=N.fn.extend=function(){var z,k,O,I,M,W,U=arguments[0]||{},le=1,Oe=arguments.length,we=!1;for(typeof U=="boolean"&&(we=U,U=arguments[le]||{},le++),typeof U!="object"&&!bt(U)&&(U={}),le===Oe&&(U=this,le--);le<Oe;le++)if((z=arguments[le])!=null)for(k in z)I=z[k],!(k==="__proto__"||U===I)&&(we&&I&&(N.isPlainObject(I)||(M=Array.isArray(I)))?(O=U[k],M&&!Array.isArray(O)?W=[]:!M&&!N.isPlainObject(O)?W={}:W=O,M=!1,U[k]=N.extend(we,W,I)):I!==void 0&&(U[k]=I));return U},N.extend({expando:"jQuery"+(ye+Math.random()).replace(/\D/g,""),isReady:!0,error:function(k){throw new Error(k)},noop:function(){},isPlainObject:function(k){var O,I;return!k||qe.call(k)!=="[object Object]"?!1:(O=Ye(k),O?(I=ze.call(O,"constructor")&&O.constructor,typeof I=="function"&&Fe.call(I)===tt):!0)},isEmptyObject:function(k){var O;for(O in k)return!1;return!0},globalEval:function(k,O,I){u(k,{nonce:O&&O.nonce},I)},each:function(k,O){var I,M=0;if(s(k))for(I=k.length;M<I&&O.call(k[M],M,k[M])!==!1;M++);else for(M in k)if(O.call(k[M],M,k[M])===!1)break;return k},makeArray:function(k,O){var I=O||[];return k!=null&&(s(Object(k))?N.merge(I,typeof k=="string"?[k]:k):ht.call(I,k)),I},inArray:function(k,O,I){return O==null?-1:at.call(O,k,I)},merge:function(k,O){for(var I=+O.length,M=0,W=k.length;M<I;M++)k[W++]=O[M];return k.length=W,k},grep:function(k,O,I){for(var M,W=[],U=0,le=k.length,Oe=!I;U<le;U++)M=!O(k[U],U),M!==Oe&&W.push(k[U]);return W},map:function(k,O,I){var M,W,U=0,le=[];if(s(k))for(M=k.length;U<M;U++)W=O(k[U],U,I),W!=null&&le.push(W);else for(U in k)W=O(k[U],U,I),W!=null&&le.push(W);return rt(le)},guid:1,support:nt}),typeof Symbol=="function"&&(N.fn[Symbol.iterator]=Je[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(z,k){ut["[object "+k+"]"]=k.toLowerCase()});var We=function(z){var k=function(xt,Mt,Yt,xn){var hn,pn,bn,Wn,Dn,er,fr,pr=Mt&&Mt.ownerDocument,Rr=Mt?Mt.nodeType:9;if(Yt=Yt||[],typeof xt!="string"||!xt||Rr!==1&&Rr!==9&&Rr!==11)return Yt;if(!xn&&(Kn(Mt),Mt=Mt||In,ge)){if(Rr!==11&&(Dn=Yy.exec(xt)))if(hn=Dn[1]){if(Rr===9)if(bn=Mt.getElementById(hn)){if(bn.id===hn)return Yt.push(bn),Yt}else return Yt;else if(pr&&(bn=pr.getElementById(hn))&&kt(Mt,bn)&&bn.id===hn)return Yt.push(bn),Yt}else{if(Dn[2])return Yi.apply(Yt,Mt.getElementsByTagName(xt)),Yt;if((hn=Dn[3])&&zn.getElementsByClassName&&Mt.getElementsByClassName)return Yi.apply(Yt,Mt.getElementsByClassName(hn)),Yt}if(zn.qsa&&!Mo[xt+" "]&&(!Pe||!Pe.test(xt))&&(Rr!==1||Mt.nodeName.toLowerCase()!=="object")){if(fr=xt,pr=Mt,Rr===1&&(fl.test(xt)||Ou.test(xt))){for(pr=ed.test(xt)&&St(Mt.parentNode)||Mt,(pr!==Mt||!zn.scope)&&((Wn=Mt.getAttribute("id"))?Wn=Wn.replace(vl,Ss):Mt.setAttribute("id",Wn=Gt)),er=ar(xt),pn=er.length;pn--;)er[pn]=(Wn?"#"+Wn:":scope")+" "+Vt(er[pn]);fr=er.join(",")}try{return Yi.apply(Yt,pr.querySelectorAll(fr)),Yt}catch(Lr){Mo(xt,!0)}finally{Wn===Gt&&Mt.removeAttribute("id")}}}return ir(xt.replace(Do,"$1"),Mt,Yt,xn)},O=function(){var xt=[];function Mt(Yt,xn){return xt.push(Yt+" ")>jn.cacheLength&&delete Mt[xt.shift()],Mt[Yt+" "]=xn}return Mt},I=function(xt){return xt[Gt]=!0,xt},M=function(xt){var Mt=In.createElement("fieldset");try{return!!xt(Mt)}catch(Yt){return!1}finally{Mt.parentNode&&Mt.parentNode.removeChild(Mt),Mt=null}},W=function(xt,Mt){for(var Yt=xt.split("|"),xn=Yt.length;xn--;)jn.attrHandle[Yt[xn]]=Mt},U=function(xt,Mt){var Yt=Mt&&xt,xn=Yt&&xt.nodeType===1&&Mt.nodeType===1&&xt.sourceIndex-Mt.sourceIndex;if(xn)return xn;if(Yt){for(;Yt=Yt.nextSibling;)if(Yt===Mt)return-1}return xt?1:-1},le=function(xt){return function(Mt){var Yt=Mt.nodeName.toLowerCase();return Yt==="input"&&Mt.type===xt}},Oe=function(xt){return function(Mt){var Yt=Mt.nodeName.toLowerCase();return(Yt==="input"||Yt==="button")&&Mt.type===xt}},we=function(xt){return function(Mt){return"form"in Mt?Mt.parentNode&&Mt.disabled===!1?"label"in Mt?"label"in Mt.parentNode?Mt.parentNode.disabled===xt:Mt.disabled===xt:Mt.isDisabled===xt||Mt.isDisabled!==!xt&&Xy(Mt)===xt:Mt.disabled===xt:"label"in Mt?Mt.disabled===xt:!1}},lt=function(xt){return I(function(Mt){return Mt=+Mt,I(function(Yt,xn){for(var hn,pn=xt([],Yt.length,Mt),bn=pn.length;bn--;)Yt[hn=pn[bn]]&&(Yt[hn]=!(xn[hn]=Yt[hn]))})})},St=function(xt){return xt&&_typeof(xt.getElementsByTagName)<"u"&&xt},zt=function(){},Vt=function(xt){for(var Mt=0,Yt=xt.length,xn="";Mt<Yt;Mt++)xn+=xt[Mt].value;return xn},jt=function(xt,Mt,Yt){var xn=Mt.dir,hn=Mt.next,pn=hn||xn,bn=Yt&&pn==="parentNode",Wn=dr++;return Mt.first?function(Dn,er,fr){for(;Dn=Dn[xn];)if(Dn.nodeType===1||bn)return xt(Dn,er,fr);return!1}:function(Dn,er,fr){var pr,Rr,Lr,wr=[An,Wn];if(fr){for(;Dn=Dn[xn];)if((Dn.nodeType===1||bn)&&xt(Dn,er,fr))return!0}else for(;Dn=Dn[xn];)if(Dn.nodeType===1||bn)if(Lr=Dn[Gt]||(Dn[Gt]={}),Rr=Lr[Dn.uniqueID]||(Lr[Dn.uniqueID]={}),hn&&hn===Dn.nodeName.toLowerCase())Dn=Dn[xn]||Dn;else{if((pr=Rr[pn])&&pr[0]===An&&pr[1]===Wn)return wr[2]=pr[2];if(Rr[pn]=wr,wr[2]=xt(Dn,er,fr))return!0}return!1}},fn=function(xt){return xt.length>1?function(Mt,Yt,xn){for(var hn=xt.length;hn--;)if(!xt[hn](Mt,Yt,xn))return!1;return!0}:xt[0]},ln=function(xt,Mt,Yt){for(var xn=0,hn=Mt.length;xn<hn;xn++)k(xt,Mt[xn],Yt);return Yt},yn=function(xt,Mt,Yt,xn,hn){for(var pn,bn=[],Wn=0,Dn=xt.length,er=Mt!=null;Wn<Dn;Wn++)(pn=xt[Wn])&&(!Yt||Yt(pn,xn,hn))&&(bn.push(pn),er&&Mt.push(Wn));return bn},qn=function(xt,Mt){var Yt=Mt.length>0,xn=xt.length>0,hn=function(bn,Wn,Dn,er,fr){var pr,Rr,Lr,wr=0,Xr="0",Di=bn&&[],Er=[],na=or,ml=bn||xn&&jn.find.TAG("*",fr),Oa=An+=na==null?1:Math.random()||.1,$i=ml.length;for(fr&&(or=Wn==In||Wn||fr);Xr!==$i&&(pr=ml[Xr])!=null;Xr++){if(xn&&pr){for(Rr=0,!Wn&&pr.ownerDocument!=In&&(Kn(pr),Dn=!ge);Lr=xt[Rr++];)if(Lr(pr,Wn||In,Dn)){er.push(pr);break}fr&&(An=Oa)}Yt&&((pr=!Lr&&pr)&&wr--,bn&&Di.push(pr))}if(wr+=Xr,Yt&&Xr!==wr){for(Rr=0;Lr=Mt[Rr++];)Lr(Di,Er,Wn,Dn);if(bn){if(wr>0)for(;Xr--;)Di[Xr]||Er[Xr]||(Er[Xr]=Cu.call(er));Er=yn(Er)}Yi.apply(er,Er),fr&&!bn&&Er.length>0&&wr+Mt.length>1&&k.uniqueSort(er)}return fr&&(An=Oa,or=na),Di};return Yt?I(hn):hn},kn,zn,jn,Zn,Pn,ar,Hn,ir,or,yr,tr,Kn,In,$e,ge,Pe,mt,Ct,kt,Gt="sizzle"+1*new Date,vn=z.document,An=0,dr=0,Jn=O(),ur=O(),_o=O(),Mo=O(),po=function(xt,Mt){return xt===Mt&&(tr=!0),0},hl={}.hasOwnProperty,Gi=[],Cu=Gi.pop,Li=Gi.push,Yi=Gi.push,ko=Gi.slice,no=function(xt,Mt){for(var Yt=0,xn=xt.length;Yt<xn;Yt++)if(xt[Yt]===Mt)return Yt;return-1},Ro="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mr="[\\x20\\t\\r\\n\\f]",ro="(?:\\\\[\\da-fA-F]{1,6}"+Mr+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Lo="\\["+Mr+"*("+ro+")(?:"+Mr+"*([*^$|!~]?=)"+Mr+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ro+"))|)"+Mr+"*\\]",Ca=":("+ro+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Lo+")*)|.*)\\)|)",_s=new RegExp(Mr+"+","g"),Do=new RegExp("^"+Mr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mr+"+$","g"),Qc=new RegExp("^"+Mr+"*,"+Mr+"*"),Ou=new RegExp("^"+Mr+"*([>+~]|"+Mr+")"+Mr+"*"),fl=new RegExp(Mr+"|>"),Zc=new RegExp(Ca),pl=new RegExp("^"+ro+"$"),ks={ID:new RegExp("^#("+ro+")"),CLASS:new RegExp("^\\.("+ro+")"),TAG:new RegExp("^("+ro+"|[*])"),ATTR:new RegExp("^"+Lo),PSEUDO:new RegExp("^"+Ca),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mr+"*(even|odd|(([+-]|)(\\d*)n|)"+Mr+"*(?:([+-]|)"+Mr+"*(\\d+)|))"+Mr+"*\\)|)","i"),bool:new RegExp("^(?:"+Ro+")$","i"),needsContext:new RegExp("^"+Mr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mr+"*((?:-\\d)?\\d*)"+Mr+"*\\)|)(?=[^-]|$)","i")},ea=/HTML$/i,Gy=/^(?:input|select|textarea|button)$/i,Ii=/^h\d$/i,xs=/^[^{]+\{\s*\[native \w/,Yy=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ed=/[+~]/,io=new RegExp("\\\\[\\da-fA-F]{1,6}"+Mr+"?|\\\\([^\\r\\n\\f])","g"),oo=function(xt,Mt){var Yt="0x"+xt.slice(1)-65536;return Mt||(Yt<0?String.fromCharCode(Yt+65536):String.fromCharCode(Yt>>10|55296,Yt&1023|56320))},vl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ss=function(xt,Mt){return Mt?xt==="\0"?"\uFFFD":xt.slice(0,-1)+"\\"+xt.charCodeAt(xt.length-1).toString(16)+" ":"\\"+xt},gl=function(){Kn()},Xy=jt(function(nn){return nn.disabled===!0&&nn.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Yi.apply(Gi=ko.call(vn.childNodes),vn.childNodes),Gi[vn.childNodes.length].nodeType}catch(nn){Yi={apply:Gi.length?function(xt,Mt){Li.apply(xt,ko.call(Mt))}:function(xt,Mt){for(var Yt=xt.length,xn=0;xt[Yt++]=Mt[xn++];);xt.length=Yt-1}}}zn=k.support={},Pn=k.isXML=function(xt){var Mt=xt&&xt.namespaceURI,Yt=xt&&(xt.ownerDocument||xt).documentElement;return!ea.test(Mt||Yt&&Yt.nodeName||"HTML")},Kn=k.setDocument=function(xt){var Mt,Yt,xn=xt?xt.ownerDocument||xt:vn;return xn==In||xn.nodeType!==9||!xn.documentElement||(In=xn,$e=In.documentElement,ge=!Pn(In),vn!=In&&(Yt=In.defaultView)&&Yt.top!==Yt&&(Yt.addEventListener?Yt.addEventListener("unload",gl,!1):Yt.attachEvent&&Yt.attachEvent("onunload",gl)),zn.scope=M(function(hn){return $e.appendChild(hn).appendChild(In.createElement("div")),_typeof(hn.querySelectorAll)<"u"&&!hn.querySelectorAll(":scope fieldset div").length}),zn.attributes=M(function(hn){return hn.className="i",!hn.getAttribute("className")}),zn.getElementsByTagName=M(function(hn){return hn.appendChild(In.createComment("")),!hn.getElementsByTagName("*").length}),zn.getElementsByClassName=xs.test(In.getElementsByClassName),zn.getById=M(function(hn){return $e.appendChild(hn).id=Gt,!In.getElementsByName||!In.getElementsByName(Gt).length}),zn.getById?(jn.filter.ID=function(hn){var pn=hn.replace(io,oo);return function(bn){return bn.getAttribute("id")===pn}},jn.find.ID=function(hn,pn){if(_typeof(pn.getElementById)<"u"&&ge){var bn=pn.getElementById(hn);return bn?[bn]:[]}}):(jn.filter.ID=function(hn){var pn=hn.replace(io,oo);return function(bn){var Wn=_typeof(bn.getAttributeNode)<"u"&&bn.getAttributeNode("id");return Wn&&Wn.value===pn}},jn.find.ID=function(hn,pn){if(_typeof(pn.getElementById)<"u"&&ge){var bn,Wn,Dn,er=pn.getElementById(hn);if(er){if(bn=er.getAttributeNode("id"),bn&&bn.value===hn)return[er];for(Dn=pn.getElementsByName(hn),Wn=0;er=Dn[Wn++];)if(bn=er.getAttributeNode("id"),bn&&bn.value===hn)return[er]}return[]}}),jn.find.TAG=zn.getElementsByTagName?function(hn,pn){if(_typeof(pn.getElementsByTagName)<"u")return pn.getElementsByTagName(hn);if(zn.qsa)return pn.querySelectorAll(hn)}:function(hn,pn){var bn,Wn=[],Dn=0,er=pn.getElementsByTagName(hn);if(hn==="*"){for(;bn=er[Dn++];)bn.nodeType===1&&Wn.push(bn);return Wn}return er},jn.find.CLASS=zn.getElementsByClassName&&function(hn,pn){if(_typeof(pn.getElementsByClassName)<"u"&&ge)return pn.getElementsByClassName(hn)},mt=[],Pe=[],(zn.qsa=xs.test(In.querySelectorAll))&&(M(function(hn){var pn;$e.appendChild(hn).innerHTML="<a id='"+Gt+"'></a><select id='"+Gt+"-\r\\' msallowcapture=''><option selected=''></option></select>",hn.querySelectorAll("[msallowcapture^='']").length&&Pe.push("[*^$]="+Mr+"*(?:''|\"\")"),hn.querySelectorAll("[selected]").length||Pe.push("\\["+Mr+"*(?:value|"+Ro+")"),hn.querySelectorAll("[id~="+Gt+"-]").length||Pe.push("~="),pn=In.createElement("input"),pn.setAttribute("name",""),hn.appendChild(pn),hn.querySelectorAll("[name='']").length||Pe.push("\\["+Mr+"*name"+Mr+"*="+Mr+"*(?:''|\"\")"),hn.querySelectorAll(":checked").length||Pe.push(":checked"),hn.querySelectorAll("a#"+Gt+"+*").length||Pe.push(".#.+[+~]"),hn.querySelectorAll("\\\f"),Pe.push("[\\r\\n\\f]")}),M(function(hn){hn.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var pn=In.createElement("input");pn.setAttribute("type","hidden"),hn.appendChild(pn).setAttribute("name","D"),hn.querySelectorAll("[name=d]").length&&Pe.push("name"+Mr+"*[*^$|!~]?="),hn.querySelectorAll(":enabled").length!==2&&Pe.push(":enabled",":disabled"),$e.appendChild(hn).disabled=!0,hn.querySelectorAll(":disabled").length!==2&&Pe.push(":enabled",":disabled"),hn.querySelectorAll("*,:x"),Pe.push(",.*:")})),(zn.matchesSelector=xs.test(Ct=$e.matches||$e.webkitMatchesSelector||$e.mozMatchesSelector||$e.oMatchesSelector||$e.msMatchesSelector))&&M(function(hn){zn.disconnectedMatch=Ct.call(hn,"*"),Ct.call(hn,"[s!='']:x"),mt.push("!=",Ca)}),Pe=Pe.length&&new RegExp(Pe.join("|")),mt=mt.length&&new RegExp(mt.join("|")),Mt=xs.test($e.compareDocumentPosition),kt=Mt||xs.test($e.contains)?function(pn,bn){var Wn=pn.nodeType===9?pn.documentElement:pn,Dn=bn&&bn.parentNode;return pn===Dn||!!(Dn&&Dn.nodeType===1&&(Wn.contains?Wn.contains(Dn):pn.compareDocumentPosition&&pn.compareDocumentPosition(Dn)&16))}:function(hn,pn){if(pn){for(;pn=pn.parentNode;)if(pn===hn)return!0}return!1},po=Mt?function(pn,bn){if(pn===bn)return tr=!0,0;var Wn=!pn.compareDocumentPosition-!bn.compareDocumentPosition;return Wn||(Wn=(pn.ownerDocument||pn)==(bn.ownerDocument||bn)?pn.compareDocumentPosition(bn):1,Wn&1||!zn.sortDetached&&bn.compareDocumentPosition(pn)===Wn?pn==In||pn.ownerDocument==vn&&kt(vn,pn)?-1:bn==In||bn.ownerDocument==vn&&kt(vn,bn)?1:yr?no(yr,pn)-no(yr,bn):0:Wn&4?-1:1)}:function(hn,pn){if(hn===pn)return tr=!0,0;var bn,Wn=0,Dn=hn.parentNode,er=pn.parentNode,fr=[hn],pr=[pn];if(!Dn||!er)return hn==In?-1:pn==In?1:Dn?-1:er?1:yr?no(yr,hn)-no(yr,pn):0;if(Dn===er)return U(hn,pn);for(bn=hn;bn=bn.parentNode;)fr.unshift(bn);for(bn=pn;bn=bn.parentNode;)pr.unshift(bn);for(;fr[Wn]===pr[Wn];)Wn++;return Wn?U(fr[Wn],pr[Wn]):fr[Wn]==vn?-1:pr[Wn]==vn?1:0}),In},k.matches=function(nn,xt){return k(nn,null,null,xt)},k.matchesSelector=function(nn,xt){if(Kn(nn),zn.matchesSelector&&ge&&!Mo[xt+" "]&&(!mt||!mt.test(xt))&&(!Pe||!Pe.test(xt)))try{var Mt=Ct.call(nn,xt);if(Mt||zn.disconnectedMatch||nn.document&&nn.document.nodeType!==11)return Mt}catch(Yt){Mo(xt,!0)}return k(xt,In,null,[nn]).length>0},k.contains=function(nn,xt){return(nn.ownerDocument||nn)!=In&&Kn(nn),kt(nn,xt)},k.attr=function(nn,xt){(nn.ownerDocument||nn)!=In&&Kn(nn);var Mt=jn.attrHandle[xt.toLowerCase()],Yt=Mt&&hl.call(jn.attrHandle,xt.toLowerCase())?Mt(nn,xt,!ge):void 0;return Yt!==void 0?Yt:zn.attributes||!ge?nn.getAttribute(xt):(Yt=nn.getAttributeNode(xt))&&Yt.specified?Yt.value:null},k.escape=function(nn){return(nn+"").replace(vl,Ss)},k.error=function(nn){throw new Error("Syntax error, unrecognized expression: "+nn)},k.uniqueSort=function(nn){var xt,Mt=[],Yt=0,xn=0;if(tr=!zn.detectDuplicates,yr=!zn.sortStable&&nn.slice(0),nn.sort(po),tr){for(;xt=nn[xn++];)xt===nn[xn]&&(Yt=Mt.push(xn));for(;Yt--;)nn.splice(Mt[Yt],1)}return yr=null,nn},Zn=k.getText=function(nn){var xt,Mt="",Yt=0,xn=nn.nodeType;if(xn){if(xn===1||xn===9||xn===11){if(typeof nn.textContent=="string")return nn.textContent;for(nn=nn.firstChild;nn;nn=nn.nextSibling)Mt+=Zn(nn)}else if(xn===3||xn===4)return nn.nodeValue}else for(;xt=nn[Yt++];)Mt+=Zn(xt);return Mt},jn=k.selectors={cacheLength:50,createPseudo:I,match:ks,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(xt){return xt[1]=xt[1].replace(io,oo),xt[3]=(xt[3]||xt[4]||xt[5]||"").replace(io,oo),xt[2]==="~="&&(xt[3]=" "+xt[3]+" "),xt.slice(0,4)},CHILD:function(xt){return xt[1]=xt[1].toLowerCase(),xt[1].slice(0,3)==="nth"?(xt[3]||k.error(xt[0]),xt[4]=+(xt[4]?xt[5]+(xt[6]||1):2*(xt[3]==="even"||xt[3]==="odd")),xt[5]=+(xt[7]+xt[8]||xt[3]==="odd")):xt[3]&&k.error(xt[0]),xt},PSEUDO:function(xt){var Mt,Yt=!xt[6]&&xt[2];return ks.CHILD.test(xt[0])?null:(xt[3]?xt[2]=xt[4]||xt[5]||"":Yt&&Zc.test(Yt)&&(Mt=ar(Yt,!0))&&(Mt=Yt.indexOf(")",Yt.length-Mt)-Yt.length)&&(xt[0]=xt[0].slice(0,Mt),xt[2]=Yt.slice(0,Mt)),xt.slice(0,3))}},filter:{TAG:function(xt){var Mt=xt.replace(io,oo).toLowerCase();return xt==="*"?function(){return!0}:function(Yt){return Yt.nodeName&&Yt.nodeName.toLowerCase()===Mt}},CLASS:function(xt){var Mt=Jn[xt+" "];return Mt||(Mt=new RegExp("(^|"+Mr+")"+xt+"("+Mr+"|$)"))&&Jn(xt,function(Yt){return Mt.test(typeof Yt.className=="string"&&Yt.className||_typeof(Yt.getAttribute)<"u"&&Yt.getAttribute("class")||"")})},ATTR:function(xt,Mt,Yt){return function(xn){var hn=k.attr(xn,xt);return hn==null?Mt==="!=":Mt?(hn+="",Mt==="="?hn===Yt:Mt==="!="?hn!==Yt:Mt==="^="?Yt&&hn.indexOf(Yt)===0:Mt==="*="?Yt&&hn.indexOf(Yt)>-1:Mt==="$="?Yt&&hn.slice(-Yt.length)===Yt:Mt==="~="?(" "+hn.replace(_s," ")+" ").indexOf(Yt)>-1:Mt==="|="?hn===Yt||hn.slice(0,Yt.length+1)===Yt+"-":!1):!0}},CHILD:function(xt,Mt,Yt,xn,hn){var pn=xt.slice(0,3)!=="nth",bn=xt.slice(-4)!=="last",Wn=Mt==="of-type";return xn===1&&hn===0?function(Dn){return!!Dn.parentNode}:function(Dn,er,fr){var pr,Rr,Lr,wr,Xr,Di,Er=pn!==bn?"nextSibling":"previousSibling",na=Dn.parentNode,ml=Wn&&Dn.nodeName.toLowerCase(),Oa=!fr&&!Wn,$i=!1;if(na){if(pn){for(;Er;){for(wr=Dn;wr=wr[Er];)if(Wn?wr.nodeName.toLowerCase()===ml:wr.nodeType===1)return!1;Di=Er=xt==="only"&&!Di&&"nextSibling"}return!0}if(Di=[bn?na.firstChild:na.lastChild],bn&&Oa){for(wr=na,Lr=wr[Gt]||(wr[Gt]={}),Rr=Lr[wr.uniqueID]||(Lr[wr.uniqueID]={}),pr=Rr[xt]||[],Xr=pr[0]===An&&pr[1],$i=Xr&&pr[2],wr=Xr&&na.childNodes[Xr];wr=++Xr&&wr&&wr[Er]||($i=Xr=0)||Di.pop();)if(wr.nodeType===1&&++$i&&wr===Dn){Rr[xt]=[An,Xr,$i];break}}else if(Oa&&(wr=Dn,Lr=wr[Gt]||(wr[Gt]={}),Rr=Lr[wr.uniqueID]||(Lr[wr.uniqueID]={}),pr=Rr[xt]||[],Xr=pr[0]===An&&pr[1],$i=Xr),$i===!1)for(;(wr=++Xr&&wr&&wr[Er]||($i=Xr=0)||Di.pop())&&!((Wn?wr.nodeName.toLowerCase()===ml:wr.nodeType===1)&&++$i&&(Oa&&(Lr=wr[Gt]||(wr[Gt]={}),Rr=Lr[wr.uniqueID]||(Lr[wr.uniqueID]={}),Rr[xt]=[An,$i]),wr===Dn)););return $i-=hn,$i===xn||$i%xn===0&&$i/xn>=0}}},PSEUDO:function(xt,Mt){var Yt,xn=jn.pseudos[xt]||jn.setFilters[xt.toLowerCase()]||k.error("unsupported pseudo: "+xt);return xn[Gt]?xn(Mt):xn.length>1?(Yt=[xt,xt,"",Mt],jn.setFilters.hasOwnProperty(xt.toLowerCase())?I(function(hn,pn){for(var bn,Wn=xn(hn,Mt),Dn=Wn.length;Dn--;)bn=no(hn,Wn[Dn]),hn[bn]=!(pn[bn]=Wn[Dn])}):function(hn){return xn(hn,0,Yt)}):xn}},pseudos:{not:I(function(nn){var xt=[],Mt=[],Yt=Hn(nn.replace(Do,"$1"));return Yt[Gt]?I(function(xn,hn,pn,bn){for(var Wn,Dn=Yt(xn,null,bn,[]),er=xn.length;er--;)(Wn=Dn[er])&&(xn[er]=!(hn[er]=Wn))}):function(xn,hn,pn){return xt[0]=xn,Yt(xt,null,pn,Mt),xt[0]=null,!Mt.pop()}}),has:I(function(nn){return function(xt){return k(nn,xt).length>0}}),contains:I(function(nn){return nn=nn.replace(io,oo),function(xt){return(xt.textContent||Zn(xt)).indexOf(nn)>-1}}),lang:I(function(nn){return pl.test(nn||"")||k.error("unsupported lang: "+nn),nn=nn.replace(io,oo).toLowerCase(),function(xt){var Mt;do if(Mt=ge?xt.lang:xt.getAttribute("xml:lang")||xt.getAttribute("lang"))return Mt=Mt.toLowerCase(),Mt===nn||Mt.indexOf(nn+"-")===0;while((xt=xt.parentNode)&&xt.nodeType===1);return!1}}),target:function(xt){var Mt=z.location&&z.location.hash;return Mt&&Mt.slice(1)===xt.id},root:function(xt){return xt===$e},focus:function(xt){return xt===In.activeElement&&(!In.hasFocus||In.hasFocus())&&!!(xt.type||xt.href||~xt.tabIndex)},enabled:we(!1),disabled:we(!0),checked:function(xt){var Mt=xt.nodeName.toLowerCase();return Mt==="input"&&!!xt.checked||Mt==="option"&&!!xt.selected},selected:function(xt){return xt.parentNode&&xt.parentNode.selectedIndex,xt.selected===!0},empty:function(xt){for(xt=xt.firstChild;xt;xt=xt.nextSibling)if(xt.nodeType<6)return!1;return!0},parent:function(xt){return!jn.pseudos.empty(xt)},header:function(xt){return Ii.test(xt.nodeName)},input:function(xt){return Gy.test(xt.nodeName)},button:function(xt){var Mt=xt.nodeName.toLowerCase();return Mt==="input"&&xt.type==="button"||Mt==="button"},text:function(xt){var Mt;return xt.nodeName.toLowerCase()==="input"&&xt.type==="text"&&((Mt=xt.getAttribute("type"))==null||Mt.toLowerCase()==="text")},first:lt(function(){return[0]}),last:lt(function(nn,xt){return[xt-1]}),eq:lt(function(nn,xt,Mt){return[Mt<0?Mt+xt:Mt]}),even:lt(function(nn,xt){for(var Mt=0;Mt<xt;Mt+=2)nn.push(Mt);return nn}),odd:lt(function(nn,xt){for(var Mt=1;Mt<xt;Mt+=2)nn.push(Mt);return nn}),lt:lt(function(nn,xt,Mt){for(var Yt=Mt<0?Mt+xt:Mt>xt?xt:Mt;--Yt>=0;)nn.push(Yt);return nn}),gt:lt(function(nn,xt,Mt){for(var Yt=Mt<0?Mt+xt:Mt;++Yt<xt;)nn.push(Yt);return nn})}},jn.pseudos.nth=jn.pseudos.eq;for(kn in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})jn.pseudos[kn]=le(kn);for(kn in{submit:!0,reset:!0})jn.pseudos[kn]=Oe(kn);zt.prototype=jn.filters=jn.pseudos,jn.setFilters=new zt,ar=k.tokenize=function(xt,Mt){var Yt,xn,hn,pn,bn,Wn,Dn,er=ur[xt+" "];if(er)return Mt?0:er.slice(0);for(bn=xt,Wn=[],Dn=jn.preFilter;bn;){(!Yt||(xn=Qc.exec(bn)))&&(xn&&(bn=bn.slice(xn[0].length)||bn),Wn.push(hn=[])),Yt=!1,(xn=Ou.exec(bn))&&(Yt=xn.shift(),hn.push({value:Yt,type:xn[0].replace(Do," ")}),bn=bn.slice(Yt.length));for(pn in jn.filter)(xn=ks[pn].exec(bn))&&(!Dn[pn]||(xn=Dn[pn](xn)))&&(Yt=xn.shift(),hn.push({value:Yt,type:pn,matches:xn}),bn=bn.slice(Yt.length));if(!Yt)break}return Mt?bn.length:bn?k.error(xt):ur(xt,Wn).slice(0)};function td(nn,xt,Mt,Yt,xn,hn){return Yt&&!Yt[Gt]&&(Yt=td(Yt)),xn&&!xn[Gt]&&(xn=td(xn,hn)),I(function(pn,bn,Wn,Dn){var er,fr,pr,Rr=[],Lr=[],wr=bn.length,Xr=pn||ln(xt||"*",Wn.nodeType?[Wn]:Wn,[]),Di=nn&&(pn||!xt)?yn(Xr,Rr,nn,Wn,Dn):Xr,Er=Mt?xn||(pn?nn:wr||Yt)?[]:bn:Di;if(Mt&&Mt(Di,Er,Wn,Dn),Yt)for(er=yn(Er,Lr),Yt(er,[],Wn,Dn),fr=er.length;fr--;)(pr=er[fr])&&(Er[Lr[fr]]=!(Di[Lr[fr]]=pr));if(pn){if(xn||nn){if(xn){for(er=[],fr=Er.length;fr--;)(pr=Er[fr])&&er.push(Di[fr]=pr);xn(null,Er=[],er,Dn)}for(fr=Er.length;fr--;)(pr=Er[fr])&&(er=xn?no(pn,pr):Rr[fr])>-1&&(pn[er]=!(bn[er]=pr))}}else Er=yn(Er===bn?Er.splice(wr,Er.length):Er),xn?xn(null,bn,Er,Dn):Yi.apply(bn,Er)})}function ta(nn){for(var xt,Mt,Yt,xn=nn.length,hn=jn.relative[nn[0].type],pn=hn||jn.relative[" "],bn=hn?1:0,Wn=jt(function(fr){return fr===xt},pn,!0),Dn=jt(function(fr){return no(xt,fr)>-1},pn,!0),er=[function(fr,pr,Rr){var Lr=!hn&&(Rr||pr!==or)||((xt=pr).nodeType?Wn(fr,pr,Rr):Dn(fr,pr,Rr));return xt=null,Lr}];bn<xn;bn++)if(Mt=jn.relative[nn[bn].type])er=[jt(fn(er),Mt)];else{if(Mt=jn.filter[nn[bn].type].apply(null,nn[bn].matches),Mt[Gt]){for(Yt=++bn;Yt<xn&&!jn.relative[nn[Yt].type];Yt++);return td(bn>1&&fn(er),bn>1&&Vt(nn.slice(0,bn-1).concat({value:nn[bn-2].type===" "?"*":""})).replace(Do,"$1"),Mt,bn<Yt&&ta(nn.slice(bn,Yt)),Yt<xn&&ta(nn=nn.slice(Yt)),Yt<xn&&Vt(nn))}er.push(Mt)}return fn(er)}return Hn=k.compile=function(xt,Mt){var Yt,xn=[],hn=[],pn=_o[xt+" "];if(!pn){for(Mt||(Mt=ar(xt)),Yt=Mt.length;Yt--;)pn=ta(Mt[Yt]),pn[Gt]?xn.push(pn):hn.push(pn);pn=_o(xt,qn(hn,xn)),pn.selector=xt}return pn},ir=k.select=function(xt,Mt,Yt,xn){var hn,pn,bn,Wn,Dn,er=typeof xt=="function"&&xt,fr=!xn&&ar(xt=er.selector||xt);if(Yt=Yt||[],fr.length===1){if(pn=fr[0]=fr[0].slice(0),pn.length>2&&(bn=pn[0]).type==="ID"&&Mt.nodeType===9&&ge&&jn.relative[pn[1].type]){if(Mt=(jn.find.ID(bn.matches[0].replace(io,oo),Mt)||[])[0],Mt)er&&(Mt=Mt.parentNode);else return Yt;xt=xt.slice(pn.shift().value.length)}for(hn=ks.needsContext.test(xt)?0:pn.length;hn--&&(bn=pn[hn],!jn.relative[Wn=bn.type]);)if((Dn=jn.find[Wn])&&(xn=Dn(bn.matches[0].replace(io,oo),ed.test(pn[0].type)&&St(Mt.parentNode)||Mt))){if(pn.splice(hn,1),xt=xn.length&&Vt(pn),!xt)return Yi.apply(Yt,xn),Yt;break}}return(er||Hn(xt,fr))(xn,Mt,!ge,Yt,!Mt||ed.test(xt)&&St(Mt.parentNode)||Mt),Yt},zn.sortStable=Gt.split("").sort(po).join("")===Gt,zn.detectDuplicates=!!tr,Kn(),zn.sortDetached=M(function(nn){return nn.compareDocumentPosition(In.createElement("fieldset"))&1}),M(function(nn){return nn.innerHTML="<a href='#'></a>",nn.firstChild.getAttribute("href")==="#"})||W("type|href|height|width",function(nn,xt,Mt){if(!Mt)return nn.getAttribute(xt,xt.toLowerCase()==="type"?1:2)}),(!zn.attributes||!M(function(nn){return nn.innerHTML="<input/>",nn.firstChild.setAttribute("value",""),nn.firstChild.getAttribute("value")===""}))&&W("value",function(nn,xt,Mt){if(!Mt&&nn.nodeName.toLowerCase()==="input")return nn.defaultValue}),M(function(nn){return nn.getAttribute("disabled")==null})||W(Ro,function(nn,xt,Mt){var Yt;if(!Mt)return nn[xt]===!0?xt.toLowerCase():(Yt=nn.getAttributeNode(xt))&&Yt.specified?Yt.value:null}),k}(n);N.find=We,N.expr=We.selectors,N.expr[":"]=N.expr.pseudos,N.uniqueSort=N.unique=We.uniqueSort,N.text=We.getText,N.isXMLDoc=We.isXML,N.contains=We.contains,N.escapeSelector=We.escape;var Ie=function(k,O,I){for(var M=[],W=I!==void 0;(k=k[O])&&k.nodeType!==9;)if(k.nodeType===1){if(W&&N(k).is(I))break;M.push(k)}return M},et=function(k,O){for(var I=[];k;k=k.nextSibling)k.nodeType===1&&k!==O&&I.push(k);return I},L=N.expr.match.needsContext,ue=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;N.filter=function(z,k,O){var I=k[0];return O&&(z=":not("+z+")"),k.length===1&&I.nodeType===1?N.find.matchesSelector(I,z)?[I]:[]:N.find.matches(z,N.grep(k,function(M){return M.nodeType===1}))},N.fn.extend({find:function(k){var O,I,M=this.length,W=this;if(typeof k!="string")return this.pushStack(N(k).filter(function(){for(O=0;O<M;O++)if(N.contains(W[O],this))return!0}));for(I=this.pushStack([]),O=0;O<M;O++)N.find(k,W[O],I);return M>1?N.uniqueSort(I):I},filter:function(k){return this.pushStack(d(this,k||[],!1))},not:function(k){return this.pushStack(d(this,k||[],!0))},is:function(k){return!!d(this,typeof k=="string"&&L.test(k)?N(k):k||[],!1).length}});var ce,pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,he=N.fn.init=function(k,O,I){var M,W;if(!k)return this;if(I=I||ce,typeof k=="string")if(k[0]==="<"&&k[k.length-1]===">"&&k.length>=3?M=[null,k,null]:M=pe.exec(k),M&&(M[1]||!O))if(M[1]){if(O=_instanceof(O,N)?O[0]:O,N.merge(this,N.parseHTML(M[1],O&&O.nodeType?O.ownerDocument||O:_t,!0)),ue.test(M[1])&&N.isPlainObject(O))for(M in O)bt(this[M])?this[M](O[M]):this.attr(M,O[M]);return this}else return W=_t.getElementById(M[2]),W&&(this[0]=W,this.length=1),this;else return!O||O.jquery?(O||I).find(k):this.constructor(O).find(k);else{if(k.nodeType)return this[0]=k,this.length=1,this;if(bt(k))return I.ready!==void 0?I.ready(k):k(N)}return N.makeArray(k,this)};he.prototype=N.fn,ce=N(_t);var Q=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({has:function(k){var O=N(k,this),I=O.length;return this.filter(function(){for(var M=0;M<I;M++)if(N.contains(this,O[M]))return!0})},closest:function(k,O){var I,M=0,W=this.length,U=[],le=typeof k!="string"&&N(k);if(!L.test(k)){for(;M<W;M++)for(I=this[M];I&&I!==O;I=I.parentNode)if(I.nodeType<11&&(le?le.index(I)>-1:I.nodeType===1&&N.find.matchesSelector(I,k))){U.push(I);break}}return this.pushStack(U.length>1?N.uniqueSort(U):U)},index:function(k){return k?typeof k=="string"?at.call(N(k),this[0]):at.call(this,k.jquery?k[0]:k):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(k,O){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(k,O))))},addBack:function(k){return this.add(k==null?this.prevObject:this.prevObject.filter(k))}}),N.each({parent:function(k){var O=k.parentNode;return O&&O.nodeType!==11?O:null},parents:function(k){return Ie(k,"parentNode")},parentsUntil:function(k,O,I){return Ie(k,"parentNode",I)},next:function(k){return c(k,"nextSibling")},prev:function(k){return c(k,"previousSibling")},nextAll:function(k){return Ie(k,"nextSibling")},prevAll:function(k){return Ie(k,"previousSibling")},nextUntil:function(k,O,I){return Ie(k,"nextSibling",I)},prevUntil:function(k,O,I){return Ie(k,"previousSibling",I)},siblings:function(k){return et((k.parentNode||{}).firstChild,k)},children:function(k){return et(k.firstChild)},contents:function(k){return k.contentDocument!=null&&Ye(k.contentDocument)?k.contentDocument:(r(k,"template")&&(k=k.content||k),N.merge([],k.childNodes))}},function(z,k){N.fn[z]=function(O,I){var M=N.map(this,k,O);return z.slice(-5)!=="Until"&&(I=O),I&&typeof I=="string"&&(M=N.filter(I,M)),this.length>1&&(be[z]||N.uniqueSort(M),Q.test(z)&&M.reverse()),this.pushStack(M)}});var Ce=/[^\x20\t\r\n\f]+/g;N.Callbacks=function(z){z=typeof z=="string"?h(z):N.extend({},z);var k,O,I,M,W=[],U=[],le=-1,Oe=function(){for(M=M||z.once,I=k=!0;U.length;le=-1)for(O=U.shift();++le<W.length;)W[le].apply(O[0],O[1])===!1&&z.stopOnFalse&&(le=W.length,O=!1);z.memory||(O=!1),k=!1,M&&(O?W=[]:W="")},we={add:function(){return W&&(O&&!k&&(le=W.length-1,U.push(O)),function St(zt){N.each(zt,function(Vt,jt){bt(jt)?(!z.unique||!we.has(jt))&&W.push(jt):jt&&jt.length&&l(jt)!=="string"&&St(jt)})}(arguments),O&&!k&&Oe()),this},remove:function(){return N.each(arguments,function(St,zt){for(var Vt;(Vt=N.inArray(zt,W,Vt))>-1;)W.splice(Vt,1),Vt<=le&&le--}),this},has:function(St){return St?N.inArray(St,W)>-1:W.length>0},empty:function(){return W&&(W=[]),this},disable:function(){return M=U=[],W=O="",this},disabled:function(){return!W},lock:function(){return M=U=[],!O&&!k&&(W=O=""),this},locked:function(){return!!M},fireWith:function(St,zt){return M||(zt=zt||[],zt=[St,zt.slice?zt.slice():zt],U.push(zt),k||Oe()),this},fire:function(){return we.fireWith(this,arguments),this},fired:function(){return!!I}};return we},N.extend({Deferred:function(k){var O=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],I="pending",M={state:function(){return I},always:function(){return W.done(arguments).fail(arguments),this},catch:function(le){return M.then(null,le)},pipe:function(){var le=arguments;return N.Deferred(function(Oe){N.each(O,function(we,lt){var St=bt(le[lt[4]])&&le[lt[4]];W[lt[1]](function(){var zt=St&&St.apply(this,arguments);zt&&bt(zt.promise)?zt.promise().progress(Oe.notify).done(Oe.resolve).fail(Oe.reject):Oe[lt[0]+"With"](this,St?[zt]:arguments)})}),le=null}).promise()},then:function(le,Oe,we){var lt=0;function St(zt,Vt,jt,fn){return function(){var ln=this,yn=arguments,qn=function(){var jn,Zn;if(!(zt<lt)){if(jn=jt.apply(ln,yn),jn===Vt.promise())throw new TypeError("Thenable self-resolution");Zn=jn&&(typeof jn=="object"||typeof jn=="function")&&jn.then,bt(Zn)?fn?Zn.call(jn,St(lt,Vt,f,fn),St(lt,Vt,v,fn)):(lt++,Zn.call(jn,St(lt,Vt,f,fn),St(lt,Vt,v,fn),St(lt,Vt,f,Vt.notifyWith))):(jt!==f&&(ln=void 0,yn=[jn]),(fn||Vt.resolveWith)(ln,yn))}},kn=fn?qn:function(){try{qn()}catch(zn){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(zn,kn.stackTrace),zt+1>=lt&&(jt!==v&&(ln=void 0,yn=[zn]),Vt.rejectWith(ln,yn))}};zt?kn():(N.Deferred.getStackHook&&(kn.stackTrace=N.Deferred.getStackHook()),n.setTimeout(kn))}}return N.Deferred(function(zt){O[0][3].add(St(0,zt,bt(we)?we:f,zt.notifyWith)),O[1][3].add(St(0,zt,bt(le)?le:f)),O[2][3].add(St(0,zt,bt(Oe)?Oe:v))}).promise()},promise:function(le){return le!=null?N.extend(le,M):M}},W={};return N.each(O,function(U,le){var Oe=le[2],we=le[5];M[le[1]]=Oe.add,we&&Oe.add(function(){I=we},O[3-U][2].disable,O[3-U][3].disable,O[0][2].lock,O[0][3].lock),Oe.add(le[3].fire),W[le[0]]=function(){return W[le[0]+"With"](this===W?void 0:this,arguments),this},W[le[0]+"With"]=Oe.fireWith}),M.promise(W),k&&k.call(W,W),W},when:function(k){var O=arguments.length,I=O,M=Array(I),W=Te.call(arguments),U=N.Deferred(),le=function(we){return function(lt){M[we]=this,W[we]=arguments.length>1?Te.call(arguments):lt,--O||U.resolveWith(M,W)}};if(O<=1&&(x(k,U.done(le(I)).resolve,U.reject,!O),U.state()==="pending"||bt(W[I]&&W[I].then)))return U.then();for(;I--;)x(W[I],le(I),U.reject);return U.promise()}});var xe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(z,k){n.console&&n.console.warn&&z&&xe.test(z.name)&&n.console.warn("jQuery.Deferred exception: "+z.message,z.stack,k)},N.readyException=function(z){n.setTimeout(function(){throw z})};var Ge=N.Deferred();N.fn.ready=function(z){return Ge.then(z).catch(function(k){N.readyException(k)}),this},N.extend({isReady:!1,readyWait:1,ready:function(k){(k===!0?--N.readyWait:N.isReady)||(N.isReady=!0,!(k!==!0&&--N.readyWait>0)&&Ge.resolveWith(_t,[N]))}}),N.ready.then=Ge.then;function Be(){_t.removeEventListener("DOMContentLoaded",Be),n.removeEventListener("load",Be),N.ready()}_t.readyState==="complete"||_t.readyState!=="loading"&&!_t.documentElement.doScroll?n.setTimeout(N.ready):(_t.addEventListener("DOMContentLoaded",Be),n.addEventListener("load",Be));var Ke=function(z,k,O,I,M,W,U){var le=0,Oe=z.length,we=O==null;if(l(O)==="object"){M=!0;for(le in O)Ke(z,k,le,O[le],!0,W,U)}else if(I!==void 0&&(M=!0,bt(I)||(U=!0),we&&(U?(k.call(z,I),k=null):(we=k,k=function(St,zt,Vt){return we.call(N(St),Vt)})),k))for(;le<Oe;le++)k(z[le],O,U?I:I.call(z[le],le,k(z[le],O)));return M?z:we?k.call(z):Oe?k(z[0],O):W},Pt=/^-ms-/,At=/-([a-z])/g,Et=function(k){return k.nodeType===1||k.nodeType===9||!+k.nodeType};function Jt(){this.expando=N.expando+Jt.uid++}Jt.uid=1,Jt.prototype={cache:function(k){var O=k[this.expando];return O||(O={},Et(k)&&(k.nodeType?k[this.expando]=O:Object.defineProperty(k,this.expando,{value:O,configurable:!0}))),O},set:function(k,O,I){var M,W=this.cache(k);if(typeof O=="string")W[b(O)]=I;else for(M in O)W[b(M)]=O[M];return W},get:function(k,O){return O===void 0?this.cache(k):k[this.expando]&&k[this.expando][b(O)]},access:function(k,O,I){return O===void 0||O&&typeof O=="string"&&I===void 0?this.get(k,O):(this.set(k,O,I),I!==void 0?I:O)},remove:function(k,O){var I,M=k[this.expando];if(M!==void 0){if(O!==void 0)for(Array.isArray(O)?O=O.map(b):(O=b(O),O=O in M?[O]:O.match(Ce)||[]),I=O.length;I--;)delete M[O[I]];(O===void 0||N.isEmptyObject(M))&&(k.nodeType?k[this.expando]=void 0:delete k[this.expando])}},hasData:function(k){var O=k[this.expando];return O!==void 0&&!N.isEmptyObject(O)}};var Dt=new Jt,Ht=new Jt,Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qt=/[A-Z]/g;N.extend({hasData:function(k){return Ht.hasData(k)||Dt.hasData(k)},data:function(k,O,I){return Ht.access(k,O,I)},removeData:function(k,O){Ht.remove(k,O)},_data:function(k,O,I){return Dt.access(k,O,I)},_removeData:function(k,O){Dt.remove(k,O)}}),N.fn.extend({data:function(k,O){var I,M,W,U=this[0],le=U&&U.attributes;if(k===void 0){if(this.length&&(W=Ht.get(U),U.nodeType===1&&!Dt.get(U,"hasDataAttrs"))){for(I=le.length;I--;)le[I]&&(M=le[I].name,M.indexOf("data-")===0&&(M=b(M.slice(5)),P(U,M,W[M])));Dt.set(U,"hasDataAttrs",!0)}return W}return typeof k=="object"?this.each(function(){Ht.set(this,k)}):Ke(this,function(Oe){var we;if(U&&Oe===void 0)return we=Ht.get(U,k),we!==void 0||(we=P(U,k),we!==void 0)?we:void 0;this.each(function(){Ht.set(this,k,Oe)})},null,O,arguments.length>1,null,!0)},removeData:function(k){return this.each(function(){Ht.remove(this,k)})}}),N.extend({queue:function(k,O,I){var M;if(k)return O=(O||"fx")+"queue",M=Dt.get(k,O),I&&(!M||Array.isArray(I)?M=Dt.access(k,O,N.makeArray(I)):M.push(I)),M||[]},dequeue:function(k,O){O=O||"fx";var I=N.queue(k,O),M=I.length,W=I.shift(),U=N._queueHooks(k,O),le=function(){N.dequeue(k,O)};W==="inprogress"&&(W=I.shift(),M--),W&&(O==="fx"&&I.unshift("inprogress"),delete U.stop,W.call(k,le,U)),!M&&U&&U.empty.fire()},_queueHooks:function(k,O){var I=O+"queueHooks";return Dt.get(k,I)||Dt.access(k,I,{empty:N.Callbacks("once memory").add(function(){Dt.remove(k,[O+"queue",I])})})}}),N.fn.extend({queue:function(k,O){var I=2;return typeof k!="string"&&(O=k,k="fx",I--),arguments.length<I?N.queue(this[0],k):O===void 0?this:this.each(function(){var M=N.queue(this,k,O);N._queueHooks(this,k),k==="fx"&&M[0]!=="inprogress"&&N.dequeue(this,k)})},dequeue:function(k){return this.each(function(){N.dequeue(this,k)})},clearQueue:function(k){return this.queue(k||"fx",[])},promise:function(k,O){var I,M=1,W=N.Deferred(),U=this,le=this.length,Oe=function(){--M||W.resolveWith(U,[U])};for(typeof k!="string"&&(O=k,k=void 0),k=k||"fx";le--;)I=Dt.get(U[le],k+"queueHooks"),I&&I.empty&&(M++,I.empty.add(Oe));return Oe(),W.promise(O)}});var Zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,un=new RegExp("^(?:([+-])=|)("+Zt+")([a-z%]*)$","i"),Rt=["Top","Right","Bottom","Left"],rn=_t.documentElement,Qt=function(k){return N.contains(k.ownerDocument,k)},Tn={composed:!0};rn.getRootNode&&(Qt=function(k){return N.contains(k.ownerDocument,k)||k.getRootNode(Tn)===k.ownerDocument});var Nt=function(k,O){return k=O||k,k.style.display==="none"||k.style.display===""&&Qt(k)&&N.css(k,"display")==="none"},Me={};N.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(k){return typeof k=="boolean"?k?this.show():this.hide():this.each(function(){Nt(this)?N(this).show():N(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,De=/^$|^module$|\/(?:java|ecma)script/i;(function(){var z=_t.createDocumentFragment(),k=z.appendChild(_t.createElement("div")),O=_t.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),k.appendChild(O),nt.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,k.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!k.cloneNode(!0).lastChild.defaultValue,k.innerHTML="<option></option>",nt.option=!!k.lastChild})();var it={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,nt.option||(it.optgroup=it.option=[1,"<select multiple='multiple'>","</select>"]);var ct=/<|&#?\w+;/,It=/^([^.]*)(?:\.(.+)|)/;function gn(z,k,O,I,M,W){var U,le;if(typeof k=="object"){typeof O!="string"&&(I=I||O,O=void 0);for(le in k)gn(z,le,O,I,k[le],W);return z}if(I==null&&M==null?(M=O,I=O=void 0):M==null&&(typeof O=="string"?(M=I,I=void 0):(M=I,I=O,O=void 0)),M===!1)M=_;else if(!M)return z;return W===1&&(U=M,M=function(we){return N().off(we),U.apply(this,arguments)},M.guid=U.guid||(U.guid=N.guid++)),z.each(function(){N.event.add(this,k,M,I,O)})}N.event={global:{},add:function(k,O,I,M,W){var U,le,Oe,we,lt,St,zt,Vt,jt,fn,ln,yn=Dt.get(k);if(Et(k))for(I.handler&&(U=I,I=U.handler,W=U.selector),W&&N.find.matchesSelector(rn,W),I.guid||(I.guid=N.guid++),(we=yn.events)||(we=yn.events=Object.create(null)),(le=yn.handle)||(le=yn.handle=function(kn){return(typeof N=="undefined"?"undefined":_typeof(N))<"u"&&N.event.triggered!==kn.type?N.event.dispatch.apply(k,arguments):void 0}),O=(O||"").match(Ce)||[""],lt=O.length;lt--;)Oe=It.exec(O[lt])||[],jt=ln=Oe[1],fn=(Oe[2]||"").split(".").sort(),jt&&(zt=N.event.special[jt]||{},jt=(W?zt.delegateType:zt.bindType)||jt,zt=N.event.special[jt]||{},St=N.extend({type:jt,origType:ln,data:M,handler:I,guid:I.guid,selector:W,needsContext:W&&N.expr.match.needsContext.test(W),namespace:fn.join(".")},U),(Vt=we[jt])||(Vt=we[jt]=[],Vt.delegateCount=0,(!zt.setup||zt.setup.call(k,M,fn,le)===!1)&&k.addEventListener&&k.addEventListener(jt,le)),zt.add&&(zt.add.call(k,St),St.handler.guid||(St.handler.guid=I.guid)),W?Vt.splice(Vt.delegateCount++,0,St):Vt.push(St),N.event.global[jt]=!0)},remove:function(k,O,I,M,W){var U,le,Oe,we,lt,St,zt,Vt,jt,fn,ln,yn=Dt.hasData(k)&&Dt.get(k);if(!(!yn||!(we=yn.events))){for(O=(O||"").match(Ce)||[""],lt=O.length;lt--;){if(Oe=It.exec(O[lt])||[],jt=ln=Oe[1],fn=(Oe[2]||"").split(".").sort(),!jt){for(jt in we)N.event.remove(k,jt+O[lt],I,M,!0);continue}for(zt=N.event.special[jt]||{},jt=(M?zt.delegateType:zt.bindType)||jt,Vt=we[jt]||[],Oe=Oe[2]&&new RegExp("(^|\\.)"+fn.join("\\.(?:.*\\.|)")+"(\\.|$)"),le=U=Vt.length;U--;)St=Vt[U],(W||ln===St.origType)&&(!I||I.guid===St.guid)&&(!Oe||Oe.test(St.namespace))&&(!M||M===St.selector||M==="**"&&St.selector)&&(Vt.splice(U,1),St.selector&&Vt.delegateCount--,zt.remove&&zt.remove.call(k,St));le&&!Vt.length&&((!zt.teardown||zt.teardown.call(k,fn,yn.handle)===!1)&&N.removeEvent(k,jt,yn.handle),delete we[jt])}N.isEmptyObject(we)&&Dt.remove(k,"handle events")}},dispatch:function(k){var O,I,M,W,U,le,Oe=new Array(arguments.length),we=N.event.fix(k),lt=(Dt.get(this,"events")||Object.create(null))[we.type]||[],St=N.event.special[we.type]||{};for(Oe[0]=we,O=1;O<arguments.length;O++)Oe[O]=arguments[O];if(we.delegateTarget=this,!(St.preDispatch&&St.preDispatch.call(this,we)===!1)){for(le=N.event.handlers.call(this,we,lt),O=0;(W=le[O++])&&!we.isPropagationStopped();)for(we.currentTarget=W.elem,I=0;(U=W.handlers[I++])&&!we.isImmediatePropagationStopped();)(!we.rnamespace||U.namespace===!1||we.rnamespace.test(U.namespace))&&(we.handleObj=U,we.data=U.data,M=((N.event.special[U.origType]||{}).handle||U.handler).apply(W.elem,Oe),M!==void 0&&(we.result=M)===!1&&(we.preventDefault(),we.stopPropagation()));return St.postDispatch&&St.postDispatch.call(this,we),we.result}},handlers:function(k,O){var I,M,W,U,le,Oe=[],we=O.delegateCount,lt=k.target;if(we&&lt.nodeType&&!(k.type==="click"&&k.button>=1)){for(;lt!==this;lt=lt.parentNode||this)if(lt.nodeType===1&&!(k.type==="click"&&lt.disabled===!0)){for(U=[],le={},I=0;I<we;I++)M=O[I],W=M.selector+" ",le[W]===void 0&&(le[W]=M.needsContext?N(W,this).index(lt)>-1:N.find(W,this,null,[lt]).length),le[W]&&U.push(M);U.length&&Oe.push({elem:lt,handlers:U})}}return lt=this,we<O.length&&Oe.push({elem:lt,handlers:O.slice(we)}),Oe},addProp:function(k,O){Object.defineProperty(N.Event.prototype,k,{enumerable:!0,configurable:!0,get:bt(O)?function(){if(this.originalEvent)return O(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[k]},set:function(M){Object.defineProperty(this,k,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(k){return k[N.expando]?k:new N.Event(k)},special:{load:{noBubble:!0},click:{setup:function(k){var O=this||k;return fe.test(O.type)&&O.click&&r(O,"input")&&D(O,"click",y),!1},trigger:function(k){var O=this||k;return fe.test(O.type)&&O.click&&r(O,"input")&&D(O,"click"),!0},_default:function(k){var O=k.target;return fe.test(O.type)&&O.click&&r(O,"input")&&Dt.get(O,"click")||r(O,"a")}},beforeunload:{postDispatch:function(k){k.result!==void 0&&k.originalEvent&&(k.originalEvent.returnValue=k.result)}}}},N.removeEvent=function(z,k,O){z.removeEventListener&&z.removeEventListener(k,O)},N.Event=function(z,k){if(!_instanceof(this,N.Event))return new N.Event(z,k);z&&z.type?(this.originalEvent=z,this.type=z.type,this.isDefaultPrevented=z.defaultPrevented||z.defaultPrevented===void 0&&z.returnValue===!1?y:_,this.target=z.target&&z.target.nodeType===3?z.target.parentNode:z.target,this.currentTarget=z.currentTarget,this.relatedTarget=z.relatedTarget):this.type=z,k&&N.extend(this,k),this.timeStamp=z&&z.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,isSimulated:!1,preventDefault:function(){var k=this.originalEvent;this.isDefaultPrevented=y,k&&!this.isSimulated&&k.preventDefault()},stopPropagation:function(){var k=this.originalEvent;this.isPropagationStopped=y,k&&!this.isSimulated&&k.stopPropagation()},stopImmediatePropagation:function(){var k=this.originalEvent;this.isImmediatePropagationStopped=y,k&&!this.isSimulated&&k.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},function(z,k){N.event.special[z]={setup:function(){return D(this,z,j),!1},trigger:function(){return D(this,z),!0},_default:function(I){return Dt.get(I.target,z)},delegateType:k}}),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(z,k){N.event.special[z]={delegateType:k,bindType:k,handle:function(I){var M,W=this,U=I.relatedTarget,le=I.handleObj;return(!U||U!==W&&!N.contains(W,U))&&(I.type=le.origType,M=le.handler.apply(this,arguments),I.type=k),M}}}),N.fn.extend({on:function(k,O,I,M){return gn(this,k,O,I,M)},one:function(k,O,I,M){return gn(this,k,O,I,M,1)},off:function(k,O,I){var M,W;if(k&&k.preventDefault&&k.handleObj)return M=k.handleObj,N(k.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof k=="object"){for(W in k)this.off(W,O,k[W]);return this}return(O===!1||typeof O=="function")&&(I=O,O=void 0),I===!1&&(I=_),this.each(function(){N.event.remove(this,k,I,O)})}});var mn=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,$n=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Mn(z,k,O,I){k=rt(k);var M,W,U,le,Oe,we,lt=0,St=z.length,zt=St-1,Vt=k[0],jt=bt(Vt);if(jt||St>1&&typeof Vt=="string"&&!nt.checkClone&&Ut.test(Vt))return z.each(function(fn){var ln=z.eq(fn);jt&&(k[0]=Vt.call(this,fn,ln.html())),Mn(ln,k,O,I)});if(St&&(M=g(k,z[0].ownerDocument,!1,z,I),W=M.firstChild,M.childNodes.length===1&&(M=W),W||I)){for(U=N.map(a(M,"script"),K),le=U.length;lt<St;lt++)Oe=M,lt!==zt&&(Oe=N.clone(Oe,!0,!0),le&&N.merge(U,a(Oe,"script"))),O.call(z[lt],Oe,lt);if(le)for(we=U[U.length-1].ownerDocument,N.map(U,J),lt=0;lt<le;lt++)Oe=U[lt],De.test(Oe.type||"")&&!Dt.access(Oe,"globalEval")&&N.contains(we,Oe)&&(Oe.src&&(Oe.type||"").toLowerCase()!=="module"?N._evalUrl&&!Oe.noModule&&N._evalUrl(Oe.src,{nonce:Oe.nonce||Oe.getAttribute("nonce")},we):u(Oe.textContent.replace($n,""),Oe,we))}return z}N.extend({htmlPrefilter:function(k){return k},clone:function(k,O,I){var M,W,U,le,Oe=k.cloneNode(!0),we=Qt(k);if(!nt.noCloneChecked&&(k.nodeType===1||k.nodeType===11)&&!N.isXMLDoc(k))for(le=a(Oe),U=a(k),M=0,W=U.length;M<W;M++)de(U[M],le[M]);if(O)if(I)for(U=U||a(k),le=le||a(Oe),M=0,W=U.length;M<W;M++)F(U[M],le[M]);else F(k,Oe);return le=a(Oe,"script"),le.length>0&&p(le,!we&&a(k,"script")),Oe},cleanData:function(k){for(var O,I,M,W=N.event.special,U=0;(I=k[U])!==void 0;U++)if(Et(I)){if(O=I[Dt.expando]){if(O.events)for(M in O.events)W[M]?N.event.remove(I,M):N.removeEvent(I,M,O.handle);I[Dt.expando]=void 0}I[Ht.expando]&&(I[Ht.expando]=void 0)}}}),N.fn.extend({detach:function(k){return re(this,k,!0)},remove:function(k){return re(this,k)},text:function(k){return Ke(this,function(O){return O===void 0?N.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=O)})},null,k,arguments.length)},append:function(){return Mn(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=H(this,k);O.appendChild(k)}})},prepend:function(){return Mn(this,arguments,function(k){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var O=H(this,k);O.insertBefore(k,O.firstChild)}})},before:function(){return Mn(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this)})},after:function(){return Mn(this,arguments,function(k){this.parentNode&&this.parentNode.insertBefore(k,this.nextSibling)})},empty:function(){for(var k,O=0;(k=this[O])!=null;O++)k.nodeType===1&&(N.cleanData(a(k,!1)),k.textContent="");return this},clone:function(k,O){return k=k!=null?k:!1,O=O!=null?O:k,this.map(function(){return N.clone(this,k,O)})},html:function(k){return Ke(this,function(O){var I=this[0]||{},M=0,W=this.length;if(O===void 0&&I.nodeType===1)return I.innerHTML;if(typeof O=="string"&&!mn.test(O)&&!it[(Se.exec(O)||["",""])[1].toLowerCase()]){O=N.htmlPrefilter(O);try{for(;M<W;M++)I=this[M]||{},I.nodeType===1&&(N.cleanData(a(I,!1)),I.innerHTML=O);I=0}catch(U){}}I&&this.empty().append(O)},null,k,arguments.length)},replaceWith:function(){var k=[];return Mn(this,arguments,function(O){var I=this.parentNode;N.inArray(this,k)<0&&(N.cleanData(a(this)),I&&I.replaceChild(O,this))},k)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(z,k){N.fn[z]=function(O){for(var I,M=[],W=N(O),U=W.length-1,le=0;le<=U;le++)I=le===U?this:this.clone(!0),N(W[le])[k](I),ht.apply(M,I.get());return this.pushStack(M)}});var yi=new RegExp("^("+Zt+")(?!px)[a-z%]+$","i"),Cr=/^--/,Ti=function(k){var O=k.ownerDocument.defaultView;return(!O||!O.opener)&&(O=n),O.getComputedStyle(k)},Zi=function(k,O,I){var M,W,U={};for(W in O)U[W]=k.style[W],k.style[W]=O[W];M=I.call(k);for(W in O)k.style[W]=U[W];return M},zi=new RegExp(Rt.join("|"),"i"),Ur="[\\x20\\t\\r\\n\\f]",bi=new RegExp("^"+Ur+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ur+"+$","g");(function(){var z=function(){if(we){Oe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",we.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rn.appendChild(Oe).appendChild(we);var St=n.getComputedStyle(we);O=St.top!=="1%",le=k(St.marginLeft)===12,we.style.right="60%",W=k(St.right)===36,I=k(St.width)===36,we.style.position="absolute",M=k(we.offsetWidth/3)===12,rn.removeChild(Oe),we=null}},k=function(St){return Math.round(parseFloat(St))},O,I,M,W,U,le,Oe=_t.createElement("div"),we=_t.createElement("div");we.style&&(we.style.backgroundClip="content-box",we.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle=we.style.backgroundClip==="content-box",N.extend(nt,{boxSizingReliable:function(){return z(),I},pixelBoxStyles:function(){return z(),W},pixelPosition:function(){return z(),O},reliableMarginLeft:function(){return z(),le},scrollboxSize:function(){return z(),M},reliableTrDimensions:function(){var St,zt,Vt,jt;return U==null&&(St=_t.createElement("table"),zt=_t.createElement("tr"),Vt=_t.createElement("div"),St.style.cssText="position:absolute;left:-11111px;border-collapse:separate",zt.style.cssText="border:1px solid",zt.style.height="1px",Vt.style.height="9px",Vt.style.display="block",rn.appendChild(St).appendChild(zt).appendChild(Vt),jt=n.getComputedStyle(zt),U=parseInt(jt.height,10)+parseInt(jt.borderTopWidth,10)+parseInt(jt.borderBottomWidth,10)===zt.offsetHeight,rn.removeChild(St)),U}}))})();var uo=["Webkit","Moz","ms"],Vr=_t.createElement("div").style,si={},ni=/^(none|table(?!-c[ea]).+)/,ft={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};N.extend({cssHooks:{opacity:{get:function(k,O){if(O){var I=V(k,"opacity");return I===""?"1":I}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(k,O,I,M){if(!(!k||k.nodeType===3||k.nodeType===8||!k.style)){var W,U,le,Oe=b(O),we=Cr.test(O),lt=k.style;if(we||(O=G(Oe)),le=N.cssHooks[O]||N.cssHooks[Oe],I!==void 0){if(U=typeof I=="undefined"?"undefined":_typeof(I),U==="string"&&(W=un.exec(I))&&W[1]&&(I=E(k,O,W),U="number"),I==null||I!==I)return;U==="number"&&!we&&(I+=W&&W[3]||(N.cssNumber[Oe]?"":"px")),!nt.clearCloneStyle&&I===""&&O.indexOf("background")===0&&(lt[O]="inherit"),(!le||!("set"in le)||(I=le.set(k,I,M))!==void 0)&&(we?lt.setProperty(O,I):lt[O]=I)}else return le&&"get"in le&&(W=le.get(k,!1,M))!==void 0?W:lt[O]}},css:function(k,O,I,M){var W,U,le,Oe=b(O),we=Cr.test(O);return we||(O=G(Oe)),le=N.cssHooks[O]||N.cssHooks[Oe],le&&"get"in le&&(W=le.get(k,!0,I)),W===void 0&&(W=V(k,O,M)),W==="normal"&&O in Qe&&(W=Qe[O]),I===""||I?(U=parseFloat(W),I===!0||isFinite(U)?U||0:W):W}}),N.each(["height","width"],function(z,k){N.cssHooks[k]={get:function(I,M,W){if(M)return ni.test(N.css(I,"display"))&&(!I.getClientRects().length||!I.getBoundingClientRect().width)?Zi(I,ft,function(){return ae(I,k,W)}):ae(I,k,W)},set:function(I,M,W){var U,le=Ti(I),Oe=!nt.scrollboxSize()&&le.position==="absolute",we=Oe||W,lt=we&&N.css(I,"boxSizing",!1,le)==="border-box",St=W?Z(I,k,W,lt,le):0;return lt&&Oe&&(St-=Math.ceil(I["offset"+k[0].toUpperCase()+k.slice(1)]-parseFloat(le[k])-Z(I,k,"border",!1,le)-.5)),St&&(U=un.exec(M))&&(U[3]||"px")!=="px"&&(I.style[k]=M,M=N.css(I,k)),Y(I,M,St)}}}),N.cssHooks.marginLeft=X(nt.reliableMarginLeft,function(z,k){if(k)return(parseFloat(V(z,"marginLeft"))||z.getBoundingClientRect().left-Zi(z,{marginLeft:0},function(){return z.getBoundingClientRect().left}))+"px"}),N.each({margin:"",padding:"",border:"Width"},function(z,k){N.cssHooks[z+k]={expand:function(I){for(var M=0,W={},U=typeof I=="string"?I.split(" "):[I];M<4;M++)W[z+Rt[M]+k]=U[M]||U[M-2]||U[0];return W}},z!=="margin"&&(N.cssHooks[z+k].set=Y)}),N.fn.extend({css:function(k,O){return Ke(this,function(I,M,W){var U,le,Oe={},we=0;if(Array.isArray(M)){for(U=Ti(I),le=M.length;we<le;we++)Oe[M[we]]=N.css(I,M[we],!1,U);return Oe}return W!==void 0?N.style(I,M,W):N.css(I,M)},k,O,arguments.length>1)}});function gt(z,k,O,I,M){return new gt.prototype.init(z,k,O,I,M)}N.Tween=gt,gt.prototype={constructor:gt,init:function(k,O,I,M,W,U){this.elem=k,this.prop=I,this.easing=W||N.easing._default,this.options=O,this.start=this.now=this.cur(),this.end=M,this.unit=U||(N.cssNumber[I]?"":"px")},cur:function(){var k=gt.propHooks[this.prop];return k&&k.get?k.get(this):gt.propHooks._default.get(this)},run:function(k){var O,I=gt.propHooks[this.prop];return this.options.duration?this.pos=O=N.easing[this.easing](k,this.options.duration*k,0,1,this.options.duration):this.pos=O=k,this.now=(this.end-this.start)*O+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):gt.propHooks._default.set(this),this}},gt.prototype.init.prototype=gt.prototype,gt.propHooks={_default:{get:function(k){var O;return k.elem.nodeType!==1||k.elem[k.prop]!=null&&k.elem.style[k.prop]==null?k.elem[k.prop]:(O=N.css(k.elem,k.prop,""),!O||O==="auto"?0:O)},set:function(k){N.fx.step[k.prop]?N.fx.step[k.prop](k):k.elem.nodeType===1&&(N.cssHooks[k.prop]||k.elem.style[G(k.prop)]!=null)?N.style(k.elem,k.prop,k.now+k.unit):k.elem[k.prop]=k.now}}},gt.propHooks.scrollTop=gt.propHooks.scrollLeft={set:function(k){k.elem.nodeType&&k.elem.parentNode&&(k.elem[k.prop]=k.now)}},N.easing={linear:function(k){return k},swing:function(k){return .5-Math.cos(k*Math.PI)/2},_default:"swing"},N.fx=gt.prototype.init,N.fx.step={};var en,tn,En=/^(?:toggle|show|hide)$/,Gn=/queueHooks$/;function sr(){tn&&(_t.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(sr):n.setTimeout(sr,N.fx.interval),N.fx.tick())}function Sn(z,k,O){var I,M,W=0,U=Sn.prefilters.length,le=N.Deferred().always(function(){delete Oe.elem}),Oe=function(){if(M)return!1;for(var zt=en||ie(),Vt=Math.max(0,we.startTime+we.duration-zt),jt=Vt/we.duration||0,fn=1-jt,ln=0,yn=we.tweens.length;ln<yn;ln++)we.tweens[ln].run(fn);return le.notifyWith(z,[we,fn,Vt]),fn<1&&yn?Vt:(yn||le.notifyWith(z,[we,1,0]),le.resolveWith(z,[we]),!1)},we=le.promise({elem:z,props:N.extend({},k),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},O),originalProperties:k,originalOptions:O,startTime:en||ie(),duration:O.duration,tweens:[],createTween:function(zt,Vt){var jt=N.Tween(z,we.opts,zt,Vt,we.opts.specialEasing[zt]||we.opts.easing);return we.tweens.push(jt),jt},stop:function(zt){var Vt=0,jt=zt?we.tweens.length:0;if(M)return this;for(M=!0;Vt<jt;Vt++)we.tweens[Vt].run(1);return zt?(le.notifyWith(z,[we,1,0]),le.resolveWith(z,[we,zt])):le.rejectWith(z,[we,zt]),this}}),lt=we.props;for(Ze(lt,we.opts.specialEasing);W<U;W++)if(I=Sn.prefilters[W].call(we,z,lt,we.opts),I)return bt(I.stop)&&(N._queueHooks(we.elem,we.opts.queue).stop=I.stop.bind(I)),I;return N.map(lt,Le,we),bt(we.opts.start)&&we.opts.start.call(z,we),we.progress(we.opts.progress).done(we.opts.done,we.opts.complete).fail(we.opts.fail).always(we.opts.always),N.fx.timer(N.extend(Oe,{elem:z,anim:we,queue:we.opts.queue})),we}N.Animation=N.extend(Sn,{tweeners:{"*":[function(z,k){var O=this.createTween(z,k);return E(O.elem,z,un.exec(k),O),O}]},tweener:function(k,O){bt(k)?(O=k,k=["*"]):k=k.match(Ce);for(var I,M=0,W=k.length;M<W;M++)I=k[M],Sn.tweeners[I]=Sn.tweeners[I]||[],Sn.tweeners[I].unshift(O)},prefilters:[ke],prefilter:function(k,O){O?Sn.prefilters.unshift(k):Sn.prefilters.push(k)}}),N.speed=function(z,k,O){var I=z&&typeof z=="object"?N.extend({},z):{complete:O||!O&&k||bt(z)&&z,duration:z,easing:O&&k||k&&!bt(k)&&k};return N.fx.off?I.duration=0:typeof I.duration!="number"&&(I.duration in N.fx.speeds?I.duration=N.fx.speeds[I.duration]:I.duration=N.fx.speeds._default),(I.queue==null||I.queue===!0)&&(I.queue="fx"),I.old=I.complete,I.complete=function(){bt(I.old)&&I.old.call(this),I.queue&&N.dequeue(this,I.queue)},I},N.fn.extend({fadeTo:function(k,O,I,M){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:O},k,I,M)},animate:function(k,O,I,M){var W=N.isEmptyObject(k),U=N.speed(O,I,M),le=function(){var we=Sn(this,N.extend({},k),U);(W||Dt.get(this,"finish"))&&we.stop(!0)};return le.finish=le,W||U.queue===!1?this.each(le):this.queue(U.queue,le)},stop:function(k,O,I){var M=function(U){var le=U.stop;delete U.stop,le(I)};return typeof k!="string"&&(I=O,O=k,k=void 0),O&&this.queue(k||"fx",[]),this.each(function(){var W=!0,U=k!=null&&k+"queueHooks",le=N.timers,Oe=Dt.get(this);if(U)Oe[U]&&Oe[U].stop&&M(Oe[U]);else for(U in Oe)Oe[U]&&Oe[U].stop&&Gn.test(U)&&M(Oe[U]);for(U=le.length;U--;)le[U].elem===this&&(k==null||le[U].queue===k)&&(le[U].anim.stop(I),W=!1,le.splice(U,1));(W||!I)&&N.dequeue(this,k)})},finish:function(k){return k!==!1&&(k=k||"fx"),this.each(function(){var O,I=Dt.get(this),M=I[k+"queue"],W=I[k+"queueHooks"],U=N.timers,le=M?M.length:0;for(I.finish=!0,N.queue(this,k,[]),W&&W.stop&&W.stop.call(this,!0),O=U.length;O--;)U[O].elem===this&&U[O].queue===k&&(U[O].anim.stop(!0),U.splice(O,1));for(O=0;O<le;O++)M[O]&&M[O].finish&&M[O].finish.call(this);delete I.finish})}}),N.each(["toggle","show","hide"],function(z,k){var O=N.fn[k];N.fn[k]=function(I,M,W){return I==null||typeof I=="boolean"?O.apply(this,arguments):this.animate(je(k,!0),I,M,W)}}),N.each({slideDown:je("show"),slideUp:je("hide"),slideToggle:je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(z,k){N.fn[z]=function(O,I,M){return this.animate(k,O,I,M)}}),N.timers=[],N.fx.tick=function(){var z,k=0,O=N.timers;for(en=Date.now();k<O.length;k++)z=O[k],!z()&&O[k]===z&&O.splice(k--,1);O.length||N.fx.stop(),en=void 0},N.fx.timer=function(z){N.timers.push(z),N.fx.start()},N.fx.interval=13,N.fx.start=function(){tn||(tn=!0,sr())},N.fx.stop=function(){tn=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(z,k){return z=N.fx&&N.fx.speeds[z]||z,k=k||"fx",this.queue(k,function(O,I){var M=n.setTimeout(O,z);I.stop=function(){n.clearTimeout(M)}})},function(){var z=_t.createElement("input"),k=_t.createElement("select"),O=k.appendChild(_t.createElement("option"));z.type="checkbox",nt.checkOn=z.value!=="",nt.optSelected=O.selected,z=_t.createElement("input"),z.value="t",z.type="radio",nt.radioValue=z.value==="t"}();var Wr,Nr=N.expr.attrHandle;N.fn.extend({attr:function(k,O){return Ke(this,N.attr,k,O,arguments.length>1)},removeAttr:function(k){return this.each(function(){N.removeAttr(this,k)})}}),N.extend({attr:function(k,O,I){var M,W,U=k.nodeType;if(!(U===3||U===8||U===2)){if(_typeof(k.getAttribute)>"u")return N.prop(k,O,I);if((U!==1||!N.isXMLDoc(k))&&(W=N.attrHooks[O.toLowerCase()]||(N.expr.match.bool.test(O)?Wr:void 0)),I!==void 0){if(I===null){N.removeAttr(k,O);return}return W&&"set"in W&&(M=W.set(k,I,O))!==void 0?M:(k.setAttribute(O,I+""),I)}return W&&"get"in W&&(M=W.get(k,O))!==null?M:(M=N.find.attr(k,O),M!=null?M:void 0)}},attrHooks:{type:{set:function(k,O){if(!nt.radioValue&&O==="radio"&&r(k,"input")){var I=k.value;return k.setAttribute("type",O),I&&(k.value=I),O}}}},removeAttr:function(k,O){var I,M=0,W=O&&O.match(Ce);if(W&&k.nodeType===1)for(;I=W[M++];)k.removeAttribute(I)}}),Wr={set:function(k,O,I){return O===!1?N.removeAttr(k,I):k.setAttribute(I,I),I}},N.each(N.expr.match.bool.source.match(/\w+/g),function(z,k){var O=Nr[k]||N.find.attr;Nr[k]=function(I,M,W){var U,le,Oe=M.toLowerCase();return W||(le=Nr[Oe],Nr[Oe]=U,U=O(I,M,W)!=null?Oe:null,Nr[Oe]=le),U}});var mr=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;N.fn.extend({prop:function(k,O){return Ke(this,N.prop,k,O,arguments.length>1)},removeProp:function(k){return this.each(function(){delete this[N.propFix[k]||k]})}}),N.extend({prop:function(k,O,I){var M,W,U=k.nodeType;if(!(U===3||U===8||U===2))return(U!==1||!N.isXMLDoc(k))&&(O=N.propFix[O]||O,W=N.propHooks[O]),I!==void 0?W&&"set"in W&&(M=W.set(k,I,O))!==void 0?M:k[O]=I:W&&"get"in W&&(M=W.get(k,O))!==null?M:k[O]},propHooks:{tabIndex:{get:function(k){var O=N.find.attr(k,"tabindex");return O?parseInt(O,10):mr.test(k.nodeName)||me.test(k.nodeName)&&k.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),nt.optSelected||(N.propHooks.selected={get:function(k){var O=k.parentNode;return O&&O.parentNode&&O.parentNode.selectedIndex,null},set:function(k){var O=k.parentNode;O&&(O.selectedIndex,O.parentNode&&O.parentNode.selectedIndex)}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this}),N.fn.extend({addClass:function(k){var O,I,M,W,U,le;return bt(k)?this.each(function(Oe){N(this).addClass(k.call(this,Oe,Xe(this)))}):(O=dt(k),O.length?this.each(function(){if(M=Xe(this),I=this.nodeType===1&&" "+Ve(M)+" ",I){for(U=0;U<O.length;U++)W=O[U],I.indexOf(" "+W+" ")<0&&(I+=W+" ");le=Ve(I),M!==le&&this.setAttribute("class",le)}}):this)},removeClass:function(k){var O,I,M,W,U,le;return bt(k)?this.each(function(Oe){N(this).removeClass(k.call(this,Oe,Xe(this)))}):arguments.length?(O=dt(k),O.length?this.each(function(){if(M=Xe(this),I=this.nodeType===1&&" "+Ve(M)+" ",I){for(U=0;U<O.length;U++)for(W=O[U];I.indexOf(" "+W+" ")>-1;)I=I.replace(" "+W+" "," ");le=Ve(I),M!==le&&this.setAttribute("class",le)}}):this):this.attr("class","")},toggleClass:function(k,O){var I,M,W,U,le=typeof k=="undefined"?"undefined":_typeof(k),Oe=le==="string"||Array.isArray(k);return bt(k)?this.each(function(we){N(this).toggleClass(k.call(this,we,Xe(this),O),O)}):typeof O=="boolean"&&Oe?O?this.addClass(k):this.removeClass(k):(I=dt(k),this.each(function(){if(Oe)for(U=N(this),W=0;W<I.length;W++)M=I[W],U.hasClass(M)?U.removeClass(M):U.addClass(M);else(k===void 0||le==="boolean")&&(M=Xe(this),M&&Dt.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||k===!1?"":Dt.get(this,"__className__")||""))}))},hasClass:function(k){var O,I,M=0;for(O=" "+k+" ";I=this[M++];)if(I.nodeType===1&&(" "+Ve(Xe(I))+" ").indexOf(O)>-1)return!0;return!1}});var Fi=/\r/g;N.fn.extend({val:function(k){var O,I,M,W=this[0];return arguments.length?(M=bt(k),this.each(function(U){var le;this.nodeType===1&&(M?le=k.call(this,U,N(this).val()):le=k,le==null?le="":typeof le=="number"?le+="":Array.isArray(le)&&(le=N.map(le,function(Oe){return Oe==null?"":Oe+""})),O=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()],(!O||!("set"in O)||O.set(this,le,"value")===void 0)&&(this.value=le))})):W?(O=N.valHooks[W.type]||N.valHooks[W.nodeName.toLowerCase()],O&&"get"in O&&(I=O.get(W,"value"))!==void 0?I:(I=W.value,typeof I=="string"?I.replace(Fi,""):I!=null?I:"")):void 0}}),N.extend({valHooks:{option:{get:function(k){var O=N.find.attr(k,"value");return O!=null?O:Ve(N.text(k))}},select:{get:function(k){var O,I,M,W=k.options,U=k.selectedIndex,le=k.type==="select-one",Oe=le?null:[],we=le?U+1:W.length;for(U<0?M=we:M=le?U:0;M<we;M++)if(I=W[M],(I.selected||M===U)&&!I.disabled&&(!I.parentNode.disabled||!r(I.parentNode,"optgroup"))){if(O=N(I).val(),le)return O;Oe.push(O)}return Oe},set:function(k,O){for(var I,M,W=k.options,U=N.makeArray(O),le=W.length;le--;)M=W[le],(M.selected=N.inArray(N.valHooks.option.get(M),U)>-1)&&(I=!0);return I||(k.selectedIndex=-1),U}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(k,O){if(Array.isArray(O))return k.checked=N.inArray(N(k).val(),O)>-1}},nt.checkOn||(N.valHooks[this].get=function(z){return z.getAttribute("value")===null?"on":z.value})}),nt.focusin="onfocusin"in n;var Dr=/^(?:focusinfocus|focusoutblur)$/,Ri=function(k){k.stopPropagation()};N.extend(N.event,{trigger:function(k,O,I,M){var W,U,le,Oe,we,lt,St,zt,Vt=[I||_t],jt=ze.call(k,"type")?k.type:k,fn=ze.call(k,"namespace")?k.namespace.split("."):[];if(U=zt=le=I=I||_t,!(I.nodeType===3||I.nodeType===8)&&!Dr.test(jt+N.event.triggered)&&(jt.indexOf(".")>-1&&(fn=jt.split("."),jt=fn.shift(),fn.sort()),we=jt.indexOf(":")<0&&"on"+jt,k=k[N.expando]?k:new N.Event(jt,typeof k=="object"&&k),k.isTrigger=M?2:3,k.namespace=fn.join("."),k.rnamespace=k.namespace?new RegExp("(^|\\.)"+fn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,k.result=void 0,k.target||(k.target=I),O=O==null?[k]:N.makeArray(O,[k]),St=N.event.special[jt]||{},!(!M&&St.trigger&&St.trigger.apply(I,O)===!1))){if(!M&&!St.noBubble&&!wt(I)){for(Oe=St.delegateType||jt,Dr.test(Oe+jt)||(U=U.parentNode);U;U=U.parentNode)Vt.push(U),le=U;le===(I.ownerDocument||_t)&&Vt.push(le.defaultView||le.parentWindow||n)}for(W=0;(U=Vt[W++])&&!k.isPropagationStopped();)zt=U,k.type=W>1?Oe:St.bindType||jt,lt=(Dt.get(U,"events")||Object.create(null))[k.type]&&Dt.get(U,"handle"),lt&&lt.apply(U,O),lt=we&&U[we],lt&&lt.apply&&Et(U)&&(k.result=lt.apply(U,O),k.result===!1&&k.preventDefault());return k.type=jt,!M&&!k.isDefaultPrevented()&&(!St._default||St._default.apply(Vt.pop(),O)===!1)&&Et(I)&&we&&bt(I[jt])&&!wt(I)&&(le=I[we],le&&(I[we]=null),N.event.triggered=jt,k.isPropagationStopped()&&zt.addEventListener(jt,Ri),I[jt](),k.isPropagationStopped()&&zt.removeEventListener(jt,Ri),N.event.triggered=void 0,le&&(I[we]=le)),k.result}},simulate:function(k,O,I){var M=N.extend(new N.Event,I,{type:k,isSimulated:!0});N.event.trigger(M,null,O)}}),N.fn.extend({trigger:function(k,O){return this.each(function(){N.event.trigger(k,O,this)})},triggerHandler:function(k,O){var I=this[0];if(I)return N.event.trigger(k,O,I,!0)}}),nt.focusin||N.each({focus:"focusin",blur:"focusout"},function(z,k){var O=function(M){N.event.simulate(k,M.target,N.event.fix(M))};N.event.special[k]={setup:function(){var M=this.ownerDocument||this.document||this,W=Dt.access(M,k);W||M.addEventListener(z,O,!0),Dt.access(M,k,(W||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,W=Dt.access(M,k)-1;W?Dt.access(M,k,W):(M.removeEventListener(z,O,!0),Dt.remove(M,k))}}});var $r=n.location,on={guid:Date.now()},sn=/\?/;N.parseXML=function(z){var k,O;if(!z||typeof z!="string")return null;try{k=new n.DOMParser().parseFromString(z,"text/xml")}catch(I){}return O=k&&k.getElementsByTagName("parsererror")[0],(!k||O)&&N.error("Invalid XML: "+(O?N.map(O.childNodes,function(I){return I.textContent}).join("\n"):z)),k};var cn=/\[\]$/,Fn=/\r?\n/g,nr=/^(?:submit|button|image|reset|file)$/i,Br=/^(?:input|select|textarea|keygen)/i;function wi(z,k,O,I){var M;if(Array.isArray(k))N.each(k,function(W,U){O||cn.test(z)?I(z,U):wi(z+"["+(typeof U=="object"&&U!=null?W:"")+"]",U,O,I)});else if(!O&&l(k)==="object")for(M in k)wi(z+"["+M+"]",k[M],O,I);else I(z,k)}N.param=function(z,k){var O,I=[],M=function(U,le){var Oe=bt(le)?le():le;I[I.length]=encodeURIComponent(U)+"="+encodeURIComponent(Oe!=null?Oe:"")};if(z==null)return"";if(Array.isArray(z)||z.jquery&&!N.isPlainObject(z))N.each(z,function(){M(this.name,this.value)});else for(O in z)wi(O,z[O],k,M);return I.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var k=N.prop(this,"elements");return k?N.makeArray(k):this}).filter(function(){var k=this.type;return this.name&&!N(this).is(":disabled")&&Br.test(this.nodeName)&&!nr.test(k)&&(this.checked||!fe.test(k))}).map(function(k,O){var I=N(this).val();return I==null?null:Array.isArray(I)?N.map(I,function(M){return{name:O.name,value:M.replace(Fn,"\r\n")}}):{name:O.name,value:I.replace(Fn,"\r\n")}}).get()}});var Ui=/%20/g,co=/#.*$/,Vi=/([?&])_=[^&]*/,To=/^(.*?):[ \t]*([^\r\n]*)$/mg,ho=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jc=/^(?:GET|HEAD)$/,Wi=/^\/\//,qi={},eo={},dl="*/".concat("*"),Io=_t.createElement("a");Io.href=$r.href,N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$r.href,type:"GET",isLocal:ho.test($r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dl,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(k,O){return O?Re(Re(k,N.ajaxSettings),O):Re(N.ajaxSettings,k)},ajaxPrefilter:yt(qi),ajaxTransport:yt(eo),ajax:function(k,O){var I=function(Hn,ir,or,yr){var tr,Kn,In,$e,ge,Pe=ir;lt||(lt=!0,Oe&&n.clearTimeout(Oe),M=void 0,U=yr||"",Pn.readyState=Hn>0?4:0,tr=Hn>=200&&Hn<300||Hn===304,or&&($e=_e(jt,Pn,or)),!tr&&N.inArray("script",jt.dataTypes)>-1&&N.inArray("json",jt.dataTypes)<0&&(jt.converters["text script"]=function(){}),$e=Ne(jt,$e,Pn,tr),tr?(jt.ifModified&&(ge=Pn.getResponseHeader("Last-Modified"),ge&&(N.lastModified[W]=ge),ge=Pn.getResponseHeader("etag"),ge&&(N.etag[W]=ge)),Hn===204||jt.type==="HEAD"?Pe="nocontent":Hn===304?Pe="notmodified":(Pe=$e.state,Kn=$e.data,In=$e.error,tr=!In)):(In=Pe,(Hn||!Pe)&&(Pe="error",Hn<0&&(Hn=0))),Pn.status=Hn,Pn.statusText=(ir||Pe)+"",tr?yn.resolveWith(fn,[Kn,Pe,Pn]):yn.rejectWith(fn,[Pn,Pe,In]),Pn.statusCode(kn),kn=void 0,St&&ln.trigger(tr?"ajaxSuccess":"ajaxError",[Pn,jt,tr?Kn:In]),qn.fireWith(fn,[Pn,Pe]),St&&(ln.trigger("ajaxComplete",[Pn,jt]),--N.active||N.event.trigger("ajaxStop")))};typeof k=="object"&&(O=k,k=void 0),O=O||{};var M,W,U,le,Oe,we,lt,St,zt,Vt,jt=N.ajaxSetup({},O),fn=jt.context||jt,ln=jt.context&&(fn.nodeType||fn.jquery)?N(fn):N.event,yn=N.Deferred(),qn=N.Callbacks("once memory"),kn=jt.statusCode||{},zn={},jn={},Zn="canceled",Pn={readyState:0,getResponseHeader:function(Hn){var ir;if(lt){if(!le)for(le={};ir=To.exec(U);)le[ir[1].toLowerCase()+" "]=(le[ir[1].toLowerCase()+" "]||[]).concat(ir[2]);ir=le[Hn.toLowerCase()+" "]}return ir==null?null:ir.join(", ")},getAllResponseHeaders:function(){return lt?U:null},setRequestHeader:function(Hn,ir){return lt==null&&(Hn=jn[Hn.toLowerCase()]=jn[Hn.toLowerCase()]||Hn,zn[Hn]=ir),this},overrideMimeType:function(Hn){return lt==null&&(jt.mimeType=Hn),this},statusCode:function(Hn){var ir;if(Hn)if(lt)Pn.always(Hn[Pn.status]);else for(ir in Hn)kn[ir]=[kn[ir],Hn[ir]];return this},abort:function(Hn){var ir=Hn||Zn;return M&&M.abort(ir),I(0,ir),this}};if(yn.promise(Pn),jt.url=((k||jt.url||$r.href)+"").replace(Wi,$r.protocol+"//"),jt.type=O.method||O.type||jt.method||jt.type,jt.dataTypes=(jt.dataType||"*").toLowerCase().match(Ce)||[""],jt.crossDomain==null){we=_t.createElement("a");try{we.href=jt.url,we.href=we.href,jt.crossDomain=Io.protocol+"//"+Io.host!=we.protocol+"//"+we.host}catch(ar){jt.crossDomain=!0}}if(jt.data&&jt.processData&&typeof jt.data!="string"&&(jt.data=N.param(jt.data,jt.traditional)),pt(qi,jt,O,Pn),lt)return Pn;St=N.event&&jt.global,St&&N.active++===0&&N.event.trigger("ajaxStart"),jt.type=jt.type.toUpperCase(),jt.hasContent=!Jc.test(jt.type),W=jt.url.replace(co,""),jt.hasContent?jt.data&&jt.processData&&(jt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(jt.data=jt.data.replace(Ui,"+")):(Vt=jt.url.slice(W.length),jt.data&&(jt.processData||typeof jt.data=="string")&&(W+=(sn.test(W)?"&":"?")+jt.data,delete jt.data),jt.cache===!1&&(W=W.replace(Vi,"$1"),Vt=(sn.test(W)?"&":"?")+"_="+on.guid+++Vt),jt.url=W+Vt),jt.ifModified&&(N.lastModified[W]&&Pn.setRequestHeader("If-Modified-Since",N.lastModified[W]),N.etag[W]&&Pn.setRequestHeader("If-None-Match",N.etag[W])),(jt.data&&jt.hasContent&&jt.contentType!==!1||O.contentType)&&Pn.setRequestHeader("Content-Type",jt.contentType),Pn.setRequestHeader("Accept",jt.dataTypes[0]&&jt.accepts[jt.dataTypes[0]]?jt.accepts[jt.dataTypes[0]]+(jt.dataTypes[0]!=="*"?", "+dl+"; q=0.01":""):jt.accepts["*"]);for(zt in jt.headers)Pn.setRequestHeader(zt,jt.headers[zt]);if(jt.beforeSend&&(jt.beforeSend.call(fn,Pn,jt)===!1||lt))return Pn.abort();if(Zn="abort",qn.add(jt.complete),Pn.done(jt.success),Pn.fail(jt.error),M=pt(eo,jt,O,Pn),!M)I(-1,"No Transport");else{if(Pn.readyState=1,St&&ln.trigger("ajaxSend",[Pn,jt]),lt)return Pn;jt.async&&jt.timeout>0&&(Oe=n.setTimeout(function(){Pn.abort("timeout")},jt.timeout));try{lt=!1,M.send(zn,I)}catch(ar){if(lt)throw ar;I(-1,ar)}}return Pn},getJSON:function(k,O,I){return N.get(k,O,I,"json")},getScript:function(k,O){return N.get(k,void 0,O,"script")}}),N.each(["get","post"],function(z,k){N[k]=function(O,I,M,W){return bt(I)&&(W=W||M,M=I,I=void 0),N.ajax(N.extend({url:O,type:k,dataType:W,data:I,success:M},N.isPlainObject(O)&&O))}}),N.ajaxPrefilter(function(z){var k;for(k in z.headers)k.toLowerCase()==="content-type"&&(z.contentType=z.headers[k]||"")}),N._evalUrl=function(z,k,O){return N.ajax({url:z,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){N.globalEval(M,k,O)}})},N.fn.extend({wrapAll:function(k){var O;return this[0]&&(bt(k)&&(k=k.call(this[0])),O=N(k,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&O.insertBefore(this[0]),O.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(k){return bt(k)?this.each(function(O){N(this).wrapInner(k.call(this,O))}):this.each(function(){var O=N(this),I=O.contents();I.length?I.wrapAll(k):O.append(k)})},wrap:function(k){var O=bt(k);return this.each(function(I){N(this).wrapAll(O?k.call(this,I):k)})},unwrap:function(k){return this.parent(k).not("body").each(function(){N(this).replaceWith(this.childNodes)}),this}}),N.expr.pseudos.hidden=function(z){return!N.expr.pseudos.visible(z)},N.expr.pseudos.visible=function(z){return!!(z.offsetWidth||z.offsetHeight||z.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(z){}};var fo={0:200,1223:204},lr=N.ajaxSettings.xhr();nt.cors=!!lr&&"withCredentials"in lr,nt.ajax=lr=!!lr,N.ajaxTransport(function(z){var k,O;if(nt.cors||lr&&!z.crossDomain)return{send:function(M,W){var U,le=z.xhr();if(le.open(z.type,z.url,z.async,z.username,z.password),z.xhrFields)for(U in z.xhrFields)le[U]=z.xhrFields[U];z.mimeType&&le.overrideMimeType&&le.overrideMimeType(z.mimeType),!z.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(U in M)le.setRequestHeader(U,M[U]);k=function(Oe){return function(){k&&(k=O=le.onload=le.onerror=le.onabort=le.ontimeout=le.onreadystatechange=null,Oe==="abort"?le.abort():Oe==="error"?typeof le.status!="number"?W(0,"error"):W(le.status,le.statusText):W(fo[le.status]||le.status,le.statusText,(le.responseType||"text")!=="text"||typeof le.responseText!="string"?{binary:le.response}:{text:le.responseText},le.getAllResponseHeaders()))}},le.onload=k(),O=le.onerror=le.ontimeout=k("error"),le.onabort!==void 0?le.onabort=O:le.onreadystatechange=function(){le.readyState===4&&n.setTimeout(function(){k&&O()})},k=k("abort");try{le.send(z.hasContent&&z.data||null)}catch(Oe){if(k)throw Oe}},abort:function(){k&&k()}}}),N.ajaxPrefilter(function(z){z.crossDomain&&(z.contents.script=!1)}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(z){return N.globalEval(z),z}}}),N.ajaxPrefilter("script",function(z){z.cache===void 0&&(z.cache=!1),z.crossDomain&&(z.type="GET")}),N.ajaxTransport("script",function(z){if(z.crossDomain||z.scriptAttrs){var k,O;return{send:function(M,W){k=N("<script>").attr(z.scriptAttrs||{}).prop({charset:z.scriptCharset,src:z.url}).on("load error",O=function(U){k.remove(),O=null,U&&W(U.type==="error"?404:200,U.type)}),_t.head.appendChild(k[0])},abort:function(){O&&O()}}}});var Au=[],jr=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var k=Au.pop()||N.expando+"_"+on.guid++;return this[k]=!0,k}}),N.ajaxPrefilter("json jsonp",function(z,k,O){var I,M,W,U=z.jsonp!==!1&&(jr.test(z.url)?"url":typeof z.data=="string"&&(z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&jr.test(z.data)&&"data");if(U||z.dataTypes[0]==="jsonp")return I=z.jsonpCallback=bt(z.jsonpCallback)?z.jsonpCallback():z.jsonpCallback,U?z[U]=z[U].replace(jr,"$1"+I):z.jsonp!==!1&&(z.url+=(sn.test(z.url)?"&":"?")+z.jsonp+"="+I),z.converters["script json"]=function(){return W||N.error(I+" was not called"),W[0]},z.dataTypes[0]="json",M=n[I],n[I]=function(){W=arguments},O.always(function(){M===void 0?N(n).removeProp(I):n[I]=M,z[I]&&(z.jsonpCallback=k.jsonpCallback,Au.push(I)),W&&bt(M)&&M(W[0]),W=M=void 0}),"script"}),nt.createHTMLDocument=function(){var z=_t.implementation.createHTMLDocument("").body;return z.innerHTML="<form></form><form></form>",z.childNodes.length===2}(),N.parseHTML=function(z,k,O){if(typeof z!="string")return[];typeof k=="boolean"&&(O=k,k=!1);var I,M,W;return k||(nt.createHTMLDocument?(k=_t.implementation.createHTMLDocument(""),I=k.createElement("base"),I.href=_t.location.href,k.head.appendChild(I)):k=_t),M=ue.exec(z),W=!O&&[],M?[k.createElement(M[1])]:(M=g([z],k,W),W&&W.length&&N(W).remove(),N.merge([],M.childNodes))},N.fn.load=function(z,k,O){var I,M,W,U=this,le=z.indexOf(" ");return le>-1&&(I=Ve(z.slice(le)),z=z.slice(0,le)),bt(k)?(O=k,k=void 0):k&&typeof k=="object"&&(M="POST"),U.length>0&&N.ajax({url:z,type:M||"GET",dataType:"html",data:k}).done(function(Oe){W=arguments,U.html(I?N("<div>").append(N.parseHTML(Oe)).find(I):Oe)}).always(O&&function(Oe,we){U.each(function(){O.apply(this,W||[Oe.responseText,we,Oe])})}),this},N.expr.pseudos.animated=function(z){return N.grep(N.timers,function(k){return z===k.elem}).length},N.offset={setOffset:function(k,O,I){var M,W,U,le,Oe,we,lt,St=N.css(k,"position"),zt=N(k),Vt={};St==="static"&&(k.style.position="relative"),Oe=zt.offset(),U=N.css(k,"top"),we=N.css(k,"left"),lt=(St==="absolute"||St==="fixed")&&(U+we).indexOf("auto")>-1,lt?(M=zt.position(),le=M.top,W=M.left):(le=parseFloat(U)||0,W=parseFloat(we)||0),bt(O)&&(O=O.call(k,I,N.extend({},Oe))),O.top!=null&&(Vt.top=O.top-Oe.top+le),O.left!=null&&(Vt.left=O.left-Oe.left+W),"using"in O?O.using.call(k,Vt):zt.css(Vt)}},N.fn.extend({offset:function(k){if(arguments.length)return k===void 0?this:this.each(function(W){N.offset.setOffset(this,k,W)});var O,I,M=this[0];if(M)return M.getClientRects().length?(O=M.getBoundingClientRect(),I=M.ownerDocument.defaultView,{top:O.top+I.pageYOffset,left:O.left+I.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var k,O,I,M=this[0],W={top:0,left:0};if(N.css(M,"position")==="fixed")O=M.getBoundingClientRect();else{for(O=this.offset(),I=M.ownerDocument,k=M.offsetParent||I.documentElement;k&&(k===I.body||k===I.documentElement)&&N.css(k,"position")==="static";)k=k.parentNode;k&&k!==M&&k.nodeType===1&&(W=N(k).offset(),W.top+=N.css(k,"borderTopWidth",!0),W.left+=N.css(k,"borderLeftWidth",!0))}return{top:O.top-W.top-N.css(M,"marginTop",!0),left:O.left-W.left-N.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var k=this.offsetParent;k&&N.css(k,"position")==="static";)k=k.offsetParent;return k||rn})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(z,k){var O=k==="pageYOffset";N.fn[z]=function(I){return Ke(this,function(M,W,U){var le;if(wt(M)?le=M:M.nodeType===9&&(le=M.defaultView),U===void 0)return le?le[k]:M[W];le?le.scrollTo(O?le.pageXOffset:U,O?U:le.pageYOffset):M[W]=U},z,I,arguments.length)}}),N.each(["top","left"],function(z,k){N.cssHooks[k]=X(nt.pixelPosition,function(O,I){if(I)return I=V(O,k),yi.test(I)?N(O).position()[k]+"px":I})}),N.each({Height:"height",Width:"width"},function(z,k){N.each({padding:"inner"+z,content:k,"":"outer"+z},function(O,I){N.fn[I]=function(M,W){var U=arguments.length&&(O||typeof M!="boolean"),le=O||(M===!0||W===!0?"margin":"border");return Ke(this,function(Oe,we,lt){var St;return wt(Oe)?I.indexOf("outer")===0?Oe["inner"+z]:Oe.document.documentElement["client"+z]:Oe.nodeType===9?(St=Oe.documentElement,Math.max(Oe.body["scroll"+z],St["scroll"+z],Oe.body["offset"+z],St["offset"+z],St["client"+z])):lt===void 0?N.css(Oe,we,le):N.style(Oe,we,lt,le)},k,U?M:void 0,U)}})}),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(z,k){N.fn[k]=function(O){return this.on(k,O)}}),N.fn.extend({bind:function(k,O,I){return this.on(k,null,O,I)},unbind:function(k,O){return this.off(k,null,O)},delegate:function(k,O,I,M){return this.on(O,k,I,M)},undelegate:function(k,O,I){return arguments.length===1?this.off(k,"**"):this.off(O,k||"**",I)},hover:function(k,O){return this.mouseenter(k).mouseleave(O||k)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(z,k){N.fn[k]=function(O,I){return arguments.length>0?this.on(k,null,O,I):this.trigger(k)}});var _i=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;N.proxy=function(z,k){var O,I,M;if(typeof k=="string"&&(O=z[k],k=z,z=O),!!bt(z))return I=Te.call(arguments,2),M=function(){return z.apply(k||this,I.concat(Te.call(arguments)))},M.guid=z.guid=z.guid||N.guid++,M},N.holdReady=function(z){z?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=r,N.isFunction=bt,N.isWindow=wt,N.camelCase=b,N.type=l,N.now=Date.now,N.isNumeric=function(z){var k=N.type(z);return(k==="number"||k==="string")&&!isNaN(z-parseFloat(z))},N.trim=function(z){return z==null?"":(z+"").replace(_i,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return N});var to=n.jQuery,wn=n.$;return N.noConflict=function(z){return n.$===N&&(n.$=wn),z&&n.jQuery===N&&(n.jQuery=to),N},(typeof o=="undefined"?"undefined":_typeof(o))>"u"&&(n.jQuery=n.$=N),N})}),ub=sb(lb());var S;Vn=ub,S=Vn,Kf=S.default,cb=xi(Vn,["default"]),ee=Kf!==void 0?Kf:cb}}),_d=Tt({"https-url:https://esm.archive.org/jquery@3.6.1":function(){Jf(),Jf()}}),db=Tt({"https-url:https://av.prod.archive.org/js/util/jquery.js":function(){_d(),window.jQuery=ee,window.$=ee}}),ca,Qf=Tt({"https-url:https://av.prod.archive.org/js/util/cgiarg.js":function(){ca=xo}}),Vn,Rn,t8,Rs=Tt({"https-url:https://av.prod.archive.org/js/util/log.js":function(){Rn=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((Vn=window==null?void 0:window.navigator)==null?void 0:Vn.onLine)===!1?console.log.bind(console):function(){},t8=console.error.bind(console)}}),kd,n8=Tt({"https-url:https://av.prod.archive.org/js/util/onclick.js":function(){kd=aa}}),r8=Tt({"https-url:https://av.prod.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(S){var t=function(c){for(var h,f,v=c[0],x=c[1],w=0,b=[];w<v.length;w++)f=v[w],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&b.push(n[f][0]),n[f]=0;for(h in x)Object.prototype.hasOwnProperty.call(x,h)&&(S[h]=x[h]);for(r&&r(c);b.length;)b.shift()()},e={},n={0:0};function o(d){if(e[d])return e[d].exports;var c=e[d]={i:d,l:!1,exports:{}};return S[d].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.e=function(d){var c=[],h=n[d];if(h!==0)if(h)c.push(h[2]);else{var f=new Promise(function(C,P){h=n[d]=[C,P]});c.push(h[2]=f);var v,x=document.createElement("script");x.charset="utf-8",x.timeout=120,o.nc&&x.setAttribute("nonce",o.nc),x.src=function(C){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[C]||C)+".js"}(d);var w=new Error;v=function(P){x.onerror=x.onload=null,clearTimeout(b);var E=n[d];if(E!==0){if(E){var T=P&&(P.type==="load"?"missing":P.type),m=P&&P.target&&P.target.src;w.message="Loading chunk "+d+" failed.\n("+T+": "+m+")",w.name="ChunkLoadError",w.type=T,w.request=m,E[1](w)}n[d]=void 0}};var b=setTimeout(function(){v({type:"timeout",target:x})},12e4);x.onerror=x.onload=v,document.head.appendChild(x)}return Promise.all(c)},o.m=S,o.c=e,o.d=function(d,c,h){o.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:h})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,c){if(1&c&&(d=o(d)),8&c||4&c&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&c&&typeof d!="string")for(var f in d)o.d(h,f,function(v){return d[v]}.bind(null,f));return h},o.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(c,"a",c),c},o.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},o.p="",o.oe=function(d){throw console.error(d),d};var u=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var r=l;return o(o.s=56)}([function(S,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return y}),e.d(t,"i",function(){return K}),e.d(t,"h",function(){return F}),e.d(t,"z",function(){return je}),e.d(t,"b",function(){return Le}),e.d(t,"j",function(){return Ze}),e.d(t,"e",function(){return Ve}),e.d(t,"l",function(){return Xe}),e.d(t,"a",function(){return yt}),e.d(t,"A",function(){return Je}),e.d(t,"m",function(){return rt}),e.d(t,"d",function(){return ht}),e.d(t,"g",function(){return at}),e.d(t,"x",function(){return ut}),e.d(t,"p",function(){return bt}),e.d(t,"r",function(){return wt}),e.d(t,"s",function(){return _t}),e.d(t,"o",function(){return st}),e.d(t,"q",function(){return ye}),e.d(t,"n",function(){return N}),e.d(t,"t",function(){return We}),e.d(t,"k",function(){return et}),e.d(t,"y",function(){return L}),e.d(t,"w",function(){return ue}),e.d(t,"u",function(){return pe});var n=e(16),o={},u=Array.prototype,l=Object.prototype,s=Function.prototype,r=u.slice,d=u.concat,c=l.toString,h=l.hasOwnProperty,f=u.map,v=u.reduce,x=u.forEach,w=u.filter,b=u.every,C=u.some,P=u.indexOf,E=Array.isArray,T=Object.keys,m=s.bind,a=window.isFinite,p=function(Q,be,Ce){var xe,Ge;if(Q==null)return Q;if(x&&Q.forEach===x)Q.forEach(be,Ce);else if(Q.length===+Q.length){for(xe=0,Ge=Q.length;xe<Ge;xe++)if(be.call(Ce,Q[xe],xe,Q)===o)return}else{var Be=Ye(Q);for(xe=0,Ge=Be.length;xe<Ge;xe++)if(be.call(Ce,Q[Be[xe]],Be[xe],Q)===o)return}return Q},g=p,y=function(Q,be,Ce){var xe=[];return Q==null?xe:f&&Q.map===f?Q.map(be,Ce):(p(Q,function(Ge,Be,Ke){xe.push(be.call(Ce,Ge,Be,Ke))}),xe)},_=y,j="Reduce of empty array with no initial value",R=function(Q,be,Ce,xe){var Ge=arguments.length>2;if(Q==null&&(Q=[]),v&&Q.reduce===v)return xe&&(be=yt(be,xe)),Ge?Q.reduce(be,Ce):Q.reduce(be);if(p(Q,function(Be,Ke,Pt){Ge?Ce=be.call(xe,Ce,Be,Ke,Pt):(Ce=Be,Ge=!0)}),!Ge)throw new TypeError(j);return Ce},D=R,H=R,K=function(Q,be,Ce){var xe;return X(Q,function(Ge,Be,Ke){if(be.call(Ce,Ge,Be,Ke))return xe=Ge,!0}),xe},J=K,F=function(Q,be,Ce){var xe=[];return Q==null?xe:w&&Q.filter===w?Q.filter(be,Ce):(p(Q,function(Ge,Be,Ke){be.call(Ce,Ge,Be,Ke)&&xe.push(Ge)}),xe)},de=F,re=function(Q,be,Ce){be||(be=et);var xe=!0;return Q==null?xe:b&&Q.every===b?Q.every(be,Ce):(p(Q,function(Ge,Be,Ke){if(!(xe=xe&&be.call(Ce,Ge,Be,Ke)))return o}),!!xe)},V=re,X=function(Q,be,Ce){be||(be=et);var xe=!1;return Q==null?xe:C&&Q.some===C?Q.some(be,Ce):(p(Q,function(Ge,Be,Ke){if(xe||(xe=be.call(Ce,Ge,Be,Ke)))return o}),!!xe)},oe=X,G=function(Q,be){var Ce;return function(){return--Q>0&&(Ce=be.apply(this,arguments)),Q<=1&&(be=null),Ce}},Y=function(Q){return Q==null?et:bt(Q)?Q:L(Q)},Z=function(Q){return function(be,Ce,xe){var Ge={};return Ce=Y(Ce),p(be,function(Be,Ke){var Pt=Ce.call(xe,Be,Ke,be);Q(Ge,Pt,Be)}),Ge}},ae=Z(function(he,Q,be){Ie(he,Q)?he[Q].push(be):he[Q]=[be]}),ie=Z(function(he,Q,be){he[Q]=be}),je=function(Q,be,Ce,xe){for(var Ge=(Ce=Y(Ce)).call(xe,be),Be=0,Ke=Q.length;Be<Ke;){var Pt=Be+Ke>>>1;Ce.call(xe,Q[Pt])<Ge?Be=Pt+1:Ke=Pt}return Be},Le=function(Q,be){return Q!=null&&(Q.length!==+Q.length&&(Q=Te(Q)),Xe(Q,be)>=0)},ke=Le,Ze=function(Q,be){return K(Q,ue(be))},Ve=function(Q){var be=d.apply(u,r.call(arguments,1));return F(Q,function(Ce){return!Le(be,Ce)})},Xe=function(Q,be,Ce){if(Q==null)return-1;var xe=0,Ge=Q.length;if(Ce){if(typeof Ce!="number")return Q[xe=je(Q,be)]===be?xe:-1;xe=Ce<0?Math.max(0,Ge+Ce):Ce}if(P&&Q.indexOf===P)return Q.indexOf(be,Ce);for(;xe<Ge;xe++)if(Q[xe]===be)return xe;return-1},dt=function(){},yt=function(Q,be){var Ce,xe;if(m&&Q.bind===m)return m.apply(Q,r.call(arguments,1));if(!bt(Q))throw new TypeError;return Ce=r.call(arguments,2),xe=function(){if(!_instanceof(this,xe))return Q.apply(be,Ce.concat(r.call(arguments)));dt.prototype=Q.prototype;var Ge=new dt;dt.prototype=null;var Be=Q.apply(Ge,Ce.concat(r.call(arguments)));return Object(Be)===Be?Be:Ge}},pt=function(Q){var be=r.call(arguments,1);return function(){for(var Ce=0,xe=be.slice(),Ge=0,Be=xe.length;Ge<Be;Ge++)Ie(xe[Ge],"partial")&&(xe[Ge]=arguments[Ce++]);for(;Ce<arguments.length;)xe.push(arguments[Ce++]);return Q.apply(this,xe)}},Re=pt(G,2),_e=function(Q,be){var Ce=r.call(arguments,2);return setTimeout(function(){return Q.apply(null,Ce)},be)},Ne=pt(_e,{partial:pt},1),Je=function(Q,be,Ce){var xe,Ge,Be,Ke=null,Pt=0;Ce||(Ce={});var At=function(){Pt=Ce.leading===!1?0:ce(),Ke=null,Be=Q.apply(xe,Ge),xe=Ge=null};return function(){Pt||Ce.leading!==!1||(Pt=ce);var Et=be-(ce-Pt);return xe=this,Ge=arguments,Et<=0?(clearTimeout(Ke),Ke=null,Pt=ce,Be=Q.apply(xe,Ge),xe=Ge=null):Ke||Ce.trailing===!1||(Ke=setTimeout(At,Et)),Be}},Ye=function(Q){if(!ze(Q))return[];if(T)return T(Q);var be=[];for(var Ce in Q)Ie(Q,Ce)&&be.push(Ce);return be},Te=function(Q){for(var be=Ye(Q),Ce=Ye.length,xe=Array(Ce),Ge=0;Ge<Ce;Ge++)xe[Ge]=Q[be[Ge]];return xe},rt=function(Q){for(var be={},Ce=Ye(Q),xe=0,Ge=Ce.length;xe<Ge;xe++)be[Q[Ce[xe]]]=Ce[xe];return be},ht=function(Q){return p(r.call(arguments,1),function(be){if(be)for(var Ce in be)Q[Ce]===void 0&&(Q[Ce]=be[Ce])}),Q},at=Object.assign||function(he){return p(r.call(arguments,1),function(Q){if(Q)for(var be in Q)Object.prototype.hasOwnProperty.call(Q,be)&&(he[be]=Q[be])}),he},ut=function(Q){var be={},Ce=d.apply(u,r.call(arguments,1));return p(Ce,function(xe){xe in Q&&(be[xe]=Q[xe])}),be},qe=E||function(he){return c.call(he)=="[object Array]"},ze=function(Q){return Q===Object(Q)},Fe=[];p(["Function","String","Number","Date","RegExp"],function(he){Fe[he]=function(Q){return c.call(Q)=="[object "+he+"]"}}),Fe.Function=function(he){return typeof he=="function"};var tt=Fe.Date,nt=Fe.RegExp,bt=Fe.Function,wt=Fe.Number,_t=Fe.String,st=function(Q){return a(Q)&&!ye(parseFloat(Q))},ye=function(Q){return wt(Q)&&Q!=+Q},N=function(Q){return Q===!0||Q===!1||c.call(Q)=="[object Boolean]"},We=function(Q){return Q===void 0},Ie=function(Q,be){return h.call(Q,be)},et=function(Q){return Q},L=function(Q){return function(be){return be[Q]}},ue=function(Q){return function(be){if(be===Q)return!0;for(var Ce in Q)if(Q[Ce]!==be[Ce])return!1;return!0}},ce=n.a,pe=function(Q){return wt(Q)&&!ye(Q)};t.c={after:function(Q,be){return function(){if(--Q<1)return be.apply(this,arguments)}},all:re,any:X,before:G,bind:yt,clone:function(Q){return ze(Q)?qe(Q)?Q.slice():at({},Q):Q},collect:_,compact:function(Q){return F(Q,et)},constant:function(Q){return function(){return Q}},contains:Le,debounce:function(Q,be){var Ce;return be===void 0&&(be=100),function(){for(var xe=this,Ge=arguments.length,Be=new Array(Ge),Ke=0;Ke<Ge;Ke++)Be[Ke]=arguments[Ke];clearTimeout(Ce),Ce=setTimeout(function(){Q.apply(xe,Be)},be)}},defaults:ht,defer:Ne,delay:_e,detect:J,difference:Ve,each:p,every:V,extend:at,filter:F,find:K,findWhere:Ze,foldl:D,forEach:g,groupBy:ae,has:Ie,identity:et,include:ke,indexBy:ie,indexOf:Xe,inject:H,invert:rt,isArray:qe,isBoolean:N,isDate:tt,isFinite:st,isFunction:bt,isNaN:ye,isNull:function(Q){return Q===null},isNumber:wt,isObject:ze,isRegExp:nt,isString:_t,isUndefined:We,isValidNumber:pe,keys:Ye,last:function(Q,be,Ce){if(Q!=null)return be==null||Ce?Q[Q.length-1]:r.call(Q,Math.max(Q.length-be,0))},map:y,matches:ue,max:function(Q,be,Ce){if(!be&&qe(Q)&&Q[0]===+Q[0]&&Q.length<65535)return Math.max.apply(Math,Q);var xe=-1/0,Ge=-1/0;return p(Q,function(Be,Ke,Pt){var At=be?be.call(Ce,Be,Ke,Pt):Be;At>Ge&&(xe=Be,Ge=At)}),xe},memoize:function(Q,be){var Ce={};return be||(be=et),function(){var xe=be.apply(this,arguments);return Ie(Ce,xe)?Ce[xe]:Ce[xe]=Q.apply(this,arguments)}},now:ce,omit:function(Q){var be={},Ce=d.apply(u,r.call(arguments,1));for(var xe in Q)Le(Ce,xe)||(be[xe]=Q[xe]);return be},once:Re,partial:pt,pick:ut,pluck:function(Q,be){return y(Q,L(be))},property:L,propertyOf:function(Q){return Q==null?function(){}:function(be){return Q[be]}},reduce:R,reject:function(Q,be,Ce){return F(Q,function(xe,Ge,Be){return!be.call(Ce,xe,Ge,Be)},Ce)},result:function(Q,be){if(Q!=null){var Ce=Q[be];return bt(Ce)?Ce.call(Q):Ce}},select:de,size:function(Q){return Q==null?0:Q.length===+Q.length?Q.length:Ye(Q).length},some:oe,sortedIndex:je,throttle:Je,where:function(Q,be){return F(Q,ue(be))},without:function(Q){return Ve(Q,r.call(arguments,1))}}},function(S,t,e){"use strict";var n=function(H,K,J){return _instanceof(J,R)&&J.code?J:new R(H,K,J)},o=function(H,K){var J=n(j,K,H);return J.code=(H&&_instanceof(H,R)&&H.code||0)+K,J},u=function(H){var K=H.name,J=H.message;switch(K){case"AbortError":return/pause/.test(J)?303213:/load/.test(J)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return d}),e.d(t,"q",function(){return c}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return x}),e.d(t,"s",function(){return w}),e.d(t,"e",function(){return b}),e.d(t,"i",function(){return C}),e.d(t,"a",function(){return P}),e.d(t,"f",function(){return E}),e.d(t,"c",function(){return T}),e.d(t,"g",function(){return m}),e.d(t,"h",function(){return a}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return g}),e.d(t,"k",function(){return y}),e.d(t,"m",function(){return _}),e.d(t,"n",function(){return j}),e.d(t,"o",function(){return R}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return u});var l=e(0),s=1e5,r=100001,d=100002,c=101e3,h=102e3,f=102700,v=200001,x=202e3,w=104e3,b=203e3,C=203640,P=203700,E=204e3,T=306e3,m=308e3,a=308640,p="cantPlayVideo",g="badConnection",y="cantLoadPlayer",_="liveStreamDown",j="technicalError",R=function(){var D=function(K,J,F){this.code=Object(l.u)(J)?J:0,this.sourceError=F||null,K&&(this.key=K)};return D.logMessage=function(H){var K=H%1e3,J=Math.floor((H-K)/1e3),F=H.toString();return K>=400&&K<600&&(F=J+"400-"+J+"599"),"JW Player "+(H>299999&&H<4e5?"Warning":"Error")+" "+H+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+F},D}()},function(S,t,e){"use strict";var n=function(b){return b.replace(/^\s+|\s+$/g,"")},o=function(b,C,P){for(b=""+b,P=P||"0";b.length<C;)b=P+b;return b},u=function(b,C){for(var P=b.attributes,E=0;E<P.length;E++)if(P[E].name&&P[E].name.toLowerCase()===C.toLowerCase())return P[E].value.toString();return""},l=function(b){if(!b||b.substr(0,4)==="rtmp")return"";var C=/[(,]format=(m3u8|mpd)-/i.exec(b);if(C)return C[1];var P=b.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return P!==b?P.toLowerCase():(b=b.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?b.substr(b.lastIndexOf(".")+1,b.length).toLowerCase():""},s=function(b){var C=(b/60|0)%60,P=b%60;return o((b/3600|0).toString(),2)+":"+o(C.toString(),2)+":"+o(P.toFixed(3),6)},r=function(b,C){if(!b)return 0;if(Object(v.u)(b))return b;var P=b.replace(",","."),E=P.slice(-1),T=P.split(":"),m=T.length,a=0;if(E==="s")a=x(P);else if(E==="m")a=60*x(P);else if(E==="h")a=3600*x(P);else if(m>1){var p=m-1;m===4&&(C&&(a=x(T[p])/C),p-=1),a+=x(T[p]),a+=60*x(T[p-1]),m>=3&&(a+=3600*x(T[p-2]))}else a=x(P);return Object(v.u)(a)?a:0},d=function(b,C,P){if(Object(v.s)(b)&&b.slice(-1)==="%"){var E=x(b);return C&&Object(v.u)(C)&&Object(v.u)(E)?C*E/100:null}return r(b,P)},c=function(b,C){return b.map(function(P){return C+P})},h=function(b,C){return b.map(function(P){return P+C})},f=function(b){return!!b&&Object(v.s)(b)&&b.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return u}),e.d(t,"a",function(){return l}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return d}),e.d(t,"f",function(){return c}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),x=window.parseFloat},function(S,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return u}),e.d(t,"ob",function(){return l}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return d}),e.d(t,"qb",function(){return c}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return x}),e.d(t,"r",function(){return w}),e.d(t,"Z",function(){return b}),e.d(t,"W",function(){return C}),e.d(t,"v",function(){return P}),e.d(t,"Y",function(){return E}),e.d(t,"w",function(){return T}),e.d(t,"ub",function(){return m}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return g}),e.d(t,"d",function(){return y}),e.d(t,"e",function(){return _}),e.d(t,"f",function(){return j}),e.d(t,"i",function(){return R}),e.d(t,"F",function(){return D}),e.d(t,"gb",function(){return H}),e.d(t,"Q",function(){return K}),e.d(t,"C",function(){return J}),e.d(t,"B",function(){return F}),e.d(t,"E",function(){return de}),e.d(t,"q",function(){return re}),e.d(t,"cb",function(){return V}),e.d(t,"n",function(){return X}),e.d(t,"G",function(){return oe}),e.d(t,"H",function(){return G}),e.d(t,"N",function(){return Y}),e.d(t,"O",function(){return Z}),e.d(t,"R",function(){return ae}),e.d(t,"ib",function(){return ie}),e.d(t,"bb",function(){return je}),e.d(t,"D",function(){return Le}),e.d(t,"S",function(){return ke}),e.d(t,"P",function(){return Ze}),e.d(t,"T",function(){return Ve}),e.d(t,"V",function(){return Xe}),e.d(t,"M",function(){return dt}),e.d(t,"L",function(){return yt}),e.d(t,"K",function(){return pt}),e.d(t,"I",function(){return Re}),e.d(t,"J",function(){return _e}),e.d(t,"U",function(){return Ne}),e.d(t,"p",function(){return Je}),e.d(t,"y",function(){return Ye}),e.d(t,"hb",function(){return Te}),e.d(t,"db",function(){return rt}),e.d(t,"eb",function(){return ht}),e.d(t,"g",function(){return at}),e.d(t,"h",function(){return ut}),e.d(t,"rb",function(){return qe}),e.d(t,"sb",function(){return ze}),e.d(t,"ab",function(){return Fe}),e.d(t,"A",function(){return tt}),e.d(t,"m",function(){return nt}),e.d(t,"l",function(){return bt}),e.d(t,"fb",function(){return wt}),e.d(t,"tb",function(){return _t}),e.d(t,"z",function(){return st}),e.d(t,"k",function(){return ye}),e.d(t,"X",function(){return N}),e.d(t,"j",function(){return We}),e.d(t,"x",function(){return Ie});var n="buffering",o="idle",u="complete",l="paused",s="playing",r="error",d="loading",c="stalled",h="drag",f="dragStart",v="dragEnd",x="click",w="doubleClick",b="over",C="move",P="enter",E="out",T=r,m="warning",a="adClick",p="mediaLoaded",g="adPause",y="adPlay",_="adSkipped",j="adTime",R="autostartNotAllowed",D=u,H="ready",K="seek",J="beforePlay",F="beforeComplete",de="bufferFull",re="displayClick",V="playlistComplete",X="cast",oe="mediaError",G="firstFrame",Y="playAttempt",Z="playAttemptFailed",ae="seeked",ie="setupError",je="state",Le="bufferChange",ke="time",Ze="ratechange",Ve="mediaType",Xe="volume",dt="mute",yt="metadataCueParsed",pt="meta",Re="levels",_e="levelsChanged",Ne="visualQuality",Je="controls",Ye="fullscreen",Te="resize",rt="playlistItem",ht="playlist",at="audioTracks",ut="audioTrackChanged",qe="subtitlesTracks",ze="subtitlesTrackChanged",Fe="playbackRateChanged",tt="logoClick",nt="captionsList",bt="captionsChanged",wt="providerFirstFrame",_t="userAction",st="instreamClick",ye="breakpoint",N="fullscreenchange",We="bandwidthEstimate",Ie="float"},function(S,t,e){"use strict";var n=function(d){var c="";return d&&(d.localName?c=d.localName:d.baseName&&(c=d.baseName)),c},o=function(d){var c="";return d&&(d.textContent?c=Object(s.i)(d.textContent):d.text&&(c=Object(s.i)(d.text))),c},u=function(d,c){return d.childNodes[c]},l=function(d){return d.childNodes?d.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return u}),e.d(t,"c",function(){return l});var s=e(2)},function(S,t,e){"use strict";var n=function(y){return navigator.userAgent.match(y)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&T()},u=function(){try{return window.self!==window.top}catch(y){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return d}),e.d(t,"p",function(){return c}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return x}),e.d(t,"s",function(){return w}),e.d(t,"d",function(){return b}),e.d(t,"i",function(){return C}),e.d(t,"q",function(){return P}),e.d(t,"j",function(){return E}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return T}),e.d(t,"o",function(){return m}),e.d(t,"m",function(){return u}),e.d(t,"h",function(){return a}),e.d(t,"a",function(){return p});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},d=function(){return n(/iPad/i)||l()},c=function(){return n(/Macintosh/i)&&!l()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},x=function(){return n(/SMART-TV/)},w=function(){return x()&&!n(/SamsungBrowser/)},b=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!x()},C=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},P=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||x()},E=function(){return n(/iP(hone|ad|od)/i)||l()},T=function(){return n(/Android/i)&&!n(/Windows Phone/i)},m=function(){return E()||T()||n(/Windows Phone/i)},a=function(){return!1},p=function(){return 0}},function(S,t,e){"use strict";var n=function(V,X){return V.classList.contains(X)},o=function(V){return l(V).firstChild},u=function(V,X){P(V),function(oe,G){if(!!G){for(var Y=document.createDocumentFragment(),Z=l(G).childNodes,ae=0;ae<Z.length;ae++)Y.appendChild(Z[ae].cloneNode(!0));oe.appendChild(Y)}}(V,X)},l=function(V){var X=function(Y){if(R||(R=new J,F=function(){try{if(R.parseFromString("","text/html"))return!0}catch(ae){}return!1}()),F)return R.parseFromString(Y,"text/html").body;var Z=document.implementation.createHTMLDocument("");return Y.toLowerCase().indexOf("<!doctype")>-1?Z.documentElement.innerHTML=Y:Z.body.innerHTML=Y,Z.body}(V);s(X);for(var oe=X.querySelectorAll("*"),G=oe.length;G--;)r(oe[G]);return X},s=function(V){for(var X=V.querySelectorAll("script,object,iframe,meta"),oe=X.length;oe--;){var G=X[oe];G.parentNode.removeChild(G)}return V},r=function(V){for(var X=V.attributes,oe=X.length;oe--;){var G=X[oe].name;if(/^on/.test(G)&&V.removeAttribute(G),/href/.test(G)){var Y=X[oe].value;/javascript:|javascript&colon;/.test(Y)||!de.test(Y)?V.removeAttribute(G):console.warn("Invalid or unsafe URL")}}return V},d=function(V){return V+(V.toString().indexOf("%")>0?"":"px")},c=function(V){return Object(D.s)(V.className)?V.className.split(" "):[]},h=function(V,X){X=Object(H.i)(X),V.className!==X&&(V.className=X)},f=function(V){return V.classList?V.classList:c(V)},v=function(V,X){var oe=c(V);(Array.isArray(X)?X:X.split(" ")).forEach(function(G){Object(D.b)(oe,G)||oe.push(G)}),h(V,oe.join(" "))},x=function(V,X){var oe=c(V),G=Array.isArray(X)?X:X.split(" ");h(V,Object(D.e)(oe,G).join(" "))},w=function(V,X,oe){var G=V.className||"";X.test(G)?G=G.replace(X,oe):oe&&(G+=" "+oe),h(V,G)},b=function(V,X,oe){var G=n(V,X);(oe=Object(D.n)(oe)?oe:!G)!==G&&(oe?v(V,X):x(V,X))},C=function(V,X,oe){V.setAttribute(X,oe)},P=function(V){for(;V.firstChild;)V.removeChild(V.firstChild)},E=function(V){var X=document.createElement("link");X.rel="stylesheet",X.href=V,document.getElementsByTagName("head")[0].appendChild(X)},T=function(V){V&&P(V)},m=function(V){var X={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!V||!document.body.contains(V))return X;var oe=V.getBoundingClientRect(),G=window.pageYOffset,Y=window.pageXOffset;return(oe.width||oe.height||oe.left||oe.top)&&(X.left=oe.left+Y,X.right=oe.right+Y,X.top=oe.top+G,X.bottom=oe.bottom+G,X.width=oe.right-oe.left,X.height=oe.bottom-oe.top),X},a=function(V,X){V.insertBefore(X,V.firstChild)},p=function(V){return V.nextElementSibling},g=function(V){return V.previousElementSibling},y=function(V,X,oe){if(oe===void 0&&(oe={}),de.test(V)){var G=document.createElement("a");G.href=V,G.target=X,G=r(Object(D.g)(G,oe)),K.Browser.firefox?G.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):G.click()}},_=function(){var V=window.screen.orientation;return!!V&&(V.type==="landscape-primary"||V.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},j=function(V){return function(X){var oe=document.createElement("textarea");return oe.innerHTML=X,oe.value}(V).replace(/&|<|>|"|''/gm,function(X){return"&#"+X.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return u}),e.d(t,"k",function(){return l}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return d}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return x}),e.d(t,"q",function(){return w}),e.d(t,"w",function(){return b}),e.d(t,"u",function(){return C}),e.d(t,"i",function(){return P}),e.d(t,"c",function(){return E}),e.d(t,"h",function(){return T}),e.d(t,"d",function(){return m}),e.d(t,"n",function(){return a}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return g}),e.d(t,"m",function(){return y}),e.d(t,"g",function(){return _}),e.d(t,"a",function(){return j});var R,D=e(0),H=e(2),K=e(7),J=window.DOMParser,F=!0,de=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(S,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return d});var u=navigator.userAgent,l=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(c,h){var f,v,x,w;if(c.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(c.safari)f=h.substring(h.indexOf("Version")+8);else if(c.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(c.edge){var b=h.indexOf("Edge");b===-1?b=h.indexOf("Edg")+4:b+=5,f=h.substring(b)}else c.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((w=f.indexOf(";"))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(" "))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(")"))!==-1&&(f=f.substring(0,w)),v=parseInt(f,10),x=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:x}}(this,u)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return u.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(c,h){var f,v,x;if(c.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else c.android?f=n(/Android ([._\d]+)/,h):c.iOS?f=n(/OS ([._\d]+)/,h):c.mac?f=n(/Mac OS X ([._\d]+)/,h):c.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var w=f.split(/[._]/);w&&(x=parseInt(w[1],10))}return{version:f,major:v,minor:x}}(this,u)}},d={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return c=!0}});window.addEventListener("testPassive",l,h),window.removeEventListener("testPassive",l,h)}catch(f){}return c}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(S,t,e){"use strict";var n=function(v,x,w,b){if(!w)return!0;if(typeof w=="object"){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&v[x].apply(v,[C,w[C]].concat(b));return!1}if(h.test(w)){for(var P=w.split(h),E=0,T=P.length;E<T;E++)v[x].apply(v,[P[E]].concat(b));return!1}return!0},o=function(v,x,w,b){for(var C=-1,P=v.length;++C<P;){var E=v[C];if(b)try{E.callback.apply(E.context||w,x)}catch(T){console.log('Error in "'+b+'" event handler:',T)}else E.callback.apply(E.context||w,x)}};e.d(t,"a",function(){return u}),e.d(t,"c",function(){return l}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return d}),e.d(t,"f",function(){return c});var u=function(){var f=function(){},v=f.prototype;return v.on=function(x,w,b){if(!n(this,"on",x,[w,b])||!w)return this;var C=this._events||(this._events={});return(C[x]||(C[x]=[])).push({callback:w,context:b}),this},v.once=function(x,w,b){if(!n(this,"once",x,[w,b])||!w)return this;var C=0,P=this,E=function T(){C++||(P.off(x,T),w.apply(this,arguments))};return E._callback=w,this.on(x,E,b)},v.off=function(x,w,b){if(!this._events||!n(this,"off",x,[w,b]))return this;if(!x&&!w&&!b)return delete this._events,this;for(var C=x?[x]:Object.keys(this._events),P=0,E=C.length;P<E;P++){x=C[P];var T=this._events[x];if(T){var m=this._events[x]=[];if(w||b)for(var a=0,p=T.length;a<p;a++){var g=T[a];(w&&w!==g.callback&&w!==g.callback._callback||b&&b!==g.context)&&m.push(g)}m.length||delete this._events[x]}}return this},v.trigger=function(x){for(var w=arguments.length,b=new Array(w>1?w-1:0),C=1;C<w;C++)b[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",x,b))return this;var P=this._events[x],E=this._events.all;return P&&o(P,b,this),E&&o(E,arguments,this),this},v.triggerSafe=function(x){for(var w=arguments.length,b=new Array(w>1?w-1:0),C=1;C<w;C++)b[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",x,b))return this;var P=this._events[x],E=this._events.all;return P&&o(P,b,this,x),E&&o(E,arguments,this,x),this},f}(),l=u.prototype.on,s=u.prototype.once,r=u.prototype.off,d=u.prototype.trigger,c=u.prototype.triggerSafe;u.on=l,u.once=s,u.off=r,u.trigger=d;var h=/\s+/},function(S,t,e){"use strict";var n=function(d,c){return function(){throw new l.o(l.k,d,c)}},o=function(d,c){return function(){throw new l.o(null,d,c)}},u=function(){return e.e(3).then(function(d){return e(54).default}.bind(null,e)).catch(n(l.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return u});var l=e(1),s={}},function(S,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return d==="https:"},u=function(){return d==="file:"},l=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return u}),e.d(t,"isRtmp",function(){return l}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return c});var d=window.location.protocol;function c(h,f,v){var x=Object.keys(h);return Object.keys(f).length>=x.length&&x.every(function(w){var b=h[w],C=f[w];return b&&typeof b=="object"?!(!C||typeof C!="object")&&c(b,C,v):v(w,h)})}},function(S,t,e){"use strict";var n=function(w,b,C,P){C=C||"all-players";var E="";if(typeof b=="object"){var T=document.createElement("div");o(T,b);var m=T.style.cssText;Object.prototype.hasOwnProperty.call(b,"content")&&m&&(m=m+' content: "'+b.content+'";'),P&&m&&(m=m.replace(/;/g," !important;")),E="{"+m+"}"}else typeof b=="string"&&(E=b);E!==""&&E!=="{}"?f.a.style([[w,w+E]],C):f.a.clear(C,w)},o=function(w,b){if(w!=null){var C;w.length===void 0&&(w=[w]);var P={};for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&(P[C]=l(C,b[C]));for(var E=0;E<w.length;E++){var T=w[E],m=void 0;if(T!=null)for(C in P)Object.prototype.hasOwnProperty.call(P,C)&&(m=u(C),T.style[m]!==P[C]&&(T.style[m]=P[C]))}}},u=function(w){w=w.split("-");for(var b=1;b<w.length;b++)w[b]=w[b].charAt(0).toUpperCase()+w[b].slice(1);return w.join("")},l=function(w,b){return b===""||b==null?"":typeof b=="string"&&isNaN(b)?/png|gif|jpe?g/i.test(b)&&b.indexOf("url")<0?"url("+b+")":b:b===0||w==="z-index"||w==="opacity"?""+b:/color/i.test(w)?"#"+Object(c.e)(b.toString(16).replace(/^0x/i,""),6):Math.ceil(b)+"px"},s=function(w,b){o(w,{transform:b})},r=function(w,b){var C="rgb",P=b!==void 0&&b!==100;if(P&&(C+="a"),!d){var E=document.createElement("canvas");E.height=1,E.width=1,d=E.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",d.clearRect(0,0,1,1),d.fillStyle=w,d.fillRect(0,0,1,1);var T=d.getImageData(0,0,1,1).data;return C+="("+T[0]+", "+T[1]+", "+T[2],P&&(C+=", "+b/100),C+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var d,c=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(S,t,e){"use strict";var n=function(f,v){if(v&&Object(d.exists)(v)||(v=document.location.href),!Object(d.exists)(f))return"";if(o(f))return f;var x,w=v.substring(0,v.indexOf("://")+3),b=v.substring(w.length,v.indexOf("/",w.length+1));if(f.indexOf("/")===0)x=f.split("/");else{var C=v.split("?")[0];x=(C=C.substring(w.length+b.length+1,C.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var P=[],E=0;E<x.length;E++)x[E]&&Object(d.exists)(x[E])&&x[E]!=="."&&(x[E]===".."?P.pop():P.push(x[E]));return w+b+"/"+P.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},u=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(x){}return v},l=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(c.q)(Number(f))&&!Object(c.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(c.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(c.q)(f)&&(f=parseInt(f.toString())),Object(c.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var x=f<0?"-":"";f=Math.abs(f);var w=Math.floor(f/3600),b=Math.floor((f-3600*w)/60),C=Math.floor(f%60);return x+(w?w+":":"")+(b<10?"0":"")+b+":"+(C<10?"0":"")+C};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return u}),e.d(t,"serialize",function(){return l}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var d=e(10),c=e(0)},function(S,t,e){"use strict";var n=function(y){var _=o(y),j=_.indexOf("_");return j===-1?_:_.substring(0,j)},o=function(y){return y.toLowerCase().replace("-","_")},u=function(y){return y?Object.keys(y).reduce(function(_,j){return _[o(j)]=y[j],_},{}):{}},l=function(y){var _=y.querySelector("html");return _?_.getAttribute("lang"):null},s=function(){var y=l(document);if(!y&&Object(C.m)())try{y=l(window.top.document)}catch(_){}return y||navigator.language||"en"},r=function(y){return y.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(y)},d=function(y){return p.indexOf(n(y))>=0},c=function(y,_,j){return Object(b.g)({},function(R){var D=R.advertising,H=R.related,K=R.sharing,J=R.abouttext,F=Object(b.g)({},R.localization);D&&(F.advertising=F.advertising||{},h(F.advertising,D,"admessage"),h(F.advertising,D,"cuetext"),h(F.advertising,D,"loadingAd"),h(F.advertising,D,"podmessage"),h(F.advertising,D,"skipmessage"),h(F.advertising,D,"skiptext")),typeof F.related=="string"?F.related={heading:F.related}:F.related=F.related||{},H&&h(F.related,H,"autoplaymessage"),K&&(F.sharing=F.sharing||{},h(F.sharing,K,"heading"),h(F.sharing,K,"copied")),J&&h(F,R,"abouttext");var de=F.close||F.nextUpClose;return de&&(F.close=de),F}(y),_[n(j)],_[o(j)])},h=function(y,_,j){var R=y[j]||_[j];R&&(y[j]=R)},f=function(y){return Object(E.isDeepKeyCompliant)(T.a,y,function(_,j){return typeof j[_]=="string"})},v=function(y,_){var j,R=m[_];if(!R){var D=y+"translations/"+(j=n(_),(/^n[bn]$/.test(j)?"no":j)+".json");m[_]=R=new Promise(function(H,K){Object(P.a)({url:D,oncomplete:H,onerror:function(F,de,re,V){m[_]=null,K(V)},responseType:"json"})})}return R},x=function(y,_){var j=Object(b.g)({},y,_);return w(j,"errors",y,_),w(j,"related",y,_),w(j,"sharing",y,_),w(j,"advertising",y,_),w(j,"shortcuts",y,_),w(j,"captionsStyles",y,_),j},w=function(y,_,j,R){y[_]=Object(b.g)({},j[_],R[_])};e.d(t,"h",function(){return u}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return d}),e.d(t,"b",function(){return c}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return x});var b=e(0),C=e(5),P=e(21),E=e(10),T=e(30),m={},a={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(b.m)(a);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(S,t,e){"use strict";t.a=[]},function(S,t,e){"use strict";var n=e(49),o=e(10),u=document.createElement("video");e.d(t,"a",function(){return s});var l={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(d){if(!u||!u.canPlayType||Object(n.a)(d)===!1)return!1;var c=d.file,h=d.type;if(Object(o.isRtmp)(c,h))return!1;var f=d.mimeType||l[h];if(!f)return!1;var v=d.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!u.canPlayType(f)}}]},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(S,t,e){"use strict";t.a={debug:!1}},function(S,t,e){"use strict";var n=function(T,m){return v[T]?T:v[m]?m:"metadata"},o=function(T,m,a){var p=Object(f.g)({},a);return delete p.playlist,T.map(function(g){return l(m,g,p)}).filter(function(g){return!!g})},u=function(T){if(!Array.isArray(T)||T.length===0)throw new C.o(C.l,630)},l=function(T,m,a){var p=T.getProviders(),g=T.get("preload"),y=Object(f.g)({},m);if(y.preload=n(m.preload,g),y.allSources=r(y,T),y.sources=d(y.allSources,p),y.sources.length)return y.file=y.sources[0].file,y.feedData=a,function(_){var j=_.sources[0].liveSyncDuration;return j&&(_.liveSyncDuration=_.dvrSeekLimit=j),_}(y)},s=function(T,m){var a=(parseInt(T,10)||0)%m;return a<0&&(a+=m),a},r=function(T,m){var a=m.attributes,p=T.sources,g=T.allSources,y=T.preload,_=T.drm,j=c(T.withCredentials,a.withCredentials);return(g||p).map(function(R){if(R!==Object(R))return null;h(R,a,"androidhls"),h(R,a,"hlsjsdefault"),h(R,a,"safarihlsjs"),function(K,J,F){if(!K.liveSyncDuration){var de=J.liveSyncDuration?J:F;h(K,de,"liveSyncDuration")}}(R,T,a),h(R,a,"_hlsjsProgressive"),R.preload=n(R.preload,y);var D=R.drm||_||a.drm;D&&(R.drm=D);var H=c(R.withCredentials,j);return H!==void 0&&(R.withCredentials=H),Object(w.a)(R)}).filter(function(R){return!!R})},d=function(T,m){m&&m.choose||(m=new b.a);var a=function(y,_){for(var j=0;j<y.length;j++){var R=y[j],D=_.choose(R).providerToCheck;if(D)return{type:R.type,provider:D}}return null}(T,m);if(!a)return[];var p=a.provider,g=a.type;return T.filter(function(y){return y.type===g&&m.providerSupports(p,y)})},c=function(T,m){return T===void 0?m:T},h=function(T,m,a){a in m&&(T[a]=m[a])},f=e(0),v={none:!0,metadata:!0,auto:!0},x=e(24),w=e(27),b=e(32),C=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return u}),e.d(t,"d",function(){return l}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return P});var P=function(T,m){return d(r(T,m),m.getProviders())};t.a=function(E){return(Array.isArray(E)?E:[E]).map(x.a)}},function(S,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return u}),e.d(t,"versionCheck",function(){return l}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(d){for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var f=c[h].src;if(f){var v=f.lastIndexOf("/"+d);if(v>=0)return f.substr(0,v+1)}}return""}),u=function(){return o("jwplayer.js")},l=function(d){var c=("0"+d).split(/\W/),h=n.a.split(/\W/),f=parseFloat(c[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+c[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(S,t,e){"use strict";var n=function(d){var c=d.getName().name;if(!o.a[c]){if(!Object(s.i)(u.a,Object(s.w)({name:c}))){if(!Object(s.p)(d.supports))throw new Error("Tried to register a provider with an invalid object");u.a.unshift({name:c,supports:d.supports})}Object(s.d)(d.prototype,l.a),o.a[c]=d}};e.d(t,"a",function(){return n});var o=e(26),u=e(15),l=e(50),s=e(0);e(8)},function(S,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,x,w,b){v.onerror(x,v.url,v.xhr,new d.o(x,w,b))},u=function(v,x,w){var b=x.documentElement;if(!w.requireValidXML||b.nodeName!=="parsererror"&&!b.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(l.g)({},v,{responseXML:x})),w.oncomplete(v);o(w,d.l,601)};e.d(t,"a",function(){return h});var l=e(0),s=e(12),r=e(10),d=e(1),c=function(){};function h(f,v,x,w){var b;f===Object(f)&&(f=(w=f).url);var C=Object(l.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||c,onerror:x||c,mimeType:w&&!w.responseType?"text/xml":"",requireValidXML:!1,responseType:w&&w.plainText?"text":"",useDomParser:!1,requestFilter:null},w),P=function(T,m){return function(a,p){var g=a.currentTarget||m.xhr;if(clearTimeout(m.timeoutId),m.retryWithoutCredentials&&m.xhr.withCredentials)return n(g),void h(Object(l.g)({},m,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&g.status>=400&&g.status<600&&(p=g.status),o(m,p?d.l:d.n,p||6,a)}}(0,C);if("XMLHttpRequest"in window){if(b=C.xhr=C.xhr||new window.XMLHttpRequest,typeof C.requestFilter=="function"){var E;try{E=C.requestFilter({url:f,xhr:b})}catch(T){return P(T,5),b}E&&"open"in E&&"send"in E&&(b=C.xhr=E)}b.onreadystatechange=function(T){return function(m){var a=m.currentTarget||T.xhr;if(a.readyState===4){clearTimeout(T.timeoutId);var p=a.status;if(p>=400)return void o(T,d.l,p<600?p:6);if(p===200)return function(g){return function(y){var _=y.currentTarget||g.xhr;if(clearTimeout(g.timeoutId),g.responseType){if(g.responseType==="json")return function(D,H){if(!D.response||typeof D.response=="string"&&D.responseText.substr(1)!=='"')try{D=Object(l.g)({},D,{response:JSON.parse(D.responseText)})}catch(K){return void o(H,d.l,611,K)}return H.oncomplete(D)}(_,g)}else{var j,R=_.responseXML;if(R)try{j=R.firstChild}catch(D){}if(R&&j||g.useDomParser&&_.responseText&&!R&&(R=Object(s.parseXML)(_.responseText))&&R.firstChild)return u(_,R,g);if(g.requireValidXML)return void o(g,d.l,602)}g.oncomplete(_)}}(T)(m);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(T.url)&&o(T,d.l,7)}}}(C),b.onerror=P,"overrideMimeType"in b?C.mimeType&&b.overrideMimeType(C.mimeType):C.useDomParser=!0;try{f=f.replace(/#.*$/,""),b.open("GET",f,!0)}catch(T){return P(T,3),b}if(C.responseType)try{b.responseType=C.responseType}catch(T){}C.timeout&&(C.timeoutId=setTimeout(function(){n(b),o(C,d.n,1)},C.timeout),b.onabort=function(){clearTimeout(C.timeoutId)});try{C.withCredentials&&"withCredentials"in b&&(b.withCredentials=!0),b.send()}catch(T){P(T,4)}return b}o(C,d.n,2)}},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(S,t,e){"use strict";var n=function(){return s+l.now()},o=e(0),u=e(16),l=window.performance||{timing:{}},s=l.timing.navigationStart||Object(u.a)();"now"in l||(l.now=function(){return Object(u.a)()-s});var r=function(){var d=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},c=d.prototype;return c.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},c.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},c.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},c.tick=function(h){this.ticks[h]=n()},c.clear=function(h){delete this.ticks[h]},c.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},d}();t.a=r},function(S,t,e){"use strict";var n=e(0),o=e(27),u=["captions","metadata","thumbnails","chapters"],l=function(c){if(c&&c.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},c);return f.kind=(h=f.kind,u.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(d){r((d=d||{}).tracks)||delete d.tracks;var c=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},d);c.sources!==Object(c.sources)||r(c.sources)||(c.sources=[Object(o.a)(c.sources)]),r(c.sources)&&c.sources.length!==0||(d.levels?c.sources=d.levels:c.sources=[Object(o.a)(d)]);for(var h=0;h<c.sources.length;h++){var f=c.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",c.sources[h].label||(c.sources[h].label=h.toString()),c.sources[h]=Object(o.a)(c.sources[h])}}return c.sources=c.sources.filter(function(x){return!!x}),r(c.tracks)||(c.tracks=[]),r(c.captions)&&(c.tracks=c.tracks.concat(c.captions),delete c.captions),c.tracks=c.tracks.map(l).filter(function(x){return!!x}),c}},function(S,t,e){"use strict";var n=function(T,m){var a=T.get("plugins");return window.jwplayerPluginJsonp=P,(T.pluginLoader=T.pluginLoader||new s).load(m,C,a,T).then(function(p){if(!T.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),u=e(0),l=function(T){return T.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(T,m,a,p){return a&&typeof a=="object"?Promise.all(Object.keys(a).filter(function(g){return g}).map(function(g){var y=a[g];return m.setupPlugin(g).then(function(_){if(!p.attributes._destroyed)return function(j,R,D){var H=j.name,K=Object(u.g)({},R),J=document.createElement("div");J.id=D.id+"_"+H,J.className="jw-plugin jw-reset";var F=j.getNewInstance(D,K,J);return D.addPlugin(H,F),F}(_,y,T)}).catch(function(_){return m.removePlugin(g),_.code?_:new o.o(null,305e3,_)})})):Promise.resolve()}},r=e(35),d=e(12),c=e(2),h=function(T){if(typeof T=="string"){var m=(T=T.split("?")[0]).indexOf("://");if(m>0)return 0;var a=T.indexOf("/"),p=Object(c.a)(T);return!(m<0&&a<0)||p&&isNaN(p)?1:2}},f=function(T){this.url=T,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(u.g)(f.prototype,{load:function(){var T=this,m=this.promise_;if(!m){if(h(this.url)===2)return Promise.resolve(this);var a=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(d.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=a,m=a.load().then(function(){return T}),this.promise_=m}return m},registerPlugin:function(T,m,a){this.name=T,this.target=m,this.js=a},getNewInstance:function(T,m,a){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var g=new p(T,m,a);return g.addToPlayer=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&(a.left=y.style.left,a.top=y.style.top,y.appendChild(a))},g.resizeHandler=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&g.resize(y.clientWidth,y.clientHeight)},g}});var v=f,x=e(36),w={},b=function(){var E=function(){},T=E.prototype;return T.setupPlugin=function(m){var a=this.getPlugin(m);return a?(a.url!==m&&Object(x.a)('JW Plugin "'+l(m)+'" already loaded from "'+a.url+'". Ignoring "'+m+'."'),a.promise):this.addPlugin(m).load()},T.addPlugin=function(m){var a=l(m),p=w[a];return p||(p=new v(m),w[a]=p),p},T.getPlugin=function(m){return w[l(m)]},T.removePlugin=function(m){delete w[l(m)]},T.getPlugins=function(){return w},E}();e.d(t,"b",function(){return P}),e.d(t,"a",function(){return n});var C=new b,P=function(T,m,a){var p=C.addPlugin(T);p.js||p.registerPlugin(T,m,a)}},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(S,t,e){"use strict";var n=e(0),o=e(10),u=e(2);t.a=function(l){if(l&&l.file){var s=Object(n.g)({},{default:!1,type:""},l);s.file=Object(u.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,d=s.type;if(r.test(d)&&(s.mimeType=d,s.type=d.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(u.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(c){s[c]===""&&delete s[c]}),s}}}},function(S,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return u}),e.d(t,"a",function(){return l});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},u=120,l=25},function(S,t,e){"use strict";var n=function(){return l||(l=u.OS.tizenApp?e.e(2).then(function(d){var c=e(55).default;return s.controls=c,c}.bind(null,e)).catch(function(){l=null,Object(o.c)(301133)()}):e.e(1).then(function(d){var c=e(52).default;return s.controls=c,c}.bind(null,e)).catch(function(){l=null,Object(o.c)(301130)()})),l};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),u=e(7),l=null,s={}},function(S,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(S,t){var e=function(v){var x=document.createElement("style");return x.type="text/css",x.setAttribute("data-jwplayer-id",v),function(w){d().appendChild(w)}(x),x},n=function(v,x){var w,b,C,P=r[v];P||(P=r[v]={element:e(v),counter:0});var E=P.counter++;return w=P.element,C=function(){o(w,E,"")},(b=function(m){o(w,E,m)})(x.css),function(T){if(T){if(T.css===x.css&&T.media===x.media)return;b((x=T).css)}else C()}},o=function(v,x,w){if(v.styleSheet)v.styleSheet.cssText=h(x,w);else{var b=document.createTextNode(w),C=v.childNodes[x];C?v.replaceChild(b,C):v.appendChild(b)}},u,l,s={},r={},d=(u=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return l===void 0&&(l=u.apply(this,arguments)),l});S.exports={style:function(v,x){(function(w,b){for(var C=0;C<b.length;C++){var P=b[C],E=(s[w]||{})[P.id];if(E){for(var T=0;T<E.parts.length;T++)E.parts[T](P.parts[T]);for(;T<P.parts.length;T++)E.parts.push(n(w,P.parts[T]))}else{var m=[];for(T=0;T<P.parts.length;T++)m.push(n(w,P.parts[T]));s[w]=s[w]||{},s[w][P.id]={id:P.id,parts:m}}}})(x,function(w){for(var b=[],C={},P=0;P<w.length;P++){var E=w[P],T=E[0],m=E[1],a=E[2],p={css:m,media:a};C[T]?C[T].parts.push(p):b.push(C[T]={id:T,parts:[p]})}return b}(v))},clear:function(v,x){var w=s[v];if(!!w){if(x){var b=w[x];if(b)for(var C=0;C<b.parts.length;C+=1)b.parts[C]();return}for(var P=Object.keys(w),E=0;E<P.length;E+=1)for(var T=w[P[E]],m=0;m<T.parts.length;m+=1)T.parts[m]();delete s[v]}}};var c,h=(c=[],function(v,x){return c[v]=x,c.filter(Boolean).join("\n")})},function(S,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),u=e(15),l=e(26),s=e(20),r=e(9),d={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=d[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var x=l.a[h];return x||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=u.a.length,v=0;v<f;v++){var x=u.a[v];if(this.providerSupports(x,h))return{priority:f-v-1,name:x.name,type:h.type,providerToCheck:x,provider:l.a[x.name]}}return{}}}),t.a=n},function(S,t,e){"use strict";var n=function(s,r){var d=r.message,c=r.code,h=function(w,b,C,P){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(b||"")+'<span class="jw-break jw-reset"></span>'+(P?("("+C+": "+P+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),d,s.get("localization").errors.errorCode,c.toString()),f=s.get("width"),v=s.get("height"),x=Object(o.f)(h);return Object(u.d)(x,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),x},o=e(6),u=e(11);e.d(t,"a",function(){return n})},function(S,t,e){"use strict";var n=function(l){return l.slice&&l.slice(-2)==="px"&&(l=l.slice(0,-2)),l},o=function(l,s){if(s.toString().indexOf("%")===-1||typeof l!="string"||!l)return 0;if(/^\d*\.?\d+%$/.test(l))return l;var r=l.indexOf(":");if(r===-1)return 0;var d=parseFloat(l.substr(0,r)),c=parseFloat(l.substr(r+1));return d<=0||c<=0?0:c/d*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(S,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},u=e(0),l=e(8),s=e(3),r={},d=function(h,f,v){var x=function(E){C=2,b.trigger(s.w,E).off()},w=function(E){C=3,b.trigger(s.kb,E).off()},b=this,C=0;this.getStatus=function(){return C},this.load=function(){var P=r[h];return C!==0||(P&&P.then(w).catch(x),C=1,P=new Promise(function(E,T){var m=(f?n:o)(h,v),a=function(){m.onerror=m.onload=null,clearTimeout(g)},p=function(j){a(),x(j),T(j)},g=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);m.onerror=function(){p(new Error("Failed to load "+h))},m.onload=function(_){a(),w(_),E(_)};var y=document.getElementsByTagName("head")[0]||document.documentElement;y.insertBefore(m,y.firstChild)}),r[h]=P),P}};Object(u.g)(d.prototype,l.a),t.a=d},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(S,t,e){"use strict";var n=function(F){return F&&!(H.test(F)||typeof F=="object")},o=function(F){if(!F.handlers.init){var de=F.el,re=F.passive,V=!!j&&{passive:re},X=function(Y){if(F.dragged)f(F,C.s,Y);else{var Z=v(Y),ae=Z.pageX,ie=Z.pageY,je=ae-F.startX,Le=ie-F.startY;je*je+Le*Le>36&&(f(F,C.u,Y),F.dragged=!0,f(F,C.s,Y))}var ke;re||Y.type!=="touchmove"||(ke=Y).preventDefault&&ke.preventDefault()},oe=function(Y){clearTimeout(a),F.el&&(c(F),d(F,"window"),F.dragged&&(F.dragged=!1,f(F,C.t,Y)))};l(F,"init"),w(F,"init",function(G){if(Object(T.p)(de,"jw-tab-focus"),!x(G)){var Y=G.target,Z=G.type;if(!F.directSelect||Y===de){var ae=v(G),ie=ae.pageX,je=ae.pageY;if(F.dragged=!1,F.startX=ie,F.startY=je,d(F,"window"),Z==="pointerdown"&&G.isPrimary){if(!re){var Le=G.pointerId;F.pointerId=Le,de.setPointerCapture(Le)}r(F,"window","pointermove",X,V),r(F,"window","pointercancel",oe),r(F,"window","pointerup",oe)}else Z==="mousedown"?(r(F,"window","mousemove",X,V),r(F,"window","mouseup",oe)):Z==="touchstart"&&(r(F,"window","touchmove",X,V),r(F,"window","touchcancel",oe),r(F,"window","touchend",oe))}}},V),p||(p=new D(document).on("interaction"))}},u=function(F){if(!F.handlers.select){var de=F.el;l(F,"select"),w(F,"select",function(re){var V=re.target;x(re)||F.directSelect&&V!==de||(re.isPrimary&&V.tageName==="BUTTON"&&V.focus(),F.lastStart=Object(E.a)(),F.clicking=!0)}),r(F,"select","click",function(re){x(re)||F.directSelect&&re.target!==de||(Object(E.a)()-F.lastStart>500&&F.clicking===!0||(function(V,X){V.enableDoubleClick&&(Object(E.a)()-V.lastClick<300?(f(V,C.r,X),V.lastClick=0):V.lastClick=Object(E.a)())}(F,re),f(F,C.o,re)),F.clicking=!1)})}},l=function(F,de){if(!F.handlers.init&&!F.handlers.select){var re=F.el;r(F,de,"blur",function(){Object(T.p)(re,"jw-tab-focus"),F.clicking=!1}),r(F,de,"focus",function(){p.event&&p.event.type==="keydown"&&Object(T.b)(re,"jw-tab-focus")})}},s=function(F){var de=F.ownerDocument||F;return de.defaultView||de.parentWindow||window},r=function(F,de,re,V,X){X===void 0&&(X=R);var oe=F.handlers[de],G=F.options[de];if(oe||(oe=F.handlers[de]={},G=F.options[de]={}),oe[re])throw new Error(de+" "+re+" already registered");oe[re]=V,G[re]=X;var Y=F.el;(de==="window"?s(Y):Y).addEventListener(re,V,X)},d=function(F,de){var re=F.el,V=F.handlers,X=F.options,oe=de==="window"?s(re):re,G=V[de],Y=X[de];G&&(Object.keys(G).forEach(function(Z){var ae=Y[Z];typeof ae=="boolean"?oe.removeEventListener(Z,G[Z],ae):oe.removeEventListener(Z,G[Z])}),V[de]=null,X[de]=null)},c=function(F){var de=F.el;F.pointerId!==null&&(de.releasePointerCapture(F.pointerId),F.pointerId=null)},h=function(F,de,re){var V=F.el,X=re.target;F.trigger(de,{type:de,sourceEvent:re,currentTarget:V,target:X})},f=function(F,de,re){var V=function(X,oe,G){var Y,Z=oe.target,ae=oe.touches,ie=oe.changedTouches,je=oe.pointerType;ae||ie?(Y=ae&&ae.length?ae[0]:ie[0],je=je||"touch"):(Y=oe,je=je||"mouse");var Le=Y,ke=Le.pageX,Ze=Le.pageY;return{type:X,pointerType:je,pageX:ke,pageY:Ze,sourceEvent:oe,currentTarget:G,target:Z}}(de,re,F.el);F.trigger(de,V)},v=function(F){return F.type.indexOf("touch")===0?(F.originalEvent||F).changedTouches[0]:F},x=function(F){return!(!F.ctrlKey||F.type!=="click")||("which"in F?F.which===3:"button"in F&&F.button===2)},w=function(F,de,re,V){y?r(F,de,"pointerdown",re,V):(_&&r(F,de,"mousedown",re,V),r(F,de,"touchstart",re,V))};e.d(t,"a",function(){return D}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return x});var b=e(7),C=e(3),P=e(8),E=e(16),T=e(6);function m(J,F){return(m=Object.setPrototypeOf||function(de,re){return de.__proto__=re,de})(J,F)}var a,p,g="ontouchstart"in window,y="PointerEvent"in window&&!b.OS.android,_=!(y||g&&b.OS.mobile),j=b.Features.passiveEvents,R=!!j&&{passive:!0},D=function(J){var F=function(oe,G){var Y;Y=J.call(this)||this;var Z=!(G=G||{}).preventScrolling;return Y.directSelect=!!G.directSelect,Y.dragged=!1,Y.enableDoubleClick=!1,Y.el=oe,Y.handlers={},Y.options={},Y.lastClick=0,Y.lastStart=0,Y.passive=Z,Y.pointerId=null,Y.startX=0,Y.startY=0,Y.event=null,Y.clicking=!1,Y},de,re;re=J,(de=F).prototype=Object.create(re.prototype),de.prototype.constructor=de,m(de,re);var V=F.prototype;return V.on=function(X,oe,G){return n(X)&&(this.handlers[X]||K[X](this)),J.prototype.on.call(this,X,oe,G)},V.off=function(X,oe,G){var Y=this;if(n(X))d(this,X);else if(!X){var Z=this.handlers;Object.keys(Z).forEach(function(ae){d(Y,ae)})}return J.prototype.off.call(this,X,oe,G)},V.destroy=function(){this.el&&(this.off(),y&&c(this),this.el=null)},F}(P.a),H=/\s+/,K={drag:function(F){o(F)},dragStart:function(F){o(F)},dragEnd:function(F){o(F)},click:function(F){u(F)},doubleClick:function(F){F.enableDoubleClick=!0,u(F)},longPress:function(F){if(b.OS.iOS){var de=function(){clearTimeout(a)};r(F,"longPress","touchstart",function(re){de(),a=setTimeout(function(){f(F,"longPress",re)},500)}),r(F,"longPress","touchmove",de),r(F,"longPress","touchcancel",de),r(F,"longPress","touchend",de)}else F.el.oncontextmenu=function(re){return f(F,"longPress",re),!1}},focus:function(F){r(F,"focus","focus",function(de){h(F,"focus",de)})},blur:function(F){r(F,"blur","blur",function(de){h(F,"blur",de)})},over:function(F){(y||_)&&r(F,C.Z,y?"pointerover":"mouseover",function(de){de.pointerType!=="touch"&&f(F,C.Z,de)})},out:function(F){if(y){var de=F.el;r(F,C.Y,"pointerout",function(re){if(re.pointerType!=="touch"&&"clientX"in re){var V=document.elementFromPoint(re.clientX,re.clientY);de.contains(V)||f(F,C.Y,re)}})}else _&&r(F,C.Y,"mouseout",function(re){f(F,C.Y,re)})},move:function(F){(y||_)&&r(F,C.W,y?"pointermove":"mousemove",function(de){de.pointerType!=="touch"&&f(F,C.W,de)})},enter:function(F){r(F,C.v,"keydown",function(de){de.key!=="Enter"&&de.keyCode!==13||(de.stopPropagation(),h(F,C.v,de))})},keydown:function(F){r(F,"keydown","keydown",function(de){h(F,"keydown",de)},!1)},gesture:function(F){var de=function(V){return f(F,"gesture",V)};r(F,"gesture","click",de),r(F,"gesture","keydown",de)},interaction:function(F){var de=function(V){F.event=V};r(F,"interaction","mousedown",de,!0),r(F,"interaction","keydown",de,!0)},tap:function(){},doubleTap:function(){}}},function(S,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(u){return setTimeout(u,17)},o=window.cancelAnimationFrame||clearTimeout},function(S,t,e){"use strict";var n=function(T,m){this.name=T,this.message=m.message||m.toString(),this.error=m},o=e(0),u=e(19),l=e(10),s=e(12),r=e(2),d=e(23),c=e(17),h=e(5),f=e(6),v=e(11),x=e(21),w=e(40),b=e(36),C=e(41),P=Object(o.g)({},s,l,u,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:x.a,crossdomain:function(T){var m=window.URL;try{var a=new m(T,location.origin);return location.protocol+"//"+location.host!=a.protocol+"//"+a.host}catch(p){}return!0},tryCatch:function(T,m,a){if(a===void 0&&(a=[]),c.a.debug)return T.apply(m||this,a);try{return T.apply(m||this,a)}catch(p){return new n(T.name,p)}},Error:n,Timer:d.a,log:b.a,genId:C.b,between:w.a,foreach:function(T,m){for(var a in T)Object.prototype.hasOwnProperty.call(T,a)&&m(a,T[a])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=P},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(u,l,s){return Math.max(Math.min(u,s),l)}},function(S,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return u}),e.d(t,"b",function(){return o});var u=12},function(S,t,e){"use strict";var n=function(u,l,s){var r=[],d={};function c(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(d[f]||u[f]).apply(u,v)}}l.forEach(function(h){var f=u[h];d[h]=f,u[h]=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];s()?r.push({command:h,args:x}):(c(),f&&f.apply(this,x))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=c,this.empty=function(){r.length=0},this.off=function(){l.forEach(function(h){var f=d[h];f&&(u[h]=f,delete d[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(S,t,e){"use strict";function n(u,l){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(u,l)}e.d(t,"a",function(){return o});var o=function(u){var l=function(){var h;return(h=u.call(this)||this).attributes=Object.create(null),h},s,r;r=u,(s=l).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var d=l.prototype;return d.addAttributes=function(c){var h=this;Object.keys(c).forEach(function(f){h.add(f,c[f])})},d.add=function(c,h){var f=this;Object.defineProperty(this,c,{get:function(){return f.attributes[c]},set:function(x){return f.set(c,x)},enumerable:!1}),this.attributes[c]=h},d.get=function(c){return this.attributes[c]},d.set=function(c,h){if(this.attributes[c]!==h){var f=this.attributes[c];this.attributes[c]=h,this.trigger("change:"+c,this,h,f)}},d.clone=function(){var c={},h=this.attributes;if(h)for(var f in h)c[f]=h[f];return c},d.change=function(c,h,f){this.on("change:"+c,h,f);var v=this.get(c);return h.call(f,this,v,v),this},l}(e(8).a)},function(S,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return u});var n=4,o=5,u=1},function(S,t,e){"use strict";var n=function(l,s){return Object(o.g)({},s,{prime:function(){l.src||l.load()},getPrimedElement:function(){return l},clean:function(){s.clean(l)},recycle:function(){s.clean(l)}})};e.d(t,"a",function(){return n});var o=e(0)},function(S,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(S,t,e){"use strict";var n=function(Re){return F||(F=function(_e){var Ne=_e.get("controls"),Je=o(),Ye=function(rt,ht){var at=rt.get("playlist");if(Array.isArray(at)&&at.length)for(var ut=Object(R.f)(rt.get("item"),at.length),qe=Object(R.c)(Object(j.a)(at[ut]),rt),ze=0;ze<qe.length;ze++)for(var Fe=qe[ze],tt=rt.getProviders(),nt=0;nt<D.a.length;nt++){var bt=D.a[nt];if(tt.providerSupports(bt,Fe))return bt.name===ht}return!1}(_e,"html5");if(m.OS.tizen)return u();if(Ne&&Je&&Ye)return Te=e.e(7).then(function(rt){e(116);var ht=e(54).default;return K.a.controls=e(52).default,Object(H.a)(e(117).default),ht}.bind(null,e)).catch(Object(_.b)(J.q+105)),_.a.html5=Te,Te;var Te;return Ne&&Ye?function(){var rt=e.e(5).then(function(ht){var at=e(54).default;return K.a.controls=e(52).default,Object(H.a)(e(117).default),at}.bind(null,e)).catch(Object(_.b)(J.q+104));return _.a.html5=rt,rt}():Ne&&Je?e.e(6).then(function(rt){e(116);var ht=e(54).default;return K.a.controls=e(52).default,ht}.bind(null,e)).catch(Object(_.b)(J.q+103)):Ne?e.e(4).then(function(rt){var ht=e(54).default;return K.a.controls=e(52).default,ht}.bind(null,e)).catch(Object(_.b)(J.q+102)):u()}(Re)),F},o=function(){var Re=window.IntersectionObserverEntry;return!Re||!("IntersectionObserver"in window)||!("intersectionRatio"in Re.prototype)},u=function(){return function(){return o()?e.e(8).then(function(Re){return e(116)}.bind(null,e)).catch(Object(_.b)(J.q+120)):Promise.resolve()}().then(_.d)},l=function(Re,_e,Ne){var Je=Re.attributes;Je.playlist=Object(R.a)(_e),Je.feedData=Ne},s=function(Re){return function(_e){var Ne=_e.get("playlist");return new Promise(function(Je,Ye){if(typeof Ne!="string"){var Te=_e.get("feedData")||{};return l(_e,Ne,Te),Je()}var rt=new re.a;rt.on(de.eb,function(ht){var at=ht.playlist;delete ht.playlist,l(_e,at,ht),Je()}),rt.on(de.w,function(ht){l(_e,[],{}),Ye(Object(J.w)(ht,J.r))}),rt.load(Ne)})}(Re).then(function(){if(!c(Re)){var _e=Object(R.b)(Re.get("playlist"),Re);Re.attributes.playlist=_e;try{Object(R.e)(_e)}catch(ht){throw ht.code+=J.r,ht}var Ne=Re.getProviders(),Je=Object(R.f)(Re.get("item"),_e.length),Ye=Ne.choose(_e[Je].sources[0]),Te=Ye.provider,rt=Ye.name;return typeof Te=="function"?Te:_.a.html5&&rt==="html5"?_.a.html5:Ne.load(rt).catch(function(ht){throw Object(J.w)(ht,J.s)})}})},r=function(Re){var _e=Re.get("skin")?Re.get("skin").url:void 0;return typeof _e=="string"&&!function(Ne){for(var Je=document.styleSheets,Ye=0,Te=Je.length;Ye<Te;Ye++)if(Je[Ye].href===Ne)return!0;return!1}(_e)?new V.a(_e,!0).load().catch(function(Ne){return Ne}):Promise.resolve()},d=function(Re){var _e=Re.attributes,Ne=_e.language,Je=_e.base,Ye=_e.setupConfig,Te=_e.intl,rt=Object(p.b)(Ye,Te,Ne);return!Object(p.f)(Ne)||Object(p.d)(rt)?Promise.resolve():new Promise(function(ht){return Object(p.g)(Je,Ne).then(function(at){var ut=at.response;if(!c(Re)){if(!ut)throw new J.o(null,J.h);_e.localization=Object(p.a)(ut,rt),ht()}}).catch(function(at){ht(at.code===J.h?at:Object(J.w)(at,J.g))})})},c=function(Re){return Re.attributes._destroyed},h=function(Re){Re.src||Re.load()},f=function(Re){var _e=document.createElement("video");return _e.className="jw-video jw-reset",_e.setAttribute("tabindex","-1"),_e.setAttribute("disableRemotePlayback",""),_e.setAttribute("webkit-playsinline",""),_e.setAttribute("playsinline",""),Re&&Object.keys(Re).forEach(function(Ne){_e.setAttribute(Ne,Re[Ne])}),_e},v=function(Re,_e){_e&&_e.code&&(_e.sourceError&&console.error(_e.sourceError),console.error(J.o.logMessage(_e.code)))},x=function(Re){Re&&Re.code&&console.warn(J.o.logMessage(Re.code))},w=function(Re,_e){if(!document.body.contains(Re.currentContainer)){var Ne=document.getElementById(Re.get("id"));Ne&&(Re.currentContainer=Ne)}Re.currentContainer.parentElement&&Re.currentContainer.parentElement.replaceChild(_e,Re.currentContainer),Re.currentContainer=_e},b=e(0),C=e(42),P=e(34),E=e(19),T=e(12),m=e(7),a=e(30),p=e(13),g={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:a.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(Re,_e){var Ne=Object(b.g)({},(window.jwplayer||{}).defaults,_e,Re);(function(st){Object.keys(st).forEach(function(ye){ye!=="id"&&(st[ye]=Object(T.serialize)(st[ye]))})})(Ne);var Je=Ne.forceLocalizationDefaults?g.language:Object(p.c)(),Ye=Object(p.h)(Ne.intl);Ne.localization=Object(p.a)(a.a,Object(p.b)(Ne,Ye,Je));var Te=Object(b.g)({},g,Ne);Te.base==="."&&(Te.base=Object(E.getScriptPath)("jwplayer.js")),Te.base=(Te.base||Object(E.loadFrom)()).replace(/\/?$/,"/"),e.p=Te.base,Te.width=Object(P.b)(Te.width),Te.height=Object(P.b)(Te.height),Te.aspectratio=Object(P.a)(Te.aspectratio,Te.width),Te.volume=Object(b.u)(Te.volume)?Math.min(Math.max(0,Te.volume),100):g.volume,Te.mute=!!Te.mute,Te.language=Je,Te.intl=Ye;var rt=Te.playlistIndex;rt&&(Te.item=rt),Object(b.r)(Te.item)||(Te.item=0);var ht=Ne.autoPause;ht&&(Te.autoPause.viewability=!("viewability"in ht)||!!ht.viewability);var at=Te.playbackRateControls;if(at){var ut=Te.playbackRates;Array.isArray(at)&&(ut=at),(ut=ut.filter(function(st){return Object(b.r)(st)&&st>=.25&&st<=4}).map(function(st){return Math.round(100*st)/100})).indexOf(1)<0&&ut.push(1),ut.sort(),Te.playbackRateControls=!0,Te.playbackRates=ut}(!Te.playbackRateControls||Te.playbackRates.indexOf(Te.defaultPlaybackRate)<0)&&(Te.defaultPlaybackRate=1),Te.playbackRate=Te.defaultPlaybackRate,Te.aspectratio||delete Te.aspectratio;var qe=Te.playlist;if(qe)Array.isArray(qe.playlist)&&(Te.feedData=qe,Te.playlist=qe.playlist);else{var ze=Object(b.x)(Te,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);Te.playlist=[ze]}Te.qualityLabels=Te.qualityLabels||Te.hlslabels,delete Te.duration;var Fe=Te.liveTimeout;Fe!==null&&(Object(b.u)(Fe)?Fe!==0&&(Fe=Math.max(30,Fe)):Fe=null,Te.liveTimeout=Fe);var tt,nt,bt,wt=parseFloat(Te.bandwidthEstimate),_t=parseFloat(Te.bitrateSelection);return Te.bandwidthEstimate=Object(b.u)(wt)?wt:(tt=Te.defaultBandwidthEstimate,nt=parseFloat(tt),Object(b.u)(nt)?Math.max(nt,1):g.bandwidthEstimate),Te.bitrateSelection=Object(b.u)(_t)?_t:g.bitrateSelection,Te.liveSyncDuration=(bt=Te.liveSyncDuration)<5?5:bt>30?30:bt,Te.backgroundLoading=Object(b.n)(Te.backgroundLoading)?Te.backgroundLoading:m.Features.backgroundLoading,Te},_=e(9),j=e(24),R=e(18),D=e(15),H=e(20),K=e(29),J=e(1),F=null,de=e(3),re=e(48),V=e(35),X=e(25),oe=function(Re){var _e;this.start=function(Ne){var Je=function(rt,ht){return Object(X.a)(rt,ht)}(Re,Ne),Ye=Promise.all([n(Re),Je,s(Re),Promise.resolve(),r(Re),d(Re)]),Te=new Promise(function(rt,ht){_e=setTimeout(function(){ht(new J.o(J.k,J.u))},6e4);var at=function(){clearTimeout(_e),setTimeout(rt,6e4)};Ye.then(at).catch(at)});return Promise.race([Ye,Te]).catch(function(rt){var ht=function(){throw rt};return Je.then(ht).catch(ht)}).then(function(rt){return function(ht){if(!ht||!ht.length)return{core:null,warnings:[]};var at=ht.reduce(function(ut,qe){return ut.concat(qe)},[]).filter(function(ut){return ut&&ut.code});return{core:ht[0],warnings:at}}(rt)})},this.destroy=function(){clearTimeout(_e),Re.set("_destroyed",!0),Re=null}},G=e(32),Y=e(23),Z=e(17),ae={removeItem:function(Re){}};try{ae=window.localStorage||ae}catch(pt){}var ie=function(){var pt=function(Ne,Je){this.namespace=Ne,this.items=Je},Re=pt.prototype;return Re.getAllItems=function(){var _e=this;return this.items.reduce(function(Ne,Je){var Ye=ae[_e.namespace+"."+Je];return Ye&&(Ne[Je]=Je!=="captions"?Object(T.serialize)(Ye):JSON.parse(Ye)),Ne},{})},Re.track=function(_e){var Ne=this;this.items.forEach(function(Je){_e.on("change:"+Je,function(Ye,Te){try{Je==="captions"&&(Te=JSON.stringify(Te)),ae[Ne.namespace+"."+Je]=Te}catch(rt){Z.a.debug&&console.error(rt)}})})},Re.clear=function(){var _e=this;this.items.forEach(function(Ne){ae.removeItem(_e.namespace+"."+Ne)})},pt}(),je=e(43),Le=e(28),ke=e(8),Ze=e(33),Ve=e(44),Xe=e(45),dt=e(37);e(51),e(53),e.d(t,"b",function(){return w});var yt=function(Re){this._events={},this.modelShim=new je.a,this.modelShim._qoeItem=new Y.a,this.mediaShim={},this.setup=new oe(this.modelShim),this.currentContainer=this.originalContainer=Re,this.apiQueue=new C.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(b.g)(yt.prototype,{on:ke.a.on,once:ke.a.once,off:ke.a.off,trigger:ke.a.trigger,init:function(Re,_e){var Ne=this,Je=this.modelShim,Ye=new ie("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),Te=Ye&&Ye.getAllItems();Je.attributes=Je.attributes||{},Object(b.g)(this.mediaShim,Le.c);var rt=Re,ht=y(Object(b.g)({},Re),Te);ht.id=_e.id,ht.setupConfig=rt,Object(b.g)(Je.attributes,ht,Le.d),Je.getProviders=function(){return new G.a(ht)},Je.setProvider=function(){};var at=function(){for(var qe=Ve.c,ze=[],Fe=[],tt=0;tt<qe;tt++){var nt=f();ze.push(nt),Fe.push(nt),h(nt)}var bt=Fe.shift(),wt=Fe.shift(),_t=!1;return{primed:function(){return _t},prime:function(){ze.forEach(h),_t=!0},played:function(){_t=!0},getPrimedElement:function(){return Fe.shift()||null},getAdElement:function(){return bt},getTestElement:function(){return wt},clean:function(ye){if(ye.src){ye.removeAttribute("src");try{ye.load()}catch(N){}}},recycle:function(ye){ye&&!Fe.some(function(N){return N===ye})&&(this.clean(ye),Fe.push(ye))},syncVolume:function(ye){var N=Math.min(Math.max(0,ye/100),1);ze.forEach(function(We){We.volume=N})},syncMute:function(ye){ze.forEach(function(N){N.muted=ye})}}}();Je.get("backgroundLoading")||(at=Object(Xe.a)(at.getPrimedElement(),at));var ut=this.primeUi=new dt.a(Object(dt.b)(this.originalContainer)).once("gesture",function(){at.prime(),Ne.preload(),ut.destroy()});return Je.on("change:errorEvent",v),this.setup.start(_e).then(function(qe){var ze=qe.core;if(!ze)throw Object(J.w)(null,J.t);if(Ne.setup){Ne.on(de.ub,x),qe.warnings.forEach(function(bt){Ne.trigger(de.ub,bt)});var Fe=Ne.modelShim.clone();if(Fe.error)throw Fe.error;var tt=Ne.apiQueue.queue.slice(0);Ne.apiQueue.destroy(),Object(b.g)(Ne,ze.prototype),Ne.playerSetup(Fe,_e,Ne.originalContainer,Ne._events,tt,at);var nt=Ne._model;return Je.off("change:errorEvent",v),nt.on("change:errorEvent",v),Ye.track(nt),Ne.updatePlaylist(nt.get("playlist"),nt.get("feedData")).catch(function(bt){var wt=bt.code===J.a?J.p:J.r;throw Object(J.w)(bt,wt)})}}).then(function(){Ne.setup&&Ne.playerReady()}).catch(function(qe){Ne.setup&&function(ze,Fe,tt){Promise.resolve().then(function(){var nt=Object(J.x)(J.n,J.v,tt),bt=ze._model||ze.modelShim;nt.message=nt.message||bt.get("localization").errors[nt.key],delete nt.key;var wt=bt.get("contextual");if(!wt){var _t=Object(Ze.a)(ze,nt);Ze.a.cloneIcon&&_t.querySelector(".jw-icon").appendChild(Ze.a.cloneIcon("error")),w(ze,_t)}bt.set("errorEvent",nt),bt.set("state",de.lb),ze.trigger(de.ib,nt),wt&&Fe.remove()})}(Ne,_e,qe)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&w(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Re){if(this.modelShim)return Re in this.mediaShim?this.mediaShim[Re]:this.modelShim.get(Re)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Re){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Re)},getConfig:function(){return Object(b.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=yt},function(S,t,e){"use strict";var n=function(P){var E={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return E[P]?E[P]:P},o=function(P){for(var E=[],T=0;T<Object(r.c)(P);T++){var m=P.childNodes[T];m.prefix==="jwplayer"&&Object(r.b)(m).toLowerCase()==="mediatypes"&&E.push(Object(r.d)(m))}return E},u=function(P){for(var E={},T=0;T<P.childNodes.length;T++){var m=P.childNodes[T],a=Object(r.b)(m);if(a)switch(a.toLowerCase()){case"enclosure":E.file=Object(d.j)(m,"url");break;case"title":E.title=Object(r.d)(m);break;case"guid":E.mediaid=Object(r.d)(m);break;case"pubdate":E.date=Object(r.d)(m);break;case"description":E.description=Object(r.d)(m);break;case"link":E.link=Object(r.d)(m);break;case"category":E.tags?E.tags+=Object(r.d)(m):E.tags=Object(r.d)(m)}}return new v.a(f(P,c(P,E)))},l=e(0),s=e(3),r=e(4),d=e(2),c=function C(P,E){for(var T=[],m=0;m<Object(r.c)(P);m++){var a=P.childNodes[m];if(a.prefix==="media"){if(!Object(r.b)(a))continue;switch(Object(r.b)(a).toLowerCase()){case"content":if(Object(d.j)(a,"duration")&&(E.duration=Object(d.g)(Object(d.j)(a,"duration"))),Object(d.j)(a,"url")){E.sources||(E.sources=[]);var p={file:Object(d.j)(a,"url"),type:Object(d.j)(a,"type"),width:Object(d.j)(a,"width"),label:Object(d.j)(a,"label")},g=o(a);g.length&&(p.mediaTypes=g),E.sources.push(p)}Object(r.c)(a)>0&&(E=C(a,E));break;case"title":E.title=Object(r.d)(a);break;case"description":E.description=Object(r.d)(a);break;case"guid":E.mediaid=Object(r.d)(a);break;case"thumbnail":E.image||(E.image=Object(d.j)(a,"url"));break;case"group":C(a,E);break;case"subtitle":var y={file:Object(d.j)(a,"url"),kind:"captions"};Object(d.j)(a,"lang").length>0&&(y.label=n(Object(d.j)(a,"lang"))),T.push(y)}}}E.tracks||(E.tracks=[]);for(var _=0;_<T.length;_++)E.tracks.push(T[_]);return E},h=e(12),f=function(P,E){for(var T="default",m=[],a=[],p=E,g=0;g<P.childNodes.length;g++){var y=P.childNodes[g];if(y.prefix==="jwplayer"){var _=Object(r.b)(y);_==="source"?(delete E.sources,m.push({file:Object(d.j)(y,"file"),default:Object(d.j)(y,T),label:Object(d.j)(y,"label"),type:Object(d.j)(y,"type")})):_==="track"?(delete E.tracks,a.push({file:Object(d.j)(y,"file"),default:Object(d.j)(y,T),kind:Object(d.j)(y,"kind"),label:Object(d.j)(y,"label")})):(E[_]=Object(h.serialize)(Object(r.d)(y)),_==="file"&&E.sources&&delete E.sources)}E.file||(E.file=E.link)}if(m.length){E.sources=[];for(var j=0;j<m.length;j++){var R=m[j];R.file.length>0&&(R[T]=m[j][T]==="true",R.label||delete R.label,p.sources.push(R))}}if(a.length){E.tracks=[];for(var D=0;D<a.length;D++){var H=a[D];H.file&&H.file.length>0&&(H[T]=a[D][T]==="true",H.kind=a[D].kind.length?a[D].kind:"captions",H.label||delete H.label,p.tracks.push(H))}}return p},v=e(24),x=e(21),w=e(8),b=e(1);t.a=function(){var C=function(m){try{var a,p=m.responseXML?m.responseXML.childNodes:null,g=null;if(p){for(var y=0;y<p.length&&(g=p[y]).nodeType===8;y++);if(g&&Object(r.b)(g)==="xml"&&(g=g.nextSibling),g&&Object(r.b)(g)==="rss"){var _=function(R){var D=[];D.feedData={};for(var H=0;H<Object(r.c)(R);H++){var K=Object(r.a)(R,H);if(Object(r.b)(K).toLowerCase()==="channel")for(var J=0;J<Object(r.c)(K);J++){var F=Object(r.a)(K,J),de=Object(r.b)(F).toLowerCase();de==="item"?D.push(u(F)):de&&(D.feedData[de]=Object(r.d)(F))}}return D}(g);a=Object(l.g)({playlist:_},_.feedData)}}if(!a)try{var j=JSON.parse(m.responseText);if(Array.isArray(j))a={playlist:j};else{if(!Array.isArray(j.playlist))throw Error("Playlist is not an array");a=j}}catch(R){throw new b.o(b.l,621,R)}E.trigger(s.eb,a)}catch(R){P(R)}},P=function(m){_instanceof(m,b.o)&&!m.code&&(m=new b.o(b.l,0)),E.trigger(s.w,m)},E=Object(l.g)(this,w.a);this.load=function(T){Object(x.a)(T,C,function(m,a,p,g){P(g)})},this.destroy=function(){this.off()}}},function(S,t,e){"use strict";var n=function(l){return l.type==="hls"&&o.OS.android?l.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(S,t,e){"use strict";var n=e(3),o=function(){},u=function(){return!1},l={name:"default"},s={supports:u,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:u,supportsFullscreen:u,getContainer:o,setContainer:o,getName:function(){return l},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(d){this.state=d,this.trigger(n.bb,{newstate:d})},sendMediaType:function(d){var c=d[0],h=c.type,f=c.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(S,t,e){"use strict";var n=function(T,m){for(var a=m.length;a--;){var p=m[a];if(T.target===p.getContainer()){p.setIntersection(T);break}}},o=function(){f.forEach(function(T){var m=T.model;if(!(m.get("audioMode")||m.get("isFloating")||!m.get("controls")||m.get("visibility")<.75)){var a=m.get("state"),p=Object(h.g)();!p&&a==="paused"&&T.api.getFullscreen()?T.api.setFullscreen(!1):a==="playing"&&T.api.setFullscreen(p)}})},u=function(){f.forEach(function(T){T.model.set("activeTab",Object(d.a)())})},l=function(T,m){var a=m.indexOf(T);a!==-1&&m.splice(a,1)},s=function(T){x.forEach(function(m){m(T)})},r,d=e(46),c=e(7),h=e(6),f=[],v=[],x=[],w={},b="screen"in window&&"orientation"in window.screen,C=c.OS.android&&c.Browser.chrome,P=!1;document.addEventListener("visibilitychange",u),document.addEventListener("webkitvisibilitychange",u),C&&b&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",u),document.removeEventListener("webkitvisibilitychange",u),window.removeEventListener("scroll",s),C&&b&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(T){f.push(T)},remove:function(T){l(T,f)},addScrollHandler:function(T){P||(P=!0,window.addEventListener("scroll",s)),x.push(T)},removeScrollHandler:function(T){var m=x.indexOf(T);m!==-1&&x.splice(m,1)},addWidget:function(T){v.push(T)},removeWidget:function(T){l(T,v)},size:function(){return f.length},observe:function(T){var m;m=window.IntersectionObserver,r||(r=new m(function(a){if(a&&a.length)for(var p=a.length;p--;){var g=a[p];n(g,f),n(g,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),w[T.id]||(w[T.id]=!0,r.observe(T))},unobserve:function(T){r&&w[T.id]&&(delete w[T.id],r.unobserve(T))}}},,function(S,t,e){"use strict";var n=function(){Object(u.a)(d),d=Object(u.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return c});var o=e(0),u=e(38),l=e(6),s=e(11),r=[],d=-1,c=function(){var h=function(v,x,w){var b={display:"block",position:"absolute",top:0,left:0},C={width:"100%",height:"100%"},P=Object(l.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),E=P.firstChild,T=E.firstChild,m=E.nextSibling;Object(s.d)([E,m],Object(o.g)({overflow:"auto"},b,C)),Object(s.d)(P,Object(o.g)({},b,C)),this.expandElement=E,this.expandChild=T,this.contractElement=m,this.hiddenElement=P,this.element=v,this.view=x,this.model=w,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(P,v.firstChild):v.appendChild(P),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(S,t,e){"use strict";var n=function(){},o=function(V,X){for(;V._state===3;)V=V._value;V._state!==0?(V._handled=!0,b._immediateFn(function(){var oe=V._state===1?X.onFulfilled:X.onRejected;if(oe!==null){var G;try{G=oe(V._value)}catch(Y){return void l(X.promise,Y)}u(X.promise,G)}else(V._state===1?u:l)(X.promise,V._value)})):V._deferreds.push(X)},u=function(V,X){try{if(X===V)throw new TypeError("A promise cannot be resolved with itself.");if(X&&(typeof X=="object"||typeof X=="function")){var oe=X.then;if(_instanceof(X,b))return V._state=3,V._value=X,void s(V);if(typeof oe=="function")return void d((G=oe,Y=X,function(){G.apply(Y,arguments)}),V)}V._state=1,V._value=X,s(V)}catch(Z){l(V,Z)}var G,Y},l=function(V,X){V._state=2,V._value=X,s(V)},s=function(V){V._state===2&&V._deferreds.length===0&&b._immediateFn(function(){V._handled||b._unhandledRejectionFn(V._value)});for(var X=0,oe=V._deferreds.length;X<oe;X++)o(V,V._deferreds[X]);V._deferreds=null},r=function(V,X,oe){this.onFulfilled=typeof V=="function"?V:null,this.onRejected=typeof X=="function"?X:null,this.promise=oe},d=function(V,X){var oe=!1;try{V(function(G){oe||(oe=!0,u(X,G))},function(G){oe||(oe=!0,l(X,G))})}catch(G){if(oe)return;oe=!0,l(X,G)}},c=function(V,X){var oe=new R.a(X);return oe.on(D.gb,function(G){V._qoe.tick("ready"),G.setupTime=V._qoe.between("setup","ready")}),oe.on("all",function(G,Y){V.trigger(G,Y)}),oe},h=function(V,X){var oe=V.plugins,G=Object.keys(oe).map(function(Y){var Z=oe[Y];return delete oe[Y],Z});X.get("setupConfig")&&V.trigger("remove"),V.off(),X.playerDestroy(),G.forEach(function(Y){if(Y.destroy)try{Y.destroy()}catch(Z){}}),X.getContainer().removeAttribute("data-jwplayer-id")},f=function(V){var X=++F,oe=V.id||"player-"+X,G=new H.a,Y={},Z=c(this,V);G.tick("init"),V.setAttribute("data-jwplayer-id",oe),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe}},uniqueId:{enumerable:!0,get:function(){return X}},plugins:{enumerable:!0,get:function(){return Y}},_qoe:{enumerable:!0,get:function(){return G}},version:{enumerable:!0,get:function(){return g.a}},Events:{enumerable:!0,get:function(){return K.a}},utils:{enumerable:!0,get:function(){return J.a}},_:{enumerable:!0,get:function(){return y.c}}}),Object(y.g)(this,{_events:{},setup:function(ie){return G.clear("ready"),G.tick("setup"),Z&&h(this,Z),(Z=c(this,V)).init(ie,this),this.on(ie.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ie){for(var je=E.a.length;je--;)if(E.a[je].uniqueId===ie.uniqueId){E.a.splice(je,1);break}}(this),Z&&h(this,Z),Object.keys(Y).forEach(function(ie){delete Y[ie]}),this},qoe:function(){var ie=Z.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ie.getFirstFrame?ie.getFirstFrame():null,player:this._qoe.dump(),item:ie.dump()}},addCues:function(ie){return Array.isArray(ie)&&Z.addCues(ie),this},getAudioTracks:function(){return Z.getAudioTracks()},getBuffer:function(){return Z.get("buffer")},getCaptions:function(){return Z.get("captions")},getCaptionsList:function(){return Z.getCaptionsList()},getConfig:function(){return Z.getConfig()},getContainer:function(){return Z.getContainer()},getControls:function(){return Z.get("controls")},getCues:function(){return Z.get("cues")},getCurrentAudioTrack:function(){return Z.getCurrentAudioTrack()},getCurrentCaptions:function(){return Z.getCurrentCaptions()},getCurrentQuality:function(){return Z.getCurrentQuality()},getCurrentTime:function(){return Z.get("currentTime")},getDuration:function(){return Z.get("duration")},getEnvironment:function(){return j},getFullscreen:function(){return Z.get("fullscreen")},getHeight:function(){return Z.getHeight()},getItemMeta:function(){return Z.get("itemMeta")||{}},getMute:function(){return Z.getMute()},getPercentViewable:function(){return Z.get("visibility")},getPip:function(){return Z.get("pip")},getPlaybackRate:function(){return Z.get("playbackRate")},getPlaylist:function(){return Z.get("playlist")},getPlaylistIndex:function(){return Z.get("item")},getPlaylistItem:function(ie){if(!J.a.exists(ie))return Z.get("playlistItem");var je=this.getPlaylist();return je?je[ie]:null},getPosition:function(){return Z.get("position")},getProvider:function(){return Z.getProvider()},getQualityLevels:function(){return Z.getQualityLevels()},getSafeRegion:function(ie){return ie===void 0&&(ie=!0),Z.getSafeRegion(ie)},getState:function(){return Z.getState()},getStretching:function(){return Z.get("stretching")},getViewable:function(){return Z.get("viewable")},getVisualQuality:function(){return Z.getVisualQuality()},getVolume:function(){return Z.get("volume")},getWidth:function(){return Z.getWidth()},setCaptions:function(ie){return Z.setCaptions(ie),this},setConfig:function(ie){return Z.setConfig(ie),this},setControls:function(ie){return Z.setControls(ie),this},setCurrentAudioTrack:function(ie){Z.setCurrentAudioTrack(ie)},setCurrentCaptions:function(ie){Z.setCurrentCaptions(ie)},setCurrentQuality:function(ie){Z.setCurrentQuality(ie)},setFullscreen:function(ie){return Z.setFullscreen(ie),this},setAllowFullscreen:function(ie){return Z.setAllowFullscreen(ie),this},setMute:function(ie){return Z.setMute(ie),this},setPip:function(ie){return Z.setPip(ie),this},setPlaybackRate:function(ie){return Z.setPlaybackRate(ie),this},setPlaylistItem:function(ie,je){return Z.setPlaylistItem(ie,je),this},setCues:function(ie){return Array.isArray(ie)&&Z.setCues(ie),this},setVolume:function(ie){return Z.setVolume(ie),this},load:function(ie,je){return Z.load(ie,je),this},play:function(ie){return Z.play(ie),this},pause:function(ie){return Z.pause(ie),this},playToggle:function(ie){switch(this.getState()){case D.pb:case D.jb:return this.pause(ie);default:return this.play(ie)}},seek:function(ie,je){return Z.seek(ie,je),this},playlistItem:function(ie,je){return Z.playlistItem(ie,je),this},playlistNext:function(ie){return Z.playlistNext(ie),this},playlistPrev:function(ie){return Z.playlistPrev(ie),this},next:function(ie){return Z.next(ie),this},requestPip:function(ie){return Z.requestPip(ie),this},castToggle:function(){return Z.castToggle(),this},stopCasting:function(){return Z.stopCasting(),this},createInstream:function(){return Z.createInstream()},stop:function(){return Z.stop(),this},resize:function(ie,je){return Z.resize(ie,je),this},addButton:function(ie,je,Le,ke,Ze){return Z.addButton(ie,je,Le,ke,Ze),this},removeButton:function(ie){return Z.removeButton(ie),this},attachMedia:function(){return Z.attachMedia(),this},detachMedia:function(){return Z.detachMedia(),this},isBeforeComplete:function(){return Z.isBeforeComplete()},isBeforePlay:function(){return Z.isBeforePlay()},setPlaylistItemCallback:function(ie,je){Z.setItemCallback(ie,je)},removePlaylistItemCallback:function(){Z.setItemCallback(null)},getPlaylistItemPromise:function(ie){return Z.getItemPromise(ie)},getFloating:function(){return!!Z.get("isFloating")},setFloating:function(ie){Z.setConfig({floating:{mode:ie?"always":"never"}})}})},v=function(V){for(var X=0;X<E.a.length;X++)if(E.a[X].id===V)return E.a[X];return null},x=function(V){Object.defineProperties(V,{api:{get:function(){return a},set:function(){}},version:{get:function(){return g.a},set:function(){}},debug:{get:function(){return _.a.debug},set:function(oe){_.a.debug=!!oe}}})};e.r(t);var w=setTimeout;function b(re){if(!_instanceof(this,b))throw new TypeError("Promises must be constructed via new");if(typeof re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(re,this)}b.prototype.catch=function(re){return this.then(null,re)},b.prototype.then=function(re,V){var X=new this.constructor(n);return o(this,new r(re,V,X)),X},b.prototype.finally=function(re){var V=this.constructor;return this.then(function(X){return V.resolve(re()).then(function(){return X})},function(X){return V.resolve(re()).then(function(){return V.reject(X)})})},b.all=function(re){return new b(function(V,X){if(!re||re.length===void 0)throw new TypeError("Promise.all accepts an array");var oe=Array.prototype.slice.call(re);if(oe.length===0)return V([]);var G=oe.length;function Y(ae,ie){try{if(ie&&(typeof ie=="object"||typeof ie=="function")){var je=ie.then;if(typeof je=="function")return void je.call(ie,function(Le){Y(ae,Le)},X)}oe[ae]=ie,--G==0&&V(oe)}catch(Le){X(Le)}}for(var Z=0;Z<oe.length;Z++)Y(Z,oe[Z])})},b.resolve=function(re){return re&&typeof re=="object"&&re.constructor===b?re:new b(function(V){V(re)})},b.reject=function(re){return new b(function(V,X){X(re)})},b.race=function(re){return new b(function(V,X){for(var oe=0,G=re.length;oe<G;oe++)re[oe].then(V,X)})},b._immediateFn=typeof setImmediate=="function"&&function(re){setImmediate(re)}||function(re){w(re,0)},b._unhandledRejectionFn=function(re){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",re)};var C=b;window.Promise||(window.Promise=C);var P=e(19),E=e(14),T=e(15),m=e(20),a={availableProviders:T.a,registerProvider:m.a},p=e(25),g=e(22),y=e(0),_=e(17),j=e(7),R=e(47),D=e(3),H=e(23),K=e(8),J=e(39),F=0;Object(y.g)(f.prototype,{on:function(V,X,oe){return K.c.call(this,V,X,oe)},once:function(V,X,oe){return K.d.call(this,V,X,oe)},off:function(V,X,oe){return K.b.call(this,V,X,oe)},trigger:function(V,X){return(X=y.c.isObject(X)?Object(y.g)({},X):{}).type=V,_.a.debug?K.e.call(this,V,X):K.f.call(this,V,X)},getPlugin:function(V){return this.plugins[V]},addPlugin:function(V,X){this.plugins[V]=X,this.on("ready",X.addToPlayer),X.resize&&this.on("resize",X.resizeHandler)},registerPlugin:function(V,X,oe){Object(p.b)(V,X,oe)},getAdBlock:function(){return!1},playAd:function(V){},pauseAd:function(V){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return x}),e.p=Object(P.loadFrom)();var de=function(V){var X,oe;if(V?typeof V=="string"?(X=v(V))||(oe=document.getElementById(V)):typeof V=="number"?X=E.a[V]:V.nodeType&&(X=v((oe=V).id||oe.getAttribute("data-jwplayer-id"))):X=E.a[0],X)return X;if(oe){var G=new f(oe);return E.a.push(G),G}return{registerPlugin:p.b}};x(de),t.default=de}]).default}}),Zf,hr,ep=Tt({"https-url:https://av.prod.archive.org/js/jwplayer.js":function(){r8(),Zf=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8",hr=window.jwplayer}}),vr,tp,np=Tt({"https-url:https://av.prod.archive.org/js/playset.js":function(){db(),Qf(),Rs(),n8(),ep(),vr=function(){"use strict";function S(){if(_classCallCheck(this,S),vr.avplayer="#jw6",vr.resizer_listening=!1,vr.unplayable_timer=null,vr.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!vr.is_local_storage_available()){this.selector_play_items=ee(".js-playset-items"),this.selector_playlist=ee(".js-playset-list");var t=ee(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(ee(this.selector_play_items).append('<span id="playplayset"/>'),ee("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),kd("#playplayset",vr.create_playlist_goto_first_item),ca("autoplay",!0)&&!ca("playset",!0)&&setTimeout(vr.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,ca("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;ee("#playset-xs").length||ee("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),vr.skip_unplayable_item(),vr.resizer()}Rn("playset ready")}}return _createClass(S,[{key:"show_playlist",value:function(){var e=this,n=vr.get_playset();if(!!n){var o=!1,u="",l=!0,s=!1,r=void 0;try{for(var d=n.list[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u+=vr.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}if(!!o){var f="\n".concat(vr.playlist_header(n),'\n<div class="playset-list">\n').concat(u,"\n</div>\n");ee("body").addClass("playset"),ee("body").addClass(ee("#theatre-ia-wrap").length?"":" playset-hdr-only"),ee(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),kd("#playset-pp .js-playset-play",vr.play),kd("#playset-pp .js-playset-pause",vr.pause),setTimeout(function(){e.autoscroll_playlist()},500),ee(document).ready(function(){ee("#texty iframe").on("load",function(){ee("#texty iframe").contents().click(vr.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=ee('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=ee("#playset-xs:visible").length?10:ee("#topnav").height(),o=e.top-n-ee("#playset-ia .playset-hdr").height();Rn("scrolling playset to ",o),ee("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){Rn("create_playlist_goto_first_item()");var e=[],n=ee("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";ee(o).each(function(u,l){var s=ee(l),r=s.data().id;if(!r.match(/^__/)){var d=vr.truncate(s.find(".item-ttl,.collection-title a").text(),35),c=vr.truncate(s.find(".byv").text(),75),h=s.data().year,f=vr.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,d,c.length?c:f,h])}}),vr.set_playset(e),vr.mobile?vr.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,u=!1,l=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;n.push(d[0])}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){vr.resizer_listening||(vr.resizer_listening=!0,ee(window).on("resize  orientationchange",function(){clearTimeout(vr.throttler),vr.throttler=setTimeout(vr.resizer,250)}));var e=ee("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=ee("#playset-ia").parent().attr("id");Rn("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?ee("#playset-ia").appendTo("#playset-xs > div"):ee("#playset-ia").prependTo("#".concat(e)),Rn("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(vr.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(vr.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(vr.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(vr.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,u){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(vr.item_year(u),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){vr.unplayable_timer=setTimeout(function(){(typeof hr=="undefined"||!ee(vr.avplayer).length)&&vr.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=vr.get_playlist(),o="",u=!0,l=!1,s=void 0;try{for(var r=n[Symbol.iterator](),d;!(u=(d=r.next()).done);u=!0){var c=d.value;e===o&&(location.href="/details/".concat(c[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(c,1),o=h[0]}}catch(f){l=!0,s=f}finally{try{!u&&r.return!=null&&r.return()}finally{if(l)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),u=e.getPlaylist().length,l=o+1>=u||n&&n.done;!l||vr.goto_next_item()}},{key:"get_playlist",value:function(){var e=vr.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(Rn("playset pause"),typeof hr!="undefined"&&ee(vr.avplayer).length){var e=hr(vr.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),ee("#playset-pp a").toggle()),!1}return vr.unplayable_timer&&(clearTimeout(vr.unplayable_timer),vr.unplayable_timer=null,ee("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(Rn("play/resume"),typeof hr!="undefined"&&ee(vr.avplayer).length){var e=hr(vr.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),ee("#playset-pp a").toggle()),!1}return vr.unplayable_timer||(vr.skip_unplayable_item(),ee("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),S}(),ee(function(){return new vr}),tp=vr}});function rp(S,t){function e(o,u,l){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u")){l=Os({},t,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var r in l)l[r]&&(s+="; "+r,l[r]!==!0&&(s+="="+l[r].split(";")[0]));return document.cookie=o+"="+S.write(u,o)+s}}function n(o){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u"||arguments.length&&!o)){for(var u=document.cookie?document.cookie.split("; "):[],l={},s=0;s<u.length;s++){var r=u[s].split("="),d=r.slice(1).join("=");try{var c=decodeURIComponent(r[0]);if(l[c]=S.read(d,c),o===c)break}catch(h){}}return o?l[o]:l}}return Object.create({set:e,get:n,remove:function(u,l){e(u,"",Os({},l,{expires:-1}))},withAttributes:function(u){return rp(this.converter,Os({},this.attributes,u))},withConverter:function(u){return rp(Os({},this.converter,u),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(S)}})}var hb,Gr,fb=Tt({"https-url:https://esm.archive.org/v99/js-cookie@3.0.5/deno/js-cookie.js":function(){hb={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},Gr=rp(hb,{path:"/"})}}),da=Tt({"https-url:https://esm.archive.org/js-cookie":function(){fb(),fb()}}),oi=Tt({"components/util/jquery.js":function(){_d(),window.jQuery=ee,window.$=ee}}),dn,vo=Tt({"components/util/log.js":function(){dn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):function(){}}}),zu,pb=Tt({"components/util/ios.js":function(){zu=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0}}),vb=Tt({"components/util/center.js":function(){oi(),vo(),pb(),ee.fn.center=function(){var t=ee(this).innerHeight();dn("myheight",t),dn("mywidth",this.width()),dn("w.height",ee(window).height(),"w.width",ee(window).width(),"w.scrollTop",ee(window).scrollTop(),"w.scrollLeft",ee(window).scrollLeft());var e,n;if(zu){var o=window.innerWidth,u=window.innerHeight;dn("vpH",u),dn("vpW",o),e=(u-t)/2+ee(window).scrollTop(),n=(o-this.width())/2+ee(window).scrollLeft()}else e=(ee(window).height()-t)/2,n=(ee(window).width()-this.width())/2;return e=Math.max(20,e),n=Math.max(20,n),this.css({position:zu?"absolute":"fixed",display:"block",top:e,left:n}),this}}}),ip,i8=Tt({"components/util/popup.js":function(){oi(),vo(),ip=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"params",value:function(e,n){var o={height:n,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(o).filter(function(u){return o[u]}).reduce(function(u,l){return u.concat("".concat(l,"=").concat(o[l]))},[]).join(",")}},{key:"setupPopupLink",value:function(){var e="popup-link",n="popup-link-width",o="popup-link-height";dn("popup setup"),ee(document.body).off("click.PopupLink").on("click.PopupLink","[data-".concat(e,"]"),function(u){u.preventDefault();var l=ee(u.currentTarget),s=l.data(n)||500,r=l.data(o)||500;window.open(u.currentTarget.href,"popup",ip.params(s,r))})}}]),S}(),ee(ip.setupPopupLink)}}),xd,gb=Tt({"components/util/message.js":function(){xd=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),S}()}}),o8=Tt({"components/tilebars/tilebars.js":function(){oi()}}),mb,a8=Tt({"components/util/throttler.js":function(){mb=function(){"use strict";function S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,S),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(S,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),S}()}}),op,yb=Tt({"components/util/scroll-proximity-handler.js":function(){oi(),a8(),op=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=ee(window),this.throttler=new mb(this.scrollListener,100,this)}return _createClass(S,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),S}()}}),bb,s8=Tt({"components/util/is-bot.js":function(){bb=/bot|crawl|spider/i.test(navigator.userAgent)}}),Ra,wb=Tt({"components/related/related.js":function(){oi(),gb(),o8(),yb(),s8(),Ra=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"setup",value:function(){var e=ee("#js-related");if(e.length&&(uf(),ee(window).on("resize  orientationchange",function(o){clearTimeout(Ra.also_found_throttler),Ra.also_found_throttler=setTimeout(uf,250)})),!(!e.length||bb)){var n=ee("#also-found");this.scrollProximityHandler=new op("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(xd.LoadingMessage({message:"Fetching items"})),Ra.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=ee("#also-found").data("identifier"),n=ee("#js-related");return Ra.getRelatedItems(e).then(function(o){n.html(o),uf()}).catch(function(o){ee("#playplayset").hide(),n.html(xd.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,u){var l="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";ee.get(l,function(r){r===""&&u(new Error("No similar items found.")),r==="service_disabled"&&u(new Error(s)),o(r)}).fail(function(){u(new Error(s))})})}}]),S}(),ee(function(){return Ra.setup()})}}),_b,ap,kb,xb,Sb,Ab,Cb,Ob,jb,Eb,Pb,Vn,sp,Tb,lp,Ib=Tt({"https-url:https://esm.archive.org/v99/clipboard@2.0.11/deno/clipboard.js":function(){_b=Object.create,ap=Object.defineProperty,kb=Object.getOwnPropertyDescriptor,xb=Object.getOwnPropertyNames,Sb=Object.getPrototypeOf,Ab=Object.prototype.hasOwnProperty,Cb=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Ob=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!Ab.call(t,v)&&v!==n&&ap(t,v,{get:function(){return e[v]},enumerable:!(o=kb(e,v))||o.enumerable})},d=xb(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},jb=function(t,e,n){return n=t!=null?_b(Sb(t)):{},Ob(e||!t||!t.__esModule?ap(n,"default",{value:t,enumerable:!0}):n,t)},Eb=Cb(function(t,e){(function(n,o){typeof t=="object"&&typeof e=="object"?e.exports=o():typeof define=="function"&&define.amd?define([],o):typeof t=="object"?t.ClipboardJS=o():n.ClipboardJS=o()})(t,function(){return function(){var n={686:function(l,s,r){"use strict";var d=function(Y){try{return document.execCommand(Y)}catch(Z){return!1}},c=function(Y){var Z=document.documentElement.getAttribute("dir")==="rtl",ae=document.createElement("textarea");ae.style.fontSize="12pt",ae.style.border="0",ae.style.padding="0",ae.style.margin="0",ae.style.position="absolute",ae.style[Z?"right":"left"]="-9999px";var ie=window.pageYOffset||document.documentElement.scrollTop;return ae.style.top="".concat(ie,"px"),ae.setAttribute("readonly",""),ae.value=Y,ae},h=function(Y,Z){if(!_instanceof(Y,Z))throw new TypeError("Cannot call a class as a function")},f=function(Y,Z){for(var ae=0;ae<Z.length;ae++){var ie=Z[ae];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(Y,ie.key,ie)}},v=function(Y,Z,ae){return Z&&f(Y.prototype,Z),ae&&f(Y,ae),Y},x=function(Y,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Z&&re(Y,Z)},w=function(Y){var Z=P();return function(){var ae=V(Y),ie;if(Z){var je=V(this).constructor;ie=Reflect.construct(ae,arguments,je)}else ie=ae.apply(this,arguments);return b(this,ie)}},b=function(Y,Z){return Z&&(de(Z)==="object"||typeof Z=="function")?Z:C(Y)},C=function(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y},P=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Y){return!1}},E=function(Y,Z){var ae="data-clipboard-".concat(Y);if(Z.hasAttribute(ae))return Z.getAttribute(ae)};r.d(s,{default:function(){return oe}});var T=r(279),m=r.n(T),a=r(370),p=r.n(a),g=r(817),y=r.n(g),_=function(Y){var Z=y()(Y);return d("cut"),Z},j=_,R=function(Y,Z){var ae=c(Y);Z.container.appendChild(ae);var ie=y()(ae);return d("copy"),ae.remove(),ie},D=function(Y){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},ae="";return typeof Y=="string"?ae=R(Y,Z):_instanceof(Y,HTMLInputElement)&&!["text","search","url","tel","password"].includes(Y==null?void 0:Y.type)?ae=R(Y.value,Z):(ae=y()(Y),d("copy")),ae},H=D;function K(G){return typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?K=function(Z){return typeof Z=="undefined"?"undefined":_typeof(Z)}:K=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z=="undefined"?"undefined":_typeof(Z)},K(G)}var J=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=Y.action,ae=Z===void 0?"copy":Z,ie=Y.container,je=Y.target,Le=Y.text;if(ae!=="copy"&&ae!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(je!==void 0)if(je&&K(je)==="object"&&je.nodeType===1){if(ae==="copy"&&je.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(ae==="cut"&&(je.hasAttribute("readonly")||je.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}else throw new Error('Invalid "target" value, use a valid Element');if(Le)return H(Le,{container:ie});if(je)return ae==="cut"?j(je):H(je,{container:ie})},F=J;function de(G){return typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?de=function(Z){return typeof Z=="undefined"?"undefined":_typeof(Z)}:de=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z=="undefined"?"undefined":_typeof(Z)},de(G)}function re(G,Y){return re=Object.setPrototypeOf||function(Z,ae){return Z.__proto__=ae,Z},re(G,Y)}function V(G){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},V(G)}var X=function(G){x(Z,G);var Y=w(Z);function Z(ae,ie){var je;return h(this,Z),je=Y.call(this),je.resolveOptions(ie),je.listenClick(ae),je}return v(Z,[{key:"resolveOptions",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ie.action=="function"?ie.action:this.defaultAction,this.target=typeof ie.target=="function"?ie.target:this.defaultTarget,this.text=typeof ie.text=="function"?ie.text:this.defaultText,this.container=de(ie.container)==="object"?ie.container:document.body}},{key:"listenClick",value:function(ie){var je=this;this.listener=p()(ie,"click",function(Le){return je.onClick(Le)})}},{key:"onClick",value:function(ie){var je=ie.delegateTarget||ie.currentTarget,Le=this.action(je)||"copy",ke=F({action:Le,container:this.container,target:this.target(je),text:this.text(je)});this.emit(ke?"success":"error",{action:Le,text:ke,trigger:je,clearSelection:function(){je&&je.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ie){return E("action",ie)}},{key:"defaultTarget",value:function(ie){var je=E("target",ie);if(je)return document.querySelector(je)}},{key:"defaultText",value:function(ie){return E("text",ie)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ie){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return H(ie,je)}},{key:"cut",value:function(ie){return j(ie)}},{key:"isSupported",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],je=typeof ie=="string"?[ie]:ie,Le=!!document.queryCommandSupported;return je.forEach(function(ke){Le=Le&&!!document.queryCommandSupported(ke)}),Le}}]),Z}(m()),oe=X},828:function(l){var s=function(h,f){for(;h&&h.nodeType!==r;){if(typeof h.matches=="function"&&h.matches(f))return h;h=h.parentNode}},r=9;if((typeof Element=="undefined"?"undefined":_typeof(Element))<"u"&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}l.exports=s},438:function(l,s,r){var d=function(x,w,b,C,P){var E=h.apply(this,arguments);return x.addEventListener(b,E,P),{destroy:function(){x.removeEventListener(b,E,P)}}},c=function(x,w,b,C,P){return typeof x.addEventListener=="function"?d.apply(null,arguments):typeof b=="function"?d.bind(null,document).apply(null,arguments):(typeof x=="string"&&(x=document.querySelectorAll(x)),Array.prototype.map.call(x,function(E){return d(E,w,b,C,P)}))},h=function(x,w,b,C){return function(P){P.delegateTarget=f(P.target,w),P.delegateTarget&&C.call(x,P)}},f=r(828);l.exports=c},879:function(l,s){s.node=function(r){return r!==void 0&&_instanceof(r,HTMLElement)&&r.nodeType===1},s.nodeList=function(r){var d=Object.prototype.toString.call(r);return r!==void 0&&(d==="[object NodeList]"||d==="[object HTMLCollection]")&&"length"in r&&(r.length===0||s.node(r[0]))},s.string=function(r){return typeof r=="string"||_instanceof(r,String)},s.fn=function(r){var d=Object.prototype.toString.call(r);return d==="[object Function]"}},370:function(l,s,r){var d=function(b,C,P){if(!b&&!C&&!P)throw new Error("Missing required arguments");if(!v.string(C))throw new TypeError("Second argument must be a String");if(!v.fn(P))throw new TypeError("Third argument must be a Function");if(v.node(b))return c(b,C,P);if(v.nodeList(b))return h(b,C,P);if(v.string(b))return f(b,C,P);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")},c=function(b,C,P){return b.addEventListener(C,P),{destroy:function(){b.removeEventListener(C,P)}}},h=function(b,C,P){return Array.prototype.forEach.call(b,function(E){E.addEventListener(C,P)}),{destroy:function(){Array.prototype.forEach.call(b,function(T){T.removeEventListener(C,P)})}}},f=function(b,C,P){return x(document.body,b,C,P)},v=r(879),x=r(438);l.exports=d},817:function(l){var s=function(d){var c;if(d.nodeName==="SELECT")d.focus(),c=d.value;else if(d.nodeName==="INPUT"||d.nodeName==="TEXTAREA"){var h=d.hasAttribute("readonly");h||d.setAttribute("readonly",""),d.select(),d.setSelectionRange(0,d.value.length),h||d.removeAttribute("readonly"),c=d.value}else{d.hasAttribute("contenteditable")&&d.focus();var f=window.getSelection(),v=document.createRange();v.selectNodeContents(d),f.removeAllRanges(),f.addRange(v),c=f.toString()}return c};l.exports=s},279:function(l){var s=function(){};s.prototype={on:function(d,c,h){var f=this.e||(this.e={});return(f[d]||(f[d]=[])).push({fn:c,ctx:h}),this},once:function(d,c,h){var f=this;function v(){f.off(d,v),c.apply(h,arguments)}return v._=c,this.on(d,v,h)},emit:function(d){var c=[].slice.call(arguments,1),h=((this.e||(this.e={}))[d]||[]).slice(),f=0,v=h.length;for(f;f<v;f++)h[f].fn.apply(h[f].ctx,c);return this},off:function(d,c){var h=this.e||(this.e={}),f=h[d],v=[];if(f&&c)for(var x=0,w=f.length;x<w;x++)f[x].fn!==c&&f[x].fn._!==c&&v.push(f[x]);return v.length?h[d]=v:delete h[d],this}},l.exports=s,l.exports.TinyEmitter=s}},o={};function u(l){if(o[l])return o[l].exports;var s=o[l]={exports:{}};return n[l](s,s.exports,u),s.exports}return function(){u.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return u.d(s,{a:s}),s}}(),function(){u.d=function(l,s){for(var r in s)u.o(s,r)&&!u.o(l,r)&&Object.defineProperty(l,r,{enumerable:!0,get:s[r]})}}(),function(){u.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)}}(),u(686)}().default})}),Pb=jb(Eb());var S;Vn=Pb,S=Vn,sp=S.default,Tb=xi(Vn,["default"]),lp=sp!==void 0?sp:Tb}}),l8=Tt({"https-url:https://esm.archive.org/clipboard":function(){Ib(),Ib()}}),u8=Tt({"components/setUpCopyableTexts/setUpCopyableTexts.js":function(){l8(),oi(),ee(kO)}}),c8=Tt({"components/disabilityEligibility/disabilityEligibility.js":function(){oi(),vo(),ee(function(){return xO()})}}),Mb,d8=Tt({"components/related-music/related-music.js":function(){oi(),yb(),Mb=function(){"use strict";function S(t){_classCallCheck(this,S),this.$relatedTable=t,this.itemIdentifier=this.$relatedTable.data("item_identifier"),this.scrollProximityHandler=new op("related_music",this.$relatedTable,this.startFetch.bind(this))}return _createClass(S,[{key:"startListener",value:function(){this.scrollProximityHandler.startListener()}},{key:"startFetch",value:function(){var e=this,n,o=(n=this.$relatedTable.find("tbody tr").length)!=null?n:0;return window==null||window.archive_analytics.send_event("related-music","start-fetch",o),new Promise(function(u){var l=e;e.$relatedTable.find("tbody tr").each(function(s,r){var d=ee(r).data("filename");l.fetchRelatedMusic(d)}),u()})}},{key:"fetchRelatedMusic",value:function(e){var n=this,o="/services/related-music/?item_identifier=".concat(this.itemIdentifier,"&file_name=").concat(e);ee.ajax({url:o,type:"GET",dataType:"json",crossDomain:!0}).then(function(u){n.handleResponse(e,"versions",u.result.versions),n.handleResponse(e,"compilations",u.result.compilations),n.handleResponse(e,"covers",u.result.covers)})}},{key:"handleResponse",value:function(e,n,o){var u=this.$relatedTable.find('tr[data-filename="'.concat(e,'"] .track-').concat(n)),l=u.find(".related-image"),s=u.find(".badge"),r=u.find(".related-album-image"),d=u.find(".img-container");l.removeClass("loading");var c=o?o.length:0,h=c>=50?"50<sup>+</sup>":c;s.html(h),c!==0&&(l.removeClass("empty"),r.attr("src","/services/img/".concat(o[0])),r.on("load",function(){var f=r.width()/r.height();f===4&&d.addClass("is-waveform")}))}}]),S}(),ee(function(){var S=ee(".related-music-table");if(S.length){var t=new Mb(S);setTimeout(function(){t.startListener()},5e3)}ee("#related-music-more-info-btn").on("click",function(){return ee("#related-music-more-info-content").toggle(),!1}),ee(".js-related-music-track-type").on("click",function(e){var n,o,u,l=e.currentTarget,s=(o=(n=l.dataset)==null?void 0:n.trackType)!=null?o:"unknown";(u=window==null?void 0:window.archive_analytics)==null||u.send_event("related-music","track-type-click",s)})})}}),Rb,Lb,h8=Tt({"components/paramsToJSON/paramsToJSON.js":function(){Rb=function(){var S=window.location.search.substring(1),t={};return S.length>0&&S.split("&").forEach(function(e){var n=_slicedToArray(e.split("="),2),o=n[0],u=n[1];t[o]=decodeURIComponent(u)}),t},Lb=Rb}}),up=Tt({"components/util/onclick.js":function(){oi()}}),kr,f8=Tt({"components/manage/manage.js":function(){vo(),Md(),vb(),up(),oi(),kr=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"css",value:function(){var e=document.createElement("style");e.textContent="\n#manage-ids {\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 1px;\n}\n\n#manage-help > div {\n  display: inline-block;\n  font-weight: bold;\n  font-size: 125%;\n  padding-right: 10px;\n}\n\n#manage-help .btn-info {\n  background-color: #777;\n  border-color: #666;\n}\n\n\n#manage-help > p {\n  text-align: center;\n}\n\n.item-ia.manage-item  .item-img {\n  opacity: .8;\n}\n\n.item-ia.manage-item  .item-img:hover {\n  opacity: .9;\n}\n\n.manage-check {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-style: solid;\n  border-color: black;\n  border-width: 2px 4px;\n  background-color: black;\n  border-radius: 3px;\n}\n\n#confirm-remove-items .btn {\n  display: block;\n  margin: 0 auto 10px;\n}\n\n.task-pending {\n  opacity: .20;\n}\n\n/* Bulk remove items modal */\n#confirm-remove-items .modal-content {\n  padding: 1rem;\n}\n\n#confirm-remove-items h2 {\n  font-size: 2.4rem;\n}\n";var n=document.getElementsByTagName("head")[0];n.appendChild(e)}},{key:"Context",get:function(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}},{key:"manage_items",value:function(e){ee("body").hasClass("lists")&&ee(".tiles-button:visible").click();var n=ee("body").hasClass("search-results-page")?kr.Context.SearchResults:$t.inTab();if(![kr.Context.Favorites,kr.Context.Uploads,kr.Context.Collections,kr.Context.WebArchives,kr.Context.SearchResults].includes(n)){alert("Removal feature cannot be used here");return}var o=[".item-ia.new-item"];if(n===kr.Context.Uploads||n===kr.Context.Collections){var u=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);u&&o.push('.item-ia[data-id="fav-'.concat(u[1],'"]'))}if(ee(o.join(", ")).toggleClass("hidden-tiles"),ee(".columns-facets").toggleClass("opac30"),ee(".item-ia .manage-check").length)ee(".item-ia").removeClass("manage-item").unbind("click"),ee(".columns-items .co-top-row > div").toggle(),ee(".item-ia .manage-check, #manage-help").remove(),ee(".item-ia").off("contextmenu");else{if(ee("#manage-help").length&&!ee(".item-ia .hov").length){ee(".item-ia").removeClass("manage-item").unbind("click"),ee(".columns-items .co-top-row > div").toggle(),ee(".item-ia .manage-check, #manage-help").remove(),ee(".item-ia").off("contextmenu");return}var l;switch(n){case kr.Context.Favorites:l="Select items to un-favorite";break;case kr.Context.SearchResults:l="Select items";break;default:l="Select items to remove"}ee(".columns-items .co-top-row").prepend('\n<div id="manage-help" style="display:none">\n  <div>\n    '.concat(l,'\n  </div>\n  <div class="topinblock">\n    <button class="btn btn-small btn-info"\n      onclick="Manage.manage_items()">Cancel</button>\n    <button class="btn btn-small btn-danger"\n      onclick="Manage.remove_items_modal(\'').concat(n,"')\">Remove selected items</button>\n    ").concat(e&&n===kr.Context.SearchResults?'\n      <button class="btn btn-small btn-warning"\n        onclick="Manage.to_item_manager()">Item Manager the items</button>\n      ':"","\n  </div>\n    ").concat(e?'\n    <p class="topinblock">\n      <a href="#" onclick="return Manage.toggle_checkboxes()">\n        Toggle</br>all\n      </a>\n    </p>\n    ':"","\n</div>")),ee(".columns-items .co-top-row > div").toggle(),ee(".item-ia.task-pending").bind("click",kr.tile_clicked);var s=ee(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)");s.addClass("manage-item").bind("click",kr.tile_clicked).append(kr.checkbox(n===kr.Context.SearchResults?"include item for item management":"remove this item from list")),ee(".item-ia").on("contextmenu",function(r){var d=ee(r.target).find("a:first").attr("href")||ee(r.target).parents("a").attr("href");dn("right-click",d),window.open(d,"_blank")})}}},{key:"remove_favorite_item",value:function(e){var n=ee(e),o=n.data("id"),u=n.data("fav-collection");if(!(!o||!u)){var l=location.protocol.concat("//",location.host,"/details/",u).concat("?remove_item=".concat(encodeURIComponent(o),"&kind=favorite"));kr.toggle_favorite_icon(n,!1),kr.update_favorite_count(!1),ee.get(l)}}},{key:"checkbox",value:function(e){return'\n<div class="manage-check">\n  <input\n    type="checkbox"\n    alt="'.concat(e,'"\n    title="').concat(e,'"/>\n</div>')}},{key:"tile_clicked",value:function(e){var n=ee(e.target);if(n.attr("type")==="checkbox")return!0;e.stopPropagation(),e.preventDefault();var o=n.parents(".item-ia").find(".manage-check input");return o.prop("checked",!o.prop("checked")),!1}},{key:"toggle_checkboxes",value:function(){return ee(".manage-check input").prop("checked",function(e,n){return!n}),!1}},{key:"remove_items_modal",value:function(e){var n="";ee(".item-ia[data-id]:has(:checked)").each(function(l,s){var r=ee(s),d=r.find(".C2 a").text().trim();n+='\n        <div>\n          <div class="pull-right">\n            '.concat(r.find(".pubdate > :first").text(),"\n          </div>\n          <div>\n            ").concat(d.length?d:"[untitled]","\n          </div>\n          <hr/>\n        </div>\n      ")});var o=n===""?"No items selected":"Are you sure you want to remove these items?";if(n==="")n='\n        <div class="alert alert-danger">\n          Please select some items using checkboxes from the prior screen to remove.\n        </div>';else{var u;switch(e){case kr.Context.Favorites:u="confirmed_remove_favorites";break;case kr.Context.WebArchives:u="confirmed_remove_web_archives";break;default:u="confirmed_dark_items"}n+='\n        <button class="btn btn-small btn-danger"\n          onclick="Manage.'.concat(u,'()">\n          Remove items\n        </button>')}$t.modal_add(kr.modalID,{title:o,body:n,headerClass:""}).modal("show")}},{key:"checked_ids",value:function(){return ee(".item-ia[data-id]:has(:checked)").toArray().reduce(function(e,n){var o=ee(n).data().id;return e.concat(e?",":"",o)},"")}},{key:"checked_ids_json",value:function(){var e=ee(".item-ia[data-id]:has(:checked)").toArray().map(function(n){return ee(n).data().id});return JSON.stringify(e)}},{key:"to_item_manager",value:function(){var e=kr.checked_ids();if(dn("to_item_manager:",e),e!==""){var n=ee('\n        <form id="manage-ids" method="POST" action="/manage/">\n          <input type="text" name="identifier" value="'.concat(e,'"/>\n        </form>'));ee("body").append(n),n.submit()}return!1}},{key:"confirmed_remove_web_archives",value:function(){var e={action:"delete",identifiers:kr.checked_ids_json()};ee.ajax({type:"POST",url:"/services/web-archives/service.php",data:e,error:function(n,o,u){alert("Unable to complete the request. Our servers might be busy. Please try again later."),ee(kr.modalID).modal("hide")},success:kr.update_tiles})}},{key:"confirmed_dark_items",value:function(){var e={identifier:kr.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":"from ".concat(location.pathname)};ee.post("/manage/",e,kr.update_tiles)}},{key:"confirmed_remove_favorites",value:function(){var e=kr.checked_ids(),n=location.href.replace(/#.*$/,"").concat("?kind=favorite&remove_item=".concat(encodeURIComponent(e)));return ee.get(n,kr.update_tiles),!1}},{key:"update_tiles",value:function(){ee(".item-ia[data-id]:has(:checked)").remove(),$t.tiler(),ee(kr.modalID).modal("hide")}},{key:"decorate_pendings",value:function(e){!e.length||(dn("pending",e),e.forEach(function(n){return ee(".item-ia[data-id=".concat(n,"]")).addClass("task-pending")}))}},{key:"toggle_list_status",value:function(e){return ee(e).hasClass("favorited")?kr.remove_favorite_item(e,!0):$t.modal_go(e,{favorite:1}),!1}},{key:"toggle_favorite_icon",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=ee(e).find("span.icon-label");e.length&&(e.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),n?(e.addClass("favorited"),e.attr({"data-original-title":"Unfavorite"}),o.text("Unfavorite")):(e.removeClass("favorited"),e.attr({"data-original-title":"Favorite"}),o.text("Favorite")))}},{key:"update_favorite_count",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=ee(".favorite-count"),o=n.find(".item-stats-summary__label"),u=n.find(".item-stats-summary__count");u.length||(u=document.createElement("span"),u.className="item-stats-summary__count",n.append(u),o=document.createElement("span"),o.className="item-stats-summary__label",n.append(o));var l=Number(ee(u).text().trim().replace(/,/g,""));e?l+=1:l-=1,ee(o).text(l===1?" Favorite":" Favorites"),ee(u).text(l.toLocaleString())}}]),S}(),ee(function(){if(window.location.hostname!=="web.archive.org"){kr.modalID="#confirm-remove-items",kr.css(),ee("body").hasClass("manage")&&kr.manage_items(1);var S=ee(".js-manage-toggle_list_status");S.length&&S.bind("click",function(t){t.preventDefault(),kr.toggle_list_status(S[0])}),Kr(".js-search-bar-manage",function(t){return kr.manage_items(1)})}}),window.Manage=kr}}),Db,p8=Tt({"components/nav/banners.js":function(){Db={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss:function(t){t.preventDefault();var e=t.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(e.getAttribute("data-campaign")),e.remove()},readStorage:function(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage:function(t){var e=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify(_toConsumableArray(e).concat([t])))},bindEvents:function(){var t=this;document.querySelectorAll("".concat(this.selector," [data-action=").concat(this.action,"]")).forEach(function(e){var n=t;e.addEventListener("submit",function(o){return n.dismiss(o),!1})})},checkVisibility:function(){var t=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(function(e){e.classList.toggle("visible",!t.includes(e.getAttribute("data-campaign")))})},isLocalStorageAvailable:function(){try{return Object.keys(localStorage).length>=0}catch(t){return!1}},init:function(){this.bindEvents(),this.checkVisibility()}}}}),$b=Tt({"components/util/cgiarg.js":function(){}}),Bb=Tt({"components/util/add_commas.js":function(){}}),Nb,v8=Tt({"components/login/loginModal.js":function(){da(),oi(),Md(),Nb=function(S){var t=S.$form,e=S.url,n=S.selector,o=S.element,u=S.conf,l={success:function(r){Gr.get("logged-in-user")!==void 0?(ee(n).on("hidden.bs.modal",function(){ee(n).remove(),$t.modal_go(o,Ei(Jr({},u),{postLogin:!0}))}),ee(document.body).removeClass("blurry"),ee(n).modal("hide")):r.status!=="ok"&&(r.status==="bad_login"&&ee(".reset-password").hide(),ee(".password-error").html(r.message))},error:function(r){var d=r.responseJSON;ee(".reset-password").hide(),d?ee(".password-error").html(d.message):ee(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};t.on("submit",function(){var s={},r=l.success,d=l.error;return t.find("input").each(function(c,h){ee(h).attr("name").length&&(s[ee(h).attr("name")]=ee(h).val())}),s.submit_by_js="true",t.find(".alert").remove(),ee.ajax(e,{type:"POST",data:s,success:r,error:d}),!1})}}}),Hu,g8=Tt({"components/geo/geo.js":function(){oi(),Bb(),gb(),Hu=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"RegionsTable",value:function(e){var n=e.caption,o=n===void 0?"Regions":n,u=e.captionClass,l=u===void 0?"":u,s=e.counts,r=s===void 0?[]:s;return'\n      <table class="stats-table">\n        <caption class="'.concat(l,'">').concat(o,'</caption>\n\n        <thead>\n          <tr>\n            <th scope="col">Region</th>\n            <th scope="col">Country</th>\n            <th class="stats-table__numeric-column" scope="col">Views</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          ').concat(r.map(function(d){return'\n            <tr key="'.concat(d.state.code,"_").concat(d.country.code,"_").concat(d.count,'">\n              <td>').concat(d.state.formattedName,"</td>\n              <td>").concat(d.country.formattedName,'</td>\n              <td class="stats-table__numeric-column">').concat(d.formattedCount,"</td>\n            </tr>")}).join(""),"\n        </tbody>\n      </table>")}},{key:"setUpTopRegionsTable",value:function(){var e=ee(".js-top-regions-table"),n=e.find(".js-top-regions-message"),o=n.text();if(!(!e||!n)){n.html(xd.LoadingMessage({message:"loading data"}));var u={uaKinds:["non_robot","unrecognized"]};e.data("days")&&(u.days=parseInt(e.data("days"),10)),e.data("limit")&&(u.limit=parseInt(e.data("limit"),10)),Hu.StatsApiClient.getGeoCounts(e.data("identifier"),u).then(function(l){e.html(Hu.RegionsTable({caption:e.data("caption"),captionClass:e.data("captionClass"),counts:l}))},function(){n.text(o)})}}}]),S}(),function(){var t=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},e=function(r){return new u({count:r.sum_count_value,country:new o({code:r.geo_country,name:r.country}),state:new o({code:r.geo_state,name:r.state})})},n=function(r){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=d.uaKinds,h=c===void 0?["robot","non_robot","unrecognized"]:c;if(!r.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function f(C){return h.indexOf(C)!==-1}for(var v={},x=0;x<r.counts_geo.length;x++){var w=r.counts_geo[x];if(f(w.ua_kind)&&w.country!=="unknown"){var b="".concat(w.geo_country,"_").concat(w.geo_state);v[b]?v[b].count+=w.sum_count_value:v[b]=e(w)}}return Object.keys(v).map(function(C){return v[C]})},o=function(){"use strict";function s(r){var d=r.code,c=r.name;_classCallCheck(this,s),this.code=d,this.name=c}return _createClass(s,[{key:"formattedName",get:function(){return t(this.name)}}]),s}(),u=function(){"use strict";function s(r){var d=r.count,c=r.country,h=r.state;_classCallCheck(this,s),this.count=parseInt(d,10),this.country=c,this.state=h}return _createClass(s,[{key:"formattedCount",get:function(){return sa(this.count)}}]),s}(),l="https://be-api.us.archive.org/views/v1";Hu.StatsApiClient=function(){"use strict";function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"getGeoCounts",value:function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.days,f=h===void 0?30:h,v=c.limit,x=v===void 0?100:v,w=c.uaKinds,b=w===void 0?["robot","non_robot","unrecognized"]:w,C="".concat(l,"/detail/collection/").concat(d,"/").concat(f);return ee.get(C).then(function(P){try{return n(P,{uaKinds:b}).sort(function(E,T){return E.count<T.count?1:-1}).slice(0,x)}catch(E){return ee.Deferred().reject(E)}})}}]),s}()}()}}),zb,cp,Hb,Fb,Ub,Vb,Wb,qb,Gb,Yb,Xb,Vn,dp,Kb,Jb,Qb=Tt({"https-url:https://esm.archive.org/v99/jqueryui@1.11.1/deno/jquery-ui.min.js":function(){zb=Object.create,cp=Object.defineProperty,Hb=Object.getOwnPropertyDescriptor,Fb=Object.getOwnPropertyNames,Ub=Object.getPrototypeOf,Vb=Object.prototype.hasOwnProperty,Wb=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},qb=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!Vb.call(t,v)&&v!==n&&cp(t,v,{get:function(){return e[v]},enumerable:!(o=Hb(e,v))||o.enumerable})},d=Fb(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},Gb=function(t,e,n){return n=t!=null?zb(Ub(t)):{},qb(e||!t||!t.__esModule?cp(n,"default",{value:t,enumerable:!0}):n,t)},Yb=Wb(function(){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e=function(a,p){var g,y,_,j=a.nodeName.toLowerCase();return j==="area"?(g=a.parentNode,y=g.name,a.href&&y&&g.nodeName.toLowerCase()==="map"?(_=t("img[usemap='#"+y+"']")[0],!!_&&n(_)):!1):(/input|select|textarea|button|object/.test(j)?!a.disabled:j==="a"&&a.href||p)&&n(a)},n=function(a){return t.expr.filters.visible(a)&&!t(a).parents().addBack().filter(function(){return t.css(this,"visibility")==="hidden"}).length},o=function(a){for(var p,g;a.length&&a[0]!==document;){if(p=a.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(g=parseInt(a.css("zIndex"),10),!isNaN(g)&&g!==0))return g;a=a.parent()}return 0},u=function(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=l(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))},l=function(a){var p="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(p,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(p,"mouseover",s)},s=function(){t.datepicker._isDisabledDatepicker(P.inline?P.dpDiv.parent()[0]:P.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))},r=function(a,p){t.extend(a,p);for(var g in p)p[g]==null&&(a[g]=p[g]);return a},d=function(a){return function(){var p=this.element.val();a.apply(this,arguments),this._refresh(),p!==this.element.val()&&this._trigger("change")}};t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(a){var p=this.css("position"),g=p==="absolute",y=a?/(auto|scroll|hidden)/:/(auto|scroll)/,_=this.parents().filter(function(){var j=t(this);return g&&j.css("position")==="static"?!1:y.test(j.css("overflow")+j.css("overflow-y")+j.css("overflow-x"))}).eq(0);return p!=="fixed"&&_.length?_:t(this[0].ownerDocument||document)},uniqueId:function(){var m=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++m)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(m){return function(a){return!!t.data(a,m)}}):function(m,a,p){return!!t.data(m,p[3])},focusable:function(a){return e(a,!isNaN(t.attr(a,"tabindex")))},tabbable:function(a){var p=t.attr(a,"tabindex"),g=isNaN(p);return(g||p>=0)&&e(a,!g)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(m,a){var p=function(R,D,H,K){return t.each(g,function(){D-=parseFloat(t.css(R,"padding"+this))||0,H&&(D-=parseFloat(t.css(R,"border"+this+"Width"))||0),K&&(D-=parseFloat(t.css(R,"margin"+this))||0)}),D},g=a==="Width"?["Left","Right"]:["Top","Bottom"],y=a.toLowerCase(),_={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+a]=function(j){return j===void 0?_["inner"+a].call(this):this.each(function(){t(this).css(y,p(this,j)+"px")})},t.fn["outer"+a]=function(j,R){return typeof j!="number"?_["outer"+a].call(this,j):this.each(function(){t(this).css(y,p(this,j,!0,R)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(m){return this.add(m==null?this.prevObject:this.prevObject.filter(m))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(m){return function(a){return arguments.length?m.call(this,t.camelCase(a)):m.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(m){return function(a,p){return typeof a=="number"?this.each(function(){var g=this;setTimeout(function(){t(g).focus(),p&&p.call(g)},a)}):m.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var m="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(m+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==void 0)return this.css("zIndex",a);if(this.length)for(var p,g,y=t(this[0]);y.length&&y[0]!==document;){if(p=y.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(g=parseInt(y.css("zIndex"),10),!isNaN(g)&&g!==0))return g;y=y.parent()}return 0}}),t.ui.plugin={add:function(a,p,g){var y,_=t.ui[a].prototype;for(y in g)_.plugins[y]=_.plugins[y]||[],_.plugins[y].push([p,g[y]])},call:function(a,p,g,y){var _,j=a.plugins[p];if(j&&(y||a.element[0].parentNode&&a.element[0].parentNode.nodeType!==11))for(_=0;j.length>_;_++)a.options[j[_][0]]&&j[_][1].apply(a.element,g)}};var c=0,h=Array.prototype.slice;t.cleanData=function(m){return function(a){var p,g,y;for(y=0;(g=a[y])!=null;y++)try{p=t._data(g,"events"),p&&p.remove&&t(g).triggerHandler("remove")}catch(_){}m(a)}}(t.cleanData),t.widget=function(m,a,p){var g,y,_,j,R={},D=m.split(".")[0];return m=m.split(".")[1],g=D+"-"+m,p||(p=a,a=t.Widget),t.expr[":"][g.toLowerCase()]=function(H){return!!t.data(H,g)},t[D]=t[D]||{},y=t[D][m],_=t[D][m]=function(H,K){return this._createWidget?(arguments.length&&this._createWidget(H,K),void 0):new _(H,K)},t.extend(_,y,{version:p.version,_proto:t.extend({},p),_childConstructors:[]}),j=new a,j.options=t.widget.extend({},j.options),t.each(p,function(H,K){return t.isFunction(K)?(R[H]=function(){var J=function(){return a.prototype[H].apply(this,arguments)},F=function(re){return a.prototype[H].apply(this,re)};return function(){var de,re=this._super,V=this._superApply;return this._super=J,this._superApply=F,de=K.apply(this,arguments),this._super=re,this._superApply=V,de}}(),void 0):(R[H]=K,void 0)}),_.prototype=t.widget.extend(j,{widgetEventPrefix:y&&j.widgetEventPrefix||m},R,{constructor:_,namespace:D,widgetName:m,widgetFullName:g}),y?(t.each(y._childConstructors,function(H,K){var J=K.prototype;t.widget(J.namespace+"."+J.widgetName,_,K._proto)}),delete y._childConstructors):a._childConstructors.push(_),t.widget.bridge(m,_),_},t.widget.extend=function(m){for(var a,p,g=h.call(arguments,1),y=0,_=g.length;_>y;y++)for(a in g[y])p=g[y][a],g[y].hasOwnProperty(a)&&p!==void 0&&(m[a]=t.isPlainObject(p)?t.isPlainObject(m[a])?t.widget.extend({},m[a],p):t.widget.extend({},p):p);return m},t.widget.bridge=function(m,a){var p=a.prototype.widgetFullName||m;t.fn[m]=function(g){var y=typeof g=="string",_=h.call(arguments,1),j=this;return g=!y&&_.length?t.widget.extend.apply(null,[g].concat(_)):g,y?this.each(function(){var R,D=t.data(this,p);return g==="instance"?(j=D,!1):D?t.isFunction(D[g])&&g.charAt(0)!=="_"?(R=D[g].apply(D,_),R!==D&&R!==void 0?(j=R&&R.jquery?j.pushStack(R.get()):R,!1):void 0):t.error("no such method '"+g+"' for "+m+" widget instance"):t.error("cannot call methods on "+m+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var R=t.data(this,p);R?(R.option(g||{}),R._init&&R._init()):t.data(this,p,new a(g,this))}),j}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,p){p=t(p||this.defaultElement||this)[0],this.element=t(p),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=t(),this.hoverable=t(),this.focusable=t(),p!==this&&(t.data(p,this.widgetFullName,this),this._on(!0,this.element,{remove:function(y){y.target===p&&this.destroy()}}),this.document=t(p.style?p.ownerDocument:p.document||p),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(a,p){var g,y,_,j=a;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof a=="string")if(j={},g=a.split("."),a=g.shift(),g.length){for(y=j[a]=t.widget.extend({},this.options[a]),_=0;g.length-1>_;_++)y[g[_]]=y[g[_]]||{},y=y[g[_]];if(a=g.pop(),arguments.length===1)return y[a]===void 0?null:y[a];y[a]=p}else{if(arguments.length===1)return this.options[a]===void 0?null:this.options[a];j[a]=p}return this._setOptions(j),this},_setOptions:function(a){var p;for(p in a)this._setOption(p,a[p]);return this},_setOption:function(a,p){return this.options[a]=p,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!p),p&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,p,g){var y,_=this;typeof a!="boolean"&&(g=p,p=a,a=!1),g?(p=y=t(p),this.bindings=this.bindings.add(p)):(g=p,p=this.element,y=this.widget()),t.each(g,function(j,R){var D=function(){return a||_.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?(typeof R=="string"?_[R]:R).apply(_,arguments):void 0};typeof R!="string"&&(D.guid=R.guid=R.guid||D.guid||t.guid++);var H=j.match(/^([\w:-]*)\s*(.*)$/),K=H[1]+_.eventNamespace,J=H[2];J?y.delegate(J,K,D):p.bind(K,D)})},_off:function(a,p){p=(p||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(p).undelegate(p)},_delay:function(a,p){var g=function(){return(typeof a=="string"?y[a]:a).apply(y,arguments)},y=this;return setTimeout(g,p||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(g){t(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){t(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(g){t(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){t(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,p,g){var y,_,j=this.options[a];if(g=g||{},p=t.Event(p),p.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),p.target=this.element[0],_=p.originalEvent)for(y in _)y in p||(p[y]=_[y]);return this.element.trigger(p,g),!(t.isFunction(j)&&j.apply(this.element[0],[p].concat(g))===!1||p.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(m,a){t.Widget.prototype["_"+m]=function(p,g,y){typeof g=="string"&&(g={effect:g});var _,j=g?g===!0||typeof g=="number"?a:g.effect||a:m;g=g||{},typeof g=="number"&&(g={duration:g}),_=!t.isEmptyObject(g),g.complete=y,g.delay&&p.delay(g.delay),_&&t.effects&&t.effects.effect[j]?p[m](g):j!==m&&p[j]?p[j](g.duration,g.easing,y):p.queue(function(R){t(this)[m](),y&&y.call(p[0]),R()})}}),t.widget;var f=!1;t(document).mouseup(function(){f=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(p){return a._mouseDown(p)}).bind("click."+this.widgetName,function(p){return t.data(p.target,a.widgetName+".preventClickEvent")===!0?(t.removeData(p.target,a.widgetName+".preventClickEvent"),p.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var p=this,g=a.which===1,y=typeof this.options.cancel=="string"&&a.target.nodeName?t(a.target).closest(this.options.cancel).length:!1;return g&&!y&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){p.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(t.data(a.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(_){return p._mouseMove(_)},this._mouseUpDelegate=function(_){return p._mouseUp(_)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(a){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button?this._mouseUp(a):a.which?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&t.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),f=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){var m=function(V,X,oe){return[parseFloat(V[0])*(F.test(V[0])?X/100:1),parseFloat(V[1])*(F.test(V[1])?oe/100:1)]},a=function(V,X){return parseInt(t.css(V,X),10)||0},p=function(V){var X=V[0];return X.nodeType===9?{width:V.width(),height:V.height(),offset:{top:0,left:0}}:t.isWindow(X)?{width:V.width(),height:V.height(),offset:{top:V.scrollTop(),left:V.scrollLeft()}}:X.preventDefault?{width:0,height:0,offset:{top:X.pageY,left:X.pageX}}:{width:V.outerWidth(),height:V.outerHeight(),offset:V.offset()}};t.ui=t.ui||{};var g,y,_=Math.max,j=Math.abs,R=Math.round,D=/left|center|right/,H=/top|center|bottom/,K=/[\+\-]\d+(\.[\d]+)?%?/,J=/^\w+/,F=/%$/,de=t.fn.position;t.position={scrollbarWidth:function(){if(g!==void 0)return g;var V,X,oe=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),G=oe.children()[0];return t("body").append(oe),V=G.offsetWidth,oe.css("overflow","scroll"),X=G.offsetWidth,V===X&&(X=oe[0].clientWidth),oe.remove(),g=V-X},getScrollInfo:function(V){var X=V.isWindow||V.isDocument?"":V.element.css("overflow-x"),oe=V.isWindow||V.isDocument?"":V.element.css("overflow-y"),G=X==="scroll"||X==="auto"&&V.width<V.element[0].scrollWidth,Y=oe==="scroll"||oe==="auto"&&V.height<V.element[0].scrollHeight;return{width:Y?t.position.scrollbarWidth():0,height:G?t.position.scrollbarWidth():0}},getWithinInfo:function(V){var X=t(V||window),oe=t.isWindow(X[0]),G=!!X[0]&&X[0].nodeType===9;return{element:X,isWindow:oe,isDocument:G,offset:X.offset()||{left:0,top:0},scrollLeft:X.scrollLeft(),scrollTop:X.scrollTop(),width:oe||G?X.width():X.outerWidth(),height:oe||G?X.height():X.outerHeight()}}},t.fn.position=function(re){if(!re||!re.of)return de.apply(this,arguments);re=t.extend({},re);var V,X,oe,G,Y,Z,ae=t(re.of),ie=t.position.getWithinInfo(re.within),je=t.position.getScrollInfo(ie),Le=(re.collision||"flip").split(" "),ke={};return Z=p(ae),ae[0].preventDefault&&(re.at="left top"),X=Z.width,oe=Z.height,G=Z.offset,Y=t.extend({},G),t.each(["my","at"],function(){var Ze,Ve,Xe=(re[this]||"").split(" ");Xe.length===1&&(Xe=D.test(Xe[0])?Xe.concat(["center"]):H.test(Xe[0])?["center"].concat(Xe):["center","center"]),Xe[0]=D.test(Xe[0])?Xe[0]:"center",Xe[1]=H.test(Xe[1])?Xe[1]:"center",Ze=K.exec(Xe[0]),Ve=K.exec(Xe[1]),ke[this]=[Ze?Ze[0]:0,Ve?Ve[0]:0],re[this]=[J.exec(Xe[0])[0],J.exec(Xe[1])[0]]}),Le.length===1&&(Le[1]=Le[0]),re.at[0]==="right"?Y.left+=X:re.at[0]==="center"&&(Y.left+=X/2),re.at[1]==="bottom"?Y.top+=oe:re.at[1]==="center"&&(Y.top+=oe/2),V=m(ke.at,X,oe),Y.left+=V[0],Y.top+=V[1],this.each(function(){var Ze,Ve,Xe=t(this),dt=Xe.outerWidth(),yt=Xe.outerHeight(),pt=a(this,"marginLeft"),Re=a(this,"marginTop"),_e=dt+pt+a(this,"marginRight")+je.width,Ne=yt+Re+a(this,"marginBottom")+je.height,Je=t.extend({},Y),Ye=m(ke.my,Xe.outerWidth(),Xe.outerHeight());re.my[0]==="right"?Je.left-=dt:re.my[0]==="center"&&(Je.left-=dt/2),re.my[1]==="bottom"?Je.top-=yt:re.my[1]==="center"&&(Je.top-=yt/2),Je.left+=Ye[0],Je.top+=Ye[1],y||(Je.left=R(Je.left),Je.top=R(Je.top)),Ze={marginLeft:pt,marginTop:Re},t.each(["left","top"],function(Te,rt){t.ui.position[Le[Te]]&&t.ui.position[Le[Te]][rt](Je,{targetWidth:X,targetHeight:oe,elemWidth:dt,elemHeight:yt,collisionPosition:Ze,collisionWidth:_e,collisionHeight:Ne,offset:[V[0]+Ye[0],V[1]+Ye[1]],my:re.my,at:re.at,within:ie,elem:Xe})}),re.using&&(Ve=function(rt){var ht=G.left-Je.left,at=ht+X-dt,ut=G.top-Je.top,qe=ut+oe-yt,ze={target:{element:ae,left:G.left,top:G.top,width:X,height:oe},element:{element:Xe,left:Je.left,top:Je.top,width:dt,height:yt},horizontal:0>at?"left":ht>0?"right":"center",vertical:0>qe?"top":ut>0?"bottom":"middle"};dt>X&&X>j(ht+at)&&(ze.horizontal="center"),yt>oe&&oe>j(ut+qe)&&(ze.vertical="middle"),ze.important=_(j(ht),j(at))>_(j(ut),j(qe))?"horizontal":"vertical",re.using.call(this,rt,ze)}),Xe.offset(t.extend(Je,{using:Ve}))})},t.ui.position={fit:{left:function(V,X){var oe,G=X.within,Y=G.isWindow?G.scrollLeft:G.offset.left,Z=G.width,ae=V.left-X.collisionPosition.marginLeft,ie=Y-ae,je=ae+X.collisionWidth-Z-Y;X.collisionWidth>Z?ie>0&&0>=je?(oe=V.left+ie+X.collisionWidth-Z-Y,V.left+=ie-oe):V.left=je>0&&0>=ie?Y:ie>je?Y+Z-X.collisionWidth:Y:ie>0?V.left+=ie:je>0?V.left-=je:V.left=_(V.left-ae,V.left)},top:function(V,X){var oe,G=X.within,Y=G.isWindow?G.scrollTop:G.offset.top,Z=X.within.height,ae=V.top-X.collisionPosition.marginTop,ie=Y-ae,je=ae+X.collisionHeight-Z-Y;X.collisionHeight>Z?ie>0&&0>=je?(oe=V.top+ie+X.collisionHeight-Z-Y,V.top+=ie-oe):V.top=je>0&&0>=ie?Y:ie>je?Y+Z-X.collisionHeight:Y:ie>0?V.top+=ie:je>0?V.top-=je:V.top=_(V.top-ae,V.top)}},flip:{left:function(V,X){var oe,G,Y=X.within,Z=Y.offset.left+Y.scrollLeft,ae=Y.width,ie=Y.isWindow?Y.scrollLeft:Y.offset.left,je=V.left-X.collisionPosition.marginLeft,Le=je-ie,ke=je+X.collisionWidth-ae-ie,Ze=X.my[0]==="left"?-X.elemWidth:X.my[0]==="right"?X.elemWidth:0,Ve=X.at[0]==="left"?X.targetWidth:X.at[0]==="right"?-X.targetWidth:0,Xe=-2*X.offset[0];0>Le?(oe=V.left+Ze+Ve+Xe+X.collisionWidth-ae-Z,(0>oe||j(Le)>oe)&&(V.left+=Ze+Ve+Xe)):ke>0&&(G=V.left-X.collisionPosition.marginLeft+Ze+Ve+Xe-ie,(G>0||ke>j(G))&&(V.left+=Ze+Ve+Xe))},top:function(V,X){var oe,G,Y=X.within,Z=Y.offset.top+Y.scrollTop,ae=Y.height,ie=Y.isWindow?Y.scrollTop:Y.offset.top,je=V.top-X.collisionPosition.marginTop,Le=je-ie,ke=je+X.collisionHeight-ae-ie,Ze=X.my[1]==="top",Ve=Ze?-X.elemHeight:X.my[1]==="bottom"?X.elemHeight:0,Xe=X.at[1]==="top"?X.targetHeight:X.at[1]==="bottom"?-X.targetHeight:0,dt=-2*X.offset[1];0>Le?(G=V.top+Ve+Xe+dt+X.collisionHeight-ae-Z,V.top+Ve+Xe+dt>Le&&(0>G||j(Le)>G)&&(V.top+=Ve+Xe+dt)):ke>0&&(oe=V.top-X.collisionPosition.marginTop+Ve+Xe+dt-ie,V.top+Ve+Xe+dt>ke&&(oe>0||ke>j(oe))&&(V.top+=Ve+Xe+dt))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var re,V,X,oe,G,Y=document.getElementsByTagName("body")[0],Z=document.createElement("div");re=document.createElement(Y?"div":"body"),X={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},Y&&t.extend(X,{position:"absolute",left:"-1000px",top:"-1000px"});for(G in X)re.style[G]=X[G];re.appendChild(Z),V=Y||document.documentElement,V.insertBefore(re,V.firstChild),Z.style.cssText="position: absolute; left: 10.7432222px;",oe=t(Z).offset().left,y=oe>10&&11>oe,re.innerHTML="",V.removeChild(re)}()}(),t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&a.active!=null||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var a=this.options.icons;a&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,p){return a==="active"?(this._activate(p),void 0):(a==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(p)),this._super(a,p),a!=="collapsible"||p||this.options.active!==!1||this._activate(0),a==="icons"&&(this._destroyIcons(),p&&this._createIcons()),a==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!p)),void 0)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var p=t.ui.keyCode,g=this.headers.length,y=this.headers.index(a.target),_=!1;switch(a.keyCode){case p.RIGHT:case p.DOWN:_=this.headers[(y+1)%g];break;case p.LEFT:case p.UP:_=this.headers[(y-1+g)%g];break;case p.SPACE:case p.ENTER:this._eventHandler(a);break;case p.HOME:_=this.headers[0];break;case p.END:_=this.headers[g-1]}_&&(t(a.target).attr("tabIndex",-1),t(_).attr("tabIndex",0),_.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===t.ui.keyCode.UP&&a.ctrlKey&&t(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=t()):a.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=t()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var a,p=this.options,g=p.heightStyle,y=this.element.parent();this.active=this._findActive(p.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var _=t(this),j=_.uniqueId().attr("id"),R=_.next(),D=R.uniqueId().attr("id");_.attr("aria-controls",D),R.attr("aria-labelledby",j)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(p.event),g==="fill"?(a=y.height(),this.element.siblings(":visible").each(function(){var _=t(this),j=_.css("position");j!=="absolute"&&j!=="fixed"&&(a-=_.outerHeight(!0))}),this.headers.each(function(){a-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,a-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):g==="auto"&&(a=0,this.headers.next().each(function(){a=Math.max(a,t(this).css("height","").height())}).height(a))},_activate:function(a){var p=this._findActive(a)[0];p!==this.active[0]&&(p=p||this.active[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(a){return typeof a=="number"?this.headers.eq(a):t()},_setupEvents:function(a){var p={keydown:"_keydown"};a&&t.each(a.split(" "),function(g,y){p[y]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,p),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(a){var p=this.options,g=this.active,y=t(a.currentTarget),_=y[0]===g[0],j=_&&p.collapsible,R=j?t():y.next(),D=g.next(),H={oldHeader:g,oldPanel:D,newHeader:j?t():y,newPanel:R};a.preventDefault(),_&&!p.collapsible||this._trigger("beforeActivate",a,H)===!1||(p.active=j?!1:this.headers.index(y),this.active=_?t():y,this._toggle(H),g.removeClass("ui-accordion-header-active ui-state-active"),p.icons&&g.children(".ui-accordion-header-icon").removeClass(p.icons.activeHeader).addClass(p.icons.header),_||(y.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),p.icons&&y.children(".ui-accordion-header-icon").removeClass(p.icons.header).addClass(p.icons.activeHeader),y.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var p=a.newPanel,g=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=p,this.prevHide=g,this.options.animate?this._animate(p,g,a):(g.hide(),p.show(),this._toggleComplete(a)),g.attr({"aria-hidden":"true"}),g.prev().attr("aria-selected","false"),p.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):p.length&&this.headers.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),p.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,p,g){var y,_,j,R=this,D=0,H=a.length&&(!p.length||a.index()<p.index()),K=this.options.animate||{},J=H&&K.down||K,F=function(){R._toggleComplete(g)};return typeof J=="number"&&(j=J),typeof J=="string"&&(_=J),_=_||J.easing||K.easing,j=j||J.duration||K.duration,p.length?a.length?(y=a.show().outerHeight(),p.animate(this.hideProps,{duration:j,easing:_,step:function(re,V){V.now=Math.round(re)}}),a.hide().animate(this.showProps,{duration:j,easing:_,complete:F,step:function(re,V){V.now=Math.round(re),V.prop!=="height"?D+=V.now:R.options.heightStyle!=="content"&&(V.now=Math.round(y-p.outerHeight()-D),D=0)}}),void 0):p.animate(this.hideProps,j,_,F):a.animate(this.showProps,j,_,F)},_toggleComplete:function(a){var p=a.oldPanel;p.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),p.length&&(p.parent()[0].className=p.parent()[0].className),this._trigger("activate",null,a)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var p=t(a.target);!this.mouseHandled&&p.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),p.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var p=t(a.currentTarget);p.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(a,p)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(p,g){var y=this.active||this.element.find(this.options.items).eq(0);g||this.focus(p,y)},blur:function(p){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(p)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(p){this._closeOnDocumentClick(p)&&this.collapseAll(p),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=t(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){var p=function(K){return K.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},g,y,_,j,R,D=!0;switch(a.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(a);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case t.ui.keyCode.HOME:this._move("first","first",a);break;case t.ui.keyCode.END:this._move("last","last",a);break;case t.ui.keyCode.UP:this.previous(a);break;case t.ui.keyCode.DOWN:this.next(a);break;case t.ui.keyCode.LEFT:this.collapse(a);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(a);break;case t.ui.keyCode.ESCAPE:this.collapse(a);break;default:D=!1,y=this.previousFilter||"",_=String.fromCharCode(a.keyCode),j=!1,clearTimeout(this.filterTimer),_===y?j=!0:_=y+_,R=RegExp("^"+p(_),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return R.test(t(this).text())}),g=j&&g.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):g,g.length||(_=String.fromCharCode(a.keyCode),R=RegExp("^"+p(_),"i"),g=this.activeMenu.find(this.options.items).filter(function(){return R.test(t(this).text())})),g.length?(this.focus(a,g),g.length>1?(this.previousFilter=_,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}D&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var a,p,g=this,y=this.options.icons.submenu,_=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),_.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var j=t(this),R=j.parent(),D=t("<span>").addClass("ui-menu-icon ui-icon "+y).data("ui-menu-submenu-carat",!0);R.attr("aria-haspopup","true").prepend(D),j.attr("aria-labelledby",R.attr("id"))}),a=_.add(this.element),p=a.find(this.options.items),p.not(".ui-menu-item").each(function(){var j=t(this);g._isDivider(j)&&j.addClass("ui-widget-content ui-menu-divider")}),p.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),p.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,p){a==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(p.submenu),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(a,p)},focus:function(a,p){var g,y;this.blur(a,a&&a.type==="focus"),this._scrollIntoView(p),this.active=p.first(),y=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",y.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&a.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),g=p.children(".ui-menu"),g.length&&a&&/^mouse/.test(a.type)&&this._startOpening(g),this.activeMenu=p.parent(),this._trigger("focus",a,{item:p})},_scrollIntoView:function(a){var p,g,y,_,j,R;this._hasScroll()&&(p=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,y=a.offset().top-this.activeMenu.offset().top-p-g,_=this.activeMenu.scrollTop(),j=this.activeMenu.height(),R=a.outerHeight(),0>y?this.activeMenu.scrollTop(_+y):y+R>j&&this.activeMenu.scrollTop(_+y-j+R))},blur:function(a,p){p||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),a.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var p=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(p)},collapseAll:function(a,p){clearTimeout(this.timer),this.timer=this._delay(function(){var g=p?this.element:t(a&&a.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element),this._close(g),this.blur(a),this.activeMenu=g},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!t(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var p=this.active&&this.active.parent().closest(".ui-menu-item",this.element);p&&p.length&&(this._close(),this.focus(a,p))},expand:function(a){var p=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();p&&p.length&&(this._open(p.parent()),this._delay(function(){this.focus(a,p)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,p,g){var y;this.active&&(y=a==="first"||a==="last"?this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),y&&y.length&&this.active||(y=this.activeMenu.find(this.options.items)[p]()),this.focus(g,y)},nextPage:function(a){var p,g,y;return this.active?(this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,y=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return p=t(this),0>p.offset().top-g-y}),this.focus(a,p)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var p,g,y;return this.active?(this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,y=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return p=t(this),p.offset().top-g+y>0}),this.focus(a,p)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||t(a.target).closest(".ui-menu-item");var p={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,p)}}),t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,p,g,y=this.element[0].nodeName.toLowerCase(),_=y==="textarea",j=y==="input";this.isMultiLine=_?!0:j?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[_||j?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(D){if(this.element.prop("readOnly"))return a=!0,g=!0,p=!0,void 0;a=!1,g=!1,p=!1;var H=t.ui.keyCode;switch(D.keyCode){case H.PAGE_UP:a=!0,this._move("previousPage",D);break;case H.PAGE_DOWN:a=!0,this._move("nextPage",D);break;case H.UP:a=!0,this._keyEvent("previous",D);break;case H.DOWN:a=!0,this._keyEvent("next",D);break;case H.ENTER:this.menu.active&&(a=!0,D.preventDefault(),this.menu.select(D));break;case H.TAB:this.menu.active&&this.menu.select(D);break;case H.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(D),D.preventDefault());break;default:p=!0,this._searchTimeout(D)}},keypress:function(D){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&D.preventDefault(),void 0;if(!p){var H=t.ui.keyCode;switch(D.keyCode){case H.PAGE_UP:this._move("previousPage",D);break;case H.PAGE_DOWN:this._move("nextPage",D);break;case H.UP:this._keyEvent("previous",D);break;case H.DOWN:this._keyEvent("next",D)}}},input:function(D){return g?(g=!1,D.preventDefault(),void 0):(this._searchTimeout(D),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(D){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(D),this._change(D),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(D){D.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var H=this.menu.element[0];t(D.target).closest(".ui-menu-item").length||this._delay(function(){var K=this;this.document.one("mousedown",function(J){J.target===K.element[0]||J.target===H||t.contains(H,J.target)||K.close()})})},menufocus:function(D,H){var K,J;return this.isNewMenu&&(this.isNewMenu=!1,D.originalEvent&&/^mouse/.test(D.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(D.target).trigger(D.originalEvent)}),void 0):(J=H.item.data("ui-autocomplete-item"),this._trigger("focus",D,{item:J})!==!1&&D.originalEvent&&/^key/.test(D.originalEvent.type)&&this._value(J.value),K=H.item.attr("aria-label")||J.value,K&&t.trim(K).length&&(this.liveRegion.children().hide(),t("<div>").text(K).appendTo(this.liveRegion)),void 0)},menuselect:function(D,H){var K=H.item.data("ui-autocomplete-item"),J=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=J,this._delay(function(){this.previous=J,this.selectedItem=K})),this._trigger("select",D,{item:K})!==!1&&this._value(K.value),this.term=this._value(),this.close(D),this.selectedItem=K}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,p){this._super(a,p),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this._appendTo()),a==="disabled"&&p&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?t(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,p,g=this;t.isArray(this.options.source)?(a=this.options.source,this.source=function(y,_){_(t.ui.autocomplete.filter(a,y.term))}):typeof this.options.source=="string"?(p=this.options.source,this.source=function(y,_){g.xhr&&g.xhr.abort(),g.xhr=t.ajax({url:p,data:y,dataType:"json",success:function(R){_(R)},error:function(){_([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var p=this.term===this._value(),g=this.menu.element.is(":visible"),y=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!p||p&&!g&&!y)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,p){return a=a!=null?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(p):this._trigger("search",p)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return t.proxy(function(p){a===this.requestIndex&&this.__response(p),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:t.map(a,function(p){return typeof p=="string"?{label:p,value:p}:t.extend({},p,{label:p.label||p.value,value:p.value||p.label})})},_suggest:function(a){var p=this.menu.element.empty();this._renderMenu(p,a),this.isNewMenu=!0,this.menu.refresh(),p.show(),this._resizeMenu(),p.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,p){var g=this;t.each(p,function(y,_){g._renderItemData(a,_)})},_renderItemData:function(a,p){return this._renderItem(a,p).data("ui-autocomplete-item",p)},_renderItem:function(a,p){return t("<li>").text(p.label).appendTo(a)},_move:function(a,p){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](p),void 0):(this.search(null,p),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,p){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,p),p.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,p){var g=RegExp(t.ui.autocomplete.escapeRegex(p),"i");return t.grep(a,function(y){return g.test(y.label||y.value||y)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var p;this._superApply(arguments),this.options.disabled||this.cancelSearch||(p=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(p).appendTo(this.liveRegion))}}),t.ui.autocomplete;var v,x="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",b=function(){var a=t(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},C=function(a){var p=a.name,g=a.form,y=t([]);return p&&(p=p.replace(/'/g,"\\'"),y=g?t(g).find("[name='"+p+"'][type=radio]"):t("[name='"+p+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})),y};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,b),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,p=this.options,g=this.type==="checkbox"||this.type==="radio",y=g?"":"ui-state-active";p.label===null&&(p.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(x).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){p.disabled||this===v&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){p.disabled||t(this).removeClass(y)}).bind("click"+this.eventNamespace,function(_){p.disabled&&(_.preventDefault(),_.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),g&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return p.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var _=a.element[0];C(_).not(_).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return p.disabled?!1:(t(this).addClass("ui-state-active"),v=this,a.document.one("mouseup",function(){v=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return p.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(_){return p.disabled?!1:((_.keyCode===t.ui.keyCode.SPACE||_.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(_){_.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",p.disabled),this._resetButton()},_determineButtonType:function(){var a,p,g;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),p="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(p),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(p),this.buttonElement.length||(this.buttonElement=a.find(p))),this.element.addClass("ui-helper-hidden-accessible"),g=this.element.is(":checked"),g&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",g)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(x+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,p){return this._super(a,p),a==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),p&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?C(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var a=this.buttonElement.removeClass(w),p=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),g=this.options.icons,y=g.primary&&g.secondary,_=[];g.primary||g.secondary?(this.options.text&&_.push("ui-button-text-icon"+(y?"s":g.primary?"-primary":"-secondary")),g.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>"),g.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>"),this.options.text||(_.push(y?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",t.trim(p)))):_.push("ui-button-text-only"),a.addClass(_.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,p){a==="disabled"&&this.buttons.button("option",a,p),this._super(a,p)},refresh:function(){var a=this.element.css("direction")==="rtl",p=this.element.find(this.options.items),g=p.filter(":ui-button");p.not(":ui-button").button(),g.button("refresh"),this.buttons=p.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.1"}});var P;t.extend(u.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return r(this._defaults,a||{}),this},_attachDatepicker:function(a,p){var g,y,_;g=a.nodeName.toLowerCase(),y=g==="div"||g==="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid),_=this._newInst(t(a),y),_.settings=t.extend({},p||{}),g==="input"?this._connectDatepicker(a,_):y&&this._inlineDatepicker(a,_)},_newInst:function(a,p){var g=a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:g,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:p,dpDiv:p?l(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,p){var g=t(a);p.append=t([]),p.trigger=t([]),g.hasClass(this.markerClassName)||(this._attachments(g,p),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(p),t.data(a,"datepicker",p),p.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,p){var g,y,_,j=this._get(p,"appendText"),R=this._get(p,"isRTL");p.append&&p.append.remove(),j&&(p.append=t("<span class='"+this._appendClass+"'>"+j+"</span>"),a[R?"before":"after"](p.append)),a.unbind("focus",this._showDatepicker),p.trigger&&p.trigger.remove(),g=this._get(p,"showOn"),(g==="focus"||g==="both")&&a.focus(this._showDatepicker),(g==="button"||g==="both")&&(y=this._get(p,"buttonText"),_=this._get(p,"buttonImage"),p.trigger=t(this._get(p,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:_,alt:y,title:y}):t("<button type='button'></button>").addClass(this._triggerClass).html(_?t("<img/>").attr({src:_,alt:y,title:y}):y)),a[R?"before":"after"](p.trigger),p.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===a[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==a[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(a[0])),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var p,g,y,_,j=new Date(2009,11,20),R=this._get(a,"dateFormat");R.match(/[DM]/)&&(p=function(H){for(g=0,y=0,_=0;H.length>_;_++)H[_].length>g&&(g=H[_].length,y=_);return y},j.setMonth(p(this._get(a,R.match(/MM/)?"monthNames":"monthNamesShort"))),j.setDate(p(this._get(a,R.match(/DD/)?"dayNames":"dayNamesShort"))+20-j.getDay())),a.input.attr("size",this._formatDate(a,j).length)}},_inlineDatepicker:function(a,p){var g=t(a);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(p.dpDiv),t.data(a,"datepicker",p),this._setDate(p,this._getDefaultDate(p),!0),this._updateDatepicker(p),this._updateAlternate(p),p.settings.disabled&&this._disableDatepicker(a),p.dpDiv.css("display","block"))},_dialogDatepicker:function(a,p,g,y,_){var j,R,D,H,K,J=this._dialogInst;return J||(this.uuid+=1,j="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+j+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),J=this._dialogInst=this._newInst(this._dialogInput,!1),J.settings={},t.data(this._dialogInput[0],"datepicker",J)),r(J.settings,y||{}),p=p&&p.constructor===Date?this._formatDate(J,p):p,this._dialogInput.val(p),this._pos=_?_.length?_:[_.pageX,_.pageY]:null,this._pos||(R=document.documentElement.clientWidth,D=document.documentElement.clientHeight,H=document.documentElement.scrollLeft||document.body.scrollLeft,K=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[R/2-100+H,D/2-150+K]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),J.settings.onSelect=g,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",J),this},_destroyDatepicker:function(a){var p,g=t(a),y=t.data(a,"datepicker");g.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),t.removeData(a,"datepicker"),p==="input"?(y.append.remove(),y.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(p==="div"||p==="span")&&g.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var p,g,y=t(a),_=t.data(a,"datepicker");y.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),p==="input"?(a.disabled=!1,_.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(p==="div"||p==="span")&&(g=y.children("."+this._inlineClass),g.children().removeClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(j){return j===a?null:j}))},_disableDatepicker:function(a){var p,g,y=t(a),_=t.data(a,"datepicker");y.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),p==="input"?(a.disabled=!0,_.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(p==="div"||p==="span")&&(g=y.children("."+this._inlineClass),g.children().addClass("ui-state-disabled"),g.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(j){return j===a?null:j}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var p=0;this._disabledInputs.length>p;p++)if(this._disabledInputs[p]===a)return!0;return!1},_getInst:function(a){try{return t.data(a,"datepicker")}catch(p){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,p,g){var y,_,j,R,D=this._getInst(a);return arguments.length===2&&typeof p=="string"?p==="defaults"?t.extend({},t.datepicker._defaults):D?p==="all"?t.extend({},D.settings):this._get(D,p):null:(y=p||{},typeof p=="string"&&(y={},y[p]=g),D&&(this._curInst===D&&this._hideDatepicker(),_=this._getDateDatepicker(a,!0),j=this._getMinMaxDate(D,"min"),R=this._getMinMaxDate(D,"max"),r(D.settings,y),j!==null&&y.dateFormat!==void 0&&y.minDate===void 0&&(D.settings.minDate=this._formatDate(D,j)),R!==null&&y.dateFormat!==void 0&&y.maxDate===void 0&&(D.settings.maxDate=this._formatDate(D,R)),"disabled"in y&&(y.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(t(a),D),this._autoSize(D),this._setDate(D,_),this._updateAlternate(D),this._updateDatepicker(D)),void 0)},_changeDatepicker:function(a,p,g){this._optionDatepicker(a,p,g)},_refreshDatepicker:function(a){var p=this._getInst(a);p&&this._updateDatepicker(p)},_setDateDatepicker:function(a,p){var g=this._getInst(a);g&&(this._setDate(g,p),this._updateDatepicker(g),this._updateAlternate(g))},_getDateDatepicker:function(a,p){var g=this._getInst(a);return g&&!g.inline&&this._setDateFromField(g,p),g?this._getDate(g):null},_doKeyDown:function(a){var p,g,y,_=t.datepicker._getInst(a.target),j=!0,R=_.dpDiv.is(".ui-datepicker-rtl");if(_._keyEvent=!0,t.datepicker._datepickerShowing)switch(a.keyCode){case 9:t.datepicker._hideDatepicker(),j=!1;break;case 13:return y=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",_.dpDiv),y[0]&&t.datepicker._selectDay(a.target,_.selectedMonth,_.selectedYear,y[0]),p=t.datepicker._get(_,"onSelect"),p?(g=t.datepicker._formatDate(_),p.apply(_.input?_.input[0]:null,[g,_])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(a.target,a.ctrlKey?-t.datepicker._get(_,"stepBigMonths"):-t.datepicker._get(_,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(a.target,a.ctrlKey?+t.datepicker._get(_,"stepBigMonths"):+t.datepicker._get(_,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&t.datepicker._clearDate(a.target),j=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&t.datepicker._gotoToday(a.target),j=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&t.datepicker._adjustDate(a.target,R?1:-1,"D"),j=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&t.datepicker._adjustDate(a.target,a.ctrlKey?-t.datepicker._get(_,"stepBigMonths"):-t.datepicker._get(_,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&t.datepicker._adjustDate(a.target,-7,"D"),j=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&t.datepicker._adjustDate(a.target,R?-1:1,"D"),j=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&t.datepicker._adjustDate(a.target,a.ctrlKey?+t.datepicker._get(_,"stepBigMonths"):+t.datepicker._get(_,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&t.datepicker._adjustDate(a.target,7,"D"),j=a.ctrlKey||a.metaKey;break;default:j=!1}else a.keyCode===36&&a.ctrlKey?t.datepicker._showDatepicker(this):j=!1;j&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var p,g,y=t.datepicker._getInst(a.target);return t.datepicker._get(y,"constrainInput")?(p=t.datepicker._possibleChars(t.datepicker._get(y,"dateFormat")),g=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">g||!p||p.indexOf(g)>-1):void 0},_doKeyUp:function(a){var p,g=t.datepicker._getInst(a.target);if(g.input.val()!==g.lastVal)try{p=t.datepicker.parseDate(t.datepicker._get(g,"dateFormat"),g.input?g.input.val():null,t.datepicker._getFormatConfig(g)),p&&(t.datepicker._setDateFromField(g),t.datepicker._updateAlternate(g),t.datepicker._updateDatepicker(g))}catch(y){}return!0},_showDatepicker:function(a){if(a=a.target||a,a.nodeName.toLowerCase()!=="input"&&(a=t("input",a.parentNode)[0]),!t.datepicker._isDisabledDatepicker(a)&&t.datepicker._lastInput!==a){var p,g,y,_,j,R,D;p=t.datepicker._getInst(a),t.datepicker._curInst&&t.datepicker._curInst!==p&&(t.datepicker._curInst.dpDiv.stop(!0,!0),p&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),g=t.datepicker._get(p,"beforeShow"),y=g?g.apply(a,[a,p]):{},y!==!1&&(r(p.settings,y),p.lastVal=null,t.datepicker._lastInput=a,t.datepicker._setDateFromField(p),t.datepicker._inDialog&&(a.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(a),t.datepicker._pos[1]+=a.offsetHeight),_=!1,t(a).parents().each(function(){return _|=t(this).css("position")==="fixed",!_}),j={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,p.dpDiv.empty(),p.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(p),j=t.datepicker._checkOffset(p,j,_),p.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":_?"fixed":"absolute",display:"none",left:j.left+"px",top:j.top+"px"}),p.inline||(R=t.datepicker._get(p,"showAnim"),D=t.datepicker._get(p,"duration"),p.dpDiv.css("z-index",o(t(a))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[R]?p.dpDiv.show(R,t.datepicker._get(p,"showOptions"),D):p.dpDiv[R||"show"](R?D:null),t.datepicker._shouldFocusInput(p)&&p.input.focus(),t.datepicker._curInst=p))}},_updateDatepicker:function(a){this.maxRows=4,P=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var p,g=this._getNumberOfMonths(a),y=g[1],_=17,j=a.dpDiv.find("."+this._dayOverClass+" a");j.length>0&&s.apply(j.get(0)),a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),y>1&&a.dpDiv.addClass("ui-datepicker-multi-"+y).css("width",_*y+"em"),a.dpDiv[(g[0]!==1||g[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(a)&&a.input.focus(),a.yearshtml&&(p=a.yearshtml,setTimeout(function(){p===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),p=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,p,g){var y=a.dpDiv.outerWidth(),_=a.dpDiv.outerHeight(),j=a.input?a.input.outerWidth():0,R=a.input?a.input.outerHeight():0,D=document.documentElement.clientWidth+(g?0:t(document).scrollLeft()),H=document.documentElement.clientHeight+(g?0:t(document).scrollTop());return p.left-=this._get(a,"isRTL")?y-j:0,p.left-=g&&p.left===a.input.offset().left?t(document).scrollLeft():0,p.top-=g&&p.top===a.input.offset().top+R?t(document).scrollTop():0,p.left-=Math.min(p.left,p.left+y>D&&D>y?Math.abs(p.left+y-D):0),p.top-=Math.min(p.top,p.top+_>H&&H>_?Math.abs(_+R):0),p},_findPos:function(a){for(var p,g=this._getInst(a),y=this._get(g,"isRTL");a&&(a.type==="hidden"||a.nodeType!==1||t.expr.filters.hidden(a));)a=a[y?"previousSibling":"nextSibling"];return p=t(a).offset(),[p.left,p.top]},_hideDatepicker:function(a){var p,g,y,_,j=this._curInst;!j||a&&j!==t.data(a,"datepicker")||this._datepickerShowing&&(p=this._get(j,"showAnim"),g=this._get(j,"duration"),y=function(){t.datepicker._tidyDialog(j)},t.effects&&(t.effects.effect[p]||t.effects[p])?j.dpDiv.hide(p,t.datepicker._get(j,"showOptions"),g,y):j.dpDiv[p==="slideDown"?"slideUp":p==="fadeIn"?"fadeOut":"hide"](p?g:null,y),p||y(),this._datepickerShowing=!1,_=this._get(j,"onClose"),_&&_.apply(j.input?j.input[0]:null,[j.input?j.input.val():"",j]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(t.datepicker._curInst){var p=t(a.target),g=t.datepicker._getInst(p[0]);(p[0].id!==t.datepicker._mainDivId&&p.parents("#"+t.datepicker._mainDivId).length===0&&!p.hasClass(t.datepicker.markerClassName)&&!p.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||p.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==g)&&t.datepicker._hideDatepicker()}},_adjustDate:function(a,p,g){var y=t(a),_=this._getInst(y[0]);this._isDisabledDatepicker(y[0])||(this._adjustInstDate(_,p+(g==="M"?this._get(_,"showCurrentAtPos"):0),g),this._updateDatepicker(_))},_gotoToday:function(a){var p,g=t(a),y=this._getInst(g[0]);this._get(y,"gotoCurrent")&&y.currentDay?(y.selectedDay=y.currentDay,y.drawMonth=y.selectedMonth=y.currentMonth,y.drawYear=y.selectedYear=y.currentYear):(p=new Date,y.selectedDay=p.getDate(),y.drawMonth=y.selectedMonth=p.getMonth(),y.drawYear=y.selectedYear=p.getFullYear()),this._notifyChange(y),this._adjustDate(g)},_selectMonthYear:function(a,p,g){var y=t(a),_=this._getInst(y[0]);_["selected"+(g==="M"?"Month":"Year")]=_["draw"+(g==="M"?"Month":"Year")]=parseInt(p.options[p.selectedIndex].value,10),this._notifyChange(_),this._adjustDate(y)},_selectDay:function(a,p,g,y){var _,j=t(a);t(y).hasClass(this._unselectableClass)||this._isDisabledDatepicker(j[0])||(_=this._getInst(j[0]),_.selectedDay=_.currentDay=t("a",y).html(),_.selectedMonth=_.currentMonth=p,_.selectedYear=_.currentYear=g,this._selectDate(a,this._formatDate(_,_.currentDay,_.currentMonth,_.currentYear)))},_clearDate:function(a){var p=t(a);this._selectDate(p,"")},_selectDate:function(a,p){var g,y=t(a),_=this._getInst(y[0]);p=p!=null?p:this._formatDate(_),_.input&&_.input.val(p),this._updateAlternate(_),g=this._get(_,"onSelect"),g?g.apply(_.input?_.input[0]:null,[p,_]):_.input&&_.input.trigger("change"),_.inline?this._updateDatepicker(_):(this._hideDatepicker(),this._lastInput=_.input[0],typeof _.input[0]!="object"&&_.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var p,g,y,_=this._get(a,"altField");_&&(p=this._get(a,"altFormat")||this._get(a,"dateFormat"),g=this._getDate(a),y=this.formatDate(p,g,this._getFormatConfig(a)),t(_).each(function(){t(this).val(y)}))},noWeekends:function(a){var p=a.getDay();return[p>0&&6>p,""]},iso8601Week:function(a){var p,g=new Date(a.getTime());return g.setDate(g.getDate()+4-(g.getDay()||7)),p=g.getTime(),g.setMonth(0),g.setDate(1),Math.floor(Math.round((p-g)/864e5)/7)+1},parseDate:function(a,p,g){if(a==null||p==null)throw"Invalid arguments";if(p=typeof p=="object"?""+p:p+"",p==="")return null;var y,_,j,R,D=0,H=(g?g.shortYearCutoff:null)||this._defaults.shortYearCutoff,K=typeof H!="string"?H:new Date().getFullYear()%100+parseInt(H,10),J=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,F=(g?g.dayNames:null)||this._defaults.dayNames,de=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,re=(g?g.monthNames:null)||this._defaults.monthNames,V=-1,X=-1,oe=-1,G=-1,Y=!1,Z=function(ke){var Ze=a.length>y+1&&a.charAt(y+1)===ke;return Ze&&y++,Ze},ae=function(ke){var Ze=Z(ke),Ve=ke==="@"?14:ke==="!"?20:ke==="y"&&Ze?4:ke==="o"?3:2,Xe=ke==="y"?Ve:1,dt=RegExp("^\\d{"+Xe+","+Ve+"}"),yt=p.substring(D).match(dt);if(!yt)throw"Missing number at position "+D;return D+=yt[0].length,parseInt(yt[0],10)},ie=function(ke,Ze,Ve){var Xe=-1,dt=t.map(Z(ke)?Ve:Ze,function(yt,pt){return[[pt,yt]]}).sort(function(yt,pt){return-(yt[1].length-pt[1].length)});if(t.each(dt,function(yt,pt){var Re=pt[1];return p.substr(D,Re.length).toLowerCase()===Re.toLowerCase()?(Xe=pt[0],D+=Re.length,!1):void 0}),Xe!==-1)return Xe+1;throw"Unknown name at position "+D},je=function(){if(p.charAt(D)!==a.charAt(y))throw"Unexpected literal at position "+D;D++};for(y=0;a.length>y;y++)if(Y)a.charAt(y)!=="'"||Z("'")?je():Y=!1;else switch(a.charAt(y)){case"d":oe=ae("d");break;case"D":ie("D",J,F);break;case"o":G=ae("o");break;case"m":X=ae("m");break;case"M":X=ie("M",de,re);break;case"y":V=ae("y");break;case"@":R=new Date(ae("@")),V=R.getFullYear(),X=R.getMonth()+1,oe=R.getDate();break;case"!":R=new Date((ae("!")-this._ticksTo1970)/1e4),V=R.getFullYear(),X=R.getMonth()+1,oe=R.getDate();break;case"'":Z("'")?je():Y=!0;break;default:je()}if(p.length>D&&(j=p.substr(D),!/^\s+/.test(j)))throw"Extra/unparsed characters found in date: "+j;if(V===-1?V=new Date().getFullYear():100>V&&(V+=new Date().getFullYear()-new Date().getFullYear()%100+(K>=V?0:-100)),G>-1)for(X=1,oe=G;_=this._getDaysInMonth(V,X-1),!(_>=oe);)X++,oe-=_;if(R=this._daylightSavingAdjust(new Date(V,X-1,oe)),R.getFullYear()!==V||R.getMonth()+1!==X||R.getDate()!==oe)throw"Invalid date";return R},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,p,g){if(!p)return"";var y,_=(g?g.dayNamesShort:null)||this._defaults.dayNamesShort,j=(g?g.dayNames:null)||this._defaults.dayNames,R=(g?g.monthNamesShort:null)||this._defaults.monthNamesShort,D=(g?g.monthNames:null)||this._defaults.monthNames,H=function(V){var X=a.length>y+1&&a.charAt(y+1)===V;return X&&y++,X},K=function(V,X,oe){var G=""+X;if(H(V))for(;oe>G.length;)G="0"+G;return G},J=function(V,X,oe,G){return H(V)?G[X]:oe[X]},F="",de=!1;if(p)for(y=0;a.length>y;y++)if(de)a.charAt(y)!=="'"||H("'")?F+=a.charAt(y):de=!1;else switch(a.charAt(y)){case"d":F+=K("d",p.getDate(),2);break;case"D":F+=J("D",p.getDay(),_,j);break;case"o":F+=K("o",Math.round((new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime()-new Date(p.getFullYear(),0,0).getTime())/864e5),3);break;case"m":F+=K("m",p.getMonth()+1,2);break;case"M":F+=J("M",p.getMonth(),R,D);break;case"y":F+=H("y")?p.getFullYear():(10>p.getYear()%100?"0":"")+p.getYear()%100;break;case"@":F+=p.getTime();break;case"!":F+=1e4*p.getTime()+this._ticksTo1970;break;case"'":H("'")?F+="'":de=!0;break;default:F+=a.charAt(y)}return F},_possibleChars:function(a){var p,g="",y=!1,_=function(R){var D=a.length>p+1&&a.charAt(p+1)===R;return D&&p++,D};for(p=0;a.length>p;p++)if(y)a.charAt(p)!=="'"||_("'")?g+=a.charAt(p):y=!1;else switch(a.charAt(p)){case"d":case"m":case"y":case"@":g+="0123456789";break;case"D":case"M":return null;case"'":_("'")?g+="'":y=!0;break;default:g+=a.charAt(p)}return g},_get:function(a,p){return a.settings[p]!==void 0?a.settings[p]:this._defaults[p]},_setDateFromField:function(a,p){if(a.input.val()!==a.lastVal){var g=this._get(a,"dateFormat"),y=a.lastVal=a.input?a.input.val():null,_=this._getDefaultDate(a),j=_,R=this._getFormatConfig(a);try{j=this.parseDate(g,y,R)||_}catch(D){y=p?"":y}a.selectedDay=j.getDate(),a.drawMonth=a.selectedMonth=j.getMonth(),a.drawYear=a.selectedYear=j.getFullYear(),a.currentDay=y?j.getDate():0,a.currentMonth=y?j.getMonth():0,a.currentYear=y?j.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,p,g){var y=function(D){var H=new Date;return H.setDate(H.getDate()+D),H},_=function(D){try{return t.datepicker.parseDate(t.datepicker._get(a,"dateFormat"),D,t.datepicker._getFormatConfig(a))}catch(V){}for(var H=(D.toLowerCase().match(/^c/)?t.datepicker._getDate(a):null)||new Date,K=H.getFullYear(),J=H.getMonth(),F=H.getDate(),de=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,re=de.exec(D);re;){switch(re[2]||"d"){case"d":case"D":F+=parseInt(re[1],10);break;case"w":case"W":F+=7*parseInt(re[1],10);break;case"m":case"M":J+=parseInt(re[1],10),F=Math.min(F,t.datepicker._getDaysInMonth(K,J));break;case"y":case"Y":K+=parseInt(re[1],10),F=Math.min(F,t.datepicker._getDaysInMonth(K,J))}re=de.exec(D)}return new Date(K,J,F)},j=p==null||p===""?g:typeof p=="string"?_(p):typeof p=="number"?isNaN(p)?g:y(p):new Date(p.getTime());return j=j&&""+j=="Invalid Date"?g:j,j&&(j.setHours(0),j.setMinutes(0),j.setSeconds(0),j.setMilliseconds(0)),this._daylightSavingAdjust(j)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,p,g){var y=!p,_=a.selectedMonth,j=a.selectedYear,R=this._restrictMinMax(a,this._determineDate(a,p,new Date));a.selectedDay=a.currentDay=R.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=R.getMonth(),a.drawYear=a.selectedYear=a.currentYear=R.getFullYear(),_===a.selectedMonth&&j===a.selectedYear||g||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(y?"":this._formatDate(a))},_getDate:function(a){var p=!a.currentYear||a.input&&a.input.val()===""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return p},_attachHandlers:function(a){var p=this._get(a,"stepMonths"),g="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var y={prev:function(){t.datepicker._adjustDate(g,-p,"M")},next:function(){t.datepicker._adjustDate(g,+p,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(g)},selectDay:function(){return t.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(g,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),y[this.getAttribute("data-handler")])})},_generateHTML:function(a){var p,g,y,_,j,R,D,H,K,J,F,de,re,V,X,oe,G,Y,Z,ae,ie,je,Le,ke,Ze,Ve,Xe,dt,yt,pt,Re,_e,Ne,Je,Ye,Te,rt,ht,at,ut=new Date,qe=this._daylightSavingAdjust(new Date(ut.getFullYear(),ut.getMonth(),ut.getDate())),ze=this._get(a,"isRTL"),Fe=this._get(a,"showButtonPanel"),tt=this._get(a,"hideIfNoPrevNext"),nt=this._get(a,"navigationAsDateFormat"),bt=this._getNumberOfMonths(a),wt=this._get(a,"showCurrentAtPos"),_t=this._get(a,"stepMonths"),st=bt[0]!==1||bt[1]!==1,ye=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),N=this._getMinMaxDate(a,"min"),We=this._getMinMaxDate(a,"max"),Ie=a.drawMonth-wt,et=a.drawYear;if(0>Ie&&(Ie+=12,et--),We)for(p=this._daylightSavingAdjust(new Date(We.getFullYear(),We.getMonth()-bt[0]*bt[1]+1,We.getDate())),p=N&&N>p?N:p;this._daylightSavingAdjust(new Date(et,Ie,1))>p;)Ie--,0>Ie&&(Ie=11,et--);for(a.drawMonth=Ie,a.drawYear=et,g=this._get(a,"prevText"),g=nt?this.formatDate(g,this._daylightSavingAdjust(new Date(et,Ie-_t,1)),this._getFormatConfig(a)):g,y=this._canAdjustMonth(a,-1,et,Ie)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"e":"w")+"'>"+g+"</span></a>":tt?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+g+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"e":"w")+"'>"+g+"</span></a>",_=this._get(a,"nextText"),_=nt?this.formatDate(_,this._daylightSavingAdjust(new Date(et,Ie+_t,1)),this._getFormatConfig(a)):_,j=this._canAdjustMonth(a,1,et,Ie)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"w":"e")+"'>"+_+"</span></a>":tt?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+_+"'><span class='ui-icon ui-icon-circle-triangle-"+(ze?"w":"e")+"'>"+_+"</span></a>",R=this._get(a,"currentText"),D=this._get(a,"gotoCurrent")&&a.currentDay?ye:qe,R=nt?this.formatDate(R,D,this._getFormatConfig(a)):R,H=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",K=Fe?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ze?H:"")+(this._isInRange(a,D)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+R+"</button>":"")+(ze?"":H)+"</div>":"",J=parseInt(this._get(a,"firstDay"),10),J=isNaN(J)?0:J,F=this._get(a,"showWeek"),de=this._get(a,"dayNames"),re=this._get(a,"dayNamesMin"),V=this._get(a,"monthNames"),X=this._get(a,"monthNamesShort"),oe=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),Y=this._get(a,"selectOtherMonths"),Z=this._getDefaultDate(a),ae="",je=0;bt[0]>je;je++){for(Le="",this.maxRows=4,ke=0;bt[1]>ke;ke++){if(Ze=this._daylightSavingAdjust(new Date(et,Ie,a.selectedDay)),Ve=" ui-corner-all",Xe="",st){if(Xe+="<div class='ui-datepicker-group",bt[1]>1)switch(ke){case 0:Xe+=" ui-datepicker-group-first",Ve=" ui-corner-"+(ze?"right":"left");break;case bt[1]-1:Xe+=" ui-datepicker-group-last",Ve=" ui-corner-"+(ze?"left":"right");break;default:Xe+=" ui-datepicker-group-middle",Ve=""}Xe+="'>"}for(Xe+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Ve+"'>"+(/all|left/.test(Ve)&&je===0?ze?j:y:"")+(/all|right/.test(Ve)&&je===0?ze?y:j:"")+this._generateMonthYearHeader(a,Ie,et,N,We,je>0||ke>0,V,X)+"</div><table class='ui-datepicker-calendar'><thead><tr>",dt=F?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",ie=0;7>ie;ie++)yt=(ie+J)%7,dt+="<th scope='col'"+((ie+J+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+de[yt]+"'>"+re[yt]+"</span></th>";for(Xe+=dt+"</tr></thead><tbody>",pt=this._getDaysInMonth(et,Ie),et===a.selectedYear&&Ie===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,pt)),Re=(this._getFirstDayOfMonth(et,Ie)-J+7)%7,_e=Math.ceil((Re+pt)/7),Ne=st&&this.maxRows>_e?this.maxRows:_e,this.maxRows=Ne,Je=this._daylightSavingAdjust(new Date(et,Ie,1-Re)),Ye=0;Ne>Ye;Ye++){for(Xe+="<tr>",Te=F?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(Je)+"</td>":"",ie=0;7>ie;ie++)rt=oe?oe.apply(a.input?a.input[0]:null,[Je]):[!0,""],ht=Je.getMonth()!==Ie,at=ht&&!Y||!rt[0]||N&&N>Je||We&&Je>We,Te+="<td class='"+((ie+J+6)%7>=5?" ui-datepicker-week-end":"")+(ht?" ui-datepicker-other-month":"")+(Je.getTime()===Ze.getTime()&&Ie===a.selectedMonth&&a._keyEvent||Z.getTime()===Je.getTime()&&Z.getTime()===Ze.getTime()?" "+this._dayOverClass:"")+(at?" "+this._unselectableClass+" ui-state-disabled":"")+(ht&&!G?"":" "+rt[1]+(Je.getTime()===ye.getTime()?" "+this._currentClass:"")+(Je.getTime()===qe.getTime()?" ui-datepicker-today":""))+"'"+(ht&&!G||!rt[2]?"":" title='"+rt[2].replace(/'/g,"&#39;")+"'")+(at?"":" data-handler='selectDay' data-event='click' data-month='"+Je.getMonth()+"' data-year='"+Je.getFullYear()+"'")+">"+(ht&&!G?"&#xa0;":at?"<span class='ui-state-default'>"+Je.getDate()+"</span>":"<a class='ui-state-default"+(Je.getTime()===qe.getTime()?" ui-state-highlight":"")+(Je.getTime()===ye.getTime()?" ui-state-active":"")+(ht?" ui-priority-secondary":"")+"' href='#'>"+Je.getDate()+"</a>")+"</td>",Je.setDate(Je.getDate()+1),Je=this._daylightSavingAdjust(Je);Xe+=Te+"</tr>"}Ie++,Ie>11&&(Ie=0,et++),Xe+="</tbody></table>"+(st?"</div>"+(bt[0]>0&&ke===bt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),Le+=Xe}ae+=Le}return ae+=K,a._keyEvent=!1,ae},_generateMonthYearHeader:function(a,p,g,y,_,j,R,D){var H,K,J,F,de,re,V,X,oe=this._get(a,"changeMonth"),G=this._get(a,"changeYear"),Y=this._get(a,"showMonthAfterYear"),Z="<div class='ui-datepicker-title'>",ae="";if(j||!oe)ae+="<span class='ui-datepicker-month'>"+R[p]+"</span>";else{for(H=y&&y.getFullYear()===g,K=_&&_.getFullYear()===g,ae+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",J=0;12>J;J++)(!H||J>=y.getMonth())&&(!K||_.getMonth()>=J)&&(ae+="<option value='"+J+"'"+(J===p?" selected='selected'":"")+">"+D[J]+"</option>");ae+="</select>"}if(Y||(Z+=ae+(!j&&oe&&G?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",j||!G)Z+="<span class='ui-datepicker-year'>"+g+"</span>";else{for(F=this._get(a,"yearRange").split(":"),de=new Date().getFullYear(),re=function(je){var Le=je.match(/c[+\-].*/)?g+parseInt(je.substring(1),10):je.match(/[+\-].*/)?de+parseInt(je,10):parseInt(je,10);return isNaN(Le)?de:Le},V=re(F[0]),X=Math.max(V,re(F[1]||"")),V=y?Math.max(V,y.getFullYear()):V,X=_?Math.min(X,_.getFullYear()):X,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";X>=V;V++)a.yearshtml+="<option value='"+V+"'"+(V===g?" selected='selected'":"")+">"+V+"</option>";a.yearshtml+="</select>",Z+=a.yearshtml,a.yearshtml=null}return Z+=this._get(a,"yearSuffix"),Y&&(Z+=(!j&&oe&&G?"":"&#xa0;")+ae),Z+="</div>"},_adjustInstDate:function(a,p,g){var y=a.drawYear+(g==="Y"?p:0),_=a.drawMonth+(g==="M"?p:0),j=Math.min(a.selectedDay,this._getDaysInMonth(y,_))+(g==="D"?p:0),R=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(y,_,j)));a.selectedDay=R.getDate(),a.drawMonth=a.selectedMonth=R.getMonth(),a.drawYear=a.selectedYear=R.getFullYear(),(g==="M"||g==="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,p){var g=this._getMinMaxDate(a,"min"),y=this._getMinMaxDate(a,"max"),_=g&&g>p?g:p;return y&&_>y?y:_},_notifyChange:function(a){var p=this._get(a,"onChangeMonthYear");p&&p.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var p=this._get(a,"numberOfMonths");return p==null?[1,1]:typeof p=="number"?[1,p]:p},_getMinMaxDate:function(a,p){return this._determineDate(a,this._get(a,p+"Date"),null)},_getDaysInMonth:function(a,p){return 32-this._daylightSavingAdjust(new Date(a,p,32)).getDate()},_getFirstDayOfMonth:function(a,p){return new Date(a,p,1).getDay()},_canAdjustMonth:function(a,p,g,y){var _=this._getNumberOfMonths(a),j=this._daylightSavingAdjust(new Date(g,y+(0>p?p:_[0]*_[1]),1));return 0>p&&j.setDate(this._getDaysInMonth(j.getFullYear(),j.getMonth())),this._isInRange(a,j)},_isInRange:function(a,p){var g,y,_=this._getMinMaxDate(a,"min"),j=this._getMinMaxDate(a,"max"),R=null,D=null,H=this._get(a,"yearRange");return H&&(g=H.split(":"),y=new Date().getFullYear(),R=parseInt(g[0],10),D=parseInt(g[1],10),g[0].match(/[+\-].*/)&&(R+=y),g[1].match(/[+\-].*/)&&(D+=y)),(!_||p.getTime()>=_.getTime())&&(!j||p.getTime()<=j.getTime())&&(!R||p.getFullYear()>=R)&&(!D||D>=p.getFullYear())},_getFormatConfig:function(a){var p=this._get(a,"shortYearCutoff");return p=typeof p!="string"?p:new Date().getFullYear()%100+parseInt(p,10),{shortYearCutoff:p,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,p,g,y){p||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var _=p?typeof p=="object"?p:this._daylightSavingAdjust(new Date(y,g,p)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),_,this._getFormatConfig(a))}}),t.fn.datepicker=function(m){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return typeof m!="string"||m!=="isDisabled"&&m!=="getDate"&&m!=="widget"?m==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+m+"Datepicker"].apply(t.datepicker,[this[0]].concat(a)):this.each(function(){typeof m=="string"?t.datepicker["_"+m+"Datepicker"].apply(t.datepicker,[this].concat(a)):t.datepicker._attachDatepicker(this,m)}):t.datepicker["_"+m+"Datepicker"].apply(t.datepicker,[this[0]].concat(a))},t.datepicker=new u,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.11.1",t.datepicker,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,p){this._super(a,p),a==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(a){var p=this.document[0],g=this.options;try{p.activeElement&&p.activeElement.nodeName.toLowerCase()!=="body"&&t(p.activeElement).blur()}catch(y){}return this.helper||g.disabled||t(a.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(a),this.handle?(t(g.iframeFix===!0?"iframe":g.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var p=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,p.cursorAt&&this._adjustOffsetFromHelper(p.cursorAt),this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!p.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,p){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!p){var g=this._uiHash();if(this._trigger("drag",a,g)===!1)return this._mouseUp({}),!1;this.position=g.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var p=this,g=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(g=t.ui.ddmanager.drop(this,a)),this.dropped&&(g=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!g||this.options.revert==="valid"&&g||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){p._trigger("stop",a)!==!1&&p._clear()}):this._trigger("stop",a)!==!1&&this._clear(),!1},_mouseUp:function(a){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,a),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!t(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(a){var p=this.options,g=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[a])):p.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo(p.appendTo==="parent"?this.element[0].parentNode:p.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),t.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),p=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==p&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var a=this.element.position(),p=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(p?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(p?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,p,g,y=this.options,_=this.document[0];return this.relativeContainer=null,y.containment?y.containment==="window"?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):y.containment==="document"?(this.containment=[0,0,t(_).width()-this.helperProportions.width-this.margins.left,(t(_).height()||_.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):y.containment.constructor===Array?(this.containment=y.containment,void 0):(y.containment==="parent"&&(y.containment=this.helper[0].parentNode),p=t(y.containment),g=p[0],g&&(a=p.css("overflow")!=="hidden",this.containment=[(parseInt(p.css("borderLeftWidth"),10)||0)+(parseInt(p.css("paddingLeft"),10)||0),(parseInt(p.css("borderTopWidth"),10)||0)+(parseInt(p.css("paddingTop"),10)||0),(a?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(p.css("borderRightWidth"),10)||0)-(parseInt(p.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(p.css("borderBottomWidth"),10)||0)-(parseInt(p.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=p),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,p){p||(p=this.position);var g=a==="absolute"?1:-1,y=this._isRootNode(this.scrollParent[0]);return{top:p.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.offset.scroll.top:y?0:this.offset.scroll.top)*g,left:p.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.offset.scroll.left:y?0:this.offset.scroll.left)*g}},_generatePosition:function(a,p){var g,y,_,j,R=this.options,D=this._isRootNode(this.scrollParent[0]),H=a.pageX,K=a.pageY;return D&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(y=this.relativeContainer.offset(),g=[this.containment[0]+y.left,this.containment[1]+y.top,this.containment[2]+y.left,this.containment[3]+y.top]):g=this.containment,a.pageX-this.offset.click.left<g[0]&&(H=g[0]+this.offset.click.left),a.pageY-this.offset.click.top<g[1]&&(K=g[1]+this.offset.click.top),a.pageX-this.offset.click.left>g[2]&&(H=g[2]+this.offset.click.left),a.pageY-this.offset.click.top>g[3]&&(K=g[3]+this.offset.click.top)),R.grid&&(_=R.grid[1]?this.originalPageY+Math.round((K-this.originalPageY)/R.grid[1])*R.grid[1]:this.originalPageY,K=g?_-this.offset.click.top>=g[1]||_-this.offset.click.top>g[3]?_:_-this.offset.click.top>=g[1]?_-R.grid[1]:_+R.grid[1]:_,j=R.grid[0]?this.originalPageX+Math.round((H-this.originalPageX)/R.grid[0])*R.grid[0]:this.originalPageX,H=g?j-this.offset.click.left>=g[0]||j-this.offset.click.left>g[2]?j:j-this.offset.click.left>=g[0]?j-R.grid[0]:j+R.grid[0]:j),R.axis==="y"&&(H=this.originalPageX),R.axis==="x"&&(K=this.originalPageY)),{top:K-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:D?0:this.offset.scroll.top),left:H-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:D?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(a,p,g){return g=g||this._uiHash(),t.ui.plugin.call(this,a,[p,g,this],!0),a==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,a,p,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(a,p,g){var y=g.options,_=t.extend({},p,{item:g.element});g.sortables=[],t(y.connectToSortable).each(function(){var j=t(this).sortable("instance");j&&!j.options.disabled&&(g.sortables.push({instance:j,shouldRevert:j.options.revert}),j.refreshPositions(),j._trigger("activate",a,_))})},stop:function(a,p,g){var y=t.extend({},p,{item:g.element});t.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,g.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,y))})},drag:function(a,p,g){var y=this;t.each(g.sortables,function(){var _=!1,j=this;this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(_=!0,t.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==j&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(j.instance.element[0],this.instance.element[0])&&(_=!1),_})),_?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(y).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return p.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",a),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",a),g.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(a,p,g){var y=t("body"),_=g.options;y.css("cursor")&&(_._cursor=y.css("cursor")),y.css("cursor",_.cursor)},stop:function(a,p,g){var y=g.options;y._cursor&&t("body").css("cursor",y._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(a,p,g){var y=t(p.helper),_=g.options;y.css("opacity")&&(_._opacity=y.css("opacity")),y.css("opacity",_.opacity)},stop:function(a,p,g){var y=g.options;y._opacity&&t(p.helper).css("opacity",y._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(a,p,g){g.scrollParentNotHidden||(g.scrollParentNotHidden=g.helper.scrollParent(!1)),g.scrollParentNotHidden[0]!==g.document[0]&&g.scrollParentNotHidden[0].tagName!=="HTML"&&(g.overflowOffset=g.scrollParentNotHidden.offset())},drag:function(a,p,g){var y=g.options,_=!1,j=g.scrollParentNotHidden[0],R=g.document[0];j!==R&&j.tagName!=="HTML"?(y.axis&&y.axis==="x"||(g.overflowOffset.top+j.offsetHeight-a.pageY<y.scrollSensitivity?j.scrollTop=_=j.scrollTop+y.scrollSpeed:a.pageY-g.overflowOffset.top<y.scrollSensitivity&&(j.scrollTop=_=j.scrollTop-y.scrollSpeed)),y.axis&&y.axis==="y"||(g.overflowOffset.left+j.offsetWidth-a.pageX<y.scrollSensitivity?j.scrollLeft=_=j.scrollLeft+y.scrollSpeed:a.pageX-g.overflowOffset.left<y.scrollSensitivity&&(j.scrollLeft=_=j.scrollLeft-y.scrollSpeed))):(y.axis&&y.axis==="x"||(a.pageY-t(R).scrollTop()<y.scrollSensitivity?_=t(R).scrollTop(t(R).scrollTop()-y.scrollSpeed):t(window).height()-(a.pageY-t(R).scrollTop())<y.scrollSensitivity&&(_=t(R).scrollTop(t(R).scrollTop()+y.scrollSpeed))),y.axis&&y.axis==="y"||(a.pageX-t(R).scrollLeft()<y.scrollSensitivity?_=t(R).scrollLeft(t(R).scrollLeft()-y.scrollSpeed):t(window).width()-(a.pageX-t(R).scrollLeft())<y.scrollSensitivity&&(_=t(R).scrollLeft(t(R).scrollLeft()+y.scrollSpeed)))),_!==!1&&t.ui.ddmanager&&!y.dropBehaviour&&t.ui.ddmanager.prepareOffsets(g,a)}}),t.ui.plugin.add("draggable","snap",{start:function(a,p,g){var y=g.options;g.snapElements=[],t(y.snap.constructor!==String?y.snap.items||":data(ui-draggable)":y.snap).each(function(){var _=t(this),j=_.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:_.outerWidth(),height:_.outerHeight(),top:j.top,left:j.left})})},drag:function(a,p,g){var y,_,j,R,D,H,K,J,F,de,re=g.options,V=re.snapTolerance,X=p.offset.left,oe=X+g.helperProportions.width,G=p.offset.top,Y=G+g.helperProportions.height;for(F=g.snapElements.length-1;F>=0;F--)D=g.snapElements[F].left,H=D+g.snapElements[F].width,K=g.snapElements[F].top,J=K+g.snapElements[F].height,D-V>oe||X>H+V||K-V>Y||G>J+V||!t.contains(g.snapElements[F].item.ownerDocument,g.snapElements[F].item)?(g.snapElements[F].snapping&&g.options.snap.release&&g.options.snap.release.call(g.element,a,t.extend(g._uiHash(),{snapItem:g.snapElements[F].item})),g.snapElements[F].snapping=!1):(re.snapMode!=="inner"&&(y=V>=Math.abs(K-Y),_=V>=Math.abs(J-G),j=V>=Math.abs(D-oe),R=V>=Math.abs(H-X),y&&(p.position.top=g._convertPositionTo("relative",{top:K-g.helperProportions.height,left:0}).top-g.margins.top),_&&(p.position.top=g._convertPositionTo("relative",{top:J,left:0}).top-g.margins.top),j&&(p.position.left=g._convertPositionTo("relative",{top:0,left:D-g.helperProportions.width}).left-g.margins.left),R&&(p.position.left=g._convertPositionTo("relative",{top:0,left:H}).left-g.margins.left)),de=y||_||j||R,re.snapMode!=="outer"&&(y=V>=Math.abs(K-G),_=V>=Math.abs(J-Y),j=V>=Math.abs(D-X),R=V>=Math.abs(H-oe),y&&(p.position.top=g._convertPositionTo("relative",{top:K,left:0}).top-g.margins.top),_&&(p.position.top=g._convertPositionTo("relative",{top:J-g.helperProportions.height,left:0}).top-g.margins.top),j&&(p.position.left=g._convertPositionTo("relative",{top:0,left:D}).left-g.margins.left),R&&(p.position.left=g._convertPositionTo("relative",{top:0,left:H-g.helperProportions.width}).left-g.margins.left)),!g.snapElements[F].snapping&&(y||_||j||R||de)&&g.options.snap.snap&&g.options.snap.snap.call(g.element,a,t.extend(g._uiHash(),{snapItem:g.snapElements[F].item})),g.snapElements[F].snapping=y||_||j||R||de)}}),t.ui.plugin.add("draggable","stack",{start:function(a,p,g){var y,_=g.options,j=t.makeArray(t(_.stack)).sort(function(R,D){return(parseInt(t(R).css("zIndex"),10)||0)-(parseInt(t(D).css("zIndex"),10)||0)});j.length&&(y=parseInt(t(j[0]).css("zIndex"),10)||0,t(j).each(function(R){t(this).css("zIndex",y+R)}),this.css("zIndex",y+j.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(a,p,g){var y=t(p.helper),_=g.options;y.css("zIndex")&&(_._zIndex=y.css("zIndex")),y.css("zIndex",_.zIndex)},stop:function(a,p,g){var y=g.options;y._zIndex&&t(p.helper).css("zIndex",y._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,p){if(t(a).css("overflow")==="hidden")return!1;var g=p&&p==="left"?"scrollLeft":"scrollTop",y=!1;return a[g]>0?!0:(a[g]=1,y=a[g]>0,a[g]=0,y)},_create:function(){var a,p,g,y,_,j=this,R=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!R.aspectRatio,aspectRatio:R.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:R.helper||R.ghost||R.animate?R.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=R.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},p=0;a.length>p;p++)g=t.trim(a[p]),_="ui-resizable-"+g,y=t("<div class='ui-resizable-handle "+_+"'></div>"),y.css({zIndex:R.zIndex}),g==="se"&&y.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(y);this._renderAxis=function(D){var H,K,J,F;D=D||this.element;for(H in this.handles)this.handles[H].constructor===String&&(this.handles[H]=this.element.children(this.handles[H]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(K=t(this.handles[H],this.element),F=/sw|ne|nw|se|n|s/.test(H)?K.outerHeight():K.outerWidth(),J=["padding",/ne|nw|n/.test(H)?"Top":/se|sw|s/.test(H)?"Bottom":/^e$/.test(H)?"Right":"Left"].join(""),D.css(J,F),this._proportionallyResize()),t(this.handles[H]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){j.resizing||(this.className&&(y=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),j.axis=y&&y[1]?y[1]:"se")}),R.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){R.disabled||(t(this).removeClass("ui-resizable-autohide"),j._handles.show())}).mouseleave(function(){R.disabled||j.resizing||(t(this).addClass("ui-resizable-autohide"),j._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,p=function(y){t(y).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(p(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),p(this.originalElement),this},_mouseCapture:function(a){var p,g,y=!1;for(p in this.handles)g=t(this.handles[p])[0],(g===a.target||t.contains(g,a.target))&&(y=!0);return!this.options.disabled&&y},_mouseStart:function(a){var p,g,y,_=this.options,j=this.element;return this.resizing=!0,this._renderProxy(),p=this._num(this.helper.css("left")),g=this._num(this.helper.css("top")),_.containment&&(p+=t(_.containment).scrollLeft()||0,g+=t(_.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:p,top:g},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalPosition={left:p,top:g},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio=typeof _.aspectRatio=="number"?_.aspectRatio:this.originalSize.width/this.originalSize.height||1,y=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",y==="auto"?this.axis+"-resize":y),j.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var p,g,y=this.originalMousePosition,_=this.axis,j=a.pageX-y.left||0,R=a.pageY-y.top||0,D=this._change[_];return this._updatePrevProperties(),D&&(p=D.apply(this,[a,j,R]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(p=this._updateRatio(p,a)),p=this._respectSize(p,a),this._updateCache(p),this._propagate("resize",a),g=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(g)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges())),!1},_mouseStop:function(a){this.resizing=!1;var p,g,y,_,j,R,D,H=this.options,K=this;return this._helper&&(p=this._proportionallyResizeElements,g=p.length&&/textarea/i.test(p[0].nodeName),y=g&&this._hasScroll(p[0],"left")?0:K.sizeDiff.height,_=g?0:K.sizeDiff.width,j={width:K.helper.width()-_,height:K.helper.height()-y},R=parseInt(K.element.css("left"),10)+(K.position.left-K.originalPosition.left)||null,D=parseInt(K.element.css("top"),10)+(K.position.top-K.originalPosition.top)||null,H.animate||this.element.css(t.extend(j,{top:D,left:R})),K.helper.height(K.size.height),K.helper.width(K.size.width),this._helper&&!H.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var p,g,y,_,j,R=this.options;j={minWidth:this._isNumber(R.minWidth)?R.minWidth:0,maxWidth:this._isNumber(R.maxWidth)?R.maxWidth:1/0,minHeight:this._isNumber(R.minHeight)?R.minHeight:0,maxHeight:this._isNumber(R.maxHeight)?R.maxHeight:1/0},(this._aspectRatio||a)&&(p=j.minHeight*this.aspectRatio,y=j.minWidth/this.aspectRatio,g=j.maxHeight*this.aspectRatio,_=j.maxWidth/this.aspectRatio,p>j.minWidth&&(j.minWidth=p),y>j.minHeight&&(j.minHeight=y),j.maxWidth>g&&(j.maxWidth=g),j.maxHeight>_&&(j.maxHeight=_)),this._vBoundaries=j},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var p=this.position,g=this.size,y=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),y==="sw"&&(a.left=p.left+(g.width-a.width),a.top=null),y==="nw"&&(a.top=p.top+(g.height-a.height),a.left=p.left+(g.width-a.width)),a},_respectSize:function(a){var p=this._vBoundaries,g=this.axis,y=this._isNumber(a.width)&&p.maxWidth&&p.maxWidth<a.width,_=this._isNumber(a.height)&&p.maxHeight&&p.maxHeight<a.height,j=this._isNumber(a.width)&&p.minWidth&&p.minWidth>a.width,R=this._isNumber(a.height)&&p.minHeight&&p.minHeight>a.height,D=this.originalPosition.left+this.originalSize.width,H=this.position.top+this.size.height,K=/sw|nw|w/.test(g),J=/nw|ne|n/.test(g);return j&&(a.width=p.minWidth),R&&(a.height=p.minHeight),y&&(a.width=p.maxWidth),_&&(a.height=p.maxHeight),j&&K&&(a.left=D-p.minWidth),y&&K&&(a.left=D-p.maxWidth),R&&J&&(a.top=H-p.minHeight),_&&J&&(a.top=H-p.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var p=0,g=[],y=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],_=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>p;p++)g[p]=parseInt(y[p],10)||0,g[p]+=parseInt(_[p],10)||0;return{height:g[0]+g[2],width:g[1]+g[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,p=0,g=this.helper||this.element;this._proportionallyResizeElements.length>p;p++)a=this._proportionallyResizeElements[p],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:g.height()-this.outerDimensions.height||0,width:g.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.element,p=this.options;this.elementOffset=a.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++p.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,p){return{width:this.originalSize.width+p}},w:function(a,p){var g=this.originalSize,y=this.originalPosition;return{left:y.left+p,width:g.width-p}},n:function(a,p,g){var y=this.originalSize,_=this.originalPosition;return{top:_.top+g,height:y.height-g}},s:function(a,p,g){return{height:this.originalSize.height+g}},se:function(a,p,g){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,p,g]))},sw:function(a,p,g){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,p,g]))},ne:function(a,p,g){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,p,g]))},nw:function(a,p,g){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,p,g]))}},_propagate:function(a,p){t.ui.plugin.call(this,a,[p,this.ui()]),a!=="resize"&&this._trigger(a,p,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(a){var p=t(this).resizable("instance"),g=p.options,y=p._proportionallyResizeElements,_=y.length&&/textarea/i.test(y[0].nodeName),j=_&&p._hasScroll(y[0],"left")?0:p.sizeDiff.height,R=_?0:p.sizeDiff.width,D={width:p.size.width-R,height:p.size.height-j},H=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,K=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;p.element.animate(t.extend(D,K&&H?{top:K,left:H}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var F={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};y&&y.length&&t(y[0]).css({width:F.width,height:F.height}),p._updateCache(F),p._propagate("resize",a)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var a,p,g,y,_,j,R,D=t(this).resizable("instance"),H=D.options,K=D.element,J=H.containment,F=_instanceof(J,t)?J.get(0):/parent/.test(J)?K.parent().get(0):J;F&&(D.containerElement=t(F),/document/.test(J)||J===document?(D.containerOffset={left:0,top:0},D.containerPosition={left:0,top:0},D.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(a=t(F),p=[],t(["Top","Right","Left","Bottom"]).each(function(de,re){p[de]=D._num(a.css("padding"+re))}),D.containerOffset=a.offset(),D.containerPosition=a.position(),D.containerSize={height:a.innerHeight()-p[3],width:a.innerWidth()-p[1]},g=D.containerOffset,y=D.containerSize.height,_=D.containerSize.width,j=D._hasScroll(F,"left")?F.scrollWidth:_,R=D._hasScroll(F)?F.scrollHeight:y,D.parentData={element:F,left:g.left,top:g.top,width:j,height:R}))},resize:function(a){var p,g,y,_,j=t(this).resizable("instance"),R=j.options,D=j.containerOffset,H=j.position,K=j._aspectRatio||a.shiftKey,J={top:0,left:0},F=j.containerElement,de=!0;F[0]!==document&&/static/.test(F.css("position"))&&(J=D),H.left<(j._helper?D.left:0)&&(j.size.width=j.size.width+(j._helper?j.position.left-D.left:j.position.left-J.left),K&&(j.size.height=j.size.width/j.aspectRatio,de=!1),j.position.left=R.helper?D.left:0),H.top<(j._helper?D.top:0)&&(j.size.height=j.size.height+(j._helper?j.position.top-D.top:j.position.top),K&&(j.size.width=j.size.height*j.aspectRatio,de=!1),j.position.top=j._helper?D.top:0),y=j.containerElement.get(0)===j.element.parent().get(0),_=/relative|absolute/.test(j.containerElement.css("position")),y&&_?(j.offset.left=j.parentData.left+j.position.left,j.offset.top=j.parentData.top+j.position.top):(j.offset.left=j.element.offset().left,j.offset.top=j.element.offset().top),p=Math.abs(j.sizeDiff.width+(j._helper?j.offset.left-J.left:j.offset.left-D.left)),g=Math.abs(j.sizeDiff.height+(j._helper?j.offset.top-J.top:j.offset.top-D.top)),p+j.size.width>=j.parentData.width&&(j.size.width=j.parentData.width-p,K&&(j.size.height=j.size.width/j.aspectRatio,de=!1)),g+j.size.height>=j.parentData.height&&(j.size.height=j.parentData.height-g,K&&(j.size.width=j.size.height*j.aspectRatio,de=!1)),de||(j.position.left=j.prevPosition.left,j.position.top=j.prevPosition.top,j.size.width=j.prevSize.width,j.size.height=j.prevSize.height)},stop:function(){var a=t(this).resizable("instance"),p=a.options,g=a.containerOffset,y=a.containerPosition,_=a.containerElement,j=t(a.helper),R=j.offset(),D=j.outerWidth()-a.sizeDiff.width,H=j.outerHeight()-a.sizeDiff.height;a._helper&&!p.animate&&/relative/.test(_.css("position"))&&t(this).css({left:R.left-y.left-g.left,width:D,height:H}),a._helper&&!p.animate&&/static/.test(_.css("position"))&&t(this).css({left:R.left-y.left-g.left,width:D,height:H})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var a=t(this).resizable("instance"),p=a.options,g=function(_){t(_).each(function(){var j=t(this);j.data("ui-resizable-alsoresize",{width:parseInt(j.width(),10),height:parseInt(j.height(),10),left:parseInt(j.css("left"),10),top:parseInt(j.css("top"),10)})})};typeof p.alsoResize!="object"||p.alsoResize.parentNode?g(p.alsoResize):p.alsoResize.length?(p.alsoResize=p.alsoResize[0],g(p.alsoResize)):t.each(p.alsoResize,function(y){g(y)})},resize:function(a,p){var g=t(this).resizable("instance"),y=g.options,_=g.originalSize,j=g.originalPosition,R={height:g.size.height-_.height||0,width:g.size.width-_.width||0,top:g.position.top-j.top||0,left:g.position.left-j.left||0},D=function(K,J){t(K).each(function(){var F=t(this),de=t(this).data("ui-resizable-alsoresize"),re={},V=J&&J.length?J:F.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(V,function(X,oe){var G=(de[oe]||0)+(R[oe]||0);G&&G>=0&&(re[oe]=G||null)}),F.css(re)})};typeof y.alsoResize!="object"||y.alsoResize.nodeType?D(y.alsoResize):t.each(y.alsoResize,function(H,K){D(H,K)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var a=t(this).resizable("instance"),p=a.options,g=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof p.ghost=="string"?p.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){var a=t(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=t(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var a,p=t(this).resizable("instance"),g=p.options,y=p.size,_=p.originalSize,j=p.originalPosition,R=p.axis,D=typeof g.grid=="number"?[g.grid,g.grid]:g.grid,H=D[0]||1,K=D[1]||1,J=Math.round((y.width-_.width)/H)*H,F=Math.round((y.height-_.height)/K)*K,de=_.width+J,re=_.height+F,V=g.maxWidth&&de>g.maxWidth,X=g.maxHeight&&re>g.maxHeight,oe=g.minWidth&&g.minWidth>de,G=g.minHeight&&g.minHeight>re;g.grid=D,oe&&(de+=H),G&&(re+=K),V&&(de-=H),X&&(re-=K),/^(se|s|e)$/.test(R)?(p.size.width=de,p.size.height=re):/^(ne)$/.test(R)?(p.size.width=de,p.size.height=re,p.position.top=j.top-F):/^(sw)$/.test(R)?(p.size.width=de,p.size.height=re,p.position.left=j.left-J):((0>=re-K||0>=de-H)&&(a=p._getPaddingPlusBorderDimensions(this)),re-K>0?(p.size.height=re,p.position.top=j.top-F):(re=K-a.height,p.size.height=re,p.position.top=j.top+_.height-re),de-H>0?(p.size.width=de,p.position.left=j.left-J):(de=K-a.height,p.size.width=de,p.position.left=j.left+_.width-de))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var p=t(this).css(a).offset().top;0>p&&t(this).css("top",a.top-p)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?t(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,p=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=p.parent.children().eq(p.index),a.length&&a[0]!==this.element[0]?a.before(this.element):p.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(a){var p,g=this;if(this._isOpen&&this._trigger("beforeClose",a)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{p=this.document[0].activeElement,p&&p.nodeName.toLowerCase()!=="body"&&t(p).blur()}catch(y){}this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,p){var g=!1,y=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),_=Math.max.apply(null,y);return _>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",_+1),g=!0),g&&!p&&this._trigger("focus",a),g},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(a){var p=function(){var y=this.document[0].activeElement,_=this.uiDialog[0]===y||t.contains(this.uiDialog[0],y);_||this._focusTabbable()};a.preventDefault(),p.call(this),this._delay(p)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(p){if(this.options.closeOnEscape&&!p.isDefaultPrevented()&&p.keyCode&&p.keyCode===t.ui.keyCode.ESCAPE)return p.preventDefault(),this.close(p),void 0;if(p.keyCode===t.ui.keyCode.TAB&&!p.isDefaultPrevented()){var g=this.uiDialog.find(":tabbable"),y=g.filter(":first"),_=g.filter(":last");p.target!==_[0]&&p.target!==this.uiDialog[0]||p.shiftKey?p.target!==y[0]&&p.target!==this.uiDialog[0]||!p.shiftKey||(this._delay(function(){_.focus()}),p.preventDefault()):(this._delay(function(){y.focus()}),p.preventDefault())}},mousedown:function(p){this._moveToTop(p)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(g){t(g.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(g){g.preventDefault(),this.close(g)}}),a=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var a=this,p=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(p)||t.isArray(p)&&!p.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(p,function(g,y){var _,j;y=t.isFunction(y)?{click:y,text:g}:y,y=t.extend({type:"button"},y),_=y.click,y.click=function(){_.apply(a.element[0],arguments)},j={icons:y.icons,text:y.showText},delete y.icons,delete y.showText,t("<button></button>",y).button(j).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){var a=function(_){return{position:_.position,offset:_.offset}},p=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(_,j){t(this).addClass("ui-dialog-dragging"),p._blockFrames(),p._trigger("dragStart",_,a(j))},drag:function(_,j){p._trigger("drag",_,a(j))},stop:function(_,j){var R=j.offset.left-p.document.scrollLeft(),D=j.offset.top-p.document.scrollTop();g.position={my:"left top",at:"left"+(R>=0?"+":"")+R+" top"+(D>=0?"+":"")+D,of:p.window},t(this).removeClass("ui-dialog-dragging"),p._unblockFrames(),p._trigger("dragStop",_,a(j))}})},_makeResizable:function(){var a=function(D){return{originalPosition:D.originalPosition,originalSize:D.originalSize,position:D.position,size:D.size}},p=this,g=this.options,y=g.resizable,_=this.uiDialog.css("position"),j=typeof y=="string"?y:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:j,start:function(D,H){t(this).addClass("ui-dialog-resizing"),p._blockFrames(),p._trigger("resizeStart",D,a(H))},resize:function(D,H){p._trigger("resize",D,a(H))},stop:function(D,H){var K=p.uiDialog.offset(),J=K.left-p.document.scrollLeft(),F=K.top-p.document.scrollTop();g.height=p.uiDialog.height(),g.width=p.uiDialog.width(),g.position={my:"left top",at:"left"+(J>=0?"+":"")+J+" top"+(F>=0?"+":"")+F,of:p.window},t(this).removeClass("ui-dialog-resizing"),p._unblockFrames(),p._trigger("resizeStop",D,a(H))}}).css("position",_)},_trackFocus:function(){this._on(this.widget(),{focusin:function(p){this._makeFocusTarget(),this._focusedElement=t(p.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),p=t.inArray(this,a);p!==-1&&a.splice(p,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(a){var p=this,g=!1,y={};t.each(a,function(_,j){p._setOption(_,j),_ in p.sizeRelatedOptions&&(g=!0),_ in p.resizableRelatedOptions&&(y[_]=j)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",y)},_setOption:function(a,p){var g,y,_=this.uiDialog;a==="dialogClass"&&_.removeClass(this.options.dialogClass).addClass(p),a!=="disabled"&&(this._super(a,p),a==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),a==="buttons"&&this._createButtons(),a==="closeText"&&this.uiDialogTitlebarClose.button({label:""+p}),a==="draggable"&&(g=_.is(":data(ui-draggable)"),g&&!p&&_.draggable("destroy"),!g&&p&&this._makeDraggable()),a==="position"&&this._position(),a==="resizable"&&(y=_.is(":data(ui-resizable)"),y&&!p&&_.resizable("destroy"),y&&typeof p=="string"&&_.resizable("option","handles",p),y||p===!1||this._makeResizable()),a==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,p,g,y=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),y.minWidth>y.width&&(y.width=y.minWidth),a=this.uiDialog.css({height:"auto",width:y.width}).outerHeight(),p=Math.max(0,y.minHeight-a),g=typeof y.maxHeight=="number"?Math.max(0,y.maxHeight-a):"none",y.height==="auto"?this.element.css({minHeight:p,maxHeight:g,height:"auto"}):this.element.height(Math.max(0,y.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=t(this);return t("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return t(a.target).closest(".ui-dialog").length?!0:!!t(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(g){a||this._allowInteraction(g)||(g.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,p=this.options,g=p.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(g)?g:function(y){return y.is(g)},this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a||(a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(p.scope),p.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){t.ui.ddmanager.droppables[a]=t.ui.ddmanager.droppables[a]||[],t.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var p=0;a.length>p;p++)a[p]===this&&a.splice(p,1)},_destroy:function(){var a=t.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,p){if(a==="accept")this.accept=t.isFunction(p)?p:function(y){return y.is(p)};else if(a==="scope"){var g=t.ui.ddmanager.droppables[this.options.scope];this._splice(g),this._addToManager(p)}this._super(a,p)},_activate:function(a){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),p&&this._trigger("activate",a,this.ui(p))},_deactivate:function(a){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),p&&this._trigger("deactivate",a,this.ui(p))},_over:function(a){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(p)))},_out:function(a){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(p)))},_drop:function(a,p){var g=p||t.ui.ddmanager.current,y=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var _=t(this).droppable("instance");return _.options.greedy&&!_.options.disabled&&_.options.scope===g.options.scope&&_.accept.call(_.element[0],g.currentItem||g.element)&&t.ui.intersect(g,t.extend(_,{offset:_.element.offset()}),_.options.tolerance,a)?(y=!0,!1):void 0}),y?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(g)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),t.ui.intersect=function(){var m=function(p,g,y){return p>=g&&g+y>p};return function(a,p,g,y){if(!p.offset)return!1;var _=(a.positionAbs||a.position.absolute).left,j=(a.positionAbs||a.position.absolute).top,R=_+a.helperProportions.width,D=j+a.helperProportions.height,H=p.offset.left,K=p.offset.top,J=H+p.proportions().width,F=K+p.proportions().height;switch(g){case"fit":return _>=H&&J>=R&&j>=K&&F>=D;case"intersect":return _+a.helperProportions.width/2>H&&J>R-a.helperProportions.width/2&&j+a.helperProportions.height/2>K&&F>D-a.helperProportions.height/2;case"pointer":return m(y.pageY,K,p.proportions().height)&&m(y.pageX,H,p.proportions().width);case"touch":return(j>=K&&F>=j||D>=K&&F>=D||K>j&&D>F)&&(_>=H&&J>=_||R>=H&&J>=R||H>_&&R>J);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(a,p){var g,y,_=t.ui.ddmanager.droppables[a.options.scope]||[],j=p?p.type:null,R=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();e:for(g=0;_.length>g;g++)if(!(_[g].options.disabled||a&&!_[g].accept.call(_[g].element[0],a.currentItem||a.element))){for(y=0;R.length>y;y++)if(R[y]===_[g].element[0]){_[g].proportions().height=0;continue e}_[g].visible=_[g].element.css("display")!=="none",_[g].visible&&(j==="mousedown"&&_[g]._activate.call(_[g],p),_[g].offset=_[g].element.offset(),_[g].proportions({width:_[g].element[0].offsetWidth,height:_[g].element[0].offsetHeight}))}},drop:function(a,p){var g=!1;return t.each((t.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(a,this,this.options.tolerance,p)&&(g=this._drop.call(this,p)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,p)))}),g},dragStart:function(a,p){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||t.ui.ddmanager.prepareOffsets(a,p)})},drag:function(a,p){a.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(a,p),t.each(t.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g,y,_,j=t.ui.intersect(a,this,this.options.tolerance,p),R=!j&&this.isover?"isout":j&&!this.isover?"isover":null;R&&(this.options.greedy&&(y=this.options.scope,_=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===y}),_.length&&(g=t(_[0]).droppable("instance"),g.greedyChild=R==="isover")),g&&R==="isover"&&(g.isover=!1,g.isout=!0,g._out.call(g,p)),this[R]=!0,this[R==="isout"?"isover":"isout"]=!1,this[R==="isover"?"_over":"_out"].call(this,p),g&&R==="isout"&&(g.isout=!1,g.isover=!0,g._over.call(g,p)))}})},dragStop:function(a,p){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||t.ui.ddmanager.prepareOffsets(a,p)}},t.ui.droppable;var E="ui-effects-",T=t;t.effects={effect:{}},function(m,a){var p=function(X,oe,G){var Y=J[oe.type]||{};return X==null?G||!oe.def?null:oe.def:(X=Y.floor?~~X:parseFloat(X),isNaN(X)?oe.def:Y.mod?(X+Y.mod)%Y.mod:0>X?0:X>Y.max?Y.max:X)},g=function(X){var oe=H(),G=oe._rgba=[];return X=X.toLowerCase(),re(D,function(Y,Z){var ae,ie=Z.re.exec(X),je=ie&&Z.parse(ie),Le=Z.space||"rgba";return je?(ae=oe[Le](je),oe[K[Le].cache]=ae[K[Le].cache],G=oe._rgba=ae._rgba,!1):a}),G.length?(G.join()==="0,0,0,0"&&m.extend(G,_.transparent),oe):_[X]},y=function(X,oe,G){return G=(G+1)%1,1>6*G?X+6*(oe-X)*G:1>2*G?oe:2>3*G?X+6*(oe-X)*(.6666666666666666-G):X},_,j="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",R=/^([\-+])=\s*(\d+\.?\d*)/,D=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(X){return[X[1],X[2],X[3],X[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(X){return[2.55*X[1],2.55*X[2],2.55*X[3],X[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(X){return[parseInt(X[1],16),parseInt(X[2],16),parseInt(X[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(X){return[parseInt(X[1]+X[1],16),parseInt(X[2]+X[2],16),parseInt(X[3]+X[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(X){return[X[1],X[2]/100,X[3]/100,X[4]]}}],H=m.Color=function(X,oe,G,Y){return new m.Color.fn.parse(X,oe,G,Y)},K={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},J={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},F=H.support={},de=m("<p>")[0],re=m.each;de.style.cssText="background-color:rgba(1,1,1,.5)",F.rgba=de.style.backgroundColor.indexOf("rgba")>-1,re(K,function(V,X){X.cache="_"+V,X.props.alpha={idx:3,type:"percent",def:1}}),H.fn=m.extend(H.prototype,{parse:function(X,oe,G,Y){if(X===a)return this._rgba=[null,null,null,null],this;(X.jquery||X.nodeType)&&(X=m(X).css(oe),oe=a);var Z=this,ae=m.type(X),ie=this._rgba=[];return oe!==a&&(X=[X,oe,G,Y],ae="array"),ae==="string"?this.parse(g(X)||_._default):ae==="array"?(re(K.rgba.props,function(je,Le){ie[Le.idx]=p(X[Le.idx],Le)}),this):ae==="object"?(_instanceof(X,H)?re(K,function(je,Le){X[Le.cache]&&(Z[Le.cache]=X[Le.cache].slice())}):re(K,function(je,Le){var ke=Le.cache;re(Le.props,function(Ze,Ve){if(!Z[ke]&&Le.to){if(Ze==="alpha"||X[Ze]==null)return;Z[ke]=Le.to(Z._rgba)}Z[ke][Ve.idx]=p(X[Ze],Ve,!0)}),Z[ke]&&0>m.inArray(null,Z[ke].slice(0,3))&&(Z[ke][3]=1,Le.from&&(Z._rgba=Le.from(Z[ke])))}),this):a},is:function(X){var oe=H(X),G=!0,Y=this;return re(K,function(Z,ae){var ie,je=oe[ae.cache];return je&&(ie=Y[ae.cache]||ae.to&&ae.to(Y._rgba)||[],re(ae.props,function(Le,ke){return je[ke.idx]!=null?G=je[ke.idx]===ie[ke.idx]:a})),G}),G},_space:function(){var X=[],oe=this;return re(K,function(G,Y){oe[Y.cache]&&X.push(G)}),X.pop()},transition:function(X,oe){var G=H(X),Y=G._space(),Z=K[Y],ae=this.alpha()===0?H("transparent"):this,ie=ae[Z.cache]||Z.to(ae._rgba),je=ie.slice();return G=G[Z.cache],re(Z.props,function(Le,ke){var Ze=ke.idx,Ve=ie[Ze],Xe=G[Ze],dt=J[ke.type]||{};Xe!==null&&(Ve===null?je[Ze]=Xe:(dt.mod&&(Xe-Ve>dt.mod/2?Ve+=dt.mod:Ve-Xe>dt.mod/2&&(Ve-=dt.mod)),je[Ze]=p((Xe-Ve)*oe+Ve,ke)))}),this[Y](je)},blend:function(X){if(this._rgba[3]===1)return this;var oe=this._rgba.slice(),G=oe.pop(),Y=H(X)._rgba;return H(m.map(oe,function(Z,ae){return(1-G)*Y[ae]+G*Z}))},toRgbaString:function(){var X="rgba(",oe=m.map(this._rgba,function(G,Y){return G!=null?G:Y>2?1:0});return oe[3]===1&&(oe.pop(),X="rgb("),X+oe.join()+")"},toHslaString:function(){var X="hsla(",oe=m.map(this.hsla(),function(G,Y){return G==null&&(G=Y>2?1:0),Y&&3>Y&&(G=Math.round(100*G)+"%"),G});return oe[3]===1&&(oe.pop(),X="hsl("),X+oe.join()+")"},toHexString:function(X){var oe=this._rgba.slice(),G=oe.pop();return X&&oe.push(~~(255*G)),"#"+m.map(oe,function(Y){return Y=(Y||0).toString(16),Y.length===1?"0"+Y:Y}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),H.fn.parse.prototype=H.fn,K.hsla.to=function(V){if(V[0]==null||V[1]==null||V[2]==null)return[null,null,null,V[3]];var X,oe,G=V[0]/255,Y=V[1]/255,Z=V[2]/255,ae=V[3],ie=Math.max(G,Y,Z),je=Math.min(G,Y,Z),Le=ie-je,ke=ie+je,Ze=.5*ke;return X=je===ie?0:G===ie?60*(Y-Z)/Le+360:Y===ie?60*(Z-G)/Le+120:60*(G-Y)/Le+240,oe=Le===0?0:.5>=Ze?Le/ke:Le/(2-ke),[Math.round(X)%360,oe,Ze,ae!=null?ae:1]},K.hsla.from=function(V){if(V[0]==null||V[1]==null||V[2]==null)return[null,null,null,V[3]];var X=V[0]/360,oe=V[1],G=V[2],Y=V[3],Z=.5>=G?G*(1+oe):G+oe-G*oe,ae=2*G-Z;return[Math.round(255*y(ae,Z,X+1/3)),Math.round(255*y(ae,Z,X)),Math.round(255*y(ae,Z,X-1/3)),Y]},re(K,function(V,X){var oe=X.props,G=X.cache,Y=X.to,Z=X.from;H.fn[V]=function(ae){if(Y&&!this[G]&&(this[G]=Y(this._rgba)),ae===a)return this[G].slice();var ie,je=m.type(ae),Le=je==="array"||je==="object"?ae:arguments,ke=this[G].slice();return re(oe,function(Ze,Ve){var Xe=Le[je==="object"?Ze:Ve.idx];Xe==null&&(Xe=ke[Ve.idx]),ke[Ve.idx]=p(Xe,Ve)}),Z?(ie=H(Z(ke)),ie[G]=ke,ie):H(ke)},re(oe,function(ae,ie){H.fn[ae]||(H.fn[ae]=function(je){var Le,ke=m.type(je),Ze=ae==="alpha"?this._hsla?"hsla":"rgba":V,Ve=this[Ze](),Xe=Ve[ie.idx];return ke==="undefined"?Xe:(ke==="function"&&(je=je.call(this,Xe),ke=m.type(je)),je==null&&ie.empty?this:(ke==="string"&&(Le=R.exec(je),Le&&(je=Xe+parseFloat(Le[2])*(Le[1]==="+"?1:-1))),Ve[ie.idx]=je,this[Ze](Ve)))})})}),H.hook=function(V){var X=V.split(" ");re(X,function(oe,G){m.cssHooks[G]={set:function(Z,ae){var ie,je,Le="";if(ae!=="transparent"&&(m.type(ae)!=="string"||(ie=g(ae)))){if(ae=H(ie||ae),!F.rgba&&ae._rgba[3]!==1){for(je=G==="backgroundColor"?Z.parentNode:Z;(Le===""||Le==="transparent")&&je&&je.style;)try{Le=m.css(je,"backgroundColor"),je=je.parentNode}catch(ke){}ae=ae.blend(Le&&Le!=="transparent"?Le:"_default")}ae=ae.toRgbaString()}try{Z.style[G]=ae}catch(ke){}}},m.fx.step[G]=function(Y){Y.colorInit||(Y.start=H(Y.elem,G),Y.end=H(Y.end),Y.colorInit=!0),m.cssHooks[G].set(Y.elem,Y.start.transition(Y.end,Y.pos))}})},H.hook(j),m.cssHooks.borderColor={expand:function(X){var oe={};return re(["Top","Right","Bottom","Left"],function(G,Y){oe["border"+Y+"Color"]=X}),oe}},_=m.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(T),function(){var m=function(_){var j,R,D=_.ownerDocument.defaultView?_.ownerDocument.defaultView.getComputedStyle(_,null):_.currentStyle,H={};if(D&&D.length&&D[0]&&D[D[0]])for(R=D.length;R--;)j=D[R],typeof D[j]=="string"&&(H[t.camelCase(j)]=D[j]);else for(j in D)typeof D[j]=="string"&&(H[j]=D[j]);return H},a=function(_,j){var R,D,H={};for(R in j)D=j[R],_[R]!==D&&(g[R]||(t.fx.step[R]||!isNaN(parseFloat(D)))&&(H[R]=D));return H},p=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(y,_){t.fx.step[_]=function(j){(j.end!=="none"&&!j.setAttr||j.pos===1&&!j.setAttr)&&(T.style(j.elem,_,j.end),j.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}),t.effects.animateClass=function(y,_,j,R){var D=t.speed(_,j,R);return this.queue(function(){var H,K=t(this),J=K.attr("class")||"",F=D.children?K.find("*").addBack():K;F=F.map(function(){var de=t(this);return{el:de,start:m(this)}}),H=function(){t.each(p,function(re,V){y[V]&&K[V+"Class"](y[V])})},H(),F=F.map(function(){return this.end=m(this.el[0]),this.diff=a(this.start,this.end),this}),K.attr("class",J),F=F.map(function(){var de=this,re=t.Deferred(),V=t.extend({},D,{queue:!1,complete:function(){re.resolve(de)}});return this.el.animate(this.diff,V),re.promise()}),t.when.apply(t,F.get()).done(function(){H(),t.each(arguments,function(){var de=this.el;t.each(this.diff,function(re){de.css(re,"")})}),D.complete.call(K[0])})})},t.fn.extend({addClass:function(y){return function(_,j,R,D){return j?t.effects.animateClass.call(this,{add:_},j,R,D):y.apply(this,arguments)}}(t.fn.addClass),removeClass:function(y){return function(_,j,R,D){return arguments.length>1?t.effects.animateClass.call(this,{remove:_},j,R,D):y.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(y){return function(_,j,R,D,H){return typeof j=="boolean"||j===void 0?R?t.effects.animateClass.call(this,j?{add:_}:{remove:_},R,D,H):y.apply(this,arguments):t.effects.animateClass.call(this,{toggle:_},j,R,D)}}(t.fn.toggleClass),switchClass:function(_,j,R,D,H){return t.effects.animateClass.call(this,{add:j,remove:_},R,D,H)}})}(),function(){var m=function(g,y,_,j){return t.isPlainObject(g)&&(y=g,g=g.effect),g={effect:g},y==null&&(y={}),t.isFunction(y)&&(j=y,_=null,y={}),(typeof y=="number"||t.fx.speeds[y])&&(j=_,_=y,y={}),t.isFunction(_)&&(j=_,_=null),y&&t.extend(g,y),_=_||y.duration,g.duration=t.fx.off?0:typeof _=="number"?_:_ in t.fx.speeds?t.fx.speeds[_]:t.fx.speeds._default,g.complete=j||y.complete,g},a=function(g){return!g||typeof g=="number"||t.fx.speeds[g]?!0:typeof g!="string"||t.effects.effect[g]?t.isFunction(g)?!0:!(typeof g!="object"||g.effect):!0};t.extend(t.effects,{version:"1.11.1",save:function(g,y){for(var _=0;y.length>_;_++)y[_]!==null&&g.data(E+y[_],g[0].style[y[_]])},restore:function(g,y){var _,j;for(j=0;y.length>j;j++)y[j]!==null&&(_=g.data(E+y[j]),_===void 0&&(_=""),g.css(y[j],_))},setMode:function(g,y){return y==="toggle"&&(y=g.is(":hidden")?"show":"hide"),y},getBaseline:function(g,y){var _,j;switch(g[0]){case"top":_=0;break;case"middle":_=.5;break;case"bottom":_=1;break;default:_=g[0]/y.height}switch(g[1]){case"left":j=0;break;case"center":j=.5;break;case"right":j=1;break;default:j=g[1]/y.width}return{x:j,y:_}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper"))return g.parent();var y={width:g.outerWidth(!0),height:g.outerHeight(!0),float:g.css("float")},_=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),j={width:g.width(),height:g.height()},R=document.activeElement;try{R.id}catch(D){R=document.body}return g.wrap(_),(g[0]===R||t.contains(g[0],R))&&t(R).focus(),_=g.parent(),g.css("position")==="static"?(_.css({position:"relative"}),g.css({position:"relative"})):(t.extend(y,{position:g.css("position"),zIndex:g.css("z-index")}),t.each(["top","left","bottom","right"],function(D,H){y[H]=g.css(H),isNaN(parseInt(y[H],10))&&(y[H]="auto")}),g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),g.css(j),_.css(y).show()},removeWrapper:function(g){var y=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===y||t.contains(g[0],y))&&t(y).focus()),g},setTransition:function(g,y,_,j){return j=j||{},t.each(y,function(R,D){var H=g.cssUnit(D);H[0]>0&&(j[D]=H[0]*_+H[1])}),j}}),t.fn.extend({effect:function(){var g=function(H){function K(){t.isFunction(F)&&F.call(J[0]),t.isFunction(H)&&H()}var J=t(this),F=y.complete,de=y.mode;(J.is(":hidden")?de==="hide":de==="show")?(J[de](),K()):R.call(J[0],y,K)},y=m.apply(this,arguments),_=y.mode,j=y.queue,R=t.effects.effect[y.effect];return t.fx.off||!R?_?this[_](y.duration,y.complete):this.each(function(){y.complete&&y.complete.call(this)}):j===!1?this.each(g):this.queue(j||"fx",g)},show:function(p){return function(g){if(a(g))return p.apply(this,arguments);var y=m.apply(this,arguments);return y.mode="show",this.effect.call(this,y)}}(t.fn.show),hide:function(p){return function(g){if(a(g))return p.apply(this,arguments);var y=m.apply(this,arguments);return y.mode="hide",this.effect.call(this,y)}}(t.fn.hide),toggle:function(p){return function(g){if(a(g)||typeof g=="boolean")return p.apply(this,arguments);var y=m.apply(this,arguments);return y.mode="toggle",this.effect.call(this,y)}}(t.fn.toggle),cssUnit:function(g){var y=this.css(g),_=[];return t.each(["em","px","%","pt"],function(j,R){y.indexOf(R)>0&&(_=[parseFloat(y),R])}),_}})}(),function(){var m={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,p){m[p]=function(g){return Math.pow(g,a+2)}}),t.extend(m,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var g,y=4;((g=Math.pow(2,--y))-1)/11>p;);return 1/Math.pow(4,3-y)-7.5625*Math.pow((3*g-2)/22-p,2)}}),t.each(m,function(a,p){t.easing["easeIn"+a]=p,t.easing["easeOut"+a]=function(g){return 1-p(1-g)},t.easing["easeInOut"+a]=function(g){return .5>g?p(2*g)/2:1-p(-2*g+2)/2}})}(),t.effects,t.effects.effect.blind=function(m,a){var p,g,y,_=t(this),j=/up|down|vertical/,R=/up|left|vertical|horizontal/,D=["position","top","bottom","left","right","height","width"],H=t.effects.setMode(_,m.mode||"hide"),K=m.direction||"up",J=j.test(K),F=J?"height":"width",de=J?"top":"left",re=R.test(K),V={},X=H==="show";_.parent().is(".ui-effects-wrapper")?t.effects.save(_.parent(),D):t.effects.save(_,D),_.show(),p=t.effects.createWrapper(_).css({overflow:"hidden"}),g=p[F](),y=parseFloat(p.css(de))||0,V[F]=X?g:0,re||(_.css(J?"bottom":"right",0).css(J?"top":"left","auto").css({position:"absolute"}),V[de]=X?y:g+y),X&&(p.css(F,0),re||p.css(de,y+g)),p.animate(V,{duration:m.duration,easing:m.easing,queue:!1,complete:function(){H==="hide"&&_.hide(),t.effects.restore(_,D),t.effects.removeWrapper(_),a()}})},t.effects.effect.bounce=function(m,a){var p,g,y,_=t(this),j=["position","top","bottom","left","right","height","width"],R=t.effects.setMode(_,m.mode||"effect"),D=R==="hide",H=R==="show",K=m.direction||"up",J=m.distance,F=m.times||5,de=2*F+(H||D?1:0),re=m.duration/de,V=m.easing,X=K==="up"||K==="down"?"top":"left",oe=K==="up"||K==="left",G=_.queue(),Y=G.length;for((H||D)&&j.push("opacity"),t.effects.save(_,j),_.show(),t.effects.createWrapper(_),J||(J=_[X==="top"?"outerHeight":"outerWidth"]()/3),H&&(y={opacity:1},y[X]=0,_.css("opacity",0).css(X,oe?2*-J:2*J).animate(y,re,V)),D&&(J/=Math.pow(2,F-1)),y={},y[X]=0,p=0;F>p;p++)g={},g[X]=(oe?"-=":"+=")+J,_.animate(g,re,V).animate(y,re,V),J=D?2*J:J/2;D&&(g={opacity:0},g[X]=(oe?"-=":"+=")+J,_.animate(g,re,V)),_.queue(function(){D&&_.hide(),t.effects.restore(_,j),t.effects.removeWrapper(_),a()}),Y>1&&G.splice.apply(G,[1,0].concat(G.splice(Y,de+1))),_.dequeue()},t.effects.effect.clip=function(m,a){var p,g,y,_=t(this),j=["position","top","bottom","left","right","height","width"],R=t.effects.setMode(_,m.mode||"hide"),D=R==="show",H=m.direction||"vertical",K=H==="vertical",J=K?"height":"width",F=K?"top":"left",de={};t.effects.save(_,j),_.show(),p=t.effects.createWrapper(_).css({overflow:"hidden"}),g=_[0].tagName==="IMG"?p:_,y=g[J](),D&&(g.css(J,0),g.css(F,y/2)),de[J]=D?y:0,de[F]=D?0:y/2,g.animate(de,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){D||_.hide(),t.effects.restore(_,j),t.effects.removeWrapper(_),a()}})},t.effects.effect.drop=function(m,a){var p,g=t(this),y=["position","top","bottom","left","right","opacity","height","width"],_=t.effects.setMode(g,m.mode||"hide"),j=_==="show",R=m.direction||"left",D=R==="up"||R==="down"?"top":"left",H=R==="up"||R==="left"?"pos":"neg",K={opacity:j?1:0};t.effects.save(g,y),g.show(),t.effects.createWrapper(g),p=m.distance||g[D==="top"?"outerHeight":"outerWidth"](!0)/2,j&&g.css("opacity",0).css(D,H==="pos"?-p:p),K[D]=(j?H==="pos"?"+=":"-=":H==="pos"?"-=":"+=")+p,g.animate(K,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){_==="hide"&&g.hide(),t.effects.restore(g,y),t.effects.removeWrapper(g),a()}})},t.effects.effect.explode=function(m,a){var p=function(){G.push(this),G.length===K*J&&g()},g=function(){F.css({visibility:"visible"}),t(G).remove(),re||F.hide(),a()},y,_,j,R,D,H,K=m.pieces?Math.round(Math.sqrt(m.pieces)):3,J=K,F=t(this),de=t.effects.setMode(F,m.mode||"hide"),re=de==="show",V=F.show().css("visibility","hidden").offset(),X=Math.ceil(F.outerWidth()/J),oe=Math.ceil(F.outerHeight()/K),G=[];for(y=0;K>y;y++)for(R=V.top+y*oe,H=y-(K-1)/2,_=0;J>_;_++)j=V.left+_*X,D=_-(J-1)/2,F.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-_*X,top:-y*oe}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:X,height:oe,left:j+(re?D*X:0),top:R+(re?H*oe:0),opacity:re?0:1}).animate({left:j+(re?0:D*X),top:R+(re?0:H*oe),opacity:re?1:0},m.duration||500,m.easing,p)},t.effects.effect.fade=function(m,a){var p=t(this),g=t.effects.setMode(p,m.mode||"toggle");p.animate({opacity:g},{queue:!1,duration:m.duration,easing:m.easing,complete:a})},t.effects.effect.fold=function(m,a){var p,g,y=t(this),_=["position","top","bottom","left","right","height","width"],j=t.effects.setMode(y,m.mode||"hide"),R=j==="show",D=j==="hide",H=m.size||15,K=/([0-9]+)%/.exec(H),J=!!m.horizFirst,F=R!==J,de=F?["width","height"]:["height","width"],re=m.duration/2,V={},X={};t.effects.save(y,_),y.show(),p=t.effects.createWrapper(y).css({overflow:"hidden"}),g=F?[p.width(),p.height()]:[p.height(),p.width()],K&&(H=parseInt(K[1],10)/100*g[D?0:1]),R&&p.css(J?{height:0,width:H}:{height:H,width:0}),V[de[0]]=R?g[0]:H,X[de[1]]=R?g[1]:0,p.animate(V,re,m.easing).animate(X,re,m.easing,function(){D&&y.hide(),t.effects.restore(y,_),t.effects.removeWrapper(y),a()})},t.effects.effect.highlight=function(m,a){var p=t(this),g=["backgroundImage","backgroundColor","opacity"],y=t.effects.setMode(p,m.mode||"show"),_={backgroundColor:p.css("backgroundColor")};y==="hide"&&(_.opacity=0),t.effects.save(p,g),p.show().css({backgroundImage:"none",backgroundColor:m.color||"#ffff99"}).animate(_,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){y==="hide"&&p.hide(),t.effects.restore(p,g),a()}})},t.effects.effect.size=function(m,a){var p,g,y,_=t(this),j=["position","top","bottom","left","right","width","height","overflow","opacity"],R=["position","top","bottom","left","right","overflow","opacity"],D=["width","height","overflow"],H=["fontSize"],K=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],J=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],F=t.effects.setMode(_,m.mode||"effect"),de=m.restore||F!=="effect",re=m.scale||"both",V=m.origin||["middle","center"],X=_.css("position"),oe=de?j:R,G={height:0,width:0,outerHeight:0,outerWidth:0};F==="show"&&_.show(),p={height:_.height(),width:_.width(),outerHeight:_.outerHeight(),outerWidth:_.outerWidth()},m.mode==="toggle"&&F==="show"?(_.from=m.to||G,_.to=m.from||p):(_.from=m.from||(F==="show"?G:p),_.to=m.to||(F==="hide"?G:p)),y={from:{y:_.from.height/p.height,x:_.from.width/p.width},to:{y:_.to.height/p.height,x:_.to.width/p.width}},(re==="box"||re==="both")&&(y.from.y!==y.to.y&&(oe=oe.concat(K),_.from=t.effects.setTransition(_,K,y.from.y,_.from),_.to=t.effects.setTransition(_,K,y.to.y,_.to)),y.from.x!==y.to.x&&(oe=oe.concat(J),_.from=t.effects.setTransition(_,J,y.from.x,_.from),_.to=t.effects.setTransition(_,J,y.to.x,_.to))),(re==="content"||re==="both")&&y.from.y!==y.to.y&&(oe=oe.concat(H).concat(D),_.from=t.effects.setTransition(_,H,y.from.y,_.from),_.to=t.effects.setTransition(_,H,y.to.y,_.to)),t.effects.save(_,oe),_.show(),t.effects.createWrapper(_),_.css("overflow","hidden").css(_.from),V&&(g=t.effects.getBaseline(V,p),_.from.top=(p.outerHeight-_.outerHeight())*g.y,_.from.left=(p.outerWidth-_.outerWidth())*g.x,_.to.top=(p.outerHeight-_.to.outerHeight)*g.y,_.to.left=(p.outerWidth-_.to.outerWidth)*g.x),_.css(_.from),(re==="content"||re==="both")&&(K=K.concat(["marginTop","marginBottom"]).concat(H),J=J.concat(["marginLeft","marginRight"]),D=j.concat(K).concat(J),_.find("*[width]").each(function(){var Y=t(this),Z={height:Y.height(),width:Y.width(),outerHeight:Y.outerHeight(),outerWidth:Y.outerWidth()};de&&t.effects.save(Y,D),Y.from={height:Z.height*y.from.y,width:Z.width*y.from.x,outerHeight:Z.outerHeight*y.from.y,outerWidth:Z.outerWidth*y.from.x},Y.to={height:Z.height*y.to.y,width:Z.width*y.to.x,outerHeight:Z.height*y.to.y,outerWidth:Z.width*y.to.x},y.from.y!==y.to.y&&(Y.from=t.effects.setTransition(Y,K,y.from.y,Y.from),Y.to=t.effects.setTransition(Y,K,y.to.y,Y.to)),y.from.x!==y.to.x&&(Y.from=t.effects.setTransition(Y,J,y.from.x,Y.from),Y.to=t.effects.setTransition(Y,J,y.to.x,Y.to)),Y.css(Y.from),Y.animate(Y.to,m.duration,m.easing,function(){de&&t.effects.restore(Y,D)})})),_.animate(_.to,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){_.to.opacity===0&&_.css("opacity",_.from.opacity),F==="hide"&&_.hide(),t.effects.restore(_,oe),de||(X==="static"?_.css({position:"relative",top:_.to.top,left:_.to.left}):t.each(["top","left"],function(Z,ae){_.css(ae,function(ie,je){var Le=parseInt(je,10),ke=Z?_.to.left:_.to.top;return je==="auto"?ke+"px":Le+ke+"px"})})),t.effects.removeWrapper(_),a()}})},t.effects.effect.scale=function(m,a){var p=t(this),g=t.extend(!0,{},m),y=t.effects.setMode(p,m.mode||"effect"),_=parseInt(m.percent,10)||(parseInt(m.percent,10)===0||y==="hide"?0:100),j=m.direction||"both",R=m.origin,D={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()},H={y:j!=="horizontal"?_/100:1,x:j!=="vertical"?_/100:1};g.effect="size",g.queue=!1,g.complete=a,y!=="effect"&&(g.origin=R||["middle","center"],g.restore=!0),g.from=m.from||(y==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:D),g.to={height:D.height*H.y,width:D.width*H.x,outerHeight:D.outerHeight*H.y,outerWidth:D.outerWidth*H.x},g.fade&&(y==="show"&&(g.from.opacity=0,g.to.opacity=1),y==="hide"&&(g.from.opacity=1,g.to.opacity=0)),p.effect(g)},t.effects.effect.puff=function(m,a){var p=t(this),g=t.effects.setMode(p,m.mode||"hide"),y=g==="hide",_=parseInt(m.percent,10)||150,j=_/100,R={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};t.extend(m,{effect:"scale",queue:!1,fade:!0,mode:g,complete:a,percent:y?_:100,from:y?R:{height:R.height*j,width:R.width*j,outerHeight:R.outerHeight*j,outerWidth:R.outerWidth*j}}),p.effect(m)},t.effects.effect.pulsate=function(m,a){var p,g=t(this),y=t.effects.setMode(g,m.mode||"show"),_=y==="show",j=y==="hide",R=_||y==="hide",D=2*(m.times||5)+(R?1:0),H=m.duration/D,K=0,J=g.queue(),F=J.length;for((_||!g.is(":visible"))&&(g.css("opacity",0).show(),K=1),p=1;D>p;p++)g.animate({opacity:K},H,m.easing),K=1-K;g.animate({opacity:K},H,m.easing),g.queue(function(){j&&g.hide(),a()}),F>1&&J.splice.apply(J,[1,0].concat(J.splice(F,D+1))),g.dequeue()},t.effects.effect.shake=function(m,a){var p,g=t(this),y=["position","top","bottom","left","right","height","width"],_=t.effects.setMode(g,m.mode||"effect"),j=m.direction||"left",R=m.distance||20,D=m.times||3,H=2*D+1,K=Math.round(m.duration/H),J=j==="up"||j==="down"?"top":"left",F=j==="up"||j==="left",de={},re={},V={},X=g.queue(),oe=X.length;for(t.effects.save(g,y),g.show(),t.effects.createWrapper(g),de[J]=(F?"-=":"+=")+R,re[J]=(F?"+=":"-=")+2*R,V[J]=(F?"-=":"+=")+2*R,g.animate(de,K,m.easing),p=1;D>p;p++)g.animate(re,K,m.easing).animate(V,K,m.easing);g.animate(re,K,m.easing).animate(de,K/2,m.easing).queue(function(){_==="hide"&&g.hide(),t.effects.restore(g,y),t.effects.removeWrapper(g),a()}),oe>1&&X.splice.apply(X,[1,0].concat(X.splice(oe,H+1))),g.dequeue()},t.effects.effect.slide=function(m,a){var p,g=t(this),y=["position","top","bottom","left","right","width","height"],_=t.effects.setMode(g,m.mode||"show"),j=_==="show",R=m.direction||"left",D=R==="up"||R==="down"?"top":"left",H=R==="up"||R==="left",K={};t.effects.save(g,y),g.show(),p=m.distance||g[D==="top"?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(g).css({overflow:"hidden"}),j&&g.css(D,H?isNaN(p)?"-"+p:-p:p),K[D]=(j?H?"+=":"-=":H?"-=":"+=")+p,g.animate(K,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){_==="hide"&&g.hide(),t.effects.restore(g,y),t.effects.removeWrapper(g),a()}})},t.effects.effect.transfer=function(m,a){var p=t(this),g=t(m.to),y=g.css("position")==="fixed",_=t("body"),j=y?_.scrollTop():0,R=y?_.scrollLeft():0,D=g.offset(),H={top:D.top-j,left:D.left-R,height:g.innerHeight(),width:g.innerWidth()},K=p.offset(),J=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(m.className).css({top:K.top-j,left:K.left-R,height:p.innerHeight(),width:p.innerWidth(),position:y?"fixed":"absolute"}).animate(H,m.duration,m.easing,function(){J.remove(),a()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===void 0?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return a===void 0&&(a=this.options.value),this.indeterminate=a===!1,typeof a!="number"&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var p=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(p),this._refreshValue()},_setOption:function(a,p){a==="max"&&(p=Math.max(this.min,p)),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(a,p)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,p=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(p.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),a===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,p=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){a=t(p.options.filter,p.element[0]),a.addClass("ui-selectee"),a.each(function(){var g=t(this),y=g.offset();t.data(this,"selectable-item",{element:this,$element:g,left:y.left,top:y.top,right:y.left+g.outerWidth(),bottom:y.top+g.outerHeight(),startselected:!1,selected:g.hasClass("ui-selected"),selecting:g.hasClass("ui-selecting"),unselecting:g.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var p=this,g=this.options;this.opos=[a.pageX,a.pageY],this.options.disabled||(this.selectees=t(g.filter,this.element[0]),this._trigger("start",a),t(g.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var y=t.data(this,"selectable-item");y.startselected=!0,a.metaKey||a.ctrlKey||(y.$element.removeClass("ui-selected"),y.selected=!1,y.$element.addClass("ui-unselecting"),y.unselecting=!0,p._trigger("unselecting",a,{unselecting:y.element}))}),t(a.target).parents().addBack().each(function(){var y,_=t.data(this,"selectable-item");return _?(y=!a.metaKey&&!a.ctrlKey||!_.$element.hasClass("ui-selected"),_.$element.removeClass(y?"ui-unselecting":"ui-selected").addClass(y?"ui-selecting":"ui-unselecting"),_.unselecting=!y,_.selecting=y,_.selected=y,y?p._trigger("selecting",a,{selecting:_.element}):p._trigger("unselecting",a,{unselecting:_.element}),!1):void 0}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var p,g=this,y=this.options,_=this.opos[0],j=this.opos[1],R=a.pageX,D=a.pageY;return _>R&&(p=R,R=_,_=p),j>D&&(p=D,D=j,j=p),this.helper.css({left:_,top:j,width:R-_,height:D-j}),this.selectees.each(function(){var H=t.data(this,"selectable-item"),K=!1;H&&H.element!==g.element[0]&&(y.tolerance==="touch"?K=!(H.left>R||_>H.right||H.top>D||j>H.bottom):y.tolerance==="fit"&&(K=H.left>_&&R>H.right&&H.top>j&&D>H.bottom),K?(H.selected&&(H.$element.removeClass("ui-selected"),H.selected=!1),H.unselecting&&(H.$element.removeClass("ui-unselecting"),H.unselecting=!1),H.selecting||(H.$element.addClass("ui-selecting"),H.selecting=!0,g._trigger("selecting",a,{selecting:H.element}))):(H.selecting&&((a.metaKey||a.ctrlKey)&&H.startselected?(H.$element.removeClass("ui-selecting"),H.selecting=!1,H.$element.addClass("ui-selected"),H.selected=!0):(H.$element.removeClass("ui-selecting"),H.selecting=!1,H.startselected&&(H.$element.addClass("ui-unselecting"),H.unselecting=!0),g._trigger("unselecting",a,{unselecting:H.element}))),H.selected&&(a.metaKey||a.ctrlKey||H.startselected||(H.$element.removeClass("ui-selected"),H.selected=!1,H.$element.addClass("ui-unselecting"),H.unselecting=!0,g._trigger("unselecting",a,{unselecting:H.element})))))}),!1}},_mouseStop:function(a){var p=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var g=t.data(this,"selectable-item");g.$element.removeClass("ui-unselecting"),g.unselecting=!1,g.startselected=!1,p._trigger("unselected",a,{unselected:g.element})}),t(".ui-selecting",this.element[0]).each(function(){var g=t.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected"),g.selecting=!1,g.selected=!0,g.startselected=!0,p._trigger("selected",a,{selected:g.element})}),this._trigger("stop",a),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this,p=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(y){this.button.focus(),y.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:p||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(g,y){g.preventDefault(),a._select(y.item.data("ui-selectmenu-item"),g)},focus:function(g,y){var _=y.item.data("ui-selectmenu-item");a.focusIndex!=null&&_.index!==a.focusIndex&&(a._trigger("focus",g,{item:_}),a.isOpen||a._select(_,g)),a.focusIndex=_.index,a.button.attr("aria-activedescendant",a.menuItems.eq(_.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,p=this.element.find("option");p.length&&(this._parseOptions(p),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,p){var g=this,y="";t.each(p,function(_,j){j.optgroup!==y&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(j.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:j.optgroup}).appendTo(a),y=j.optgroup),g._renderItemData(a,j)})},_renderItemData:function(a,p){return this._renderItem(a,p).data("ui-selectmenu-item",p)},_renderItem:function(a,p){var g=t("<li>");return p.disabled&&g.addClass("ui-state-disabled"),this._setText(g,p.label),g.appendTo(a)},_setText:function(a,p){p?a.text(p):a.html("&#160;")},_move:function(a,p){var g,y,_=".ui-menu-item";this.isOpen?g=this.menuItems.eq(this.focusIndex):(g=this.menuItems.eq(this.element[0].selectedIndex),_+=":not(.ui-state-disabled)"),y=a==="first"||a==="last"?g[a==="first"?"prevAll":"nextAll"](_).eq(-1):g[a+"All"](_).eq(0),y.length&&this.menuInstance.focus(p,y)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_documentClick:{mousedown:function(a){this.isOpen&&(t(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(a){a.preventDefault()},click:"_toggle",keydown:function(a){var p=!0;switch(a.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(a),p=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case t.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case t.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case t.ui.keyCode.LEFT:this._move("prev",a);break;case t.ui.keyCode.RIGHT:this._move("next",a);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",a);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),p=!1}p&&a.preventDefault()}},_selectFocusedItem:function(a){var p=this.menuItems.eq(this.focusIndex);p.hasClass("ui-state-disabled")||this._select(p.data("ui-selectmenu-item"),a)},_select:function(a,p){var g=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",p,{item:a}),a.index!==g&&this._trigger("change",p,{item:a}),this.close(p)},_setAria:function(a){var p=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":p,"aria-activedescendant":p}),this.menu.attr("aria-activedescendant",p)},_setOption:function(a,p){a==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(p.button),this._super(a,p),a==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),a==="disabled"&&(this.menuInstance.option("disabled",p),this.button.toggleClass("ui-state-disabled",p).attr("aria-disabled",p),this.element.prop("disabled",p),p?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),a==="width"&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?t(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var p=[];a.each(function(g,y){var _=t(y),j=_.parent("optgroup");p.push({element:_,index:g,value:_.attr("value"),label:_.text(),optgroup:j.attr("label")||"",disabled:j.prop("disabled")||_.prop("disabled")})}),this.items=p},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,p,g=this.options,y=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),_="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",j=[];for(p=g.values&&g.values.length||1,y.length>p&&(y.slice(p).remove(),y=y.slice(0,p)),a=y.length;p>a;a++)j.push(_);this.handles=y.add(t(j.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(R){t(this).data("ui-slider-handle-index",R)})},_createRange:function(){var a=this.options,p="";a.range?(a.range===!0&&(a.values?a.values.length&&a.values.length!==2?a.values=[a.values[0],a.values[0]]:t.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),p="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(p+(a.range==="min"||a.range==="max"?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(a){var p,g,y,_,j,R,D,H,K=this,J=this.options;return J.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:a.pageX,y:a.pageY},g=this._normValueFromMouse(p),y=this._valueMax()-this._valueMin()+1,this.handles.each(function(F){var de=Math.abs(g-K.values(F));(y>de||y===de&&(F===K._lastChangedValue||K.values(F)===J.min))&&(y=de,_=t(this),j=F)}),R=this._start(a,j),R===!1?!1:(this._mouseSliding=!0,this._handleIndex=j,_.addClass("ui-state-active").focus(),D=_.offset(),H=!t(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=H?{left:0,top:0}:{left:a.pageX-D.left-_.width()/2,top:a.pageY-D.top-_.height()/2-(parseInt(_.css("borderTopWidth"),10)||0)-(parseInt(_.css("borderBottomWidth"),10)||0)+(parseInt(_.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,j,g),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var p={x:a.pageX,y:a.pageY},g=this._normValueFromMouse(p);return this._slide(a,this._handleIndex,g),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var p,g,y,_,j;return this.orientation==="horizontal"?(p=this.elementSize.width,g=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(p=this.elementSize.height,g=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),y=g/p,y>1&&(y=1),0>y&&(y=0),this.orientation==="vertical"&&(y=1-y),_=this._valueMax()-this._valueMin(),j=this._valueMin()+y*_,this._trimAlignValue(j)},_start:function(a,p){var g={handle:this.handles[p],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._trigger("start",a,g)},_slide:function(a,p,g){var y,_,j;this.options.values&&this.options.values.length?(y=this.values(p?0:1),this.options.values.length===2&&this.options.range===!0&&(p===0&&g>y||p===1&&y>g)&&(g=y),g!==this.values(p)&&(_=this.values(),_[p]=g,j=this._trigger("slide",a,{handle:this.handles[p],value:g,values:_}),y=this.values(p?0:1),j!==!1&&this.values(p,g))):g!==this.value()&&(j=this._trigger("slide",a,{handle:this.handles[p],value:g}),j!==!1&&this.value(g))},_stop:function(a,p){var g={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._trigger("stop",a,g)},_change:function(a,p){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(p),g.values=this.values()),this._lastChangedValue=p,this._trigger("change",a,g)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,p){var g,y,_;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(p),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(g=this.options.values,y=arguments[0],_=0;g.length>_;_+=1)g[_]=this._trimAlignValue(y[_]),this._change(null,_);this._refreshValue()},_setOption:function(a,p){var g,y=0;switch(a==="range"&&this.options.range===!0&&(p==="min"?(this.options.value=this._values(0),this.options.values=null):p==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(y=this.options.values.length),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p),this._super(a,p),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(p==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=0;y>g;g+=1)this._change(null,g);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var p,g,y;if(arguments.length)return p=this.options.values[a],p=this._trimAlignValue(p);if(this.options.values&&this.options.values.length){for(g=this.options.values.slice(),y=0;g.length>y;y+=1)g[y]=this._trimAlignValue(g[y]);return g}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var p=this.options.step>0?this.options.step:1,g=(a-this._valueMin())%p,y=a-g;return 2*Math.abs(g)>=p&&(y+=g>0?p:-p),parseFloat(y.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a,p,g,y,_,j=this.options.range,R=this.options,D=this,H=this._animateOff?!1:R.animate,K={};this.options.values&&this.options.values.length?this.handles.each(function(J){p=100*((D.values(J)-D._valueMin())/(D._valueMax()-D._valueMin())),K[D.orientation==="horizontal"?"left":"bottom"]=p+"%",t(this).stop(1,1)[H?"animate":"css"](K,R.animate),D.options.range===!0&&(D.orientation==="horizontal"?(J===0&&D.range.stop(1,1)[H?"animate":"css"]({left:p+"%"},R.animate),J===1&&D.range[H?"animate":"css"]({width:p-a+"%"},{queue:!1,duration:R.animate})):(J===0&&D.range.stop(1,1)[H?"animate":"css"]({bottom:p+"%"},R.animate),J===1&&D.range[H?"animate":"css"]({height:p-a+"%"},{queue:!1,duration:R.animate}))),a=p}):(g=this.value(),y=this._valueMin(),_=this._valueMax(),p=_!==y?100*((g-y)/(_-y)):0,K[this.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[H?"animate":"css"](K,R.animate),j==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[H?"animate":"css"]({width:p+"%"},R.animate),j==="max"&&this.orientation==="horizontal"&&this.range[H?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:R.animate}),j==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[H?"animate":"css"]({height:p+"%"},R.animate),j==="max"&&this.orientation==="vertical"&&this.range[H?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:R.animate}))},_handleEvents:{keydown:function(a){var p,g,y,_,j=t(a.target).data("ui-slider-handle-index");switch(a.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(a.target).addClass("ui-state-active"),p=this._start(a,j),p===!1))return}switch(_=this.options.step,g=y=this.options.values&&this.options.values.length?this.values(j):this.value(),a.keyCode){case t.ui.keyCode.HOME:y=this._valueMin();break;case t.ui.keyCode.END:y=this._valueMax();break;case t.ui.keyCode.PAGE_UP:y=this._trimAlignValue(g+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:y=this._trimAlignValue(g-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(g===this._valueMax())return;y=this._trimAlignValue(g+_);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(g===this._valueMin())return;y=this._trimAlignValue(g-_)}this._slide(a,j,y)},keyup:function(a){var p=t(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,p),this._change(a,p),t(a.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,p,g){return a>=p&&p+g>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,p){this._super(a,p),a==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,p){var g=null,y=!1,_=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(a),t(a.target).parents().each(function(){return t.data(this,_.widgetName+"-item")===_?(g=t(this),!1):void 0}),t.data(a.target,_.widgetName+"-item")===_&&(g=t(a.target)),g&&(!this.options.handle||p||(t(this.options.handle,g).find("*").addBack().each(function(){this===a.target&&(y=!0)}),y))?(this.currentItem=g,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(a,p,g){var y,_,j=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,j.cursorAt&&this._adjustOffsetFromHelper(j.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),j.containment&&this._setContainment(),j.cursor&&j.cursor!=="auto"&&(_=this.document.find("body"),this.storedCursor=_.css("cursor"),_.css("cursor",j.cursor),this.storedStylesheet=t("<style>*{ cursor: "+j.cursor+" !important; }</style>").appendTo(_)),j.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",j.opacity)),j.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",j.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g)for(y=this.containers.length-1;y>=0;y--)this.containers[y]._trigger("activate",a,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!j.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var p,g,y,_,j=this.options,R=!1;for(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<j.scrollSensitivity?this.scrollParent[0].scrollTop=R=this.scrollParent[0].scrollTop+j.scrollSpeed:a.pageY-this.overflowOffset.top<j.scrollSensitivity&&(this.scrollParent[0].scrollTop=R=this.scrollParent[0].scrollTop-j.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<j.scrollSensitivity?this.scrollParent[0].scrollLeft=R=this.scrollParent[0].scrollLeft+j.scrollSpeed:a.pageX-this.overflowOffset.left<j.scrollSensitivity&&(this.scrollParent[0].scrollLeft=R=this.scrollParent[0].scrollLeft-j.scrollSpeed)):(a.pageY-t(document).scrollTop()<j.scrollSensitivity?R=t(document).scrollTop(t(document).scrollTop()-j.scrollSpeed):t(window).height()-(a.pageY-t(document).scrollTop())<j.scrollSensitivity&&(R=t(document).scrollTop(t(document).scrollTop()+j.scrollSpeed)),a.pageX-t(document).scrollLeft()<j.scrollSensitivity?R=t(document).scrollLeft(t(document).scrollLeft()-j.scrollSpeed):t(window).width()-(a.pageX-t(document).scrollLeft())<j.scrollSensitivity&&(R=t(document).scrollLeft(t(document).scrollLeft()+j.scrollSpeed))),R!==!1&&t.ui.ddmanager&&!j.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,a)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),p=this.items.length-1;p>=0;p--)if(g=this.items[p],y=g.item[0],_=this._intersectsWithPointer(g),_&&g.instance===this.currentContainer&&y!==this.currentItem[0]&&this.placeholder[_===1?"next":"prev"]()[0]!==y&&!t.contains(this.placeholder[0],y)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],y):!0)){if(this.direction=_===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(g))break;this._rearrange(a,g),this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),t.ui.ddmanager&&t.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,p){if(a){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,a),this.options.revert){var g=this,y=this.placeholder.offset(),_=this.options.axis,j={};_&&_!=="x"||(j.left=y.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),_&&_!=="y"||(j.top=y.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(j,parseInt(this.options.revert,10)||500,function(){g._clear(a)})}else this._clear(a,p);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var p=this._getItemsAsjQuery(a&&a.connected),g=[];return a=a||{},t(p).each(function(){var y=(t(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);y&&g.push((a.key||y[1]+"[]")+"="+(a.key&&a.expression?y[1]:y[2]))}),!g.length&&a.key&&g.push(a.key+"="),g.join("&")},toArray:function(a){var p=this._getItemsAsjQuery(a&&a.connected),g=[];return a=a||{},p.each(function(){g.push(t(a.item||this).attr(a.attribute||"id")||"")}),g},_intersectsWith:function(a){var p=this.positionAbs.left,g=p+this.helperProportions.width,y=this.positionAbs.top,_=y+this.helperProportions.height,j=a.left,R=j+a.width,D=a.top,H=D+a.height,K=this.offset.click.top,J=this.offset.click.left,F=this.options.axis==="x"||y+K>D&&H>y+K,de=this.options.axis==="y"||p+J>j&&R>p+J,re=F&&de;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?re:p+this.helperProportions.width/2>j&&R>g-this.helperProportions.width/2&&y+this.helperProportions.height/2>D&&H>_-this.helperProportions.height/2},_intersectsWithPointer:function(a){var p=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),g=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),y=p&&g,_=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();return y?this.floating?j&&j==="right"||_==="down"?2:1:_&&(_==="down"?2:1):!1},_intersectsWithSides:function(a){var p=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),g=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),y=this._getDragVerticalDirection(),_=this._getDragHorizontalDirection();return this.floating&&_?_==="right"&&g||_==="left"&&!g:y&&(y==="down"&&p||y==="up"&&!p)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var p=function(){R.push(this)},g,y,_,j,R=[],D=[],H=this._connectWith();if(H&&a)for(g=H.length-1;g>=0;g--)for(_=t(H[g]),y=_.length-1;y>=0;y--)j=t.data(_[y],this.widgetFullName),j&&j!==this&&!j.options.disabled&&D.push([t.isFunction(j.options.items)?j.options.items.call(j.element):t(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j]);for(D.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),g=D.length-1;g>=0;g--)D[g][0].each(p);return t(R)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(p){for(var g=0;a.length>g;g++)if(a[g]===p.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var p,g,y,_,j,R,D,H,K=this.items,J=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):t(this.options.items,this.element),this]],F=this._connectWith();if(F&&this.ready)for(p=F.length-1;p>=0;p--)for(y=t(F[p]),g=y.length-1;g>=0;g--)_=t.data(y[g],this.widgetFullName),_&&_!==this&&!_.options.disabled&&(J.push([t.isFunction(_.options.items)?_.options.items.call(_.element[0],a,{item:this.currentItem}):t(_.options.items,_.element),_]),this.containers.push(_));for(p=J.length-1;p>=0;p--)for(j=J[p][1],R=J[p][0],g=0,H=R.length;H>g;g++)D=t(R[g]),D.data(this.widgetName+"-item",j),K.push({item:D,instance:j,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var p,g,y,_;for(p=this.items.length-1;p>=0;p--)g=this.items[p],g.instance!==this.currentContainer&&this.currentContainer&&g.item[0]!==this.currentItem[0]||(y=this.options.toleranceElement?t(this.options.toleranceElement,g.item):g.item,a||(g.width=y.outerWidth(),g.height=y.outerHeight()),_=y.offset(),g.left=_.left,g.top=_.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(p=this.containers.length-1;p>=0;p--)_=this.containers[p].element.offset(),this.containers[p].containerCache.left=_.left,this.containers[p].containerCache.top=_.top,this.containers[p].containerCache.width=this.containers[p].element.outerWidth(),this.containers[p].containerCache.height=this.containers[p].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var p,g=a.options;g.placeholder&&g.placeholder.constructor!==String||(p=g.placeholder,g.placeholder={element:function(){var _=a.currentItem[0].nodeName.toLowerCase(),j=t("<"+_+">",a.document[0]).addClass(p||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return _==="tr"?a.currentItem.children().each(function(){t("<td>&#160;</td>",a.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(j)}):_==="img"&&j.attr("src",a.currentItem.attr("src")),p||j.css("visibility","hidden"),j},update:function(_,j){(!p||g.forcePlaceholderSize)&&(j.height()||j.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),j.width()||j.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}),a.placeholder=t(g.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),g.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var p,g,y,_,j,R,D,H,K,J,F=null,de=null;for(p=this.containers.length-1;p>=0;p--)if(!t.contains(this.currentItem[0],this.containers[p].element[0]))if(this._intersectsWith(this.containers[p].containerCache)){if(F&&t.contains(this.containers[p].element[0],F.element[0]))continue;F=this.containers[p],de=p}else this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",a,this._uiHash(this)),this.containers[p].containerCache.over=0);if(F)if(this.containers.length===1)this.containers[de].containerCache.over||(this.containers[de]._trigger("over",a,this._uiHash(this)),this.containers[de].containerCache.over=1);else{for(y=1e4,_=null,K=F.floating||this._isFloating(this.currentItem),j=K?"left":"top",R=K?"width":"height",J=K?"clientX":"clientY",g=this.items.length-1;g>=0;g--)t.contains(this.containers[de].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]&&(D=this.items[g].item.offset()[j],H=!1,a[J]-D>this.items[g][R]/2&&(H=!0),y>Math.abs(a[J]-D)&&(y=Math.abs(a[J]-D),_=this.items[g],this.direction=H?"up":"down"));if(!_&&!this.options.dropOnEmpty||this.currentContainer===this.containers[de])return;_?this._rearrange(a,_,null,!0):this._rearrange(a,null,this.containers[de].element,!0),this._trigger("change",a,this._uiHash()),this.containers[de]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[de],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[de]._trigger("over",a,this._uiHash(this)),this.containers[de].containerCache.over=1}},_createHelper:function(a){var p=this.options,g=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[a,this.currentItem])):p.helper==="clone"?this.currentItem.clone():this.currentItem;return g.parents("body").length||t(p.appendTo!=="parent"?p.appendTo:this.currentItem[0].parentNode)[0].appendChild(g[0]),g[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!g[0].style.width||p.forceHelperSize)&&g.width(this.currentItem.width()),(!g[0].style.height||p.forceHelperSize)&&g.height(this.currentItem.height()),g},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),t.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,p,g,y=this.options;y.containment==="parent"&&(y.containment=this.helper[0].parentNode),(y.containment==="document"||y.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(y.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(y.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(y.containment)||(a=t(y.containment)[0],p=t(y.containment).offset(),g=t(a).css("overflow")!=="hidden",this.containment=[p.left+(parseInt(t(a).css("borderLeftWidth"),10)||0)+(parseInt(t(a).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(t(a).css("borderTopWidth"),10)||0)+(parseInt(t(a).css("paddingTop"),10)||0)-this.margins.top,p.left+(g?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(t(a).css("borderLeftWidth"),10)||0)-(parseInt(t(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(g?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(t(a).css("borderTopWidth"),10)||0)-(parseInt(t(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,p){p||(p=this.position);var g=a==="absolute"?1:-1,y=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,_=/(html|body)/i.test(y[0].tagName);return{top:p.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():_?0:y.scrollTop())*g,left:p.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():_?0:y.scrollLeft())*g}},_generatePosition:function(a){var p,g,y=this.options,_=a.pageX,j=a.pageY,R=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,D=/(html|body)/i.test(R[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(_=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(j=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(_=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(j=this.containment[3]+this.offset.click.top)),y.grid&&(p=this.originalPageY+Math.round((j-this.originalPageY)/y.grid[1])*y.grid[1],j=this.containment?p-this.offset.click.top>=this.containment[1]&&p-this.offset.click.top<=this.containment[3]?p:p-this.offset.click.top>=this.containment[1]?p-y.grid[1]:p+y.grid[1]:p,g=this.originalPageX+Math.round((_-this.originalPageX)/y.grid[0])*y.grid[0],_=this.containment?g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2]?g:g-this.offset.click.left>=this.containment[0]?g-y.grid[0]:g+y.grid[0]:g)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():D?0:R.scrollTop()),left:_-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():D?0:R.scrollLeft())}},_rearrange:function(a,p,g,y){g?g[0].appendChild(this.placeholder[0]):p.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?p.item[0]:p.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var _=this.counter;this._delay(function(){_===this.counter&&this.refreshPositions(!y)})},_clear:function(a,p){var g=function(R,D,H){return function(K){H._trigger(R,K,D._uiHash(D))}};this.reverting=!1;var y,_=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(y in this._storedCSS)(this._storedCSS[y]==="auto"||this._storedCSS[y]==="static")&&(this._storedCSS[y]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!p&&_.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||p||_.push(function(j){this._trigger("update",j,this._uiHash())}),this!==this.currentContainer&&(p||(_.push(function(j){this._trigger("remove",j,this._uiHash())}),_.push(function(j){return function(R){j._trigger("receive",R,this._uiHash(this))}}.call(this,this.currentContainer)),_.push(function(j){return function(R){j._trigger("update",R,this._uiHash(this))}}.call(this,this.currentContainer)))),y=this.containers.length-1;y>=0;y--)p||_.push(g("deactivate",this,this.containers[y])),this.containers[y].containerCache.over&&(_.push(g("out",this,this.containers[y])),this.containers[y].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!p){for(this._trigger("beforeStop",a,this._uiHash()),y=0;_.length>y;y++)_[y].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(p||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!p){for(y=0;_.length>y;y++)_[y].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var p=a||this;return{helper:p.helper,placeholder:p.placeholder||t([]),position:p.position,originalPosition:p.originalPosition,offset:p.positionAbs,item:p.currentItem,sender:a?a.element:null}}}),t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},p=this.element;return t.each(["min","max","step"],function(g,y){var _=p.attr(y);_!==void 0&&_.length&&(a[y]=_)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,p){if(p){if(!this.spinning&&!this._start(a))return!1;this._spin((p>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(m){var a=function(){var y=this.element[0]===this.document[0].activeElement;y||(this.element.focus(),this.previous=p,this._delay(function(){this.previous=p}))},p;p=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),m.preventDefault(),a.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,a.call(this)}),this._start(m)!==!1&&this._repeat(null,t(m.currentTarget).hasClass("ui-spinner-up")?1:-1,m)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(m){return t(m.currentTarget).hasClass("ui-state-active")?this._start(m)===!1?!1:(this._repeat(null,t(m.currentTarget).hasClass("ui-spinner-up")?1:-1,m),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(a){var p=this.options,g=t.ui.keyCode;switch(a.keyCode){case g.UP:return this._repeat(null,1,a),!0;case g.DOWN:return this._repeat(null,-1,a),!0;case g.PAGE_UP:return this._repeat(null,p.page,a),!0;case g.PAGE_DOWN:return this._repeat(null,-p.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,p,g){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,p,g)},a),this._spin(p*this.options.step,g)},_spin:function(a,p){var g=this.value()||0;this.counter||(this.counter=1),g=this._adjustValue(g+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",p,{value:g})===!1||(this._value(g),this.counter++)},_increment:function(a){var p=this.options.incremental;return p?t.isFunction(p)?p(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return this.options.min!==null&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var p=""+a,g=p.indexOf(".");return g===-1?0:p.length-g-1},_adjustValue:function(a){var p,g,y=this.options;return p=y.min!==null?y.min:0,g=a-p,g=Math.round(g/y.step)*y.step,a=p+g,a=parseFloat(a.toFixed(this._precision())),y.max!==null&&a>y.max?y.max:y.min!==null&&y.min>a?y.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,p){if(a==="culture"||a==="numberFormat"){var g=this._parse(this.element.val());return this.options[a]=p,this.element.val(this._format(g)),void 0}(a==="max"||a==="min"||a==="step")&&typeof p=="string"&&(p=this._parse(p)),a==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(p.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(p.down)),this._super(a,p),a==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),this.buttons.button(p?"disable":"enable"))},_setOptions:d(function(m){this._super(m)}),_parse:function(a){return typeof a=="string"&&a!==""&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),a===""||isNaN(a)?null:a},_format:function(a){return a===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return a===null?!1:a===this._adjustValue(a)},_value:function(a,p){var g;a!==""&&(g=this._parse(a),g!==null&&(p||(g=this._adjustValue(g)),a=this._format(g))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:d(function(m){this._stepUp(m)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:d(function(m){this._stepDown(m)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:d(function(m){this._stepUp((m||1)*this.options.page)}),pageDown:d(function(m){this._stepDown((m||1)*this.options.page)}),value:function(a){return arguments.length?(d(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var m=/#.*$/;return function(a){var p,g;a=a.cloneNode(!1),p=a.href.replace(m,""),g=location.href.replace(m,"");try{p=decodeURIComponent(p)}catch(y){}try{g=decodeURIComponent(g)}catch(y){}return a.hash.length>1&&p===g}}(),_create:function(){var a=this,p=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",p.collapsible),this._processTabs(),p.active=this._initialActive(),t.isArray(p.disabled)&&(p.disabled=t.unique(p.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(g){return a.tabs.index(g)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(p.active):t(),this._refresh(),this.active.length&&this.load(p.active)},_initialActive:function(){var a=this.options.active,p=this.options.collapsible,g=location.hash.substring(1);return a===null&&(g&&this.tabs.each(function(y,_){return t(_).attr("aria-controls")===g?(a=y,!1):void 0}),a===null&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(a===null||a===-1)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),a===-1&&(a=p?!1:0)),!p&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(a){var p=t(this.document[0].activeElement).closest("li"),g=this.tabs.index(p),y=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:g++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:y=!1,g--;break;case t.ui.keyCode.END:g=this.anchors.length-1;break;case t.ui.keyCode.HOME:g=0;break;case t.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),this._activate(g),void 0;case t.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),this._activate(g===this.options.active?!1:g),void 0;default:return}a.preventDefault(),clearTimeout(this.activating),g=this._focusNextTab(g,y),a.ctrlKey||(p.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===t.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,p){for(var g=function(){return a>y&&(a=0),0>a&&(a=y),a},y=this.tabs.length-1;t.inArray(g(),this.options.disabled)!==-1;)a=p?a+1:a-1;return a},_focusNextTab:function(a,p){return a=this._findNextTab(a,p),this.tabs.eq(a).focus(),a},_setOption:function(a,p){return a==="active"?(this._activate(p),void 0):a==="disabled"?(this._setupDisabled(p),void 0):(this._super(a,p),a==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",p),p||this.options.active!==!1||this._activate(0)),a==="event"&&this._setupEvents(p),a==="heightStyle"&&this._setupHeightStyle(p),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,p=this.tablist.children(":has(a[href])");a.disabled=t.map(p.filter(".ui-state-disabled"),function(g){return p.index(g)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(p){t(this).is(".ui-state-disabled")&&p.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(p,g){var y,_,j,R=t(g).uniqueId().attr("id"),D=t(g).closest("li"),H=D.attr("aria-controls");a._isLocal(g)?(y=g.hash,j=y.substring(1),_=a.element.find(a._sanitizeSelector(y))):(j=D.attr("aria-controls")||t({}).uniqueId()[0].id,y="#"+j,_=a.element.find(y),_.length||(_=a._createPanel(j),_.insertAfter(a.panels[p-1]||a.tablist)),_.attr("aria-live","polite")),_.length&&(a.panels=a.panels.add(_)),H&&D.data("ui-tabs-aria-controls",H),D.attr({"aria-controls":j,"aria-labelledby":R}),_.attr("aria-labelledby",R)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return t("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){t.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var p,g=0;p=this.tabs[g];g++)a===!0||t.inArray(g,a)!==-1?t(p).addClass("ui-state-disabled").attr("aria-disabled","true"):t(p).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var p={};a&&t.each(a.split(" "),function(g,y){p[y]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(y){y.preventDefault()}}),this._on(this.anchors,p),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var p,g=this.element.parent();a==="fill"?(p=g.height(),p-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var y=t(this),_=y.css("position");_!=="absolute"&&_!=="fixed"&&(p-=y.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){p-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,p-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):a==="auto"&&(p=0,this.panels.each(function(){p=Math.max(p,t(this).height("").height())}).height(p))},_eventHandler:function(a){var p=this.options,g=this.active,y=t(a.currentTarget),_=y.closest("li"),j=_[0]===g[0],R=j&&p.collapsible,D=R?t():this._getPanelForTab(_),H=g.length?this._getPanelForTab(g):t(),K={oldTab:g,oldPanel:H,newTab:R?t():_,newPanel:D};a.preventDefault(),_.hasClass("ui-state-disabled")||_.hasClass("ui-tabs-loading")||this.running||j&&!p.collapsible||this._trigger("beforeActivate",a,K)===!1||(p.active=R?!1:this.tabs.index(_),this.active=j?t():_,this.xhr&&this.xhr.abort(),H.length||D.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),D.length&&this.load(this.tabs.index(_),a),this._toggle(a,K))},_toggle:function(a,p){var g=function(){_.running=!1,_._trigger("activate",a,p)},y=function(){p.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),j.length&&_.options.show?_._show(j,_.options.show,g):(j.show(),g())},_=this,j=p.newPanel,R=p.oldPanel;this.running=!0,R.length&&this.options.hide?this._hide(R,this.options.hide,function(){p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),y()}):(p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),R.hide(),y()),R.attr("aria-hidden","true"),p.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),j.length&&R.length?p.oldTab.attr("tabIndex",-1):j.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),j.attr("aria-hidden","false"),p.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){var p,g=this._findActive(a);g[0]!==this.active[0]&&(g.length||(g=this.active),p=g.find(".ui-tabs-anchor")[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(a){return a===!1?t():this.tabs.eq(a)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=t(this),p=a.data("ui-tabs-aria-controls");p?a.attr("aria-controls",p).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(a){var p=this.options.disabled;p!==!1&&(a===void 0?p=!1:(a=this._getIndex(a),p=t.isArray(p)?t.map(p,function(g){return g!==a?g:null}):t.map(this.tabs,function(g,y){return y!==a?y:null})),this._setupDisabled(p))},disable:function(a){var p=this.options.disabled;if(p!==!0){if(a===void 0)p=!0;else{if(a=this._getIndex(a),t.inArray(a,p)!==-1)return;p=t.isArray(p)?t.merge([a],p).sort():[a]}this._setupDisabled(p)}},load:function(a,p){a=this._getIndex(a);var g=this,y=this.tabs.eq(a),_=y.find(".ui-tabs-anchor"),j=this._getPanelForTab(y),R={tab:y,panel:j};this._isLocal(_[0])||(this.xhr=t.ajax(this._ajaxSettings(_,p,R)),this.xhr&&this.xhr.statusText!=="canceled"&&(y.addClass("ui-tabs-loading"),j.attr("aria-busy","true"),this.xhr.success(function(D){setTimeout(function(){j.html(D),g._trigger("load",p,R)},1)}).complete(function(D,H){setTimeout(function(){H==="abort"&&g.panels.stop(!1,!0),y.removeClass("ui-tabs-loading"),j.removeAttr("aria-busy"),D===g.xhr&&delete g.xhr},1)})))},_ajaxSettings:function(a,p,g){var y=this;return{url:a.attr("href"),beforeSend:function(j,R){return y._trigger("beforeLoad",p,t.extend({jqXHR:j,ajaxSettings:R},g))}}},_getPanelForTab:function(a){var p=t(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+p))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var a=t(this).attr("title")||"";return t("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,p){var g=(a.attr("aria-describedby")||"").split(/\s+/);g.push(p),a.data("ui-tooltip-id",p).attr("aria-describedby",t.trim(g.join(" ")))},_removeDescribedBy:function(a){var p=a.data("ui-tooltip-id"),g=(a.attr("aria-describedby")||"").split(/\s+/),y=t.inArray(p,g);y!==-1&&g.splice(y,1),a.removeData("ui-tooltip-id"),g=t.trim(g.join(" ")),g?a.attr("aria-describedby",g):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(a,p){var g=this;return a==="disabled"?(this[p?"_disable":"_enable"](),this.options[a]=p,void 0):(this._super(a,p),a==="content"&&t.each(this.tooltips,function(y,_){g._updateContent(_)}),void 0)},_disable:function(){var a=this;t.each(this.tooltips,function(p,g){var y=t.Event("blur");y.target=y.currentTarget=g[0],a.close(y,!0)}),this.element.find(this.options.items).addBack().each(function(){var p=t(this);p.is("[title]")&&p.data("ui-tooltip-title",p.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=t(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var p=this,g=t(a?a.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),a&&a.type==="mouseover"&&g.parents().each(function(){var y,_=t(this);_.data("ui-tooltip-open")&&(y=t.Event("blur"),y.target=y.currentTarget=this,p.close(y,!0)),_.attr("title")&&(_.uniqueId(),p.parents[this.id]={element:this,title:_.attr("title")},_.attr("title",""))}),this._updateContent(g,a))},_updateContent:function(a,p){var g,y=this.options.content,_=this,j=p?p.type:null;return typeof y=="string"?this._open(p,a,y):(g=y.call(a[0],function(R){a.data("ui-tooltip-open")&&_._delay(function(){p&&(p.type=j),this._open(p,a,R)})}),g&&this._open(p,a,g),void 0)},_open:function(a,p,g){var y=function(J){H.of=J,_.is(":hidden")||_.position(H)},_,j,R,D,H=t.extend({},this.options.position);if(g){if(_=this._find(p),_.length)return _.find(".ui-tooltip-content").html(g),void 0;p.is("[title]")&&(a&&a.type==="mouseover"?p.attr("title",""):p.removeAttr("title")),_=this._tooltip(p),this._addDescribedBy(p,_.attr("id")),_.find(".ui-tooltip-content").html(g),this.liveRegion.children().hide(),g.clone?(D=g.clone(),D.removeAttr("id").find("[id]").removeAttr("id")):D=g,t("<div>").html(D).appendTo(this.liveRegion),this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:y}),y(a)):_.position(t.extend({of:p},this.options.position)),this.hiding=!1,this.closing=!1,_.hide(),this._show(_,this.options.show),this.options.show&&this.options.show.delay&&(R=this.delayedShow=setInterval(function(){_.is(":visible")&&(y(H.of),clearInterval(R))},t.fx.interval)),this._trigger("open",a,{tooltip:_}),j={keyup:function(J){if(J.keyCode===t.ui.keyCode.ESCAPE){var F=t.Event(J);F.currentTarget=p[0],this.close(F,!0)}}},p[0]!==this.element[0]&&(j.remove=function(){this._removeTooltip(_)}),a&&a.type!=="mouseover"||(j.mouseleave="close"),a&&a.type!=="focusin"||(j.focusout="close"),this._on(!0,p,j)}},close:function(a){var p=this,g=t(a?a.currentTarget:this.element),y=this._find(g);this.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),this.hiding=!0,y.stop(!0),this._hide(y,this.options.hide,function(){p._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),a&&a.type==="mouseleave"&&t.each(this.parents,function(_,j){t(j.element).attr("title",j.title),delete p.parents[_]}),this.closing=!0,this._trigger("close",a,{tooltip:y}),this.hiding||(this.closing=!1))},_tooltip:function(a){var p=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),g=p.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(p),p.appendTo(this.document[0].body),this.tooltips[g]=a,p},_find:function(a){var p=a.data("ui-tooltip-id");return p?t("#"+p):t()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;t.each(this.tooltips,function(p,g){var y=t.Event("blur");y.target=y.currentTarget=g[0],a.close(y,!0),t("#"+p).remove(),g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),Xb=Gb(Yb());var S;Vn=Xb,S=Vn,dp=S.default,Kb=xi(Vn,["default"]),Jb=dp!==void 0?dp:Kb}}),hp={};qr(hp,{default:function(){return Jb}});var Zb=Tt({"https-url:https://esm.archive.org/jqueryui@1.11.1/jquery-ui.min.js":function(){Qb(),Qb()}}),ew,m8=Tt({"components/search/autocomplete.js":function(){oi(),vo(),ew=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"setup",value:function(){ee(".js-search-bar").each(function(){var n=ee(this),o=n.data("autocompleteFormat");o!=="off"&&Promise.resolve().then(function(){return Zb(),hp}).then(function(){var u={minLength:3,source:function(s,r){ee.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:s.term,limit:15},dataType:"json",success:r,error:function(c,h,f){dn("".concat(h,": ").concat(f)),r([])}})},open:function(){var s=ee(this).autocomplete("widget"),r=s.offset();r.left<0&&(s.width(s.width()-r.left),s.offset({top:r.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};o==="inline"?(u.appendTo=n.data("autocompleteAppendTo"),u.position={using:ee.noop}):(u.classes["ui-autocomplete"]+=" z-above-top-nav",o==="right"&&(u.position={my:"right top",at:"right bottom"})),n.autocomplete(u)})})}}]),S}()}}),y8=Tt({"components/search/collection-search-submit.js":function(){oi(),ee(function(){var S=ee(".search-form--inside");if(!!S){var t=function(s){return s?encodeURIComponent(s.trim()).replace(/%20/g,"+"):""},e=function(s,r,d){d&&s.append(r,d)},n=function(s,r,d){return d?"".concat(s?"&":"").concat(r,"=").concat(d):""},o=S.find(".searchlist").val(),u=S.find('[name="sin"]:checked').val(),l=new URLSearchParams(window.location.search.substring(1));S.submit(function(s){s.preventDefault();var r=S.find(".searchlist").val(),d=S.find('[name="sin"]:checked').val(),c=new URLSearchParams;e(c,"query",r),e(c,"sin",d);var h=c.toString();if(o===r&&u===d){var f=!0,v=!1,x=void 0;try{for(var w=l.getAll("and[]")[Symbol.iterator](),b;!(f=(b=w.next()).done);f=!0){var C=b.value;h+=n(h,"and[]",t(C))}}catch(T){v=!0,x=T}finally{try{!f&&w.return!=null&&w.return()}finally{if(v)throw x}}}var P=l.get("sort");h+=n(h,"sort",t(P)),h&&(h="?".concat(h));var E=window.location;window.location="".concat(E.origin).concat(E.pathname).concat(h)})}})}}),b8=Tt({"components/util/onchange.js":function(){oi()}}),w8=Tt({"components/util/onsubmit.js":function(){oi()}}),Sd,tw,Ad,nw,rw,iw,So,ow=Tt({"https-url:https://esm.archive.org/v99/magic-snowflakes@6.3.0/deno/magic-snowflakes.js":function(){Sd="",(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&(Sd=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit"),tw=(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&"onanimationend"in document,Ad=20,nw=function(){"use strict";function S(t){var e=this;_classCallCheck(this,S),this.size=0,this.sizeInner=0;var n=this.elem=document.createElement("div"),o=this.elemInner=document.createElement("div");this.update(t),ao(n,"snowflake"),ao(o,"snowflake__inner"),ao(n,"snowflake_animation"),tw?(ao(n,"snowflake_animation-end"),n.onanimationend=function(u){u.target===n&&(e.updateLeft(),e.reflow())}):ao(n,"snowflake_animation-infinity"),t.types&&ao(o,"snowflake__inner_type_"+l0(0,t.types)),t.wind&&ao(o,"snowflake__inner_wind"),t.rotation&&ao(o,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),n.appendChild(o)}return _createClass(S,[{key:"getLeft",value:function(){return Math.random()*99+"%"}},{key:"updateLeft",value:function(){this.elem&&js(this.elem,{left:this.getLeft()})}},{key:"update",value:function(e){if(!(!this.elem||!this.elemInner)){var n=e.minSize===e.maxSize;this.sizeInner=n?0:l0(0,Ad),this.size=u0(this.sizeInner,e.minSize,e.maxSize);var o=this.getAnimationProps(e),u={animationName:"snowflake_gid_".concat(e.gid,"_y"),animationDelay:o.animationDelay,animationDuration:o.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};n||(u.opacity=String(df(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),js(this.elem,u);var l="snowflake_gid_".concat(e.gid,"_x_").concat(this.sizeInner);js(this.elemInner,{animationName:l,animationDelay:Math.random()*4+"s"})}}},{key:"reflow",value:function(){this.elem&&(a0(this.elem),this.elem.offsetHeight,o0(this.elem))}},{key:"resize",value:function(e){if(!!this.elem){var n=this.getAnimationProps(e);js(this.elem,{animationDuration:n.animationDuration})}}},{key:"appendTo",value:function(e){this.elem&&e.appendChild(this.elem)}},{key:"destroy",value:function(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}},{key:"getAnimationProps",value:function(e){var n=e.containerHeight/50/e.speed,o=n/3;return{animationDelay:Math.random()*n+"s",animationDuration:String(df(this.size,e.minSize,e.maxSize,n,o)+"s")}}}]),S}(),rw='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',iw=".snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E\")}",So=function(){"use strict";function S(t){var e=this;_classCallCheck(this,S),this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=function(){e.params.autoResize&&e.resize()},this.handleOrientationChange=function(){e.resize()},this.params=this.setParams(t),this.isBody=EO(this.params.container),So.gid++,this.gid=So.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}return _createClass(S,[{key:"start",value:function(){s0(this.container,"snowflakes_paused")}},{key:"stop",value:function(){ao(this.container,"snowflakes_paused")}},{key:"show",value:function(){s0(this.container,"snowflakes_hidden")}},{key:"hide",value:function(){ao(this.container,"snowflakes_hidden")}},{key:"resize",value:function(){var e=this.width(),n=this.height();if(n!==this.containerSize.height){this.containerSize.width=e,this.containerSize.height=n;var o=this.getFlakeParams();this.flakes.forEach(function(u){return u.resize(o)}),!this.isBody&&(a0(this.container),this.updateAnimationStyle(),o0(this.container))}}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,So.instanceCounter&&So.instanceCounter--,this.removeStyles(),od(this.container),this.flakes.forEach(function(e){return e.destroy()}),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}},{key:"appendContainer",value:function(){var e=document.createElement("div");return ao(e,"snowflakes"),ao(e,"snowflakes_gid_".concat(this.gid)),this.isBody&&ao(e,"snowflakes_body"),js(e,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(e),e}},{key:"appendStyles",value:function(){So.instanceCounter||(this.mainStyleNode=this.injectStyle(rw)),So.instanceCounter++,this.imagesStyleNode=this.injectStyle(iw.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}},{key:"injectStyle",value:function(e,n){return jO(e.replace(/_gid_value/g,"_gid_".concat(this.gid)),n)}},{key:"getFlakeParams",value:function(){var e=this.height(),n=this.params;return{containerHeight:e,gid:this.gid,count:n.count,speed:n.speed,rotation:n.rotation,minOpacity:n.minOpacity,maxOpacity:n.maxOpacity,minSize:n.minSize,maxSize:n.maxSize,types:n.types,wind:n.wind}}},{key:"appendFlakes",value:function(){var e=this,n=this.getFlakeParams();this.flakes=[];for(var o=0;o<this.params.count;o++)this.flakes.push(new nw(n));this.flakes.sort(function(u,l){return u.size-l.size}).forEach(function(u){u.appendTo(e.container)})}},{key:"setParams",value:function(e){var n=e||{},o={},u={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(u).forEach(function(l){o[l]=_typeof(n[l])>"u"?u[l]:n[l]}),o}},{key:"getAnimationStyle",value:function(){for(var e="0px",n=this.params.maxSize*Math.sqrt(2),o=this.isBody?"calc(100vh + ".concat(n,"px)"):"".concat(this.height()+n,"px"),u=this.gid,l="@-webkit-keyframes snowflake_gid_".concat(u,"_y{from{-webkit-transform:translateY(").concat(e,")}to{-webkit-transform:translateY(").concat(o,");}}\n@keyframes snowflake_gid_").concat(u,"_y{from{transform:translateY(").concat(e,")}to{transform:translateY(").concat(o,");}}"),s=0;s<=Ad;s++){var r=u0(s,this.params.minSize,this.params.maxSize)+"px";l+="@-webkit-keyframes snowflake_gid_".concat(u,"_x_").concat(s,"{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(").concat(r,");}}\n@keyframes snowflake_gid_").concat(u,"_x_").concat(s,"{from{transform:translateX(0px)}to{transform:translateX(").concat(r,")}}")}return l}},{key:"updateAnimationStyle",value:function(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}},{key:"removeStyles",value:function(){So.instanceCounter||(od(this.mainStyleNode),delete this.mainStyleNode),od(this.imagesStyleNode),delete this.imagesStyleNode,od(this.animationStyleNode),delete this.animationStyleNode}},{key:"width",value:function(){return this.params.width||(this.isBody?OO():this.params.container.offsetWidth)}},{key:"height",value:function(){return this.params.height||(this.isBody?CO():this.params.container.offsetHeight+this.params.maxSize)}}]),S}(),So.instanceCounter=0,So.gid=0}}),_8=Tt({"https-url:https://esm.archive.org/magic-snowflakes@^6.0.0":function(){ow(),ow()}});function Bo(S,t){var e=this;if(!_instanceof(e,Bo))return new Bo(S,t);var n=Object.assign({},aw,t),o=Cd(n.precision),u=ad(S,n);e.intValue=u,e.value=u/o,n.increment=n.increment||1/o,n.useVedic?n.groups=uw:n.groups=lw,this.s=n,this.p=o}var aw,fp,Cd,sw,lw,uw,pp,k8=Tt({"https-url:https://esm.archive.org/v99/currency.js@2.0.4/deno/currency.js":function(){aw={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:PO,fromCents:!1},fp=function(t){return Math.round(t)},Cd=function(t){return Math.pow(10,t)},sw=function(t,e){return fp(t/e)*e},lw=/(\d)(?=(\d{3})+\b)/g,uw=/(\d)(?=(\d\d)+\d\b)/g,Bo.prototype={add:function(t){var e=this.intValue,n=this.s,o=this.p;return Bo((e+=ad(t,n))/(n.fromCents?1:o),n)},subtract:function(t){var e=this.intValue,n=this.s,o=this.p;return Bo((e-=ad(t,n))/(n.fromCents?1:o),n)},multiply:function(t){var e=this.intValue,n=this.s;return Bo((e*=t)/(n.fromCents?1:Cd(n.precision)),n)},divide:function(t){var e=this.intValue,n=this.s;return Bo(e/=ad(t,n,!1),n)},distribute:function(t){for(var e=this.intValue,n=this.p,o=this.s,u=[],l=Math[e>=0?"floor":"ceil"](e/t),s=Math.abs(e-l*t),r=o.fromCents?1:n;t!==0;t--){var d=Bo(l/r,o);s-- >0&&(d=d[e>=0?"add":"subtract"](1/r)),u.push(d)}return u},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,e=this.p;return~~(t%e)},format:function(t){var e=this.s;return typeof t=="function"?t(this,e):e.format(this,Object.assign({},e,t))},toString:function(){var t=this.intValue,e=this.p,n=this.s;return sw(t/e,n.increment).toFixed(n.precision)},toJSON:function(){return this.value}},pp=Bo}}),cw,jl,No,dw,hw,x8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/donation-form-data-models@0.3.3/deno/donation-form-data-models.js":function(){(function(S){S.CreditCard="Credit Card",S.PayPal="PayPal",S.GooglePay="Google Pay",S.Venmo="Venmo",S.ApplePay="Apple Pay"})(cw||(cw={})),jl=function(){"use strict";function S(t){_classCallCheck(this,S),this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}return _createClass(S,[{key:"feeAmountCovered",get:function(){return this.coverFees?this.fee:0}},{key:"fee",get:function(){return jl.calculateFeeAmount(this.amount)}},{key:"total",get:function(){return jl.calculateTotal(this.amount,this.coverFees)}}],[{key:"calculateTotal",value:function(e,n){var o=n?this.calculateFeeAmount(e):0,u=e+o;return isNaN(u)?0:this.roundAmount(u)}},{key:"calculateFeeAmount",value:function(e){var n=e*.022+.3;return isNaN(n)?0:this.roundAmount(n)}},{key:"roundAmount",value:function(e){return Math.round(e*100)/100}}]),S}(),function(S){S.OneTime="one-time",S.Monthly="monthly",S.Upsell="up_sell"}(No||(No={})),dw=[5,10,25,50,100,500,1e3],hw=new jl({donationType:No.OneTime,amount:10,coverFees:!1})}}),fw,S8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/donation-form-currency-validator@0.3.0/deno/donation-form-currency-validator.js":function(){fw=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"keydown",value:function(e){var n,o,u=e.key;if(!e.metaKey){switch(u){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}var l=e.target,s=l.value,r=s.slice(0,(n=l.selectionStart)!==null&&n!==void 0?n:0),d=s.slice((o=l.selectionEnd)!==null&&o!==void 0?o:0),c="".concat(r).concat(u).concat(d),h=/^[0-9]+(\.[0-9]{0,2})?$/g;c.match(h)||e.preventDefault()}}}]),S}()}}),Fu,El,A8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/donation-form-section@0.3.5/deno/donation-form-section.js":function(){Qr(),_n(),ei(),function(S){S.HideBadge="hidebadge",S.ShowBadge="showbadge",S.HideBadgeLeaveSpacing="hidebadgeleavespacing"}(Fu||(Fu={})),El=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.sectionBadge="0",n.badgeMode=Fu.ShowBadge,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject35(),this.badgeMode,this.sectionBadge,this.headline?Ot(_templateObject34(),this.headline):"")}}],[{key:"styles",get:function(){var o=Kt(_templateObject36()),u=Kt(_templateObject37()),l=Kt(_templateObject38()),s=Kt(_templateObject39()),r=Kt(_templateObject40(),s),d=Kt(_templateObject41()),c=Kt(_templateObject42()),h=Kt(_templateObject43()),f=Kt(_templateObject44()),v=Kt(_templateObject45()),x=Kt(_templateObject46()),w=Kt(_templateObject47()),b=Kt(_templateObject48(),s);return Kt(_templateObject49(),x,w,r,u,r,u,o,r,l,h,r,r,s,c,d,b,f,v)}}]),e}(Xn),A([Xt({type:String})],El.prototype,"sectionBadge",void 0),A([Xt({type:String})],El.prototype,"headline",void 0),A([Xt({type:String})],El.prototype,"badgeMode",void 0),El=A([zr("donation-form-section")],El)}}),Uu,zo,go,Ls,Od,Bi,C8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/donation-form-edit-donation@1.1.1/deno/donation-form-edit-donation.js":function(){Qr(),_n(),ei(),k8(),x8(),S8(),A8(),function(S){S.HideNumbers="hidenumbers",S.ShowNumbers="shownumbers"}(Uu||(Uu={})),function(S){S.DonationType="donationType",S.Amount="amount"}(zo||(zo={})),function(S){S.ValidDonationAmount="valid_donation_amount",S.InvalidDonationAmount="invalid_donation_amount",S.DonationTooHigh="donation_too_high",S.DonationTooLow="donation_too_low"}(go||(go={})),function(S){S.Button="button",S.Checkbox="checkbox",S.Hide="hide"}(Ls||(Ls={})),function(S){S.SingleLine="single-line",S.MultiLine="multi-line"}(Od||(Od={})),Bi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.donationInfo=hw,n.stepNumberMode=Uu.ShowNumbers,n.amountOptions=dw,n.amountSelectionLayout=Od.MultiLine,n.frequencySelectionMode=Ls.Button,n.customAmountMode="display",n.customFeesCheckboxMode="display",n.amountTitleDisplayMode="default",n.customAmountSelected=!1,n.currencyValidator=new fw,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o="Choose an amount (USD)",u=this.amountTitleDisplayMode==="default"?o:"";return Ot(_templateObject53(),this.frequencySelectionMode===Ls.Button?this.frequencyButtonsTemplate:Un,this.amountSelectionSectionNumber,u,this.formSectionNumberMode,this.amountTitleDisplayMode==="slot"?Ot(_templateObject50()):Un,this.presetAmountsTemplate,this.customAmountMode==="display"?Ot(_templateObject51(),this.customAmountTemplate):Un,this.error,this.customFeesCheckboxMode==="display"?Ot(_templateObject52(),this.customFeesCheckboxTemplate,this.frequencySelectionMode===Ls.Checkbox?this.frequencyCheckboxTemplate:Un):Un)}},{key:"updated",value:function(o){o.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),o.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),o.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),o.has("donationInfo")&&this.updateSelectedDonationInfo(),o.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new jl({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}},{key:"frequencyButtonsTemplate",get:function(){return Ot(_templateObject54(),this.formSectionNumberMode,this.frequencyTemplate)}},{key:"frequencyCheckboxTemplate",get:function(){return Ot(_templateObject55(),this.monthlyCheckboxChecked,this.donationInfo.donationType===No.Monthly)}},{key:"customFeesCheckboxTemplate",get:function(){return Ot(_templateObject56(),this.coverFeesChecked,this.donationInfo.coverFees,this.coverFeesTextTemplate)}},{key:"amountSelectionSectionNumber",get:function(){return this.frequencySelectionMode===Ls.Button?2:1}},{key:"formSectionNumberMode",get:function(){switch(this.stepNumberMode){case Uu.ShowNumbers:return Fu.ShowBadge;case Uu.HideNumbers:return Fu.HideBadge}}},{key:"setupAmountColumnsLayoutConfig",value:function(){var o=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Ls.Hide,u=this.amountOptions.length,l=5,s=3;switch(u){case 7:l=5,s=3;break;case 6:l=4,s=2;break;case 5:l=4,s=3;break;case 4:if(o){l=4,s=0;break}l=3,s=2;break;case 3:l=2,s=1;break}this.amountSelectionLayout===Od.SingleLine&&(l=u+3,s=3),this.style.setProperty("--paymentSelectorAmountColumnCount","".concat(l)),this.style.setProperty("--paymentSelectorCustomAmountColSpan","".concat(s))}},{key:"updateSelectedDonationInfo",value:function(){var o,u;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){var l=(o=this.shadowRoot)===null||o===void 0?void 0:o.querySelector('input[type="radio"][name="'.concat(zo.Amount,'"][value="').concat(this.donationInfo.amount,'"]'));l.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((u=this.shadowRoot)===null||u===void 0?void 0:u.activeElement)!==this.customAmountInput){this.customAmountInput.value="".concat(this.donationInfo.amount);var s=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(s)}}},{key:"coverFeesTextTemplate",get:function(){var o=pp(this.donationInfo.fee,{symbol:"$"}).format();return Ot(_templateObject57(),o)}},{key:"formatShortenedAmount",value:function(o){var u=o%1===0?0:2;return pp(o,{symbol:"$",precision:u}).format()}},{key:"frequencyTemplate",get:function(){return Ot(_templateObject58(),this.getRadioButton({group:zo.DonationType,value:No.OneTime,displayText:"One time",checked:this.donationInfo.donationType===No.OneTime}),this.getRadioButton({group:zo.DonationType,value:No.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===No.Monthly}))}},{key:"presetAmountsTemplate",get:function(){var o=this;return Ot(_templateObject60(),this.amountOptions.map(function(u){var l=!o.customAmountSelected&&u===o.donationInfo.amount,s=o.formatShortenedAmount(u);return Ot(_templateObject59(),o.getRadioButton({group:zo.Amount,value:"".concat(u),displayText:"".concat(s),checked:l}))}))}},{key:"getRadioButton",value:function(o){var u=this,l="".concat(o.group,"-").concat(o.value,"-option");return Ot(_templateObject61(),o.group,o.value,l,o.checked,this.radioSelected,function(s){o.group===zo.Amount&&parseFloat(o.value)===u.donationInfo.amount&&(console.log("SAME VALUE"),u.radioSelected(s))},l,o.displayText)}},{key:"customAmountTemplate",get:function(){var o=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return Ot(_templateObject62(),zo.Amount,this.customRadioSelected,o,this.customAmountChanged,this.currencyValidator.keydown,this.customAmountFocused)}},{key:"customRadioSelected",value:function(){this.customAmountInput.focus()}},{key:"customAmountFocused",value:function(o){var u=o.target;this.customAmountSelected=!0,this.handleCustomAmountInput(u.value)}},{key:"coverFeesChecked",value:function(o){var u=o.target.checked;this.updateDonationInfo({coverFees:u})}},{key:"customAmountChanged",value:function(o){var u=o.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(u)}},{key:"handleCustomAmountInput",value:function(o){var u=parseFloat(o);isNaN(u)?this.dispatchEditDonationError(go.InvalidDonationAmount):this.amountChanged(u)}},{key:"handleDonationInfoStatus",value:function(o){switch(o){case go.ValidDonationAmount:this.error=void 0;break;case go.DonationTooHigh:this.error=Ot(_templateObject63()),this.dispatchEditDonationError(o);break;case go.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=Ot(_templateObject64())),this.dispatchEditDonationError(o);break;case go.InvalidDonationAmount:this.error=Ot(_templateObject65()),this.dispatchEditDonationError(o);break}}},{key:"amountChanged",value:function(o){var u=this.getDonationInfoStatus(o);this.handleDonationInfoStatus(u),u===go.ValidDonationAmount&&this.updateDonationInfo({amount:o})}},{key:"getDonationInfoStatus",value:function(o){return isNaN(o)?go.InvalidDonationAmount:o>=1e4?go.DonationTooHigh:o<1?go.DonationTooLow:go.ValidDonationAmount}},{key:"radioSelected",value:function(o){var u=o.target,l=u.name,s=u.value;switch(l){case zo.Amount:this.presetAmountChanged(parseFloat(s));break;case zo.DonationType:this.updateDonationInfo({donationType:s});break;default:break}}},{key:"monthlyCheckboxChecked",value:function(o){var u=o.target.checked?No.Monthly:No.OneTime;this.updateDonationInfo({donationType:u})}},{key:"dispatchEditDonationError",value:function(o){var u=new CustomEvent("editDonationError",{detail:{error:o}});this.dispatchEvent(u)}},{key:"presetAmountChanged",value:function(o){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:o})}},{key:"updateDonationInfo",value:function(o){var u,l,s,r=new jl({donationType:(u=o.donationType)!==null&&u!==void 0?u:this.donationInfo.donationType,amount:(l=o.amount)!==null&&l!==void 0?l:this.donationInfo.amount,coverFees:(s=o.coverFees)!==null&&s!==void 0?s:this.donationInfo.coverFees});this.donationInfo=r;var d=new CustomEvent("donationInfoChanged",{detail:{donationInfo:r}});this.dispatchEvent(d)}}],[{key:"styles",get:function(){var o=Kt(_templateObject66()),u=Kt(_templateObject67()),l=Kt(_templateObject68()),s=Kt(_templateObject69()),r=Kt(_templateObject70()),d=Kt(_templateObject71()),c=Kt(_templateObject72()),h=Kt(_templateObject73()),f=Kt(_templateObject74()),v=Kt(_templateObject75()),x=Kt(_templateObject76()),w=Kt(_templateObject77()),b=Kt(_templateObject78()),C=Kt(_templateObject79()),P=Kt(_templateObject80());return Kt(_templateObject81(),u,C,P,l,o,s,h,r,d,c,f,v,x,w,b)}}]),e}(Xn),A([Xt({type:Object})],Bi.prototype,"donationInfo",void 0),A([Xt({type:String})],Bi.prototype,"stepNumberMode",void 0),A([Xt({type:Number})],Bi.prototype,"defaultSelectedAmount",void 0),A([Xt({type:Array})],Bi.prototype,"amountOptions",void 0),A([Xt({type:String})],Bi.prototype,"amountSelectionLayout",void 0),A([Xt({type:String,reflect:!0})],Bi.prototype,"frequencySelectionMode",void 0),A([Xt({type:String,reflect:!0})],Bi.prototype,"customAmountMode",void 0),A([Xt({type:String,reflect:!0})],Bi.prototype,"customFeesCheckboxMode",void 0),A([Xt({type:String,reflect:!0})],Bi.prototype,"amountTitleDisplayMode",void 0),A([Xt({type:Object})],Bi.prototype,"error",void 0),A([Xt({type:Boolean})],Bi.prototype,"customAmountSelected",void 0),A([ri("#custom-amount-button")],Bi.prototype,"customAmountButton",void 0),A([ri("#custom-amount-input")],Bi.prototype,"customAmountInput",void 0),Bi=A([zr("donation-form-edit-donation")],Bi)}}),O8=Tt({"https-url:https://esm.archive.org/@internetarchive/donation-form-edit-donation@^1.1.1":function(){C8()}}),Xi,j8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/donation-banner-thermometer@0.4.2/deno/donation-banner-thermometer.js":function(){Qr(),_n(),ei(),Xi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.goalMessageMode="amount",n.goalNearMessage="We\u2019ve almost reached our goal!",n.goalReachedMessage="We've reached our goal!",n.goalAmount=75e5,n.currentAmountMode="on",n.currentAmount=0,n.thermometerValueWidth=0,n.thermometerFillWidth=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject83(),this.goalAmount,this.currentAmount,this.currentAmountDisplayValue,this.thermometerValuePosition,this.percentComplete,this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Un,this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Un,this.goalMessageMode!=="off"?Ot(_templateObject82(),this.currentGoalMessage):Un)}},{key:"thermometerValueTemplate",get:function(){return this.currentAmountMode==="off"?Ot(_templateObject84(),Un):Ot(_templateObject85(),this.currentAmountDisplayValue)}},{key:"thermometerValuePosition",get:function(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}},{key:"updated",value:function(o){if(o.has("resizeObserver")){var u=o.get("resizeObserver");this.disconnectResizeObserver(u),this.setupResizeObserver(this.resizeObserver)}o.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}},{key:"disconnectedCallback",value:function(){this.disconnectResizeObserver(this.resizeObserver)}},{key:"handleResize",value:function(o){var u;switch(o.target){case((u=this.shadowRoot)===null||u===void 0?void 0:u.host):this.style.setProperty("--bannerThermometerHeight",o.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=o.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=o.contentRect.width;break}}},{key:"setupResizeObserver",value:function(o){var u;!(!((u=this.shadowRoot)===null||u===void 0)&&u.host)||!o||(o.addObserver({handler:this,target:this.shadowRoot.host}),o.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(o))}},{key:"disconnectResizeObserver",value:function(o){var u;!(!((u=this.shadowRoot)===null||u===void 0)&&u.host)||!o||(o.removeObserver({handler:this,target:this.shadowRoot.host}),o.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(o))}},{key:"observeCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.addObserver({handler:this,target:this.thermometerValue}))}},{key:"unobserveCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.removeObserver({handler:this,target:this.thermometerValue}))}},{key:"goalMessage",get:function(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}},{key:"currentAmountDisplayValue",get:function(){return this.formatNumber(this.currentAmount)}},{key:"goalAmountDisplayValue",get:function(){return this.formatNumber(this.goalAmount)}},{key:"formatNumber",value:function(o){if(o===0)return"$0";var u="MM",l=o/1e6,s=l<10,r=0;return s?r=Math.round((l+Number.EPSILON)*10)/10:r=Math.round(l),"$".concat(r).concat(u)}},{key:"currentGoalMessage",get:function(){switch(this.goalMessageMode){case"amount":return"".concat(this.goalAmountDisplayValue," goal");case"message":return this.goalMessage;case"off":return""}}},{key:"percentComplete",get:function(){return Math.min(this.currentAmount/this.goalAmount*100,100)}}],[{key:"styles",get:function(){var o=Kt(_templateObject86()),u=Kt(_templateObject87()),l=Kt(_templateObject88()),s=Kt(_templateObject89(),l),r=Kt(_templateObject90()),d=Kt(_templateObject91(),l),c=Kt(_templateObject92(),o),h=Kt(_templateObject93()),f=Kt(_templateObject94());return Kt(_templateObject95(),r,c,d,l,u,s,h,f)}}]),e}(Xn),A([Xt({type:String})],Xi.prototype,"goalMessageMode",void 0),A([Xt({type:String})],Xi.prototype,"goalNearMessage",void 0),A([Xt({type:String})],Xi.prototype,"goalReachedMessage",void 0),A([Xt({type:Number})],Xi.prototype,"goalAmount",void 0),A([Xt({type:String})],Xi.prototype,"currentAmountMode",void 0),A([Xt({type:Number})],Xi.prototype,"currentAmount",void 0),A([Xt({type:Object})],Xi.prototype,"resizeObserver",void 0),A([ri(".thermometer-value")],Xi.prototype,"thermometerValue",void 0),A([ri(".thermometer-fill")],Xi.prototype,"thermometerFill",void 0),A([ii()],Xi.prototype,"thermometerValueWidth",void 0),A([ii()],Xi.prototype,"thermometerFillWidth",void 0),Xi=A([zr("donation-banner-thermometer")],Xi)}}),E8=Tt({"https-url:https://esm.archive.org/@internetarchive/donation-banner-thermometer@^0.4.2":function(){j8()}}),La,pw,vw,vp,gw,Vu,Da,mw,gp,jd,mp,yp,yw,Pl,Wu,bp,bw,ww,Ao,Ds,wp,_p,kp,_w,xp,kw,Sp,xw,Ap,Cp,Sw,Aw,Cw,qu,Ow,jw,Ew,Op,jp,Ed,Pw,Pd,Ep,Tw,Iw,Mw,Gu,Pp,Yu,Rw,P8=Tt({"https-url:https://esm.archive.org/v99/@juggle/resize-observer@3.4.0/deno/resize-observer.js":function(){La=[],pw=function(){return La.some(function(t){return t.activeTargets.length>0})},vw=function(){return La.some(function(t){return t.skippedTargets.length>0})},vp="ResizeObserver loop completed with undelivered notifications.",gw=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:vp}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=vp),window.dispatchEvent(t)},function(S){S.BORDER_BOX="border-box",S.CONTENT_BOX="content-box",S.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Vu||(Vu={})),Da=function(t){return Object.freeze(t)},mw=function(){var S=function(e,n){this.inlineSize=e,this.blockSize=n,Da(this)};return S}(),gp=function(){var S=function(e,n,o,u){return this.x=e,this.y=n,this.width=o,this.height=u,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Da(this)};return S.prototype.toJSON=function(){var t=this,e=t.x,n=t.y,o=t.top,u=t.right,l=t.bottom,s=t.left,r=t.width,d=t.height;return{x:e,y:n,top:o,right:u,bottom:l,left:s,width:r,height:d}},S.fromRect=function(t){return new S(t.x,t.y,t.width,t.height)},S}(),jd=function(t){return _instanceof(t,SVGElement)&&"getBBox"in t},mp=function(t){if(jd(t)){var e=t.getBBox(),n=e.width,o=e.height;return!n&&!o}var u=t,l=u.offsetWidth,s=u.offsetHeight;return!(l||s||t.getClientRects().length)},yp=function(t){var e;if(_instanceof(t,Element))return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&_instanceof(t,n.Element))},yw=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Pl=(typeof document=="undefined"?"undefined":_typeof(document))<"u"?window:{},Wu=new WeakMap,bp=/auto|scroll/,bw=/^tb|vertical/,ww=/msie|trident/i.test(Pl.navigator&&Pl.navigator.userAgent),Ao=function(t){return parseFloat(t||"0")},Ds=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new mw((n?e:t)||0,(n?t:e)||0)},wp=Da({devicePixelContentBoxSize:Ds(),borderBoxSize:Ds(),contentBoxSize:Ds(),contentRect:new gp(0,0,0,0)}),_p=function(t,e){if(e===void 0&&(e=!1),Wu.has(t)&&!e)return Wu.get(t);if(mp(t))return Wu.set(t,wp),wp;var n=getComputedStyle(t),o=jd(t)&&t.ownerSVGElement&&t.getBBox(),u=!ww&&n.boxSizing==="border-box",l=bw.test(n.writingMode||""),s=!o&&bp.test(n.overflowY||""),r=!o&&bp.test(n.overflowX||""),d=o?0:Ao(n.paddingTop),c=o?0:Ao(n.paddingRight),h=o?0:Ao(n.paddingBottom),f=o?0:Ao(n.paddingLeft),v=o?0:Ao(n.borderTopWidth),x=o?0:Ao(n.borderRightWidth),w=o?0:Ao(n.borderBottomWidth),b=o?0:Ao(n.borderLeftWidth),C=f+c,P=d+h,E=b+x,T=v+w,m=r?t.offsetHeight-T-t.clientHeight:0,a=s?t.offsetWidth-E-t.clientWidth:0,p=u?C+E:0,g=u?P+T:0,y=o?o.width:Ao(n.width)-p-a,_=o?o.height:Ao(n.height)-g-m,j=y+C+a+E,R=_+P+m+T,D=Da({devicePixelContentBoxSize:Ds(Math.round(y*devicePixelRatio),Math.round(_*devicePixelRatio),l),borderBoxSize:Ds(j,R,l),contentBoxSize:Ds(y,_,l),contentRect:new gp(f,d,y,_)});return Wu.set(t,D),D},kp=function(t,e,n){var o=_p(t,n),u=o.borderBoxSize,l=o.contentBoxSize,s=o.devicePixelContentBoxSize;switch(e){case Vu.DEVICE_PIXEL_CONTENT_BOX:return s;case Vu.BORDER_BOX:return u;default:return l}},_w=function(){var S=function(e){var n=_p(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Da([n.borderBoxSize]),this.contentBoxSize=Da([n.contentBoxSize]),this.devicePixelContentBoxSize=Da([n.devicePixelContentBoxSize])};return S}(),xp=function(t){if(mp(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},kw=function(){var t=1/0,e=[];La.forEach(function(l){if(l.activeTargets.length!==0){var s=[];l.activeTargets.forEach(function(r){var d=new _w(r.target),c=xp(r.target);s.push(d),r.lastReportedSize=kp(r.target,r.observedBox),c<t&&(t=c)}),e.push(function(){l.callback.call(l.observer,s,l.observer)}),l.activeTargets.splice(0,l.activeTargets.length)}});for(var n=0,o=e;n<o.length;n++){var u=o[n];u()}return t},Sp=function(t){La.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(n){n.isActive()&&(xp(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))})})},xw=function(){var t=0;for(Sp(t);pw();)t=kw(),Sp(t);return vw()&&gw(),t>0},Cp=[],Sw=function(){return Cp.splice(0).forEach(function(t){return t()})},Aw=function(t){if(!Ap){var e=0,n=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return Sw()}).observe(n,o),Ap=function(){n.textContent="".concat(e?e--:e++)}}Cp.push(t),Ap()},Cw=function(t){Aw(function(){requestAnimationFrame(t)})},qu=0,Ow=function(){return!!qu},jw=250,Ew={attributes:!0,characterData:!0,childList:!0,subtree:!0},Op=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],jp=function(t){return t===void 0&&(t=0),Date.now()+t},Ed=!1,Pw=function(){var S=function(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}};return S.prototype.run=function(t){var e=this;if(t===void 0&&(t=jw),!Ed){Ed=!0;var n=jp(t);Cw(function(){var o=!1;try{o=xw()}finally{if(Ed=!1,t=n-jp(),!Ow())return;o?e.run(1e3):t>0?e.run(t):e.start()}})}},S.prototype.schedule=function(){this.stop(),this.run()},S.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Ew)};document.body?e():Pl.addEventListener("DOMContentLoaded",e)},S.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Op.forEach(function(e){return Pl.addEventListener(e,t.listener,!0)}))},S.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Op.forEach(function(e){return Pl.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},S}(),Pd=new Pw,Ep=function(t){!qu&&t>0&&Pd.start(),qu+=t,!qu&&Pd.stop()},Tw=function(t){return!jd(t)&&!yw(t)&&getComputedStyle(t).display==="inline"},Iw=function(){var S=function(e,n){this.target=e,this.observedBox=n||Vu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}};return S.prototype.isActive=function(){var t=kp(this.target,this.observedBox,!0);return Tw(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},S}(),Mw=function(){var S=function(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n};return S}(),Gu=new WeakMap,Pp=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Yu=function(){var S=function(){};return S.connect=function(t,e){var n=new Mw(t,e);Gu.set(t,n)},S.observe=function(t,e,n){var o=Gu.get(t),u=o.observationTargets.length===0;Pp(o.observationTargets,e)<0&&(u&&La.push(o),o.observationTargets.push(new Iw(e,n&&n.box)),Ep(1),Pd.schedule())},S.unobserve=function(t,e){var n=Gu.get(t),o=Pp(n.observationTargets,e),u=n.observationTargets.length===1;o>=0&&(u&&La.splice(La.indexOf(n),1),n.observationTargets.splice(o,1),Ep(-1))},S.disconnect=function(t){var e=this,n=Gu.get(t);n.observationTargets.slice().forEach(function(o){return e.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},S}(),Rw=function(){var S=function(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Yu.connect(this,e)};return S.prototype.observe=function(t,e){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yp(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Yu.observe(this,t,e)},S.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!yp(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Yu.unobserve(this,t)},S.prototype.disconnect=function(){Yu.disconnect(this)},S.toString=function(){return"function ResizeObserver () { [polyfill code] }"},S}()}}),T8=Tt({"https-url:https://esm.archive.org/@juggle/resize-observer@^3.3.1":function(){P8()}}),Lw,I8=Tt({"components/resize-observer-polyfill/resize-observer-polyfill.js":function(){T8(),Lw=window.ResizeObserver||Rw,window.ResizeObserver=Lw}}),$a,Td=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/shared-resize-observer@0.2.0/deno/shared-resize-observer.js":function(){$a=function(){"use strict";function S(){var t=this;_classCallCheck(this,S),this.resizeObserver=new ResizeObserver(function(e){var n=t;window.requestAnimationFrame(function(){var o=!0,u=!1,l=void 0;try{for(var s=function(c,h){var f=h.value,v=n.resizeHandlers.get(f.target);v==null||v.forEach(function(x){x.handleResize(f)})},r=e[Symbol.iterator](),d;!(o=(d=r.next()).done);o=!0)s(r,d)}catch(c){u=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(u)throw l}}})}),this.resizeHandlers=new Map}return _createClass(S,[{key:"shutdown",value:function(){var e=this;this.resizeHandlers.forEach(function(n,o){e.resizeObserver.unobserve(o)}),this.resizeHandlers.clear()}},{key:"addObserver",value:function(e){var n,o=(n=this.resizeHandlers.get(e.target))!==null&&n!==void 0?n:new Set;o.add(e.handler),this.resizeHandlers.set(e.target,o),this.resizeObserver.observe(e.target,e.options)}},{key:"removeObserver",value:function(e){var n=this.resizeHandlers.get(e.target);n&&(n.delete(e.handler),n.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}]),S}()}}),M8=Tt({"https-url:https://esm.archive.org/@internetarchive/shared-resize-observer@^0.2.0":function(){Td()}}),Tp=Tt({"components/ia-shared-resizeobserver/ia-shared-resizeobserver.js":function(){I8(),M8(),window.SharedResizeObserver=$a}}),li,ha,Dw=Tt({"components/donation-banner/donation-banner-iframe-handler.js":function(){oi(),vo(),li=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"get_banner_height",value:function(){return ee("#donate_banner").outerHeight()}},{key:"postMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dn("postin",{event:e,incomingValue:n});var o=li.get_banner_height(),u=li.preventResizeEventResponse?li.calculateBannerWithReminderForm():0,l=Math.max(u,n);window.parent.postMessage(JSON.stringify({event:e,value:l,bannerHeight:o}),"*"),e==="close modal"&&li.adjust_height()}},{key:"openReminderForm",value:function(){li.preventResizeEventResponse=!0,li.postMessage("set height"),window.scrollTo(0,0)}},{key:"closeReminderForm",value:function(){li.preventResizeEventResponse=!1,li.postMessage("close modal"),window.scrollTo(0,0)}},{key:"calculateBannerWithReminderForm",value:function(){var e=document.querySelector(".js-donate-banner"),n=document.querySelector(".js-donate-form"),o=document.querySelector(".js-donate-later-dropdown"),u=15,l=e.offsetHeight,s=o.offsetHeight,r=n.offsetHeight+n.offsetTop,d=l-r,c=l-d+s+u;return c}},{key:"adjust_height",value:function(e){var n=e!=null?e:li.get_banner_height();li.postMessage("set height",n),dn({banner_height:n}),this.currentBannerHeight=n}},{key:"init",value:function(){dn("donato tornado"),ee(window).on("resize  orientationchange",function(){li.fixBannerHeightIfNeeded(),clearTimeout(li.adjust_height_throttler),li.adjust_height_throttler=setTimeout(li.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=li.get_banner_height(),li.adjust_height()}},{key:"fixBannerHeightIfNeeded",value:function(){if(window.innerWidth===this.currentWindowWidth){var e=li.get_banner_height();e!==this.currentBannerHeight&&(dn("Performing banner height correction: current, new",this.currentBannerHeight,e),li.adjust_height(e))}else this.currentWindowWidth=window.innerWidth}}]),S}(),li.preventResizeEventResponse=!1,ha=li}}),Ip,$w=Tt({"components/analyticsHandler/analyticsHandler.js":function(){Ip=function(){"use strict";function S(t){_classCallCheck(this,S),this.analyticsBackend=t||window.archive_analytics}return _createClass(S,[{key:"send_event",value:function(e,n,o,u){!this.analyticsBackend||this.analyticsBackend.send_event(e,n,o,u)}},{key:"send_event_no_sampling",value:function(e,n,o,u){!this.analyticsBackend||this.analyticsBackend.send_event_no_sampling(e,n,o,u)}}]),S}()}}),Bw,Xu,Id,R8=Tt({"components/donation-banner/remind_form.js":function(){Dw(),Bw=27,Xu="RemindForm",Id=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.$form=t,this.$trigger=e,this.setDonationCookie=n||$.noop}return _createClass(S,[{key:"setup",value:function(){var e=this,n=$("#donate_dropdown"),o=$("#close_donate_dropdown"),u=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on("click.".concat(Xu),function(l){n.hasClass("is-open")||n.addClass("is-open"),e.$form.find("input").filter(function(s,r){return!r.value}).eq(0).focus(),ha.openReminderForm(),l.preventDefault()}),o.on("click.".concat(Xu),function(){n.removeClass("is-open"),ha.closeReminderForm(),e.$trigger.focus()}),$(window).on("keydown.".concat(Xu),function(l){var s=n.hasClass("is-open");s&&l.keyCode===Bw&&o.click()}),this.$form.on("submit.".concat(Xu),function(l){var s=e;if(l.preventDefault(),!Id.validateDonorEmail(e.$form.find("[name=email]").val())){e.$form.find(".error-email").show();return}["first_name","last_name"].forEach(function(d){Id.validateNameField(s.$form.find("[name='".concat(d,"']")).val())||s.$form.find("[name='".concat(d,"']")).val("")});var r=e.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling("DonateBanner".concat(r),"MaybeLaterFormSubmit",window.location.pathname),e.sendForm(u)})}},{key:"sendForm",value:function(e){var n=this,o=$("#donate_reminder_success").addClass("hidden"),u=function(l,s){return"<h2>".concat(l,"</h2><p>").concat(s,"</p>")};$.ajax({type:"post",url:"".concat(e,"/donate/remindDonate.php"),data:this.$form.serialize(),success:function(){n.$form.addClass("hidden"),o.html(u("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden"),n.setDonationCookie(45)},error:function(){o.html(u("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}],[{key:"validateDonorEmail",value:function(e){return/.+@.+\..+/.test(e)}},{key:"validateNameField",value:function(e){return!/[<>&:?'"]/.test(e)}}]),S}()}}),Mp,L8=Tt({"components/donation-banner/donation-banner.js":function(){da(),_8(),O8(),E8(),Tp(),oi(),Dw(),$w(),R8(),console==null||console.log("donation-banner loaded",{version:"1.1.1"}),Mp=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"addCloseSupport",value:function(){var e=function(){ha.postMessage("hide banner",3),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(3)},n=document.getElementById("donate-close-button");n&&n.addEventListener("click",e.bind(this))}},{key:"initialize",value:function(){if(!!this.bannerElement){this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),ha.init();var e=new Id(ee("#donate_reminder_form"),ee("#donate_later"),this.setDonationCookie);e.setup(),this.logEvent("Viewed")}}},{key:"setDonationCookie",value:function(e){Mp.setDonationCookie(e),ha.postMessage("set cookie",e)}},{key:"bannerElement",get:function(){return document.querySelector("#donate_banner")}},{key:"donationFormElement",get:function(){return document.querySelector("donation-form-edit-donation")}},{key:"bannerThermometerElement",get:function(){return document.querySelector("donation-banner-thermometer")}},{key:"minimalDonateButtonElement",get:function(){return document.querySelector("#minimal-donate-button")}},{key:"donationOrigin",get:function(){var e=this.bannerElement,n=e.dataset.exp,o=e.dataset.variant,u;try{u=window.parent.innerWidth}catch(r){u=ha.currentWindowWidth}var l=u<768?"Mobile":"Desktop",s="DonateBanner-".concat(n,"-").concat(o,"-").concat(l);return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:l,currentWindowWidth:u,origin:s}),s}},{key:"setupSnow",value:function(){if(this.bannerElement.dataset.snowfall==="on"){var e=new So({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15});e.start()}}},{key:"setupMinimalDonateButton",value:function(){var e=this,n=this.minimalDonateButtonElement;!n||n.addEventListener("click",function(){e.logEvent("MinimalDonateButtonClicked"),ha.postMessage("set cookie",30),window.top.location=e.baseDonatePageUrl})}},{key:"baseDonatePageUrl",get:function(){var e=this.bannerElement,n=e.dataset.baseurl,o=e.dataset.donationsourcedata,u=e.dataset.variantdollaramounts,l=e.dataset.variantamountlayout,s=e.dataset.variantfrequencymode,r=e.dataset.bannertemplate,d=e.dataset.platform,c=new URLSearchParams;this.donationOrigin&&c.set("origin",this.donationOrigin),o&&c.set("referer",o),u&&c.set("dollarAmounts",u),l&&c.set("amountLayout",l),s&&c.set("frequencyMode",s),d&&c.set("platform",d),r&&c.set("bannerTemplate",r);var h="".concat(n,"/donate?").concat(c.toString());return h}},{key:"setupDonationForm",value:function(){var e=this,n=this.donationFormElement;if(!!n){var o=n.donationInfo,u=this.bannerElement.classList.contains("formdesign-psa");if(u){var l=this,s=document.querySelector("#psa-cta");if(console.log("PSA Donation Banner CTA: ",s),!s)return;s.addEventListener("click",function(d){var c="".concat(l.baseDonatePageUrl,"&amt=").concat(o.amount);l.logEvent("ContinueClicked"),l.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:c}),window.top.location=c});return}n.addEventListener("donationInfoChanged",function(d){e.donationInfoError=!1,o=d.detail.donationInfo;var c=e.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",Jr({isMinimalBanner:c},o)),c){var h="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount);e.logEvent("ContinueClicked"),e.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:h}),window.top.location=h}}),n.addEventListener("editDonationError",function(d){e.donationInfoError=!0});var r=document.querySelector("#continue-button");!r||r.addEventListener("click",function(){if(!e.donationInfoError){e.logEvent("ContinueClicked");var d=e.bannerElement.dataset,c=d.selectedtextcolor?"&selectedTextColor=".concat(encodeURIComponent(d.selectedtextcolor)):"",h=d.selectedfillcolor?"&selectedFillColor=".concat(encodeURIComponent(d.selectedfillcolor)):"";d.donatepageselectedfillcolor&&(h="&selectedFillColor=".concat(encodeURIComponent(d.donatepageselectedfillcolor))),d.donatepageselectedtextcolor&&(c="&selectedTextColor=".concat(encodeURIComponent(d.donatepageselectedtextcolor)));var f=d.formtextcolor?"&formTextColor=".concat(encodeURIComponent(d.formtextcolor)):"",v="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount,"&contrib_type=").concat(o.donationType,"&coverFees=").concat(o.coverFees).concat(c).concat(h).concat(f);ha.postMessage("set cookie",30),window.top.location=v}})}}},{key:"setupThermometer",value:function(){var e=this.bannerThermometerElement;if(!!e){var n=new $a;e.resizeObserver=n}}},{key:"logEvent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=new Ip,u=this.bannerElement,l=u.dataset.debugmode==="true",s=u.dataset.platform,r=l?"DonateBannerDebug":"DonateBanner";n||e==="Viewed"&&(s==="ia"||s==="wb")?o.send_event(r,e,this.donationOrigin):o.send_event_no_sampling(r,e,this.donationOrigin)}}],[{key:"setDonationCookie",value:function(e){var n=parseInt(e,10);if(!!n){var o={path:"/",expires:n,domain:".archive.org"};Gr.set("donation","x",o),Gr.set("donation","x",ee.extend(o,{domain:".openlibrary.org"}))}}}]),S}(),document.addEventListener("DOMContentLoaded",function(){var S=new Mp;S.initialize()})}}),Nw,Rp,zw,Hw,Fw,Uw,Ki,Vw,Ww,qw,Gw,Yw,Xw,Kw,Jw,Qw,Zw,e_,t_,n_,r_,i_,o_,Vn,Lp,a_,s_,l_=Tt({"https-url:https://esm.archive.org/v99/bootstrap@3.4.1/deno/bootstrap.js":function(){Nw=Object.create,Rp=Object.defineProperty,zw=Object.getOwnPropertyDescriptor,Hw=Object.getOwnPropertyNames,Fw=Object.getPrototypeOf,Uw=Object.prototype.hasOwnProperty,Ki=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Vw=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!Uw.call(t,v)&&v!==n&&Rp(t,v,{get:function(){return e[v]},enumerable:!(o=zw(e,v))||o.enumerable})},d=Hw(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},Ww=function(t,e,n){return n=t!=null?Nw(Fw(t)):{},Vw(e||!t||!t.__esModule?Rp(n,"default",{value:t,enumerable:!0}):n,t)},qw=Ki(function(){+function(t){"use strict";var e=function(){var o=document.createElement("bootstrap"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var l in u)if(o.style[l]!==void 0)return{end:u[l]};return!1};t.fn.emulateTransitionEnd=function(n){var o=!1,u=this;t(this).one("bsTransitionEnd",function(){o=!0});var l=function(){o||t(u).trigger(t.support.transition.end)};return setTimeout(l,n),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(o){if(t(o.target).is(this))return o.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),Gw=Ki(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.alert");d||r.data("bs.alert",d=new o(this)),typeof s=="string"&&d[s].call(r)})},n='[data-dismiss="alert"]',o=function(s){t(s).on("click",n,this.close)};o.VERSION="3.4.1",o.TRANSITION_DURATION=150,o.prototype.close=function(l){var s=function(){c.detach().trigger("closed.bs.alert").remove()},r=t(this),d=r.attr("data-target");d||(d=r.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),d=d==="#"?[]:d;var c=t(document).find(d);l&&l.preventDefault(),c.length||(c=r.closest(".alert")),c.trigger(l=t.Event("close.bs.alert")),!l.isDefaultPrevented()&&(c.removeClass("in"),t.support.transition&&c.hasClass("fade")?c.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s())};var u=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=u,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery)}),Yw=Ki(function(){+function(t){"use strict";var e=function(l){return this.each(function(){var s=t(this),r=s.data("bs.button"),d=typeof l=="object"&&l;r||s.data("bs.button",r=new n(this,d)),l=="toggle"?r.toggle():l&&r.setState(l)})},n=function(u,l){this.$element=t(u),this.options=t.extend({},n.DEFAULTS,l),this.isLoading=!1};n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(u){var l="disabled",s=this.$element,r=s.is("input")?"val":"html",d=s.data();u+="Text",d.resetText==null&&s.data("resetText",s[r]()),setTimeout(t.proxy(function(){s[r](d[u]==null?this.options[u]:d[u]),u=="loadingText"?(this.isLoading=!0,s.addClass(l).attr(l,l).prop(l,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(l).removeAttr(l).prop(l,!1))},this),0)},n.prototype.toggle=function(){var u=!0,l=this.$element.closest('[data-toggle="buttons"]');if(l.length){var s=this.$element.find("input");s.prop("type")=="radio"?(s.prop("checked")&&(u=!1),l.find(".active").removeClass("active"),this.$element.addClass("active")):s.prop("type")=="checkbox"&&(s.prop("checked")!==this.$element.hasClass("active")&&(u=!1),this.$element.toggleClass("active")),s.prop("checked",this.$element.hasClass("active")),u&&s.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(u){var l=t(u.target).closest(".btn");e.call(l,"toggle"),t(u.target).is('input[type="radio"], input[type="checkbox"]')||(u.preventDefault(),l.is("input,button")?l.trigger("focus"):l.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(u){t(u.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(u.type))})}(jQuery)}),Xw=Ki(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.carousel"),c=t.extend({},n.DEFAULTS,r.data(),typeof s=="object"&&s),h=typeof s=="string"?s:c.slide;d||r.data("bs.carousel",d=new n(this,c)),typeof s=="number"?d.to(s):h?d[h]():c.interval&&d.pause().cycle()})},n=function(s,r){this.$element=t(s),this.$indicators=this.$element.find(".carousel-indicators"),this.options=r,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(l){if(!/input|textarea/i.test(l.target.tagName)){switch(l.which){case 37:this.prev();break;case 39:this.next();break;default:return}l.preventDefault()}},n.prototype.cycle=function(l){return l||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(l){return this.$items=l.parent().children(".item"),this.$items.index(l||this.$active)},n.prototype.getItemForDirection=function(l,s){var r=this.getItemIndex(s),d=l=="prev"&&r===0||l=="next"&&r==this.$items.length-1;if(d&&!this.options.wrap)return s;var c=l=="prev"?-1:1,h=(r+c)%this.$items.length;return this.$items.eq(h)},n.prototype.to=function(l){var s=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(l>this.$items.length-1||l<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){s.to(l)}):r==l?this.pause().cycle():this.slide(l>r?"next":"prev",this.$items.eq(l))},n.prototype.pause=function(l){return l||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(l,s){var r=this.$element.find(".item.active"),d=s||this.getItemForDirection(l,r),c=this.interval,h=l=="next"?"left":"right",f=this;if(d.hasClass("active"))return this.sliding=!1;var v=d[0],x=t.Event("slide.bs.carousel",{relatedTarget:v,direction:h});if(this.$element.trigger(x),!x.isDefaultPrevented()){if(this.sliding=!0,c&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=t(this.$indicators.children()[this.getItemIndex(d)]);w&&w.addClass("active")}var b=t.Event("slid.bs.carousel",{relatedTarget:v,direction:h});return t.support.transition&&this.$element.hasClass("slide")?(d.addClass(l),typeof d=="object"&&d.length&&d[0].offsetWidth,r.addClass(h),d.addClass(h),r.one("bsTransitionEnd",function(){d.removeClass([l,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(b)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),d.addClass("active"),this.sliding=!1,this.$element.trigger(b)),c&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var u=function(s){var r=t(this),d=r.attr("href");d&&(d=d.replace(/.*(?=#[^\s]+$)/,""));var c=r.attr("data-target")||d,h=t(document).find(c);if(h.hasClass("carousel")){var f=t.extend({},h.data(),r.data()),v=r.attr("data-slide-to");v&&(f.interval=!1),e.call(h,f),v&&h.data("bs.carousel").to(v),s.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",u).on("click.bs.carousel.data-api","[data-slide-to]",u),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var l=t(this);e.call(l,l.data())})})}(jQuery)}),Kw=Ki(function(){+function(t){"use strict";var e=function(s){var r,d=s.attr("data-target")||(r=s.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(d)},n=function(s){return this.each(function(){var r=t(this),d=r.data("bs.collapse"),c=t.extend({},o.DEFAULTS,r.data(),typeof s=="object"&&s);!d&&c.toggle&&/show|hide/.test(s)&&(c.toggle=!1),d||r.data("bs.collapse",d=new o(this,c)),typeof s=="string"&&d[s]()})},o=function(l,s){this.$element=t(l),this.options=t.extend({},o.DEFAULTS,s),this.$trigger=t('[data-toggle="collapse"][href="#'+l.id+'"],[data-toggle="collapse"][data-target="#'+l.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.4.1",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var l=this.$element.hasClass("width");return l?"width":"height"},o.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var l,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(l=s.data("bs.collapse"),l&&l.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(n.call(s,"hide"),l||s.data("bs.collapse",null));var d=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[d](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[d](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return c.call(this);var h=t.camelCase(["scroll",d].join("-"));this.$element.one("bsTransitionEnd",t.proxy(c,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[d](this.$element[0][h])}}}},o.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var l=t.Event("hide.bs.collapse");if(this.$element.trigger(l),!l.isDefaultPrevented()){var s=this.dimension();this.$element[s](this.$element[s]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[s](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(l,s){var r=t(s);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(l,s){var r=l.hasClass("in");l.attr("aria-expanded",r),s.toggleClass("collapsed",!r).attr("aria-expanded",r)};var u=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=u,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(l){var s=t(this);s.attr("data-target")||l.preventDefault();var r=e(s),d=r.data("bs.collapse"),c=d?"toggle":s.data();n.call(r,c)})}(jQuery)}),Jw=Ki(function(){+function(t){"use strict";var e=function(c){var h=c.attr("data-target");h||(h=c.attr("href"),h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,""));var f=h!=="#"?t(document).find(h):null;return f&&f.length?f:c.parent()},n=function(c){c&&c.which===3||(t(u).remove(),t(l).each(function(){var h=t(this),f=e(h),v={relatedTarget:this};f.hasClass("open")&&(c&&c.type=="click"&&/input|textarea/i.test(c.target.tagName)&&t.contains(f[0],c.target)||(f.trigger(c=t.Event("hide.bs.dropdown",v)),!c.isDefaultPrevented()&&(h.attr("aria-expanded","false"),f.removeClass("open").trigger(t.Event("hidden.bs.dropdown",v)))))}))},o=function(c){return this.each(function(){var h=t(this),f=h.data("bs.dropdown");f||h.data("bs.dropdown",f=new s(this)),typeof c=="string"&&f[c].call(h)})},u=".dropdown-backdrop",l='[data-toggle="dropdown"]',s=function(c){t(c).on("click.bs.dropdown",this.toggle)};s.VERSION="3.4.1",s.prototype.toggle=function(d){var c=t(this);if(!c.is(".disabled, :disabled")){var h=e(c),f=h.hasClass("open");if(n(),!f){"ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var v={relatedTarget:this};if(h.trigger(d=t.Event("show.bs.dropdown",v)),d.isDefaultPrevented())return;c.trigger("focus").attr("aria-expanded","true"),h.toggleClass("open").trigger(t.Event("shown.bs.dropdown",v))}return!1}},s.prototype.keydown=function(d){if(!(!/(38|40|27|32)/.test(d.which)||/input|textarea/i.test(d.target.tagName))){var c=t(this);if(d.preventDefault(),d.stopPropagation(),!c.is(".disabled, :disabled")){var h=e(c),f=h.hasClass("open");if(!f&&d.which!=27||f&&d.which==27)return d.which==27&&h.find(l).trigger("focus"),c.trigger("click");var v=" li:not(.disabled):visible a",x=h.find(".dropdown-menu"+v);if(x.length){var w=x.index(d.target);d.which==38&&w>0&&w--,d.which==40&&w<x.length-1&&w++,~w||(w=0),x.eq(w).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(d){d.stopPropagation()}).on("click.bs.dropdown.data-api",l,s.prototype.toggle).on("keydown.bs.dropdown.data-api",l,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)}),Qw=Ki(function(){+function(t){"use strict";var e=function(l,s){return this.each(function(){var r=t(this),d=r.data("bs.modal"),c=t.extend({},n.DEFAULTS,r.data(),typeof l=="object"&&l);d||r.data("bs.modal",d=new n(this,c)),typeof l=="string"?d[l](s):c.show&&d.show(s)})},n=function(l,s){this.options=s,this.$body=t(document.body),this.$element=t(l),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(u){return this.isShown?this.hide():this.show(u)},n.prototype.show=function(u){var l=this,s=t.Event("show.bs.modal",{relatedTarget:u});this.$element.trigger(s),!(this.isShown||s.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){l.$element.one("mouseup.dismiss.bs.modal",function(r){t(r.target).is(l.$element)&&(l.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&l.$element.hasClass("fade");l.$element.parent().length||l.$element.appendTo(l.$body),l.$element.show().scrollTop(0),l.adjustDialog(),r&&l.$element[0].offsetWidth,l.$element.addClass("in"),l.enforceFocus();var d=t.Event("shown.bs.modal",{relatedTarget:u});r?l.$dialog.one("bsTransitionEnd",function(){l.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(n.TRANSITION_DURATION):l.$element.trigger("focus").trigger(d)}))},n.prototype.hide=function(u){u&&u.preventDefault(),u=t.Event("hide.bs.modal"),this.$element.trigger(u),!(!this.isShown||u.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(u){document!==u.target&&this.$element[0]!==u.target&&!this.$element.has(u.target).length&&this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(u){u.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var u=this;this.$element.hide(),this.backdrop(function(){u.$body.removeClass("modal-open"),u.resetAdjustments(),u.resetScrollbar(),u.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(u){var l=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(c){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}c.target===c.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!u)return;r?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):u()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var d=function(){l.removeBackdrop(),u&&u()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",d).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):d()}else u&&u()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var u=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&u?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!u?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var u=window.innerWidth;if(!u){var l=document.documentElement.getBoundingClientRect();u=l.right-Math.abs(l.left)}this.bodyIsOverflowing=document.body.clientWidth<u,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var u=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var l=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",u+l),t(this.fixedContent).each(function(s,r){var d=r.style.paddingRight,c=t(r).css("padding-right");t(r).data("padding-right",d).css("padding-right",parseFloat(c)+l+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(u,l){var s=t(l).data("padding-right");t(l).removeData("padding-right"),l.style.paddingRight=s||""})},n.prototype.measureScrollbar=function(){var u=document.createElement("div");u.className="modal-scrollbar-measure",this.$body.append(u);var l=u.offsetWidth-u.clientWidth;return this.$body[0].removeChild(u),l};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(u){var l=t(this),s=l.attr("href"),r=l.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,""),d=t(document).find(r),c=d.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},d.data(),l.data());l.is("a")&&u.preventDefault(),d.one("show.bs.modal",function(h){h.isDefaultPrevented()||d.one("hidden.bs.modal",function(){l.is(":visible")&&l.trigger("focus")})}),e.call(d,c,this)})}(jQuery)}),Zw=Ki(function(){+function(t){"use strict";var e=function(x,w){var b=x.nodeName.toLowerCase();if(t.inArray(b,w)!==-1)return t.inArray(b,l)!==-1?Boolean(x.nodeValue.match(d)||x.nodeValue.match(c)):!0;for(var C=t(w).filter(function(T,m){return _instanceof(m,RegExp)}),P=0,E=C.length;P<E;P++)if(b.match(C[P]))return!0;return!1},n=function(x,w,b){if(x.length===0)return x;if(b&&typeof b=="function")return b(x);if(!document.implementation||!document.implementation.createHTMLDocument)return x;var C=document.implementation.createHTMLDocument("sanitization");C.body.innerHTML=x;for(var P=t.map(w,function(R,D){return D}),E=t(C.body).find("*"),T=0,m=E.length;T<m;T++){var a=E[T],p=a.nodeName.toLowerCase();if(t.inArray(p,P)===-1){a.parentNode.removeChild(a);continue}for(var g=t.map(a.attributes,function(R){return R}),y=[].concat(w["*"]||[],w[p]||[]),_=0,j=g.length;_<j;_++)e(g[_],y)||a.removeAttribute(g[_].nodeName)}return C.body.innerHTML},o=function(x){return this.each(function(){var w=t(this),b=w.data("bs.tooltip"),C=typeof x=="object"&&x;!b&&/destroy|hide/.test(x)||(b||w.data("bs.tooltip",b=new h(this,C)),typeof x=="string"&&b[x]())})},u=["sanitize","whiteList","sanitizeFn"],l=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^aria-[\w-]*$/i,r={"*":["class","dir","id","lang","role",s],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},d=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=function(x,w){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",x,w)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:r},h.prototype.init=function(v,x,w){if(this.enabled=!0,this.type=v,this.$element=t(x),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},_instanceof(this.$element[0],document.constructor)&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var b=this.options.trigger.split(" "),C=b.length;C--;){var P=b[C];if(P=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(P!="manual"){var E=P=="hover"?"mouseenter":"focusin",T=P=="hover"?"mouseleave":"focusout";this.$element.on(E+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(T+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(v){var x=this.$element.data();for(var w in x)x.hasOwnProperty(w)&&t.inArray(w,u)!==-1&&delete x[w];return v=t.extend({},this.getDefaults(),x,v),v.delay&&typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),v.sanitize&&(v.template=n(v.template,v.whiteList,v.sanitizeFn)),v},h.prototype.getDelegateOptions=function(){var v={},x=this.getDefaults();return this._options&&t.each(this._options,function(w,b){x[w]!=b&&(v[w]=b)}),v},h.prototype.enter=function(v){var x=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,x)),_instanceof(v,t.Event)&&(x.inState[v.type=="focusin"?"focus":"hover"]=!0),x.tip().hasClass("in")||x.hoverState=="in"){x.hoverState="in";return}if(clearTimeout(x.timeout),x.hoverState="in",!x.options.delay||!x.options.delay.show)return x.show();x.timeout=setTimeout(function(){x.hoverState=="in"&&x.show()},x.options.delay.show)},h.prototype.isInStateTrue=function(){for(var v in this.inState)if(this.inState[v])return!0;return!1},h.prototype.leave=function(v){var x=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(x||(x=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,x)),_instanceof(v,t.Event)&&(x.inState[v.type=="focusout"?"focus":"hover"]=!1),!x.isInStateTrue()){if(clearTimeout(x.timeout),x.hoverState="out",!x.options.delay||!x.options.delay.hide)return x.hide();x.timeout=setTimeout(function(){x.hoverState=="out"&&x.hide()},x.options.delay.hide)}},h.prototype.show=function(){var v=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(v);var x=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(v.isDefaultPrevented()||!x)return;var w=this,b=this.tip(),C=this.getUID(this.type);this.setContent(),b.attr("id",C),this.$element.attr("aria-describedby",C),this.options.animation&&b.addClass("fade");var P=typeof this.options.placement=="function"?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,E=/\s?auto?\s?/i,T=E.test(P);T&&(P=P.replace(E,"")||"top"),b.detach().css({top:0,left:0,display:"block"}).addClass(P).data("bs."+this.type,this),this.options.container?b.appendTo(t(document).find(this.options.container)):b.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var m=this.getPosition(),a=b[0].offsetWidth,p=b[0].offsetHeight;if(T){var g=P,y=this.getPosition(this.$viewport);P=P=="bottom"&&m.bottom+p>y.bottom?"top":P=="top"&&m.top-p<y.top?"bottom":P=="right"&&m.right+a>y.width?"left":P=="left"&&m.left-a<y.left?"right":P,b.removeClass(g).addClass(P)}var _=this.getCalculatedOffset(P,m,a,p);this.applyPlacement(_,P);var j=function(){var D=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,D=="out"&&w.leave(w)};t.support.transition&&this.$tip.hasClass("fade")?b.one("bsTransitionEnd",j).emulateTransitionEnd(h.TRANSITION_DURATION):j()}},h.prototype.applyPlacement=function(v,x){var w=this.tip(),b=w[0].offsetWidth,C=w[0].offsetHeight,P=parseInt(w.css("margin-top"),10),E=parseInt(w.css("margin-left"),10);isNaN(P)&&(P=0),isNaN(E)&&(E=0),v.top+=P,v.left+=E,t.offset.setOffset(w[0],t.extend({using:function(j){w.css({top:Math.round(j.top),left:Math.round(j.left)})}},v),0),w.addClass("in");var T=w[0].offsetWidth,m=w[0].offsetHeight;x=="top"&&m!=C&&(v.top=v.top+C-m);var a=this.getViewportAdjustedDelta(x,v,T,m);a.left?v.left+=a.left:v.top+=a.top;var p=/top|bottom/.test(x),g=p?a.left*2-b+T:a.top*2-C+m,y=p?"offsetWidth":"offsetHeight";w.offset(v),this.replaceArrow(g,w[0][y],p)},h.prototype.replaceArrow=function(v,x,w){this.arrow().css(w?"left":"top",50*(1-v/x)+"%").css(w?"top":"left","")},h.prototype.setContent=function(){var v=this.tip(),x=this.getTitle();this.options.html?(this.options.sanitize&&(x=n(x,this.options.whiteList,this.options.sanitizeFn)),v.find(".tooltip-inner").html(x)):v.find(".tooltip-inner").text(x),v.removeClass("fade in top bottom left right")},h.prototype.hide=function(v){var x=function(){w.hoverState!="in"&&b.detach(),w.$element&&w.$element.removeAttr("aria-describedby").trigger("hidden.bs."+w.type),v&&v()},w=this,b=t(this.$tip),C=t.Event("hide.bs."+this.type);if(this.$element.trigger(C),!C.isDefaultPrevented())return b.removeClass("in"),t.support.transition&&b.hasClass("fade")?b.one("bsTransitionEnd",x).emulateTransitionEnd(h.TRANSITION_DURATION):x(),this.hoverState=null,this},h.prototype.fixTitle=function(){var v=this.$element;(v.attr("title")||typeof v.attr("data-original-title")!="string")&&v.attr("data-original-title",v.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(v){v=v||this.$element;var x=v[0],w=x.tagName=="BODY",b=x.getBoundingClientRect();b.width==null&&(b=t.extend({},b,{width:b.right-b.left,height:b.bottom-b.top}));var C=window.SVGElement&&_instanceof(x,window.SVGElement),P=w?{top:0,left:0}:C?null:v.offset(),E={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:v.scrollTop()},T=w?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},b,E,T,P)},h.prototype.getCalculatedOffset=function(v,x,w,b){return v=="bottom"?{top:x.top+x.height,left:x.left+x.width/2-w/2}:v=="top"?{top:x.top-b,left:x.left+x.width/2-w/2}:v=="left"?{top:x.top+x.height/2-b/2,left:x.left-w}:{top:x.top+x.height/2-b/2,left:x.left+x.width}},h.prototype.getViewportAdjustedDelta=function(v,x,w,b){var C={top:0,left:0};if(!this.$viewport)return C;var P=this.options.viewport&&this.options.viewport.padding||0,E=this.getPosition(this.$viewport);if(/right|left/.test(v)){var T=x.top-P-E.scroll,m=x.top+P-E.scroll+b;T<E.top?C.top=E.top-T:m>E.top+E.height&&(C.top=E.top+E.height-m)}else{var a=x.left-P,p=x.left+P+w;a<E.left?C.left=E.left-a:p>E.right&&(C.left=E.left+E.width-p)}return C},h.prototype.getTitle=function(){var v,x=this.$element,w=this.options;return v=x.attr("data-original-title")||(typeof w.title=="function"?w.title.call(x[0]):w.title),v},h.prototype.getUID=function(v){do v+=~~(Math.random()*1e6);while(document.getElementById(v));return v},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(v){var x=this;v&&(x=t(v.currentTarget).data("bs."+this.type),x||(x=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,x))),v?(x.inState.click=!x.inState.click,x.isInStateTrue()?x.enter(x):x.leave(x)):x.tip().hasClass("in")?x.leave(x):x.enter(x)},h.prototype.destroy=function(){var v=this;clearTimeout(this.timeout),this.hide(function(){v.$element.off("."+v.type).removeData("bs."+v.type),v.$tip&&v.$tip.detach(),v.$tip=null,v.$arrow=null,v.$viewport=null,v.$element=null})},h.prototype.sanitizeHtml=function(v){return n(v,this.options.whiteList,this.options.sanitizeFn)};var f=t.fn.tooltip;t.fn.tooltip=o,t.fn.tooltip.Constructor=h,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=f,this}}(jQuery)}),e_=Ki(function(){+function(t){"use strict";var e=function(l){return this.each(function(){var s=t(this),r=s.data("bs.popover"),d=typeof l=="object"&&l;!r&&/destroy|hide/.test(l)||(r||s.data("bs.popover",r=new n(this,d)),typeof l=="string"&&r[l]())})},n=function(l,s){this.init("popover",l,s)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.4.1",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var u=this.tip(),l=this.getTitle(),s=this.getContent();if(this.options.html){var r=typeof s=="undefined"?"undefined":_typeof(s);this.options.sanitize&&(l=this.sanitizeHtml(l),r==="string"&&(s=this.sanitizeHtml(s))),u.find(".popover-title").html(l),u.find(".popover-content").children().detach().end()[r==="string"?"html":"append"](s)}else u.find(".popover-title").text(l),u.find(".popover-content").children().detach().end().text(s);u.removeClass("fade top bottom left right in"),u.find(".popover-title").html()||u.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var u=this.$element,l=this.options;return u.attr("data-content")||(typeof l.content=="function"?l.content.call(u[0]):l.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery)}),t_=Ki(function(){+function(t){"use strict";var e=function(l){return this.each(function(){var s=t(this),r=s.data("bs.scrollspy"),d=typeof l=="object"&&l;r||s.data("bs.scrollspy",r=new n(this,d)),typeof l=="string"&&r[l]()})};function n(u,l){this.$body=t(document.body),this.$scrollElement=t(u).is(document.body)?t(window):t(u),this.options=t.extend({},n.DEFAULTS,l),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}n.VERSION="3.4.1",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var u=this,l="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(l="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var r=t(this),d=r.data("target")||r.attr("href"),c=/^#./.test(d)&&t(d);return c&&c.length&&c.is(":visible")&&[[c[l]().top+s,d]]||null}).sort(function(r,d){return r[0]-d[0]}).each(function(){u.offsets.push(this[0]),u.targets.push(this[1])})},n.prototype.process=function(){var u=this.$scrollElement.scrollTop()+this.options.offset,l=this.getScrollHeight(),s=this.options.offset+l-this.$scrollElement.height(),r=this.offsets,d=this.targets,c=this.activeTarget,h;if(this.scrollHeight!=l&&this.refresh(),u>=s)return c!=(h=d[d.length-1])&&this.activate(h);if(c&&u<r[0])return this.activeTarget=null,this.clear();for(h=r.length;h--;)c!=d[h]&&u>=r[h]&&(r[h+1]===void 0||u<r[h+1])&&this.activate(d[h])},n.prototype.activate=function(u){this.activeTarget=u,this.clear();var l=this.selector+'[data-target="'+u+'"],'+this.selector+'[href="'+u+'"]',s=t(l).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=n,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var u=t(this);e.call(u,u.data())})})}(jQuery)}),n_=Ki(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.tab");d||r.data("bs.tab",d=new n(this)),typeof s=="string"&&d[s]()})},n=function(s){this.element=t(s)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var l=this.element,s=l.closest("ul:not(.dropdown-menu)"),r=l.data("target");if(r||(r=l.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!l.parent("li").hasClass("active")){var d=s.find(".active:last a"),c=t.Event("hide.bs.tab",{relatedTarget:l[0]}),h=t.Event("show.bs.tab",{relatedTarget:d[0]});if(d.trigger(c),l.trigger(h),!(h.isDefaultPrevented()||c.isDefaultPrevented())){var f=t(document).find(r);this.activate(l.closest("li"),s),this.activate(f,f.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:l[0]}),l.trigger({type:"shown.bs.tab",relatedTarget:d[0]})})}}},n.prototype.activate=function(l,s,r){var d=function(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),l.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(l[0].offsetWidth,l.addClass("in")):l.removeClass("fade"),l.parent(".dropdown-menu").length&&l.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()},c=s.find("> .active"),h=r&&t.support.transition&&(c.length&&c.hasClass("fade")||!!s.find("> .fade").length);c.length&&h?c.one("bsTransitionEnd",d).emulateTransitionEnd(n.TRANSITION_DURATION):d(),c.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var u=function(s){s.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',u).on("click.bs.tab.data-api",'[data-toggle="pill"]',u)}(jQuery)}),r_=Ki(function(){+function(t){"use strict";var e=function(l){return this.each(function(){var s=t(this),r=s.data("bs.affix"),d=typeof l=="object"&&l;r||s.data("bs.affix",r=new n(this,d)),typeof l=="string"&&r[l]()})},n=function(u,l){this.options=t.extend({},n.DEFAULTS,l);var s=this.options.target===n.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=s.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(u),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.4.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(u,l,s,r){var d=this.$target.scrollTop(),c=this.$element.offset(),h=this.$target.height();if(s!=null&&this.affixed=="top")return d<s?"top":!1;if(this.affixed=="bottom")return s!=null?d+this.unpin<=c.top?!1:"bottom":d+h<=u-r?!1:"bottom";var f=this.affixed==null,v=f?d:c.top,x=f?h:l;return s!=null&&d<=s?"top":r!=null&&v+x>=u-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var u=this.$target.scrollTop(),l=this.$element.offset();return this.pinnedOffset=l.top-u},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var u=this.$element.height(),l=this.options.offset,s=l.top,r=l.bottom,d=Math.max(t(document).height(),t(document.body).height());typeof l!="object"&&(r=s=l),typeof s=="function"&&(s=l.top(this.$element)),typeof r=="function"&&(r=l.bottom(this.$element));var c=this.getState(d,u,s,r);if(this.affixed!=c){this.unpin!=null&&this.$element.css("top","");var h="affix"+(c?"-"+c:""),f=t.Event(h+".bs.affix");if(this.$element.trigger(f),f.isDefaultPrevented())return;this.affixed=c,this.unpin=c=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}c=="bottom"&&this.$element.offset({top:d-u-r})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var u=t(this),l=u.data();l.offset=l.offset||{},l.offsetBottom!=null&&(l.offset.bottom=l.offsetBottom),l.offsetTop!=null&&(l.offset.top=l.offsetTop),e.call(u,l)})})}(jQuery)}),i_=Ki(function(){qw(),Gw(),Yw(),Xw(),Kw(),Jw(),Qw(),Zw(),e_(),t_(),n_(),r_()}),o_=Ww(i_());var S;Vn=o_,S=Vn,Lp=S.default,a_=xi(Vn,["default"]),s_=Lp!==void 0?Lp:a_}}),Dp={};qr(Dp,{default:function(){return s_}});var u_=Tt({"https-url:https://esm.archive.org/bootstrap@^3.0.0":function(){l_(),l_()}}),c_,$p,d_,h_,f_,p_,v_,g_,m_,y_,b_,Vn,Bp,w_,__,k_=Tt({"https-url:https://esm.archive.org/v99/flot@0.8.3/deno/flot.js":function(){c_=Object.create,$p=Object.defineProperty,d_=Object.getOwnPropertyDescriptor,h_=Object.getOwnPropertyNames,f_=Object.getPrototypeOf,p_=Object.prototype.hasOwnProperty,v_=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},g_=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!p_.call(t,v)&&v!==n&&$p(t,v,{get:function(){return e[v]},enumerable:!(o=d_(e,v))||o.enumerable})},d=h_(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},m_=function(t,e,n){return n=t!=null?c_(f_(t)):{},g_(e||!t||!t.__esModule?$p(n,"default",{value:t,enumerable:!0}):n,t)},y_=v_(function(){(function(t){t.color={},t.color.make=function(n,o,u,l){var s={};return s.r=n||0,s.g=o||0,s.b=u||0,s.a=l!=null?l:1,s.add=function(r,d){for(var c=0;c<r.length;++c)s[r.charAt(c)]+=d;return s.normalize()},s.scale=function(r,d){for(var c=0;c<r.length;++c)s[r.charAt(c)]*=d;return s.normalize()},s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){var r=function(c,h,f){return h<c?c:h>f?f:h};return s.r=r(0,parseInt(s.r),255),s.g=r(0,parseInt(s.g),255),s.b=r(0,parseInt(s.b),255),s.a=r(0,s.a,1),s},s.clone=function(){return t.color.make(s.r,s.b,s.g,s.a)},s.normalize()},t.color.extract=function(n,o){var u;do{if(u=n.css(o).toLowerCase(),u!=""&&u!="transparent")break;n=n.parent()}while(n.length&&!t.nodeName(n.get(0),"body"));return u=="rgba(0, 0, 0, 0)"&&(u="transparent"),t.color.parse(u)},t.color.parse=function(n){var o,u=t.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return u(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return u(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return u(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55);if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return u(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55,parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return u(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return u(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var l=t.trim(n).toLowerCase();return l=="transparent"?u(255,255,255,0):(o=e[l]||[0,0,0],u(o[0],o[1],o[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(t){var e=function(s,r){var d=r.children("."+s)[0];if(d==null&&(d=document.createElement("canvas"),d.className=s,t(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(r),!d.getContext))if(window.G_vmlCanvasManager)d=window.G_vmlCanvasManager.initElement(d);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=d;var c=this.context=d.getContext("2d"),h=window.devicePixelRatio||1,f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;this.pixelRatio=h/f,this.resize(r.width(),r.height()),this.textContainer=null,this.text={},this._textCache={}},n=function(s,r,d,c){var h=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},v=null,x=null,w=null,b=null,C=null,P=[],E=[],T={left:0,right:0,top:0,bottom:0},m=0,a=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},g=this;g.setData=R,g.setupGrid=Le,g.draw=dt,g.getPlaceholder=function(){return s},g.getCanvas=function(){return v.element},g.getPlotOffset=function(){return T},g.width=function(){return m},g.height=function(){return a},g.offset=function(){var L=w.offset();return L.left+=T.left,L.top+=T.top,L},g.getData=function(){return h},g.getAxes=function(){var L={},ue;return t.each(P.concat(E),function(ce,pe){pe&&(L[pe.direction+(pe.n!=1?pe.n:"")+"axis"]=pe)}),L},g.getXAxes=function(){return P},g.getYAxes=function(){return E},g.c2p=J,g.p2c=F,g.getOptions=function(){return f},g.highlight=st,g.unhighlight=ye,g.triggerRedrawOverlay=wt,g.pointOffset=function(L){return{left:parseInt(P[H(L,"x")-1].p2c(+L.x)+T.left,10),top:parseInt(E[H(L,"y")-1].p2c(+L.y)+T.top,10)}},g.shutdown=G,g.destroy=function(){G(),s.removeData("plot").empty(),h=[],f=null,v=null,x=null,w=null,b=null,C=null,P=[],E=[],p=null,ut=[],g=null},g.resize=function(){var L=s.width(),ue=s.height();v.resize(L,ue),x.resize(L,ue)},g.hooks=p,_(g),j(d),X(),R(r),Le(),dt(),oe();function y(L,ue){ue=[g].concat(ue);for(var ce=0;ce<L.length;++ce)L[ce].apply(this,ue)}function _(){for(var L={Canvas:e},ue=0;ue<c.length;++ue){var ce=c[ue];ce.init(g,L),ce.options&&t.extend(!0,f,ce.options)}}function j(L){t.extend(!0,f,L),L&&L.colors&&(f.colors=L.colors),f.xaxis.color==null&&(f.xaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.yaxis.color==null&&(f.yaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.xaxis.tickColor==null&&(f.xaxis.tickColor=f.grid.tickColor||f.xaxis.color),f.yaxis.tickColor==null&&(f.yaxis.tickColor=f.grid.tickColor||f.yaxis.color),f.grid.borderColor==null&&(f.grid.borderColor=f.grid.color),f.grid.tickColor==null&&(f.grid.tickColor=t.color.parse(f.grid.color).scale("a",.22).toString());var ue,ce,pe,he=s.css("font-size"),Q=he?+he.replace("px",""):13,be={style:s.css("font-style"),size:Math.round(.8*Q),variant:s.css("font-variant"),weight:s.css("font-weight"),family:s.css("font-family")};for(pe=f.xaxes.length||1,ue=0;ue<pe;++ue)ce=f.xaxes[ue],ce&&!ce.tickColor&&(ce.tickColor=ce.color),ce=t.extend(!0,{},f.xaxis,ce),f.xaxes[ue]=ce,ce.font&&(ce.font=t.extend({},be,ce.font),ce.font.color||(ce.font.color=ce.color),ce.font.lineHeight||(ce.font.lineHeight=Math.round(ce.font.size*1.15)));for(pe=f.yaxes.length||1,ue=0;ue<pe;++ue)ce=f.yaxes[ue],ce&&!ce.tickColor&&(ce.tickColor=ce.color),ce=t.extend(!0,{},f.yaxis,ce),f.yaxes[ue]=ce,ce.font&&(ce.font=t.extend({},be,ce.font),ce.font.color||(ce.font.color=ce.color),ce.font.lineHeight||(ce.font.lineHeight=Math.round(ce.font.size*1.15)));for(f.xaxis.noTicks&&f.xaxis.ticks==null&&(f.xaxis.ticks=f.xaxis.noTicks),f.yaxis.noTicks&&f.yaxis.ticks==null&&(f.yaxis.ticks=f.yaxis.noTicks),f.x2axis&&(f.xaxes[1]=t.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top",f.x2axis.min==null&&(f.xaxes[1].min=null),f.x2axis.max==null&&(f.xaxes[1].max=null)),f.y2axis&&(f.yaxes[1]=t.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right",f.y2axis.min==null&&(f.yaxes[1].min=null),f.y2axis.max==null&&(f.yaxes[1].max=null)),f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas),f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor),f.lines&&t.extend(!0,f.series.lines,f.lines),f.points&&t.extend(!0,f.series.points,f.points),f.bars&&t.extend(!0,f.series.bars,f.bars),f.shadowSize!=null&&(f.series.shadowSize=f.shadowSize),f.highlightColor!=null&&(f.series.highlightColor=f.highlightColor),ue=0;ue<f.xaxes.length;++ue)de(P,ue+1).options=f.xaxes[ue];for(ue=0;ue<f.yaxes.length;++ue)de(E,ue+1).options=f.yaxes[ue];for(var Ce in p)f.hooks[Ce]&&f.hooks[Ce].length&&(p[Ce]=p[Ce].concat(f.hooks[Ce]));y(p.processOptions,[f])}function R(L){h=D(L),re(),V()}function D(L){for(var ue=[],ce=0;ce<L.length;++ce){var pe=t.extend(!0,{},f.series);L[ce].data!=null?(pe.data=L[ce].data,delete L[ce].data,t.extend(!0,pe,L[ce]),L[ce].data=pe.data):pe.data=L[ce],ue.push(pe)}return ue}function H(L,ue){var ce=L[ue+"axis"];return typeof ce=="object"&&(ce=ce.n),typeof ce!="number"&&(ce=1),ce}function K(){return t.grep(P.concat(E),function(L){return L})}function J(L){var ue={},ce,pe;for(ce=0;ce<P.length;++ce)pe=P[ce],pe&&pe.used&&(ue["x"+pe.n]=pe.c2p(L.left));for(ce=0;ce<E.length;++ce)pe=E[ce],pe&&pe.used&&(ue["y"+pe.n]=pe.c2p(L.top));return ue.x1!==void 0&&(ue.x=ue.x1),ue.y1!==void 0&&(ue.y=ue.y1),ue}function F(L){var ue={},ce,pe,he;for(ce=0;ce<P.length;++ce)if(pe=P[ce],pe&&pe.used&&(he="x"+pe.n,L[he]==null&&pe.n==1&&(he="x"),L[he]!=null)){ue.left=pe.p2c(L[he]);break}for(ce=0;ce<E.length;++ce)if(pe=E[ce],pe&&pe.used&&(he="y"+pe.n,L[he]==null&&pe.n==1&&(he="y"),L[he]!=null)){ue.top=pe.p2c(L[he]);break}return ue}function de(L,ue){return L[ue-1]||(L[ue-1]={n:ue,direction:L==P?"x":"y",options:t.extend(!0,{},L==P?f.xaxis:f.yaxis)}),L[ue-1]}function re(){var L=h.length,ue=-1,ce;for(ce=0;ce<h.length;++ce){var pe=h[ce].color;pe!=null&&(L--,typeof pe=="number"&&pe>ue&&(ue=pe))}L<=ue&&(L=ue+1);var he,Q=[],be=f.colors,Ce=be.length,xe=0;for(ce=0;ce<L;ce++)he=t.color.parse(be[ce%Ce]||"#666"),ce%Ce==0&&ce&&(xe>=0?xe<.5?xe=-xe-.2:xe=0:xe=-xe),Q[ce]=he.scale("rgb",1+xe);var Ge=0,Be;for(ce=0;ce<h.length;++ce){if(Be=h[ce],Be.color==null?(Be.color=Q[Ge].toString(),++Ge):typeof Be.color=="number"&&(Be.color=Q[Be.color].toString()),Be.lines.show==null){var Ke,Pt=!0;for(Ke in Be)if(Be[Ke]&&Be[Ke].show){Pt=!1;break}Pt&&(Be.lines.show=!0)}Be.lines.zero==null&&(Be.lines.zero=!!Be.lines.fill),Be.xaxis=de(P,H(Be,"x")),Be.yaxis=de(E,H(Be,"y"))}}function V(){var L=Number.POSITIVE_INFINITY,ue=Number.NEGATIVE_INFINITY,ce=Number.MAX_VALUE,pe,he,Q,be,Ce,xe,Ge,Be,Ke,Pt,At,Et,Jt,Dt,Ht,Bt;function qt(fe,Se,De){Se<fe.datamin&&Se!=-ce&&(fe.datamin=Se),De>fe.datamax&&De!=ce&&(fe.datamax=De)}for(t.each(K(),function(fe,Se){Se.datamin=L,Se.datamax=ue,Se.used=!1}),pe=0;pe<h.length;++pe)xe=h[pe],xe.datapoints={points:[]},y(p.processRawData,[xe,xe.data,xe.datapoints]);for(pe=0;pe<h.length;++pe){if(xe=h[pe],Ht=xe.data,Bt=xe.datapoints.format,!Bt){if(Bt=[],Bt.push({x:!0,number:!0,required:!0}),Bt.push({y:!0,number:!0,required:!0}),xe.bars.show||xe.lines.show&&xe.lines.fill){var Zt=!!(xe.bars.show&&xe.bars.zero||xe.lines.show&&xe.lines.zero);Bt.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Zt}),xe.bars.horizontal&&(delete Bt[Bt.length-1].y,Bt[Bt.length-1].x=!0)}xe.datapoints.format=Bt}if(xe.datapoints.pointsize==null){xe.datapoints.pointsize=Bt.length,Be=xe.datapoints.pointsize,Ge=xe.datapoints.points;var un=xe.lines.show&&xe.lines.steps;for(xe.xaxis.used=xe.yaxis.used=!0,he=Q=0;he<Ht.length;++he,Q+=Be){Dt=Ht[he];var Rt=Dt==null;if(!Rt)for(be=0;be<Be;++be)Et=Dt[be],Jt=Bt[be],Jt&&(Jt.number&&Et!=null&&(Et=+Et,isNaN(Et)?Et=null:Et==1/0?Et=ce:Et==-1/0&&(Et=-ce)),Et==null&&(Jt.required&&(Rt=!0),Jt.defaultValue!=null&&(Et=Jt.defaultValue))),Ge[Q+be]=Et;if(Rt)for(be=0;be<Be;++be)Et=Ge[Q+be],Et!=null&&(Jt=Bt[be],Jt.autoscale!==!1&&(Jt.x&&qt(xe.xaxis,Et,Et),Jt.y&&qt(xe.yaxis,Et,Et))),Ge[Q+be]=null;else if(un&&Q>0&&Ge[Q-Be]!=null&&Ge[Q-Be]!=Ge[Q]&&Ge[Q-Be+1]!=Ge[Q+1]){for(be=0;be<Be;++be)Ge[Q+Be+be]=Ge[Q+be];Ge[Q+1]=Ge[Q-Be+1],Q+=Be}}}}for(pe=0;pe<h.length;++pe)xe=h[pe],y(p.processDatapoints,[xe,xe.datapoints]);for(pe=0;pe<h.length;++pe){xe=h[pe],Ge=xe.datapoints.points,Be=xe.datapoints.pointsize,Bt=xe.datapoints.format;var rn=L,Qt=L,Tn=ue,Nt=ue;for(he=0;he<Ge.length;he+=Be)if(Ge[he]!=null)for(be=0;be<Be;++be)Et=Ge[he+be],Jt=Bt[be],!(!Jt||Jt.autoscale===!1||Et==ce||Et==-ce)&&(Jt.x&&(Et<rn&&(rn=Et),Et>Tn&&(Tn=Et)),Jt.y&&(Et<Qt&&(Qt=Et),Et>Nt&&(Nt=Et)));if(xe.bars.show){var Me;switch(xe.bars.align){case"left":Me=0;break;case"right":Me=-xe.bars.barWidth;break;default:Me=-xe.bars.barWidth/2}xe.bars.horizontal?(Qt+=Me,Nt+=Me+xe.bars.barWidth):(rn+=Me,Tn+=Me+xe.bars.barWidth)}qt(xe.xaxis,rn,Tn),qt(xe.yaxis,Qt,Nt)}t.each(K(),function(fe,Se){Se.datamin==L&&(Se.datamin=null),Se.datamax==ue&&(Se.datamax=null)})}function X(){s.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),s.css("position")=="static"&&s.css("position","relative"),v=new e("flot-base",s),x=new e("flot-overlay",s),b=v.context,C=x.context,w=t(x.element).unbind();var L=s.data("plot");L&&(L.shutdown(),x.clear()),s.data("plot",g)}function oe(){f.grid.hoverable&&(w.mousemove(Fe),w.bind("mouseleave",tt)),f.grid.clickable&&w.click(nt),y(p.bindEvents,[w])}function G(){qe&&clearTimeout(qe),w.unbind("mousemove",Fe),w.unbind("mouseleave",tt),w.unbind("click",nt),y(p.shutdown,[w])}function Y(L){function ue(be){return be}var ce,pe,he=L.options.transform||ue,Q=L.options.inverseTransform;L.direction=="x"?(ce=L.scale=m/Math.abs(he(L.max)-he(L.min)),pe=Math.min(he(L.max),he(L.min))):(ce=L.scale=a/Math.abs(he(L.max)-he(L.min)),ce=-ce,pe=Math.max(he(L.max),he(L.min))),he==ue?L.p2c=function(be){return(be-pe)*ce}:L.p2c=function(be){return(he(be)-pe)*ce},Q?L.c2p=function(be){return Q(pe+be/ce)}:L.c2p=function(be){return pe+be/ce}}function Z(L){for(var ue=L.options,ce=L.ticks||[],pe=ue.labelWidth||0,he=ue.labelHeight||0,Q=pe||(L.direction=="x"?Math.floor(v.width/(ce.length||1)):null),be=L.direction+"Axis "+L.direction+L.n+"Axis",Ce="flot-"+L.direction+"-axis flot-"+L.direction+L.n+"-axis "+be,xe=ue.font||"flot-tick-label tickLabel",Ge=0;Ge<ce.length;++Ge){var Be=ce[Ge];if(Be.label){var Ke=v.getTextInfo(Ce,Be.label,xe,null,Q);pe=Math.max(pe,Ke.width),he=Math.max(he,Ke.height)}}L.labelWidth=ue.labelWidth||pe,L.labelHeight=ue.labelHeight||he}function ae(L){var ue=L.labelWidth,ce=L.labelHeight,pe=L.options.position,he=L.direction==="x",Q=L.options.tickLength,be=f.grid.axisMargin,Ce=f.grid.labelMargin,xe=!0,Ge=!0,Be=!0,Ke=!1;t.each(he?P:E,function(Pt,At){At&&(At.show||At.reserveSpace)&&(At===L?Ke=!0:At.options.position===pe&&(Ke?Ge=!1:xe=!1),Ke||(Be=!1))}),Ge&&(be=0),Q==null&&(Q=Be?"full":5),isNaN(+Q)||(Ce+=+Q),he?(ce+=Ce,pe=="bottom"?(T.bottom+=ce+be,L.box={top:v.height-T.bottom,height:ce}):(L.box={top:T.top+be,height:ce},T.top+=ce+be)):(ue+=Ce,pe=="left"?(L.box={left:T.left+be,width:ue},T.left+=ue+be):(T.right+=ue+be,L.box={left:v.width-T.right,width:ue})),L.position=pe,L.tickLength=Q,L.box.padding=Ce,L.innermost=xe}function ie(L){L.direction=="x"?(L.box.left=T.left-L.labelWidth/2,L.box.width=v.width-T.left-T.right+L.labelWidth):(L.box.top=T.top-L.labelHeight/2,L.box.height=v.height-T.bottom-T.top+L.labelHeight)}function je(){var L=f.grid.minBorderMargin,ue,ce;if(L==null)for(L=0,ce=0;ce<h.length;++ce)L=Math.max(L,2*(h[ce].points.radius+h[ce].points.lineWidth/2));var pe={left:L,right:L,top:L,bottom:L};t.each(K(),function(he,Q){Q.reserveSpace&&Q.ticks&&Q.ticks.length&&(Q.direction==="x"?(pe.left=Math.max(pe.left,Q.labelWidth/2),pe.right=Math.max(pe.right,Q.labelWidth/2)):(pe.bottom=Math.max(pe.bottom,Q.labelHeight/2),pe.top=Math.max(pe.top,Q.labelHeight/2)))}),T.left=Math.ceil(Math.max(pe.left,T.left)),T.right=Math.ceil(Math.max(pe.right,T.right)),T.top=Math.ceil(Math.max(pe.top,T.top)),T.bottom=Math.ceil(Math.max(pe.bottom,T.bottom))}function Le(){var L,ue=K(),ce=f.grid.show;for(var pe in T){var he=f.grid.margin||0;T[pe]=typeof he=="number"?he:he[pe]||0}y(p.processOffset,[T]);for(var pe in T)typeof f.grid.borderWidth=="object"?T[pe]+=ce?f.grid.borderWidth[pe]:0:T[pe]+=ce?f.grid.borderWidth:0;if(t.each(ue,function(be,Ce){var xe=Ce.options;Ce.show=xe.show==null?Ce.used:xe.show,Ce.reserveSpace=xe.reserveSpace==null?Ce.show:xe.reserveSpace,ke(Ce)}),ce){var Q=t.grep(ue,function(be){return be.show||be.reserveSpace});for(t.each(Q,function(be,Ce){Ze(Ce),Ve(Ce),Xe(Ce,Ce.ticks),Z(Ce)}),L=Q.length-1;L>=0;--L)ae(Q[L]);je(),t.each(Q,function(be,Ce){ie(Ce)})}m=v.width-T.left-T.right,a=v.height-T.bottom-T.top,t.each(ue,function(be,Ce){Y(Ce)}),ce&&_e(),at()}function ke(L){var ue=L.options,ce=+(ue.min!=null?ue.min:L.datamin),pe=+(ue.max!=null?ue.max:L.datamax),he=pe-ce;if(he==0){var Q=pe==0?1:.01;ue.min==null&&(ce-=Q),(ue.max==null||ue.min!=null)&&(pe+=Q)}else{var be=ue.autoscaleMargin;be!=null&&(ue.min==null&&(ce-=he*be,ce<0&&L.datamin!=null&&L.datamin>=0&&(ce=0)),ue.max==null&&(pe+=he*be,pe>0&&L.datamax!=null&&L.datamax<=0&&(pe=0)))}L.min=ce,L.max=pe}function Ze(L){var ue=L.options,ce;typeof ue.ticks=="number"&&ue.ticks>0?ce=ue.ticks:ce=.3*Math.sqrt(L.direction=="x"?v.width:v.height);var pe=(L.max-L.min)/ce,he=-Math.floor(Math.log(pe)/Math.LN10),Q=ue.tickDecimals;Q!=null&&he>Q&&(he=Q);var be=Math.pow(10,-he),Ce=pe/be,xe;if(Ce<1.5?xe=1:Ce<3?(xe=2,Ce>2.25&&(Q==null||he+1<=Q)&&(xe=2.5,++he)):Ce<7.5?xe=5:xe=10,xe*=be,ue.minTickSize!=null&&xe<ue.minTickSize&&(xe=ue.minTickSize),L.delta=pe,L.tickDecimals=Math.max(0,Q!=null?Q:he),L.tickSize=ue.tickSize||xe,ue.mode=="time"&&!L.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(L.tickGenerator||(L.tickGenerator=function(At){var Et=[],Jt=o(At.min,At.tickSize),Dt=0,Ht=Number.NaN,Bt;do Bt=Ht,Ht=Jt+Dt*At.tickSize,Et.push(Ht),++Dt;while(Ht<At.max&&Ht!=Bt);return Et},L.tickFormatter=function(At,Et){var Jt=Et.tickDecimals?Math.pow(10,Et.tickDecimals):1,Dt=""+Math.round(At*Jt)/Jt;if(Et.tickDecimals!=null){var Ht=Dt.indexOf("."),Bt=Ht==-1?0:Dt.length-Ht-1;if(Bt<Et.tickDecimals)return(Bt?Dt:Dt+".")+(""+Jt).substr(1,Et.tickDecimals-Bt)}return Dt}),t.isFunction(ue.tickFormatter)&&(L.tickFormatter=function(At,Et){return""+ue.tickFormatter(At,Et)}),ue.alignTicksWithAxis!=null){var Ge=(L.direction=="x"?P:E)[ue.alignTicksWithAxis-1];if(Ge&&Ge.used&&Ge!=L){var Be=L.tickGenerator(L);if(Be.length>0&&(ue.min==null&&(L.min=Math.min(L.min,Be[0])),ue.max==null&&Be.length>1&&(L.max=Math.max(L.max,Be[Be.length-1]))),L.tickGenerator=function(At){var Et=[],Jt,Dt;for(Dt=0;Dt<Ge.ticks.length;++Dt)Jt=(Ge.ticks[Dt].v-Ge.min)/(Ge.max-Ge.min),Jt=At.min+Jt*(At.max-At.min),Et.push(Jt);return Et},!L.mode&&ue.tickDecimals==null){var Ke=Math.max(0,-Math.floor(Math.log(L.delta)/Math.LN10)+1),Pt=L.tickGenerator(L);Pt.length>1&&/\..*0$/.test((Pt[1]-Pt[0]).toFixed(Ke))||(L.tickDecimals=Ke)}}}}function Ve(L){var ue=L.options.ticks,ce=[];ue==null||typeof ue=="number"&&ue>0?ce=L.tickGenerator(L):ue&&(t.isFunction(ue)?ce=ue(L):ce=ue);var pe,he;for(L.ticks=[],pe=0;pe<ce.length;++pe){var Q=null,be=ce[pe];typeof be=="object"?(he=+be[0],be.length>1&&(Q=be[1])):he=+be,Q==null&&(Q=L.tickFormatter(he,L)),isNaN(he)||L.ticks.push({v:he,label:Q})}}function Xe(L,ue){L.options.autoscaleMargin&&ue.length>0&&(L.options.min==null&&(L.min=Math.min(L.min,ue[0].v)),L.options.max==null&&ue.length>1&&(L.max=Math.max(L.max,ue[ue.length-1].v)))}function dt(){v.clear(),y(p.drawBackground,[b]);var L=f.grid;L.show&&L.backgroundColor&&pt(),L.show&&!L.aboveData&&Re();for(var ue=0;ue<h.length;++ue)y(p.drawSeries,[b,h[ue]]),Ne(h[ue]);y(p.draw,[b]),L.show&&L.aboveData&&Re(),v.render(),wt()}function yt(L,ue){for(var ce,pe,he,Q,be=K(),Ce=0;Ce<be.length;++Ce)if(ce=be[Ce],ce.direction==ue&&(Q=ue+ce.n+"axis",!L[Q]&&ce.n==1&&(Q=ue+"axis"),L[Q])){pe=L[Q].from,he=L[Q].to;break}if(L[Q]||(ce=ue=="x"?P[0]:E[0],pe=L[ue+"1"],he=L[ue+"2"]),pe!=null&&he!=null&&pe>he){var xe=pe;pe=he,he=xe}return{from:pe,to:he,axis:ce}}function pt(){b.save(),b.translate(T.left,T.top),b.fillStyle=et(f.grid.backgroundColor,a,0,"rgba(255, 255, 255, 0)"),b.fillRect(0,0,m,a),b.restore()}function Re(){var L,ue,ce,pe;b.save(),b.translate(T.left,T.top);var he=f.grid.markings;if(he)for(t.isFunction(he)&&(ue=g.getAxes(),ue.xmin=ue.xaxis.min,ue.xmax=ue.xaxis.max,ue.ymin=ue.yaxis.min,ue.ymax=ue.yaxis.max,he=he(ue)),L=0;L<he.length;++L){var Q=he[L],be=yt(Q,"x"),Ce=yt(Q,"y");if(be.from==null&&(be.from=be.axis.min),be.to==null&&(be.to=be.axis.max),Ce.from==null&&(Ce.from=Ce.axis.min),Ce.to==null&&(Ce.to=Ce.axis.max),!(be.to<be.axis.min||be.from>be.axis.max||Ce.to<Ce.axis.min||Ce.from>Ce.axis.max)){be.from=Math.max(be.from,be.axis.min),be.to=Math.min(be.to,be.axis.max),Ce.from=Math.max(Ce.from,Ce.axis.min),Ce.to=Math.min(Ce.to,Ce.axis.max);var xe=be.from===be.to,Ge=Ce.from===Ce.to;if(!(xe&&Ge))if(be.from=Math.floor(be.axis.p2c(be.from)),be.to=Math.floor(be.axis.p2c(be.to)),Ce.from=Math.floor(Ce.axis.p2c(Ce.from)),Ce.to=Math.floor(Ce.axis.p2c(Ce.to)),xe||Ge){var Be=Q.lineWidth||f.grid.markingsLineWidth,Ke=Be%2?.5:0;b.beginPath(),b.strokeStyle=Q.color||f.grid.markingsColor,b.lineWidth=Be,xe?(b.moveTo(be.to+Ke,Ce.from),b.lineTo(be.to+Ke,Ce.to)):(b.moveTo(be.from,Ce.to+Ke),b.lineTo(be.to,Ce.to+Ke)),b.stroke()}else b.fillStyle=Q.color||f.grid.markingsColor,b.fillRect(be.from,Ce.to,be.to-be.from,Ce.from-Ce.to)}}ue=K(),ce=f.grid.borderWidth;for(var Pt=0;Pt<ue.length;++Pt){var At=ue[Pt],Et=At.box,Jt=At.tickLength,Dt,Ht,Bt,qt;if(!(!At.show||At.ticks.length==0)){for(b.lineWidth=1,At.direction=="x"?(Dt=0,Jt=="full"?Ht=At.position=="top"?0:a:Ht=Et.top-T.top+(At.position=="top"?Et.height:0)):(Ht=0,Jt=="full"?Dt=At.position=="left"?0:m:Dt=Et.left-T.left+(At.position=="left"?Et.width:0)),At.innermost||(b.strokeStyle=At.options.color,b.beginPath(),Bt=qt=0,At.direction=="x"?Bt=m+1:qt=a+1,b.lineWidth==1&&(At.direction=="x"?Ht=Math.floor(Ht)+.5:Dt=Math.floor(Dt)+.5),b.moveTo(Dt,Ht),b.lineTo(Dt+Bt,Ht+qt),b.stroke()),b.strokeStyle=At.options.tickColor,b.beginPath(),L=0;L<At.ticks.length;++L){var Zt=At.ticks[L].v;Bt=qt=0,!(isNaN(Zt)||Zt<At.min||Zt>At.max||Jt=="full"&&(typeof ce=="object"&&ce[At.position]>0||ce>0)&&(Zt==At.min||Zt==At.max))&&(At.direction=="x"?(Dt=At.p2c(Zt),qt=Jt=="full"?-a:Jt,At.position=="top"&&(qt=-qt)):(Ht=At.p2c(Zt),Bt=Jt=="full"?-m:Jt,At.position=="left"&&(Bt=-Bt)),b.lineWidth==1&&(At.direction=="x"?Dt=Math.floor(Dt)+.5:Ht=Math.floor(Ht)+.5),b.moveTo(Dt,Ht),b.lineTo(Dt+Bt,Ht+qt))}b.stroke()}}ce&&(pe=f.grid.borderColor,typeof ce=="object"||typeof pe=="object"?(typeof ce!="object"&&(ce={top:ce,right:ce,bottom:ce,left:ce}),typeof pe!="object"&&(pe={top:pe,right:pe,bottom:pe,left:pe}),ce.top>0&&(b.strokeStyle=pe.top,b.lineWidth=ce.top,b.beginPath(),b.moveTo(0-ce.left,0-ce.top/2),b.lineTo(m,0-ce.top/2),b.stroke()),ce.right>0&&(b.strokeStyle=pe.right,b.lineWidth=ce.right,b.beginPath(),b.moveTo(m+ce.right/2,0-ce.top),b.lineTo(m+ce.right/2,a),b.stroke()),ce.bottom>0&&(b.strokeStyle=pe.bottom,b.lineWidth=ce.bottom,b.beginPath(),b.moveTo(m+ce.right,a+ce.bottom/2),b.lineTo(0,a+ce.bottom/2),b.stroke()),ce.left>0&&(b.strokeStyle=pe.left,b.lineWidth=ce.left,b.beginPath(),b.moveTo(0-ce.left/2,a+ce.bottom),b.lineTo(0-ce.left/2,0),b.stroke())):(b.lineWidth=ce,b.strokeStyle=f.grid.borderColor,b.strokeRect(-ce/2,-ce/2,m+ce,a+ce))),b.restore()}function _e(){t.each(K(),function(L,ue){var ce=ue.box,pe=ue.direction+"Axis "+ue.direction+ue.n+"Axis",he="flot-"+ue.direction+"-axis flot-"+ue.direction+ue.n+"-axis "+pe,Q=ue.options.font||"flot-tick-label tickLabel",be,Ce,xe,Ge,Be;if(v.removeText(he),!(!ue.show||ue.ticks.length==0))for(var Ke=0;Ke<ue.ticks.length;++Ke)be=ue.ticks[Ke],!(!be.label||be.v<ue.min||be.v>ue.max)&&(ue.direction=="x"?(Ge="center",Ce=T.left+ue.p2c(be.v),ue.position=="bottom"?xe=ce.top+ce.padding:(xe=ce.top+ce.height-ce.padding,Be="bottom")):(Be="middle",xe=T.top+ue.p2c(be.v),ue.position=="left"?(Ce=ce.left+ce.width-ce.padding,Ge="right"):Ce=ce.left+ce.padding),v.addText(he,Ce,xe,be.label,Q,null,null,Ge,Be))})}function Ne(L){L.lines.show&&Je(L),L.bars.show&&rt(L),L.points.show&&Ye(L)}function Je(L){function ue(Ce,xe,Ge,Be,Ke){var Pt=Ce.points,At=Ce.pointsize,Et=null,Jt=null;b.beginPath();for(var Dt=At;Dt<Pt.length;Dt+=At){var Ht=Pt[Dt-At],Bt=Pt[Dt-At+1],qt=Pt[Dt],Zt=Pt[Dt+1];if(!(Ht==null||qt==null)){if(Bt<=Zt&&Bt<Ke.min){if(Zt<Ke.min)continue;Ht=(Ke.min-Bt)/(Zt-Bt)*(qt-Ht)+Ht,Bt=Ke.min}else if(Zt<=Bt&&Zt<Ke.min){if(Bt<Ke.min)continue;qt=(Ke.min-Bt)/(Zt-Bt)*(qt-Ht)+Ht,Zt=Ke.min}if(Bt>=Zt&&Bt>Ke.max){if(Zt>Ke.max)continue;Ht=(Ke.max-Bt)/(Zt-Bt)*(qt-Ht)+Ht,Bt=Ke.max}else if(Zt>=Bt&&Zt>Ke.max){if(Bt>Ke.max)continue;qt=(Ke.max-Bt)/(Zt-Bt)*(qt-Ht)+Ht,Zt=Ke.max}if(Ht<=qt&&Ht<Be.min){if(qt<Be.min)continue;Bt=(Be.min-Ht)/(qt-Ht)*(Zt-Bt)+Bt,Ht=Be.min}else if(qt<=Ht&&qt<Be.min){if(Ht<Be.min)continue;Zt=(Be.min-Ht)/(qt-Ht)*(Zt-Bt)+Bt,qt=Be.min}if(Ht>=qt&&Ht>Be.max){if(qt>Be.max)continue;Bt=(Be.max-Ht)/(qt-Ht)*(Zt-Bt)+Bt,Ht=Be.max}else if(qt>=Ht&&qt>Be.max){if(Ht>Be.max)continue;Zt=(Be.max-Ht)/(qt-Ht)*(Zt-Bt)+Bt,qt=Be.max}(Ht!=Et||Bt!=Jt)&&b.moveTo(Be.p2c(Ht)+xe,Ke.p2c(Bt)+Ge),Et=qt,Jt=Zt,b.lineTo(Be.p2c(qt)+xe,Ke.p2c(Zt)+Ge)}}b.stroke()}function ce(Ce,xe,Ge){for(var Be=Ce.points,Ke=Ce.pointsize,Pt=Math.min(Math.max(0,Ge.min),Ge.max),At=0,Et,Jt=!1,Dt=1,Ht=0,Bt=0;!(Ke>0&&At>Be.length+Ke);){At+=Ke;var qt=Be[At-Ke],Zt=Be[At-Ke+Dt],un=Be[At],Rt=Be[At+Dt];if(Jt){if(Ke>0&&qt!=null&&un==null){Bt=At,Ke=-Ke,Dt=2;continue}if(Ke<0&&At==Ht+Ke){b.fill(),Jt=!1,Ke=-Ke,Dt=1,At=Ht=Bt+Ke;continue}}if(!(qt==null||un==null)){if(qt<=un&&qt<xe.min){if(un<xe.min)continue;Zt=(xe.min-qt)/(un-qt)*(Rt-Zt)+Zt,qt=xe.min}else if(un<=qt&&un<xe.min){if(qt<xe.min)continue;Rt=(xe.min-qt)/(un-qt)*(Rt-Zt)+Zt,un=xe.min}if(qt>=un&&qt>xe.max){if(un>xe.max)continue;Zt=(xe.max-qt)/(un-qt)*(Rt-Zt)+Zt,qt=xe.max}else if(un>=qt&&un>xe.max){if(qt>xe.max)continue;Rt=(xe.max-qt)/(un-qt)*(Rt-Zt)+Zt,un=xe.max}if(Jt||(b.beginPath(),b.moveTo(xe.p2c(qt),Ge.p2c(Pt)),Jt=!0),Zt>=Ge.max&&Rt>=Ge.max){b.lineTo(xe.p2c(qt),Ge.p2c(Ge.max)),b.lineTo(xe.p2c(un),Ge.p2c(Ge.max));continue}else if(Zt<=Ge.min&&Rt<=Ge.min){b.lineTo(xe.p2c(qt),Ge.p2c(Ge.min)),b.lineTo(xe.p2c(un),Ge.p2c(Ge.min));continue}var rn=qt,Qt=un;Zt<=Rt&&Zt<Ge.min&&Rt>=Ge.min?(qt=(Ge.min-Zt)/(Rt-Zt)*(un-qt)+qt,Zt=Ge.min):Rt<=Zt&&Rt<Ge.min&&Zt>=Ge.min&&(un=(Ge.min-Zt)/(Rt-Zt)*(un-qt)+qt,Rt=Ge.min),Zt>=Rt&&Zt>Ge.max&&Rt<=Ge.max?(qt=(Ge.max-Zt)/(Rt-Zt)*(un-qt)+qt,Zt=Ge.max):Rt>=Zt&&Rt>Ge.max&&Zt<=Ge.max&&(un=(Ge.max-Zt)/(Rt-Zt)*(un-qt)+qt,Rt=Ge.max),qt!=rn&&b.lineTo(xe.p2c(rn),Ge.p2c(Zt)),b.lineTo(xe.p2c(qt),Ge.p2c(Zt)),b.lineTo(xe.p2c(un),Ge.p2c(Rt)),un!=Qt&&(b.lineTo(xe.p2c(un),Ge.p2c(Rt)),b.lineTo(xe.p2c(Qt),Ge.p2c(Rt)))}}}b.save(),b.translate(T.left,T.top),b.lineJoin="round";var pe=L.lines.lineWidth,he=L.shadowSize;if(pe>0&&he>0){b.lineWidth=he,b.strokeStyle="rgba(0,0,0,0.1)";var Q=Math.PI/18;ue(L.datapoints,Math.sin(Q)*(pe/2+he/2),Math.cos(Q)*(pe/2+he/2),L.xaxis,L.yaxis),b.lineWidth=he/2,ue(L.datapoints,Math.sin(Q)*(pe/2+he/4),Math.cos(Q)*(pe/2+he/4),L.xaxis,L.yaxis)}b.lineWidth=pe,b.strokeStyle=L.color;var be=ht(L.lines,L.color,0,a);be&&(b.fillStyle=be,ce(L.datapoints,L.xaxis,L.yaxis)),pe>0&&ue(L.datapoints,0,0,L.xaxis,L.yaxis),b.restore()}function Ye(L){function ue(Ce,xe,Ge,Be,Ke,Pt,At,Et){for(var Jt=Ce.points,Dt=Ce.pointsize,Ht=0;Ht<Jt.length;Ht+=Dt){var Bt=Jt[Ht],qt=Jt[Ht+1];Bt==null||Bt<Pt.min||Bt>Pt.max||qt<At.min||qt>At.max||(b.beginPath(),Bt=Pt.p2c(Bt),qt=At.p2c(qt)+Be,Et=="circle"?b.arc(Bt,qt,xe,0,Ke?Math.PI:Math.PI*2,!1):Et(b,Bt,qt,xe,Ke),b.closePath(),Ge&&(b.fillStyle=Ge,b.fill()),b.stroke())}}b.save(),b.translate(T.left,T.top);var ce=L.points.lineWidth,pe=L.shadowSize,he=L.points.radius,Q=L.points.symbol;if(ce==0&&(ce=1e-4),ce>0&&pe>0){var be=pe/2;b.lineWidth=be,b.strokeStyle="rgba(0,0,0,0.1)",ue(L.datapoints,he,null,be+be/2,!0,L.xaxis,L.yaxis,Q),b.strokeStyle="rgba(0,0,0,0.2)",ue(L.datapoints,he,null,be/2,!0,L.xaxis,L.yaxis,Q)}b.lineWidth=ce,b.strokeStyle=L.color,ue(L.datapoints,he,ht(L.points,L.color),0,!1,L.xaxis,L.yaxis,Q),b.restore()}function Te(L,ue,ce,pe,he,Q,be,Ce,xe,Ge,Be){var Ke,Pt,At,Et,Jt,Dt,Ht,Bt,qt;Ge?(Bt=Dt=Ht=!0,Jt=!1,Ke=ce,Pt=L,Et=ue+pe,At=ue+he,Pt<Ke&&(qt=Pt,Pt=Ke,Ke=qt,Jt=!0,Dt=!1)):(Jt=Dt=Ht=!0,Bt=!1,Ke=L+pe,Pt=L+he,At=ce,Et=ue,Et<At&&(qt=Et,Et=At,At=qt,Bt=!0,Ht=!1)),!(Pt<be.min||Ke>be.max||Et<Ce.min||At>Ce.max)&&(Ke<be.min&&(Ke=be.min,Jt=!1),Pt>be.max&&(Pt=be.max,Dt=!1),At<Ce.min&&(At=Ce.min,Bt=!1),Et>Ce.max&&(Et=Ce.max,Ht=!1),Ke=be.p2c(Ke),At=Ce.p2c(At),Pt=be.p2c(Pt),Et=Ce.p2c(Et),Q&&(xe.fillStyle=Q(At,Et),xe.fillRect(Ke,Et,Pt-Ke,At-Et)),Be>0&&(Jt||Dt||Ht||Bt)&&(xe.beginPath(),xe.moveTo(Ke,At),Jt?xe.lineTo(Ke,Et):xe.moveTo(Ke,Et),Ht?xe.lineTo(Pt,Et):xe.moveTo(Pt,Et),Dt?xe.lineTo(Pt,At):xe.moveTo(Pt,At),Bt?xe.lineTo(Ke,At):xe.moveTo(Ke,At),xe.stroke()))}function rt(L){function ue(he,Q,be,Ce,xe,Ge){for(var Be=he.points,Ke=he.pointsize,Pt=0;Pt<Be.length;Pt+=Ke)Be[Pt]!=null&&Te(Be[Pt],Be[Pt+1],Be[Pt+2],Q,be,Ce,xe,Ge,b,L.bars.horizontal,L.bars.lineWidth)}b.save(),b.translate(T.left,T.top),b.lineWidth=L.bars.lineWidth,b.strokeStyle=L.color;var ce;switch(L.bars.align){case"left":ce=0;break;case"right":ce=-L.bars.barWidth;break;default:ce=-L.bars.barWidth/2}var pe=L.bars.fill?function(Q,be){return ht(L.bars,L.color,Q,be)}:null;ue(L.datapoints,ce,ce+L.bars.barWidth,pe,L.xaxis,L.yaxis),b.restore()}function ht(L,ue,ce,pe){var he=L.fill;if(!he)return null;if(L.fillColor)return et(L.fillColor,ce,pe,ue);var Q=t.color.parse(ue);return Q.a=typeof he=="number"?he:.4,Q.normalize(),Q.toString()}function at(){if(f.legend.container!=null?t(f.legend.container).html(""):s.find(".legend").remove(),!!f.legend.show){for(var L=[],ue=[],ce=!1,pe=f.legend.labelFormatter,he,Q,be=0;be<h.length;++be)he=h[be],he.label&&(Q=pe?pe(he.label,he):he.label,Q&&ue.push({label:Q,color:he.color}));if(f.legend.sorted)if(t.isFunction(f.legend.sorted))ue.sort(f.legend.sorted);else if(f.legend.sorted=="reverse")ue.reverse();else{var Ce=f.legend.sorted!="descending";ue.sort(function(Dt,Ht){return Dt.label==Ht.label?0:Dt.label<Ht.label!=Ce?1:-1})}for(var be=0;be<ue.length;++be){var xe=ue[be];be%f.legend.noColumns==0&&(ce&&L.push("</tr>"),L.push("<tr>"),ce=!0),L.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+xe.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+xe.label+"</td>")}if(ce&&L.push("</tr>"),L.length!=0){var Ge='<table style="font-size:smaller;color:'+f.grid.color+'">'+L.join("")+"</table>";if(f.legend.container!=null)t(f.legend.container).html(Ge);else{var Be="",Ke=f.legend.position,Pt=f.legend.margin;Pt[0]==null&&(Pt=[Pt,Pt]),Ke.charAt(0)=="n"?Be+="top:"+(Pt[1]+T.top)+"px;":Ke.charAt(0)=="s"&&(Be+="bottom:"+(Pt[1]+T.bottom)+"px;"),Ke.charAt(1)=="e"?Be+="right:"+(Pt[0]+T.right)+"px;":Ke.charAt(1)=="w"&&(Be+="left:"+(Pt[0]+T.left)+"px;");var At=t('<div class="legend">'+Ge.replace('style="','style="position:absolute;'+Be+";")+"</div>").appendTo(s);if(f.legend.backgroundOpacity!=0){var Et=f.legend.backgroundColor;Et==null&&(Et=f.grid.backgroundColor,Et&&typeof Et=="string"?Et=t.color.parse(Et):Et=t.color.extract(At,"background-color"),Et.a=1,Et=Et.toString());var Jt=At.children();t('<div style="position:absolute;width:'+Jt.width()+"px;height:"+Jt.height()+"px;"+Be+"background-color:"+Et+';"> </div>').prependTo(At).css("opacity",f.legend.backgroundOpacity)}}}}}var ut=[],qe=null;function ze(L,ue,ce){var pe=f.grid.mouseActiveRadius,he=pe*pe+1,Q=null,be=!1,Ce,xe,Ge;for(Ce=h.length-1;Ce>=0;--Ce)if(ce(h[Ce])){var Be=h[Ce],Ke=Be.xaxis,Pt=Be.yaxis,At=Be.datapoints.points,Et=Ke.c2p(L),Jt=Pt.c2p(ue),Dt=pe/Ke.scale,Ht=pe/Pt.scale;if(Ge=Be.datapoints.pointsize,Ke.options.inverseTransform&&(Dt=Number.MAX_VALUE),Pt.options.inverseTransform&&(Ht=Number.MAX_VALUE),Be.lines.show||Be.points.show)for(xe=0;xe<At.length;xe+=Ge){var Bt=At[xe],qt=At[xe+1];if(Bt!=null&&!(Bt-Et>Dt||Bt-Et<-Dt||qt-Jt>Ht||qt-Jt<-Ht)){var Zt=Math.abs(Ke.p2c(Bt)-L),un=Math.abs(Pt.p2c(qt)-ue),Rt=Zt*Zt+un*un;Rt<he&&(he=Rt,Q=[Ce,xe/Ge])}}if(Be.bars.show&&!Q){var rn,Qt;switch(Be.bars.align){case"left":rn=0;break;case"right":rn=-Be.bars.barWidth;break;default:rn=-Be.bars.barWidth/2}for(Qt=rn+Be.bars.barWidth,xe=0;xe<At.length;xe+=Ge){var Bt=At[xe],qt=At[xe+1],Tn=At[xe+2];Bt!=null&&(h[Ce].bars.horizontal?Et<=Math.max(Tn,Bt)&&Et>=Math.min(Tn,Bt)&&Jt>=qt+rn&&Jt<=qt+Qt:Et>=Bt+rn&&Et<=Bt+Qt&&Jt>=Math.min(Tn,qt)&&Jt<=Math.max(Tn,qt))&&(Q=[Ce,xe/Ge])}}}return Q?(Ce=Q[0],xe=Q[1],Ge=h[Ce].datapoints.pointsize,{datapoint:h[Ce].datapoints.points.slice(xe*Ge,(xe+1)*Ge),dataIndex:xe,series:h[Ce],seriesIndex:Ce}):null}function Fe(L){f.grid.hoverable&&bt("plothover",L,function(ue){return ue.hoverable!=!1})}function tt(L){f.grid.hoverable&&bt("plothover",L,function(ue){return!1})}function nt(L){bt("plotclick",L,function(ue){return ue.clickable!=!1})}function bt(L,ue,ce){var pe=w.offset(),he=ue.pageX-pe.left-T.left,Q=ue.pageY-pe.top-T.top,be=J({left:he,top:Q});be.pageX=ue.pageX,be.pageY=ue.pageY;var Ce=ze(he,Q,ce);if(Ce&&(Ce.pageX=parseInt(Ce.series.xaxis.p2c(Ce.datapoint[0])+pe.left+T.left,10),Ce.pageY=parseInt(Ce.series.yaxis.p2c(Ce.datapoint[1])+pe.top+T.top,10)),f.grid.autoHighlight){for(var xe=0;xe<ut.length;++xe){var Ge=ut[xe];Ge.auto==L&&!(Ce&&Ge.series==Ce.series&&Ge.point[0]==Ce.datapoint[0]&&Ge.point[1]==Ce.datapoint[1])&&ye(Ge.series,Ge.point)}Ce&&st(Ce.series,Ce.datapoint,L)}s.trigger(L,[be,Ce])}function wt(){var L=f.interaction.redrawOverlayInterval;if(L==-1){_t();return}qe||(qe=setTimeout(_t,L))}function _t(){qe=null,C.save(),x.clear(),C.translate(T.left,T.top);var L,ue;for(L=0;L<ut.length;++L)ue=ut[L],ue.series.bars.show?Ie(ue.series,ue.point):We(ue.series,ue.point);C.restore(),y(p.drawOverlay,[C])}function st(L,ue,ce){if(typeof L=="number"&&(L=h[L]),typeof ue=="number"){var pe=L.datapoints.pointsize;ue=L.datapoints.points.slice(pe*ue,pe*(ue+1))}var he=N(L,ue);he==-1?(ut.push({series:L,point:ue,auto:ce}),wt()):ce||(ut[he].auto=!1)}function ye(L,ue){if(L==null&&ue==null){ut=[],wt();return}if(typeof L=="number"&&(L=h[L]),typeof ue=="number"){var ce=L.datapoints.pointsize;ue=L.datapoints.points.slice(ce*ue,ce*(ue+1))}var pe=N(L,ue);pe!=-1&&(ut.splice(pe,1),wt())}function N(L,ue){for(var ce=0;ce<ut.length;++ce){var pe=ut[ce];if(pe.series==L&&pe.point[0]==ue[0]&&pe.point[1]==ue[1])return ce}return-1}function We(L,ue){var ce=ue[0],pe=ue[1],he=L.xaxis,Q=L.yaxis,be=typeof L.highlightColor=="string"?L.highlightColor:t.color.parse(L.color).scale("a",.5).toString();if(!(ce<he.min||ce>he.max||pe<Q.min||pe>Q.max)){var Ce=L.points.radius+L.points.lineWidth/2;C.lineWidth=Ce,C.strokeStyle=be;var xe=1.5*Ce;ce=he.p2c(ce),pe=Q.p2c(pe),C.beginPath(),L.points.symbol=="circle"?C.arc(ce,pe,xe,0,2*Math.PI,!1):L.points.symbol(C,ce,pe,xe,!1),C.closePath(),C.stroke()}}function Ie(L,ue){var ce=typeof L.highlightColor=="string"?L.highlightColor:t.color.parse(L.color).scale("a",.5).toString(),pe=ce,he;switch(L.bars.align){case"left":he=0;break;case"right":he=-L.bars.barWidth;break;default:he=-L.bars.barWidth/2}C.lineWidth=L.bars.lineWidth,C.strokeStyle=ce,Te(ue[0],ue[1],ue[2]||0,he,he+L.bars.barWidth,function(){return pe},L.xaxis,L.yaxis,C,L.bars.horizontal,L.bars.lineWidth)}function et(L,ue,ce,pe){if(typeof L=="string")return L;for(var he=b.createLinearGradient(0,ce,0,ue),Q=0,be=L.colors.length;Q<be;++Q){var Ce=L.colors[Q];if(typeof Ce!="string"){var xe=t.color.parse(pe);Ce.brightness!=null&&(xe=xe.scale("rgb",Ce.brightness)),Ce.opacity!=null&&(xe.a*=Ce.opacity),Ce=xe.toString()}he.addColorStop(Q/(be-1),Ce)}return he}},o=function(s,r){return r*Math.floor(s/r)},u=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(l,s){if(l<=0||s<=0)throw new Error("Invalid dimensions for plot, width = "+l+", height = "+s);var r=this.element,d=this.context,c=this.pixelRatio;this.width!=l&&(r.width=l*c,r.style.width=l+"px",this.width=l),this.height!=s&&(r.height=s*c,r.style.height=s+"px",this.height=s),d.restore(),d.save(),d.scale(c,c)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var l=this._textCache;for(var s in l)if(u.call(l,s)){var r=this.getTextLayer(s),d=l[s];r.hide();for(var c in d)if(u.call(d,c)){var h=d[c];for(var f in h)if(u.call(h,f)){for(var v=h[f].positions,x=0,w;w=v[x];x++)w.active?w.rendered||(r.append(w.element),w.rendered=!0):(v.splice(x--,1),w.rendered&&w.element.detach());v.length==0&&delete h[f]}}r.show()}},e.prototype.getTextLayer=function(l){var s=this.text[l];return s==null&&(this.textContainer==null&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),s=this.text[l]=t("<div></div>").addClass(l).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),s},e.prototype.getTextInfo=function(l,s,r,d,c){var h,f,v,x;if(s=""+s,typeof r=="object"?h=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:h=r,f=this._textCache[l],f==null&&(f=this._textCache[l]={}),v=f[h],v==null&&(v=f[h]={}),x=v[s],x==null){var w=t("<div></div>").html(s).css({position:"absolute","max-width":c,top:-9999}).appendTo(this.getTextLayer(l));typeof r=="object"?w.css({font:h,color:r.color}):typeof r=="string"&&w.addClass(r),x=v[s]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return x},e.prototype.addText=function(l,s,r,d,c,h,f,v,x){var w=this.getTextInfo(l,d,c,h,f),b=w.positions;v=="center"?s-=w.width/2:v=="right"&&(s-=w.width),x=="middle"?r-=w.height/2:x=="bottom"&&(r-=w.height);for(var C=0,P;P=b[C];C++)if(P.x==s&&P.y==r){P.active=!0;return}P={active:!0,rendered:!1,element:b.length?w.element.clone():w.element,x:s,y:r},b.push(P),P.element.css({top:Math.round(r),left:Math.round(s),"text-align":v})},e.prototype.removeText=function(l,s,r,d,c,h){if(d==null){var f=this._textCache[l];if(f!=null){for(var v in f)if(u.call(f,v)){var x=f[v];for(var w in x)if(u.call(x,w))for(var b=x[w].positions,C=0,P;P=b[C];C++)P.active=!1}}}else for(var b=this.getTextInfo(l,d,c,h).positions,C=0,P;P=b[C];C++)P.x==s&&P.y==r&&(P.active=!1)},t.plot=function(l,s,r){var d=new n(t(l),s,r,t.plot.plugins);return d},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(l,s){return this.each(function(){t.plot(this,l,s)})}}(jQuery)}),b_=m_(y_());var S;Vn=b_,S=Vn,Bp=S.default,w_=xi(Vn,["default"]),__=Bp!==void 0?Bp:w_}}),x_={};qr(x_,{default:function(){return __}});var D8=Tt({"https-url:https://esm.archive.org/flot@%5E0.8.0":function(){k_(),k_()}}),S_,Np,A_,C_,O_,j_,E_,P_,T_,I_,M_,Vn,zp,R_,L_,D_=Tt({"https-url:https://esm.archive.org/v99/flot@0.8.3/deno/jquery.flot.time.js":function(){S_=Object.create,Np=Object.defineProperty,A_=Object.getOwnPropertyDescriptor,C_=Object.getOwnPropertyNames,O_=Object.getPrototypeOf,j_=Object.prototype.hasOwnProperty,E_=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},P_=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!j_.call(t,v)&&v!==n&&Np(t,v,{get:function(){return e[v]},enumerable:!(o=A_(e,v))||o.enumerable})},d=C_(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},T_=function(t,e,n){return n=t!=null?S_(O_(t)):{},P_(e||!t||!t.__esModule?Np(n,"default",{value:t,enumerable:!0}):n,t)},I_=E_(function(){(function(t){var e=function(v,x){return x*Math.floor(v/x)},n=function(v,x,w,b){if(typeof v.strftime=="function")return v.strftime(x);var C=function(_,j){return _=""+_,j=""+(j!=null?j:"0"),_.length==1?j+_:_},P=[],E=!1,T=v.getHours(),m=T<12;w==null&&(w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),b==null&&(b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var a;T>12?a=T-12:T==0?a=12:a=T;for(var p=0;p<x.length;++p){var g=x.charAt(p);if(E){switch(g){case"a":g=""+b[v.getDay()];break;case"b":g=""+w[v.getMonth()];break;case"d":g=C(v.getDate());break;case"e":g=C(v.getDate()," ");break;case"h":case"H":g=C(T);break;case"I":g=C(a);break;case"l":g=C(a," ");break;case"m":g=C(v.getMonth()+1);break;case"M":g=C(v.getMinutes());break;case"q":g=""+(Math.floor(v.getMonth()/3)+1);break;case"S":g=C(v.getSeconds());break;case"y":g=C(v.getFullYear()%100);break;case"Y":g=""+v.getFullYear();break;case"p":g=m?"am":"pm";break;case"P":g=m?"AM":"PM";break;case"w":g=""+v.getDay();break}P.push(g),E=!1}else g=="%"?E=!0:P.push(g)}return P.join("")},o=function(v){function x(P,E,T,m){P[E]=function(){return T[m].apply(T,arguments)}}var w={date:v};v.strftime!=null&&x(w,"strftime",v,"strftime"),x(w,"getTime",v,"getTime"),x(w,"setTime",v,"setTime");for(var b=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],C=0;C<b.length;C++)x(w,"get"+b[C],v,"getUTC"+b[C]),x(w,"set"+b[C],v,"setUTC"+b[C]);return w},u=function(v,x){if(x.timezone=="browser")return new Date(v);if(!x.timezone||x.timezone=="utc")return o(new Date(v));if((typeof timezoneJS=="undefined"?"undefined":_typeof(timezoneJS))<"u"&&_typeof(timezoneJS.Date)<"u"){var w=new timezoneJS.Date;return w.setTimezone(x.timezone),w.setTime(v),w}else return o(new Date(v))},l=function(v){v.hooks.processOptions.push(function(x,w){t.each(x.getAxes(),function(b,C){var P=C.options;P.mode=="time"&&(C.tickGenerator=function(E){var T=[],m=u(E.min,P),a=0,p=P.tickSize&&P.tickSize[1]==="quarter"||P.minTickSize&&P.minTickSize[1]==="quarter"?h:c;P.minTickSize!=null&&(typeof P.tickSize=="number"?a=P.tickSize:a=P.minTickSize[0]*r[P.minTickSize[1]]);for(var g=0;g<p.length-1&&!(E.delta<(p[g][0]*r[p[g][1]]+p[g+1][0]*r[p[g+1][1]])/2&&p[g][0]*r[p[g][1]]>=a);++g);var y=p[g][0],_=p[g][1];if(_=="year"){if(P.minTickSize!=null&&P.minTickSize[1]=="year")y=Math.floor(P.minTickSize[0]);else{var j=Math.pow(10,Math.floor(Math.log(E.delta/r.year)/Math.LN10)),R=E.delta/r.year/j;R<1.5?y=1:R<3?y=2:R<7.5?y=5:y=10,y*=j}y<1&&(y=1)}E.tickSize=P.tickSize||[y,_];var D=E.tickSize[0];_=E.tickSize[1];var H=D*r[_];_=="second"?m.setSeconds(e(m.getSeconds(),D)):_=="minute"?m.setMinutes(e(m.getMinutes(),D)):_=="hour"?m.setHours(e(m.getHours(),D)):_=="month"?m.setMonth(e(m.getMonth(),D)):_=="quarter"?m.setMonth(3*e(m.getMonth()/3,D)):_=="year"&&m.setFullYear(e(m.getFullYear(),D)),m.setMilliseconds(0),H>=r.minute&&m.setSeconds(0),H>=r.hour&&m.setMinutes(0),H>=r.day&&m.setHours(0),H>=r.day*4&&m.setDate(1),H>=r.month*2&&m.setMonth(e(m.getMonth(),3)),H>=r.quarter*2&&m.setMonth(e(m.getMonth(),6)),H>=r.year&&m.setMonth(0);var K=0,J=Number.NaN,F;do if(F=J,J=m.getTime(),T.push(J),_=="month"||_=="quarter")if(D<1){m.setDate(1);var de=m.getTime();m.setMonth(m.getMonth()+(_=="quarter"?3:1));var re=m.getTime();m.setTime(J+K*r.hour+(re-de)*D),K=m.getHours(),m.setHours(0)}else m.setMonth(m.getMonth()+D*(_=="quarter"?3:1));else _=="year"?m.setFullYear(m.getFullYear()+D):m.setTime(J+H);while(J<E.max&&J!=F);return T},C.tickFormatter=function(E,T){var m=u(E,T.options);if(P.timeformat!=null)return n(m,P.timeformat,P.monthNames,P.dayNames);var a=T.options.tickSize&&T.options.tickSize[1]=="quarter"||T.options.minTickSize&&T.options.minTickSize[1]=="quarter",p=T.tickSize[0]*r[T.tickSize[1]],g=T.max-T.min,y=P.twelveHourClock?" %p":"",_=P.twelveHourClock?"%I":"%H",j;p<r.minute?j=_+":%M:%S"+y:p<r.day?g<2*r.day?j=_+":%M"+y:j="%b %d "+_+":%M"+y:p<r.month?j="%b %d":a&&p<r.quarter||!a&&p<r.year?g<r.year?j="%b":j="%b %Y":a&&p<r.year?g<r.year?j="Q%q":j="Q%q %Y":j="%Y";var R=n(m,j,P.monthNames,P.dayNames);return R})})})},s={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},r={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},d=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=d.concat([[3,"month"],[6,"month"],[1,"year"]]),h=d.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:l,options:s,name:"time",version:"1.0"}),t.plot.formatDate=n,t.plot.dateGenerator=u})(jQuery)}),M_=T_(I_());var S;Vn=M_,S=Vn,zp=S.default,R_=xi(Vn,["default"]),L_=zp!==void 0?zp:R_}}),$_={};qr($_,{default:function(){return L_}});var $8=Tt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.time.js":function(){D_(),D_()}}),B_,Hp,N_,z_,H_,F_,U_,V_,W_,q_,G_,Vn,Fp,Y_,X_,K_=Tt({"https-url:https://esm.archive.org/v99/flot@0.8.3/deno/jquery.flot.stack.js":function(){B_=Object.create,Hp=Object.defineProperty,N_=Object.getOwnPropertyDescriptor,z_=Object.getOwnPropertyNames,H_=Object.getPrototypeOf,F_=Object.prototype.hasOwnProperty,U_=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},V_=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!F_.call(t,v)&&v!==n&&Hp(t,v,{get:function(){return e[v]},enumerable:!(o=N_(e,v))||o.enumerable})},d=z_(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},W_=function(t,e,n){return n=t!=null?B_(H_(t)):{},V_(e||!t||!t.__esModule?Hp(n,"default",{value:t,enumerable:!0}):n,t)},q_=U_(function(){(function(t){var e=function(u){function l(r,d){for(var c=null,h=0;h<d.length&&r!=d[h];++h)d[h].stack==r.stack&&(c=d[h]);return c}function s(r,d,c){if(!(d.stack==null||d.stack===!1)){var h=l(d,r.getData());if(h){for(var f=c.pointsize,v=c.points,x=h.datapoints.pointsize,w=h.datapoints.points,b=[],C,P,E,T,m,a,p=d.lines.show,g=d.bars.horizontal,y=f>2&&(g?c.format[2].x:c.format[2].y),_=p&&d.lines.steps,j=!0,R=g?1:0,D=g?0:1,H=0,K=0,J,F;!(H>=v.length);){if(J=b.length,v[H]==null){for(F=0;F<f;++F)b.push(v[H+F]);H+=f}else if(K>=w.length){if(!p)for(F=0;F<f;++F)b.push(v[H+F]);H+=f}else if(w[K]==null){for(F=0;F<f;++F)b.push(null);j=!0,K+=x}else{if(C=v[H+R],P=v[H+D],T=w[K+R],m=w[K+D],a=0,C==T){for(F=0;F<f;++F)b.push(v[H+F]);b[J+D]+=m,a=m,H+=f,K+=x}else if(C>T){if(p&&H>0&&v[H-f]!=null){for(E=P+(v[H-f+D]-P)*(T-C)/(v[H-f+R]-C),b.push(T),b.push(E+m),F=2;F<f;++F)b.push(v[H+F]);a=m}K+=x}else{if(j&&p){H+=f;continue}for(F=0;F<f;++F)b.push(v[H+F]);p&&K>0&&w[K-x]!=null&&(a=m+(w[K-x+D]-m)*(C-T)/(w[K-x+R]-T)),b[J+D]+=a,H+=f}j=!1,J!=b.length&&y&&(b[J+2]+=a)}if(_&&J!=b.length&&J>0&&b[J]!=null&&b[J]!=b[J-f]&&b[J+1]!=b[J-f+1]){for(F=0;F<f;++F)b[J+f+F]=b[J+F];b[J+1]=b[J-f+1]}}c.points=b}}}u.hooks.processDatapoints.push(s)},n={series:{stack:null}};t.plot.plugins.push({init:e,options:n,name:"stack",version:"1.2"})})(jQuery)}),G_=W_(q_());var S;Vn=G_,S=Vn,Fp=S.default,Y_=xi(Vn,["default"]),X_=Fp!==void 0?Fp:Y_}}),J_={};qr(J_,{default:function(){return X_}});var B8=Tt({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.stack.js":function(){K_(),K_()}}),Q_,Up,Z_,e1,t1,n1,N8,r1,i1,o1,a1,s1,Vn,Vp,l1,u1,c1=Tt({"https-url:https://esm.archive.org/v99/tablesorter@2.31.3/X-ZC9qcXVlcnlAMy42LjE/deno/tablesorter.js":function(){Jf(),Q_=Object.create,Up=Object.defineProperty,Z_=Object.getOwnPropertyDescriptor,e1=Object.getOwnPropertyNames,t1=Object.getPrototypeOf,n1=Object.prototype.hasOwnProperty,N8=function(t){return(typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u"?Pi:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u"?Pi:e)[n]}}):t}(function(t){if((typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u")return Pi.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),r1=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},i1=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!n1.call(t,v)&&v!==n&&Up(t,v,{get:function(){return e[v]},enumerable:!(o=Z_(e,v))||o.enumerable})},d=e1(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},o1=function(t,e,n){return n=t!=null?Q_(t1(t)):{},i1(e||!t||!t.__esModule?Up(n,"default",{value:t,enumerable:!0}):n,t)},a1=r1(function(t,e){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof e=="object"&&typeof e.exports=="object"?e.exports=n(ee):n(jQuery)})(function(n){return function(o){"use strict";var u=o.tablesorter={version:"2.31.3",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(s,r){if(!s||!s.tHead||s.tBodies.length===0||s.hasInitialized===!0){u.debug(r,"core")&&(s.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",s));return}var d="",c=o(s),h=o.metadata;s.hasInitialized=!1,s.isProcessing=!0,s.config=r,o.data(s,"tablesorter",r),u.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+u.version),o.data(s,"startoveralltimer",new Date)),r.supportsDataObject=function(f){return f[0]=parseInt(f[0],10),f[0]>1||f[0]===1&&parseInt(f[1],10)>=4}(o.fn.jquery.split(".")),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(c.attr("class"))||(d=r.theme!==""?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(u.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=s,r.$table=c.addClass(u.css.table+" "+r.tableClass+d+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=c.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=c.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(d=r.$table.children("caption")[0],d.id||(d.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",d.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",u.buildHeaders(r),u.fixColumnWidth(s),u.addWidgetFromClass(s),u.applyWidgetOptions(s),u.setupParsers(r),r.totalRows=0,r.debug&&u.validateOptions(r),r.delayInit||u.buildCache(r),u.bindEvents(s,r.$headers,!0),u.bindMethods(r),r.supportsDataObject&&_typeof(c.data().sortlist)<"u"?r.sortList=c.data().sortlist:h&&c.metadata()&&c.metadata().sortlist&&(r.sortList=c.metadata().sortlist),u.applyWidget(s,!0),r.sortList.length>0?(r.last.sortList=r.sortList,u.sortOn(r,r.sortList,{},!r.initWidgets)):(u.setHeadersCss(r),r.initWidgets&&u.applyWidget(s,!1)),r.showProcessing&&c.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(f){clearTimeout(r.timerProcessing),u.isProcessing(s),f.type==="sortBegin"&&(r.timerProcessing=setTimeout(function(){u.isProcessing(s,!0)},500))}),s.hasInitialized=!0,s.isProcessing=!1,u.debug(r,"core")&&(console.log("Overall initialization time:"+u.benchmark(o.data(s,"startoveralltimer"))),u.debug(r,"core")&&console.groupEnd&&console.groupEnd()),c.triggerHandler("tablesorter-initialized",s),typeof r.initialized=="function"&&r.initialized(s)},bindMethods:function(s){var r=s.$table,d=s.namespace,c="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(d+" ");r.unbind(c.replace(u.regex.spaces," ")).bind("sortReset"+d,function(h,f){h.stopPropagation(),u.sortReset(this.config,function(v){v.isApplyingWidgets?setTimeout(function(){u.applyWidget(v,"",f)},100):u.applyWidget(v,"",f)})}).bind("updateAll"+d,function(h,f,v){h.stopPropagation(),u.updateAll(this.config,f,v)}).bind("update"+d+" updateRows"+d,function(h,f,v){h.stopPropagation(),u.update(this.config,f,v)}).bind("updateHeaders"+d,function(h,f){h.stopPropagation(),u.updateHeaders(this.config,f)}).bind("updateCell"+d,function(h,f,v,x){h.stopPropagation(),u.updateCell(this.config,f,v,x)}).bind("addRows"+d,function(h,f,v,x){h.stopPropagation(),u.addRows(this.config,f,v,x)}).bind("updateComplete"+d,function(){this.isUpdating=!1}).bind("sorton"+d,function(h,f,v,x){h.stopPropagation(),u.sortOn(this.config,f,v,x)}).bind("appendCache"+d,function(h,f,v){h.stopPropagation(),u.appendCache(this.config,v),o.isFunction(f)&&f(this)}).bind("updateCache"+d,function(h,f,v){h.stopPropagation(),u.updateCache(this.config,f,v)}).bind("applyWidgetId"+d,function(h,f){h.stopPropagation(),u.applyWidgetId(this,f)}).bind("applyWidgets"+d,function(h,f){h.stopPropagation(),u.applyWidget(this,!1,f)}).bind("refreshWidgets"+d,function(h,f,v){h.stopPropagation(),u.refreshWidgets(this,f,v)}).bind("removeWidget"+d,function(h,f,v){h.stopPropagation(),u.removeWidget(this,f,v)}).bind("destroy"+d,function(h,f,v){h.stopPropagation(),u.destroy(this,f,v)}).bind("resetToLoadState"+d,function(h){h.stopPropagation(),u.removeWidget(this,!0,!1);var f=o.extend(!0,{},s.originalSettings);s=o.extend(!0,{},u.defaults,f),s.originalSettings=f,this.hasInitialized=!1,u.setup(this,s)})},bindEvents:function(s,r,d){s=o(s)[0];var c,h=s.config,f=h.namespace,v=null;d!==!0&&(r.addClass(f.slice(1)+"_extra_headers"),c=u.getClosest(r,"table"),c.length&&c[0].nodeName==="TABLE"&&c[0]!==s&&o(c[0]).addClass(f.slice(1)+"_extra_table")),c=(h.pointerDown+" "+h.pointerUp+" "+h.pointerClick+" sort keyup ").replace(u.regex.spaces," ").split(" ").join(f+" "),r.find(h.selectorSort).add(r.filter(h.selectorSort)).unbind(c).bind(c,function(x,w){var b,C,P,E=o(x.target),T=" "+x.type+" ";if(!((x.which||x.button)!==1&&!T.match(" "+h.pointerClick+" | sort | keyup ")||T===" keyup "&&x.which!==u.keyCodes.enter||T.match(" "+h.pointerClick+" ")&&_typeof(x.which)<"u")&&!(T.match(" "+h.pointerUp+" ")&&v!==x.target&&w!==!0)){if(T.match(" "+h.pointerDown+" ")){v=x.target,P=E.jquery.split("."),P[0]==="1"&&P[1]<4&&x.preventDefault();return}if(v=null,b=u.getClosest(o(this),"."+u.css.header),u.regex.formElements.test(x.target.nodeName)||E.hasClass(h.cssNoSort)||E.parents("."+h.cssNoSort).length>0||b.hasClass("sorter-false")||E.parents("button").length>0)return!h.cancelSelection;h.delayInit&&u.isEmptyObject(h.cache)&&u.buildCache(h),h.last.clickedIndex=b.attr("data-column")||b.index(),C=h.$headerIndexed[h.last.clickedIndex][0],C&&!C.sortDisabled&&u.initSort(h,C,x)}}),h.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(s){var r,d,c,h;for(s.headerList=[],s.headerContent=[],s.sortVars=[],u.debug(s,"core")&&(c=new Date),s.columns=u.computeColumnIndex(s.$table.children("thead, tfoot").children("tr")),d=s.cssIcon?'<i class="'+(s.cssIcon===u.css.icon?u.css.icon:s.cssIcon+" "+u.css.icon)+'"></i>':"",s.$headers=o(o.map(s.$table.find(s.selectorHeaders),function(f,v){var x,w,b,C,P,E=o(f);if(!u.getClosest(E,"tr").hasClass(s.cssIgnoreRow))return/(th|td)/i.test(f.nodeName)||(P=u.getClosest(E,"th, td"),E.attr("data-column",P.attr("data-column"))),x=u.getColumnData(s.table,s.headers,v,!0),s.headerContent[v]=E.html(),s.headerTemplate!==""&&!E.find("."+u.css.headerIn).length&&(C=s.headerTemplate.replace(u.regex.templateContent,E.html()).replace(u.regex.templateIcon,E.find("."+u.css.icon).length?"":d),s.onRenderTemplate&&(w=s.onRenderTemplate.apply(E,[v,C]),w&&typeof w=="string"&&(C=w)),E.html('<div class="'+u.css.headerIn+'">'+C+"</div>")),s.onRenderHeader&&s.onRenderHeader.apply(E,[v,s,s.$table]),b=parseInt(E.attr("data-column"),10),f.column=b,P=u.getOrder(u.getData(E,x,"sortInitialOrder")||s.sortInitialOrder),s.sortVars[b]={count:-1,order:P?s.sortReset?[1,0,2]:[1,0]:s.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},P=u.getData(E,x,"lockedOrder")||!1,(typeof P=="undefined"?"undefined":_typeof(P))<"u"&&P!==!1&&(s.sortVars[b].lockedOrder=!0,s.sortVars[b].order=u.getOrder(P)?[1,1]:[0,0]),s.headerList[v]=f,E.addClass(u.css.header+" "+s.cssHeader),u.getClosest(E,"tr").addClass(u.css.headerRow+" "+s.cssHeaderRow).attr("role","row"),s.tabIndex&&E.attr("tabindex",0),f})),s.$headerIndexed=[],h=0;h<s.columns;h++)u.isEmptyObject(s.sortVars[h])&&(s.sortVars[h]={}),r=s.$headers.filter('[data-column="'+h+'"]'),s.$headerIndexed[h]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):o();s.$table.find(s.selectorHeaders).attr({scope:"col",role:"columnheader"}),u.updateHeader(s),u.debug(s,"core")&&(console.log("Built headers:"+u.benchmark(c)),console.log(s.$headers))},addInstanceMethods:function(s){o.extend(u.instanceMethods,s)},setupParsers:function(s,r){var d,c,h,f,v,x,w,b,C,P,E,T,m,a,p=s.table,g=0,y=u.debug(s,"core"),_={};if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),m=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.$tbodies:r,a=m.length,a===0)return y?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(y&&(T=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),c={extractors:[],parsers:[]};g<a;){if(d=m[g].rows,d.length)for(v=0,f=s.columns,x=0;x<f;x++){if(w=s.$headerIndexed[v],w&&w.length&&(b=u.getColumnData(p,s.headers,v),E=u.getParserById(u.getData(w,b,"extractor")),P=u.getParserById(u.getData(w,b,"sorter")),C=u.getData(w,b,"parser")==="false",s.empties[v]=(u.getData(w,b,"empty")||s.emptyTo||(s.emptyToBottom?"bottom":"top")).toLowerCase(),s.strings[v]=(u.getData(w,b,"string")||s.stringTo||"max").toLowerCase(),C&&(P=u.getParserById("no-parser")),E||(E=!1),P||(P=u.detectParserForColumn(s,d,-1,v)),y&&(_["("+v+") "+w.text()]={parser:P.id,extractor:E?E.id:"none",string:s.strings[v],empty:s.empties[v]}),c.parsers[v]=P,c.extractors[v]=E,h=w[0].colSpan-1,h>0))for(v+=h,f+=h;h+1>0;)c.parsers[v-h]=P,c.extractors[v-h]=E,h--;v++}g+=c.parsers.length?a:1}y&&(u.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+u.benchmark(T)),console.groupEnd&&console.groupEnd()),s.parsers=c.parsers,s.extractors=c.extractors},addParser:function(s){var r,d=u.parsers.length,c=!0;for(r=0;r<d;r++)u.parsers[r].id.toLowerCase()===s.id.toLowerCase()&&(c=!1);c&&(u.parsers[u.parsers.length]=s)},getParserById:function(s){if(s=="false")return!1;var r,d=u.parsers.length;for(r=0;r<d;r++)if(u.parsers[r].id.toLowerCase()===s.toString().toLowerCase())return u.parsers[r];return!1},detectParserForColumn:function(s,r,d,c){for(var h,f,v,x=u.parsers.length,w=!1,b="",C=u.debug(s,"core"),P=!0;b===""&&P;)d++,v=r[d],v&&d<50?v.className.indexOf(u.cssIgnoreRow)<0&&(w=r[d].cells[c],b=u.getElementText(s,w,c),f=o(w),C&&console.log("Checking if value was empty on row "+d+", column: "+c+': "'+b+'"')):P=!1;for(;--x>=0;)if(h=u.parsers[x],h&&h.id!=="text"&&h.is&&h.is(b,s.table,w,f))return h;return u.getParserById("text")},getElementText:function(s,r,d){if(!r)return"";var c,h=s.textExtraction||"",f=r.jquery?r:o(r);return typeof h=="string"?h==="basic"&&_typeof(c=f.attr(s.textAttribute))<"u"?o.trim(c):o.trim(r.textContent||f.text()):typeof h=="function"?o.trim(h(f[0],s.table,d)):typeof(c=u.getColumnData(s.table,h,d))=="function"?o.trim(c(f[0],s.table,d)):o.trim(f[0].textContent||f.text())},getParsedText:function(s,r,d,c){(typeof c=="undefined"?"undefined":_typeof(c))>"u"&&(c=u.getElementText(s,r,d));var h=""+c,f=s.parsers[d],v=s.extractors[d];return f&&(v&&typeof v.format=="function"&&(c=v.format(c,s.table,r,d)),h=f.id==="no-parser"?"":f.format(""+c,s.table,r,d),s.ignoreCase&&typeof h=="string"&&(h=h.toLowerCase())),h},buildCache:function(s,r,d){var c,h,f,v,x,w,b,C,P,E,T,m,a,p,g,y,_,j,R,D,H,K,J=s.table,F=s.parsers,de=u.debug(s,"core");if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),b=(typeof d=="undefined"?"undefined":_typeof(d))>"u"?s.$tbodies:d,s.cache={},s.totalRows=0,!F)return de?console.warn("Warning: *Empty table!* Not building a cache"):"";for(de&&(m=new Date),s.showProcessing&&u.isProcessing(J,!0),w=0;w<b.length;w++){for(y=[],c=s.cache[w]={normalized:[]},a=b[w]&&b[w].rows.length||0,v=0;v<a;++v)if(p={child:[],raw:[]},C=o(b[w].rows[v]),P=[],!C.hasClass(s.selectorRemove.slice(1))){if(C.hasClass(s.cssChildRow)&&v!==0){for(H=c.normalized.length-1,g=c.normalized[H][s.columns],g.$row=g.$row.add(C),C.prev().hasClass(s.cssChildRow)||C.prev().addClass(u.css.cssHasChild),E=C.children("th, td"),H=g.child.length,g.child[H]=[],j=0,D=s.columns,x=0;x<D;x++)T=E[x],T&&(g.child[H][x]=u.getParsedText(s,T,x),_=E[x].colSpan-1,_>0&&(j+=_,D+=_)),j++;continue}for(p.$row=C,p.order=v,j=0,D=s.columns,x=0;x<D;++x){if(T=C[0].cells[x],T&&j<s.columns&&(R=_typeof(F[j])<"u",!R&&de&&console.warn("No parser found for row: "+v+", column: "+x+'; cell containing: "'+o(T).text()+'"; does it have a header?'),h=u.getElementText(s,T,j),p.raw[j]=h,f=u.getParsedText(s,T,j,h),P[j]=f,R&&(F[j].type||"").toLowerCase()==="numeric"&&(y[j]=Math.max(Math.abs(f)||0,y[j]||0)),_=T.colSpan-1,_>0)){for(K=0;K<=_;)f=s.duplicateSpan||K===0?f:typeof s.textExtraction!="string"&&u.getElementText(s,T,j+K)||"",p.raw[j+K]=f,P[j+K]=f,K++;j+=_,D+=_}j++}P[s.columns]=p,c.normalized[c.normalized.length]=P}c.colMax=y,s.totalRows+=c.normalized.length}if(s.showProcessing&&u.isProcessing(J),de){for(H=Math.min(5,s.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+s.totalRows+" rows (showing "+H+" rows in log) and "+s.columns+" columns"+u.benchmark(m)),h={},x=0;x<s.columns;x++)for(j=0;j<H;j++)h["row: "+j]||(h["row: "+j]={}),h["row: "+j][s.$headerIndexed[x].text()]=s.cache[0].normalized[j][x];console[console.table?"table":"log"](h),console.groupEnd&&console.groupEnd()}o.isFunction(r)&&r(J)},getColumnText:function(s,r,d,c){s=o(s)[0];var h,f,v,x,w,b,C,P,E,T,m=typeof d=="function",a=r==="all",p={raw:[],parsed:[],$cell:[]},g=s.config;if(u.isEmptyObject(g))u.debug(g,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(w=g.$tbodies.length,h=0;h<w;h++)for(v=g.cache[h].normalized,b=v.length,f=0;f<b;f++)x=v[f],!(c&&!x[g.columns].$row.is(c))&&(T=!0,P=a?x.slice(0,g.columns):x[r],x=x[g.columns],C=a?x.raw:x.raw[r],E=a?x.$row.children():x.$row.children().eq(r),m&&(T=d({tbodyIndex:h,rowIndex:f,parsed:P,raw:C,$row:x.$row,$cell:E})),T!==!1&&(p.parsed[p.parsed.length]=P,p.raw[p.raw.length]=C,p.$cell[p.$cell.length]=E));return p}},setHeadersCss:function(s){var r,d,c=s.sortList,h=c.length,f=u.css.sortNone+" "+s.cssNone,v=[u.css.sortAsc+" "+s.cssAsc,u.css.sortDesc+" "+s.cssDesc],x=[s.cssIconAsc,s.cssIconDesc,s.cssIconNone],w=["ascending","descending"],b=function(T,m){T.removeClass(f).addClass(v[m]).attr("aria-sort",w[m]).find("."+u.css.icon).removeClass(x[2]).addClass(x[m])},C=s.$table.find("tfoot tr").children("td, th").add(o(s.namespace+"_extra_headers")).removeClass(v.join(" ")),P=s.$headers.add(o("thead "+s.namespace+"_extra_headers")).removeClass(v.join(" ")).addClass(f).attr("aria-sort","none").find("."+u.css.icon).removeClass(x.join(" ")).end();for(P.not(".sorter-false").find("."+u.css.icon).addClass(x[2]),s.cssIconDisabled&&P.filter(".sorter-false").find("."+u.css.icon).addClass(s.cssIconDisabled),r=0;r<h;r++)if(c[r][1]!==2){if(P=s.$headers.filter(function(E){for(var T=!0,m=s.$headers.eq(E),a=parseInt(m.attr("data-column"),10),p=a+u.getClosest(m,"th, td")[0].colSpan;a<p;a++)T=T?T||u.isValueInArray(a,s.sortList)>-1:!1;return T}),P=P.not(".sorter-false").filter('[data-column="'+c[r][0]+'"]'+(h===1?":last":"")),P.length)for(d=0;d<P.length;d++)P[d].sortDisabled||b(P.eq(d),c[r][1]);C.length&&b(C.filter('[data-column="'+c[r][0]+'"]'),c[r][1])}for(h=s.$headers.length,r=0;r<h;r++)u.setColumnAriaLabel(s,s.$headers.eq(r))},getClosest:function(s,r){return o.fn.closest?s.closest(r):s.is(r)?s:s.parents(r).filter(":first")},setColumnAriaLabel:function(s,r,d){if(r.length){var c=parseInt(r.attr("data-column"),10),h=s.sortVars[c],f=r.hasClass(u.css.sortAsc)?"sortAsc":r.hasClass(u.css.sortDesc)?"sortDesc":"sortNone",v=o.trim(r.text())+": "+u.language[f];r.hasClass("sorter-false")||d===!1?v+=u.language.sortDisabled:(f=(h.count+1)%h.order.length,d=h.order[f],v+=u.language[d===0?"nextAsc":d===1?"nextDesc":"nextNone"]),r.attr("aria-label",v),h.sortedBy?r.attr("data-sortedBy",h.sortedBy):r.removeAttr("data-sortedBy")}},updateHeader:function(s){var r,d,c,h,f=s.table,v=s.$headers.length;for(r=0;r<v;r++)c=s.$headers.eq(r),h=u.getColumnData(f,s.headers,r,!0),d=u.getData(c,h,"sorter")==="false"||u.getData(c,h,"parser")==="false",u.setColumnSort(s,c,d)},setColumnSort:function(s,r,d){var c=s.table.id;r[0].sortDisabled=d,r[d?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+d),s.tabIndex&&(d?r.removeAttr("tabindex"):r.attr("tabindex","0")),c&&(d?r.removeAttr("aria-controls"):r.attr("aria-controls",c))},updateHeaderSortCount:function(s,r){var d,c,h,f,v,x,w,b,C=r||s.sortList,P=C.length;for(s.sortList=[],f=0;f<P;f++)if(w=C[f],d=parseInt(w[0],10),d<s.columns){switch(s.sortVars[d].order||(u.getOrder(s.sortInitialOrder)?b=s.sortReset?[1,0,2]:[1,0]:b=s.sortReset?[0,1,2]:[0,1],s.sortVars[d].order=b,s.sortVars[d].count=0),b=s.sortVars[d].order,c=(""+w[1]).match(/^(1|d|s|o|n)/),c=c?c[0]:"",c){case"1":case"d":c=1;break;case"s":c=v||0;break;case"o":x=b[(v||0)%b.length],c=x===0?1:x===1?0:2;break;case"n":c=b[++s.sortVars[d].count%b.length];break;default:c=0;break}v=f===0?c:v,h=[d,parseInt(c,10)||0],s.sortList[s.sortList.length]=h,c=o.inArray(h[1],b),s.sortVars[d].count=c>=0?c:h[1]%b.length}},updateAll:function(s,r,d){var c=s.table;c.isUpdating=!0,u.refreshWidgets(c,!0,!0),u.buildHeaders(s),u.bindEvents(c,s.$headers,!0),u.bindMethods(s),u.commonUpdate(s,r,d)},update:function(s,r,d){var c=s.table;c.isUpdating=!0,u.updateHeader(s),u.commonUpdate(s,r,d)},updateHeaders:function(s,r){s.table.isUpdating=!0,u.buildHeaders(s),u.bindEvents(s.table,s.$headers,!0),u.resortComplete(s,r)},updateCell:function(s,r,d,c){if(o(r).closest("tr").hasClass(s.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(u.isEmptyObject(s.cache)){u.updateHeader(s),u.commonUpdate(s,d,c);return}s.table.isUpdating=!0,s.$table.find(s.selectorRemove).remove();var h,f,v,x,w,b,C=s.$tbodies,P=o(r),E=C.index(u.getClosest(P,"tbody")),T=s.cache[E],m=u.getClosest(P,"tr");if(r=P[0],C.length&&E>=0){if(v=C.eq(E).find("tr").not("."+s.cssChildRow).index(m),w=T.normalized[v],b=m[0].cells.length,b!==s.columns)for(x=0,h=!1,f=0;f<b;f++)!h&&m[0].cells[f]!==r?x+=m[0].cells[f].colSpan:h=!0;else x=P.index();h=u.getElementText(s,r,x),w[s.columns].raw[x]=h,h=u.getParsedText(s,r,x,h),w[x]=h,(s.parsers[x].type||"").toLowerCase()==="numeric"&&(T.colMax[x]=Math.max(Math.abs(h)||0,T.colMax[x]||0)),h=d!=="undefined"?d:s.resort,h!==!1?u.checkResort(s,h,c):u.resortComplete(s,c)}else u.debug(s,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),s.table.isUpdating=!1},addRows:function(s,r,d,c){var h,f,v,x,w,b,C,P,E,T,m,a,p,g=typeof r=="string"&&s.$tbodies.length===1&&/<tr/.test(r||""),y=s.table;if(g)r=o(r),s.$tbodies.append(r);else if(!r||!_instanceof(r,o)||u.getClosest(r,"table")[0]!==s.table)return u.debug(s,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,u.isEmptyObject(s.cache))u.updateHeader(s),u.commonUpdate(s,d,c);else{for(w=r.filter("tr").attr("role","row").length,v=s.$tbodies.index(r.parents("tbody").filter(":first")),s.parsers&&s.parsers.length||u.setupParsers(s),x=0;x<w;x++){for(E=0,C=r[x].cells.length,P=s.cache[v].normalized.length,m=[],T={child:[],raw:[],$row:r.eq(x),order:P},b=0;b<C;b++)a=r[x].cells[b],h=u.getElementText(s,a,E),T.raw[E]=h,f=u.getParsedText(s,a,E,h),m[E]=f,(s.parsers[E].type||"").toLowerCase()==="numeric"&&(s.cache[v].colMax[E]=Math.max(Math.abs(f)||0,s.cache[v].colMax[E]||0)),p=a.colSpan-1,p>0&&(E+=p),E++;m[s.columns]=T,s.cache[v].normalized[P]=m}u.checkResort(s,d,c)}},updateCache:function(s,r,d){s.parsers&&s.parsers.length||u.setupParsers(s,d),u.buildCache(s,r,d)},appendCache:function(s,r){var d,c,h,f,v,x,w,b=s.table,C=s.$tbodies,P=[],E=s.cache;if(u.isEmptyObject(E))return s.appender?s.appender(b,P):b.isUpdating?s.$table.triggerHandler("updateComplete",b):"";for(u.debug(s,"core")&&(w=new Date),x=0;x<C.length;x++)if(h=C.eq(x),h.length){for(f=u.processTbody(b,h,!0),d=E[x].normalized,c=d.length,v=0;v<c;v++)P[P.length]=d[v][s.columns].$row,(!s.appender||s.pager&&!s.pager.removeRows&&!s.pager.ajax)&&f.append(d[v][s.columns].$row);u.processTbody(b,f,!1)}s.appender&&s.appender(b,P),u.debug(s,"core")&&console.log("Rebuilt table"+u.benchmark(w)),!r&&!s.appender&&u.applyWidget(b),b.isUpdating&&s.$table.triggerHandler("updateComplete",b)},commonUpdate:function(s,r,d){s.$table.find(s.selectorRemove).remove(),u.setupParsers(s),u.buildCache(s),u.checkResort(s,r,d)},initSort:function(s,r,d){if(s.table.isUpdating)return setTimeout(function(){u.initSort(s,r,d)},50);var c,h,f,v,x,w,b,C=!d[s.sortMultiSortKey],P=s.table,E=s.$headers.length,T=u.getClosest(o(r),"th, td"),m=parseInt(T.attr("data-column"),10),a=d.type==="mouseup"?"user":d.type,p=s.sortVars[m].order;if(T=T[0],s.$table.triggerHandler("sortStart",P),w=(s.sortVars[m].count+1)%p.length,s.sortVars[m].count=d[s.sortResetKey]?2:w,s.sortRestart)for(f=0;f<E;f++)b=s.$headers.eq(f),w=parseInt(b.attr("data-column"),10),m!==w&&(C||b.hasClass(u.css.sortNone))&&(s.sortVars[w].count=-1);if(C){if(o.each(s.sortVars,function(g){s.sortVars[g].sortedBy=""}),s.sortList=[],s.last.sortList=[],s.sortForce!==null)for(c=s.sortForce,h=0;h<c.length;h++)c[h][0]!==m&&(s.sortList[s.sortList.length]=c[h],s.sortVars[c[h][0]].sortedBy="sortForce");if(v=p[s.sortVars[m].count],v<2&&(s.sortList[s.sortList.length]=[m,v],s.sortVars[m].sortedBy=a,T.colSpan>1))for(h=1;h<T.colSpan;h++)s.sortList[s.sortList.length]=[m+h,v],s.sortVars[m+h].count=o.inArray(v,p),s.sortVars[m+h].sortedBy=a}else if(s.sortList=o.extend([],s.last.sortList),u.isValueInArray(m,s.sortList)>=0)for(s.sortVars[m].sortedBy=a,h=0;h<s.sortList.length;h++)w=s.sortList[h],w[0]===m&&(w[1]=p[s.sortVars[m].count],w[1]===2&&(s.sortList.splice(h,1),s.sortVars[m].count=-1));else if(v=p[s.sortVars[m].count],s.sortVars[m].sortedBy=a,v<2&&(s.sortList[s.sortList.length]=[m,v],T.colSpan>1))for(h=1;h<T.colSpan;h++)s.sortList[s.sortList.length]=[m+h,v],s.sortVars[m+h].count=o.inArray(v,p),s.sortVars[m+h].sortedBy=a;if(s.last.sortList=o.extend([],s.sortList),s.sortList.length&&s.sortAppend&&(c=o.isArray(s.sortAppend)?s.sortAppend:s.sortAppend[s.sortList[0][0]],!u.isEmptyObject(c))){for(h=0;h<c.length;h++)if(c[h][0]!==m&&u.isValueInArray(c[h][0],s.sortList)<0){if(v=c[h][1],x=(""+v).match(/^(a|d|s|o|n)/),x)switch(w=s.sortList[0][1],x[0]){case"d":v=1;break;case"s":v=w;break;case"o":v=w===0?1:0;break;case"n":v=(w+1)%p.length;break;default:v=0;break}s.sortList[s.sortList.length]=[c[h][0],v],s.sortVars[c[h][0]].sortedBy="sortAppend"}}s.$table.triggerHandler("sortBegin",P),setTimeout(function(){u.setHeadersCss(s),u.multisort(s),u.appendCache(s),s.$table.triggerHandler("sortBeforeEnd",P),s.$table.triggerHandler("sortEnd",P)},1)},multisort:function(s){var r,d,c,h,f,v=s.table,x=[],w=0,b=s.textSorter||"",C=s.sortList,P=C.length,E=s.$tbodies.length;if(!(s.serverSideSorting||u.isEmptyObject(s.cache))){if(u.debug(s,"core")&&(d=new Date),typeof b=="object")for(c=s.columns;c--;)f=u.getColumnData(v,b,c),typeof f=="function"&&(x[c]=f);for(r=0;r<E;r++)c=s.cache[r].colMax,h=s.cache[r].normalized,h.sort(function(T,m){var a,p,g,y,_,j,R;for(a=0;a<P;a++){if(g=C[a][0],y=C[a][1],w=y===0,s.sortStable&&T[g]===m[g]&&P===1)return T[s.columns].order-m[s.columns].order;if(p=/n/i.test(u.getSortType(s.parsers,g)),p&&s.strings[g]?(typeof u.string[s.strings[g]]=="boolean"?p=(w?1:-1)*(u.string[s.strings[g]]?-1:1):p=s.strings[g]&&u.string[s.strings[g]]||0,_=s.numberSorter?s.numberSorter(T[g],m[g],w,c[g],v):u["sortNumeric"+(w?"Asc":"Desc")](T[g],m[g],p,c[g],g,s)):(j=w?T:m,R=w?m:T,typeof b=="function"?_=b(j[g],R[g],w,g,v):typeof x[g]=="function"?_=x[g](j[g],R[g],w,g,v):_=u["sortNatural"+(w?"Asc":"Desc")](T[g]||"",m[g]||"",g,s)),_)return _}return T[s.columns].order-m[s.columns].order});u.debug(s,"core")&&console.log("Applying sort "+C.toString()+u.benchmark(d))}},resortComplete:function(s,r){s.table.isUpdating&&s.$table.triggerHandler("updateComplete",s.table),o.isFunction(r)&&r(s.table)},checkResort:function(s,r,d){var c=o.isArray(r)?r:s.sortList,h=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.resort:r;h!==!1&&!s.serverSideSorting&&!s.table.isProcessing?c.length?u.sortOn(s,c,function(){u.resortComplete(s,d)},!0):u.sortReset(s,function(){u.resortComplete(s,d),u.applyWidget(s.table,!1)}):(u.resortComplete(s,d),u.applyWidget(s.table,!1))},sortOn:function(s,r,d,c){var h,f=s.table;for(s.$table.triggerHandler("sortStart",f),h=0;h<s.columns;h++)s.sortVars[h].sortedBy=u.isValueInArray(h,r)>-1?"sorton":"";u.updateHeaderSortCount(s,r),u.setHeadersCss(s),s.delayInit&&u.isEmptyObject(s.cache)&&u.buildCache(s),s.$table.triggerHandler("sortBegin",f),u.multisort(s),u.appendCache(s,c),s.$table.triggerHandler("sortBeforeEnd",f),s.$table.triggerHandler("sortEnd",f),u.applyWidget(f),o.isFunction(d)&&d(f)},sortReset:function(s,r){s.sortList=[];var d;for(d=0;d<s.columns;d++)s.sortVars[d].count=-1,s.sortVars[d].sortedBy="";u.setHeadersCss(s),u.multisort(s),u.appendCache(s),o.isFunction(r)&&r(s.table)},getSortType:function(s,r){return s&&s[r]&&s[r].type||""},getOrder:function(s){return/^d/i.test(s)||s===1},sortNatural:function(s,r){if(s===r)return 0;s=(s||"").toString(),r=(r||"").toString();var d,c,h,f,v,x,w=u.regex;if(w.hex.test(r)){if(d=parseInt(s.match(w.hex),16),c=parseInt(r.match(w.hex),16),d<c)return-1;if(d>c)return 1}for(d=s.replace(w.chunk,"\\0$1\\0").replace(w.chunks,"").split("\\0"),c=r.replace(w.chunk,"\\0$1\\0").replace(w.chunks,"").split("\\0"),x=Math.max(d.length,c.length),v=0;v<x;v++){if(h=isNaN(d[v])?d[v]||0:parseFloat(d[v])||0,f=isNaN(c[v])?c[v]||0:parseFloat(c[v])||0,isNaN(h)!==isNaN(f))return isNaN(h)?1:-1;if((typeof h=="undefined"?"undefined":_typeof(h))!=(typeof f=="undefined"?"undefined":_typeof(f))&&(h+="",f+=""),h<f)return-1;if(h>f)return 1}return 0},sortNaturalAsc:function(s,r,d,c){if(s===r)return 0;var h=u.string[c.empties[d]||c.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:-h||-1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:h||1:u.sortNatural(s,r)},sortNaturalDesc:function(s,r,d,c){if(s===r)return 0;var h=u.string[c.empties[d]||c.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:h||1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:-h||-1:u.sortNatural(r,s)},sortText:function(s,r){return s>r?1:s<r?-1:0},getTextValue:function(s,r,d){if(d){var c,h=s?s.length:0,f=d+r;for(c=0;c<h;c++)f+=s.charCodeAt(c);return r*f}return 0},sortNumericAsc:function(s,r,d,c,h,f){if(s===r)return 0;var v=u.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:-v||-1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:v||1:(isNaN(s)&&(s=u.getTextValue(s,d,c)),isNaN(r)&&(r=u.getTextValue(r,d,c)),s-r)},sortNumericDesc:function(s,r,d,c,h,f){if(s===r)return 0;var v=u.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:v||1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:-v||-1:(isNaN(s)&&(s=u.getTextValue(s,d,c)),isNaN(r)&&(r=u.getTextValue(r,d,c)),r-s)},sortNumeric:function(s,r){return s-r},addWidget:function(s){s.id&&!u.isEmptyObject(u.getWidgetById(s.id))&&console.warn('"'+s.id+'" widget was loaded more than once!'),u.widgets[u.widgets.length]=s},hasWidget:function(s,r){return s=o(s),s.length&&s[0].config&&s[0].config.widgetInit[r]||!1},getWidgetById:function(s){var r,d,c=u.widgets.length;for(r=0;r<c;r++)if(d=u.widgets[r],d&&d.id&&d.id.toLowerCase()===s.toLowerCase())return d},applyWidgetOptions:function(s){var r,d,c,h=s.config,f=h.widgets.length;if(f)for(r=0;r<f;r++)d=u.getWidgetById(h.widgets[r]),d&&d.options&&(c=o.extend(!0,{},d.options),h.widgetOptions=o.extend(!0,c,h.widgetOptions),o.extend(!0,u.defaults.widgetOptions,d.options))},addWidgetFromClass:function(s){var r,d,c=s.config,h="^"+c.widgetClass.replace(u.regex.templateName,"(\\S+)+")+"$",f=new RegExp(h,"g"),v=(s.className||"").split(u.regex.spaces);if(v.length)for(r=v.length,d=0;d<r;d++)v[d].match(f)&&(c.widgets[c.widgets.length]=v[d].replace(f,"$1"))},applyWidgetId:function(s,r,d){s=o(s)[0];var c,h,f,v=s.config,x=v.widgetOptions,w=u.debug(v,"core"),b=u.getWidgetById(r);b&&(f=b.id,c=!1,o.inArray(f,v.widgets)<0&&(v.widgets[v.widgets.length]=f),w&&(h=new Date),(d||!v.widgetInit[f])&&(v.widgetInit[f]=!0,s.hasInitialized&&u.applyWidgetOptions(s),typeof b.init=="function"&&(c=!0,w&&console[console.group?"group":"log"]("Initializing "+f+" widget"),b.init(s,b,v,x))),!d&&typeof b.format=="function"&&(c=!0,w&&console[console.group?"group":"log"]("Updating "+f+" widget"),b.format(s,v,x,!1)),w&&c&&(console.log("Completed "+(d?"initializing ":"applying ")+f+" widget"+u.benchmark(h)),console.groupEnd&&console.groupEnd()))},applyWidget:function(s,r,d){s=o(s)[0];var c,h,f,v,x,w=s.config,b=u.debug(w,"core"),C=[];if(!(r!==!1&&s.hasInitialized&&(s.isApplyingWidgets||s.isUpdating))){if(b&&(x=new Date),u.addWidgetFromClass(s),clearTimeout(w.timerReady),w.widgets.length){for(s.isApplyingWidgets=!0,w.widgets=o.grep(w.widgets,function(P,E){return o.inArray(P,w.widgets)===E}),f=w.widgets||[],h=f.length,c=0;c<h;c++)v=u.getWidgetById(f[c]),v&&v.id?(v.priority||(v.priority=10),C[c]=v):b&&console.warn('"'+f[c]+'" was enabled, but the widget code has not been loaded!');for(C.sort(function(P,E){return P.priority<E.priority?-1:P.priority===E.priority?0:1}),h=C.length,b&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),c=0;c<h;c++)v=C[c],v&&v.id&&u.applyWidgetId(s,v.id,r);b&&console.groupEnd&&console.groupEnd()}w.timerReady=setTimeout(function(){s.isApplyingWidgets=!1,o.data(s,"lastWidgetApplication",new Date),w.$table.triggerHandler("tablesorter-ready"),!r&&typeof d=="function"&&d(s),b&&(v=w.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+v+" widget"+(v!==1?"s":"")+u.benchmark(x)))},10)}},removeWidget:function(s,r,d){s=o(s)[0];var c,h,f,v,x=s.config;if(r===!0)for(r=[],v=u.widgets.length,f=0;f<v;f++)h=u.widgets[f],h&&h.id&&(r[r.length]=h.id);else r=(o.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(v=r.length,c=0;c<v;c++)h=u.getWidgetById(r[c]),f=o.inArray(r[c],x.widgets),f>=0&&d!==!0&&x.widgets.splice(f,1),h&&h.remove&&(u.debug(x,"core")&&console.log((d?"Refreshing":"Removing")+' "'+r[c]+'" widget'),h.remove(s,x,x.widgetOptions,d),x.widgetInit[r[c]]=!1);x.$table.triggerHandler("widgetRemoveEnd",s)},refreshWidgets:function(s,r,d){s=o(s)[0];var c,h,f=s.config,v=f.widgets,x=u.widgets,w=x.length,b=[],C=function(E){o(E).triggerHandler("refreshComplete")};for(c=0;c<w;c++)h=x[c],h&&h.id&&(r||o.inArray(h.id,v)<0)&&(b[b.length]=h.id);u.removeWidget(s,b.join(","),!0),d!==!0?(u.applyWidget(s,r||!1,C),r&&u.applyWidget(s,!1,C)):C(s)},benchmark:function(s){return" ("+(new Date().getTime()-s.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(s,r){return s&&(s.debug===!0||typeof s.debug=="string"&&s.debug.indexOf(r)>-1)},isEmptyObject:function(s){for(var r in s)return!1;return!0},isValueInArray:function(s,r){var d,c=r&&r.length||0;for(d=0;d<c;d++)if(r[d][0]===s)return d;return-1},formatFloat:function(s,r){if(typeof s!="string"||s==="")return s;var d,c=r&&r.config?r.config.usNumberFormat!==!1:(typeof r=="undefined"?"undefined":_typeof(r))<"u"?r:!0;return c?s=s.replace(u.regex.comma,""):s=s.replace(u.regex.digitNonUS,"").replace(u.regex.comma,"."),u.regex.digitNegativeTest.test(s)&&(s=s.replace(u.regex.digitNegativeReplace,"-$1")),d=parseFloat(s),isNaN(d)?o.trim(s):d},isDigit:function(s){return isNaN(s)?u.regex.digitTest.test(s.toString().replace(u.regex.digitReplace,"")):s!==""},computeColumnIndex:function(s,r){var d,c,h,f,v,x,w,b,C,P,E=r&&r.columns||0,T=[],m=new Array(E);for(d=0;d<s.length;d++)for(x=s[d].cells,c=0;c<x.length;c++){for(v=x[c],w=d,b=v.rowSpan||1,C=v.colSpan||1,_typeof(T[w])>"u"&&(T[w]=[]),h=0;h<T[w].length+1;h++)if(_typeof(T[w][h])>"u"){P=h;break}for(E&&v.cellIndex===P||(v.setAttribute?v.setAttribute("data-column",P):o(v).attr("data-column",P)),h=w;h<w+b;h++)for(_typeof(T[h])>"u"&&(T[h]=[]),m=T[h],f=P;f<P+C;f++)m[f]="x"}return u.checkColumnCount(s,T,m.length),m.length},checkColumnCount:function(s,r,d){var c,h,f=!0,v=[];for(c=0;c<r.length;c++)if(r[c]&&(h=r[c].length,r[c].length!==d)){f=!1;break}f||(s.each(function(x,w){var b=w.parentElement.nodeName;v.indexOf(b)<0&&v.push(b)}),console.error("Invalid or incorrect number of columns in the "+v.join(" or ")+"; expected "+d+", but found "+h+" columns"))},fixColumnWidth:function(s){s=o(s)[0];var r,d,c,h,f,v=s.config,x=v.$table.children("colgroup");if(x.length&&x.hasClass(u.css.colgroup)&&x.remove(),v.widthFixed&&v.$table.children("colgroup").length===0){for(x=o('<colgroup class="'+u.css.colgroup+'">'),r=v.$table.width(),c=v.$tbodies.find("tr:first").children(":visible"),h=c.length,f=0;f<h;f++)d=parseInt(c.eq(f).width()/r*1e3,10)/10+"%",x.append(o("<col>").css("width",d));v.$table.prepend(x)}},getData:function(s,r,d){var c,h,f="",v=o(s);return v.length?(c=o.metadata?v.metadata():!1,h=" "+(v.attr("class")||""),_typeof(v.data(d))<"u"||_typeof(v.data(d.toLowerCase()))<"u"?f+=v.data(d)||v.data(d.toLowerCase()):c&&_typeof(c[d])<"u"?f+=c[d]:r&&_typeof(r[d])<"u"?f+=r[d]:h!==" "&&h.match(" "+d+"-")&&(f=h.match(new RegExp("\\s"+d+"-([\\w-]+)"))[1]||""),o.trim(f)):""},getColumnData:function(s,r,d,c,h){if(typeof r!="object"||r===null)return r;s=o(s)[0];var f,v,x=s.config,w=h||x.$headers,b=x.$headerIndexed&&x.$headerIndexed[d]||w.find('[data-column="'+d+'"]:last');if(_typeof(r[d])<"u")return c?r[d]:r[w.index(b)];for(v in r)if(typeof v=="string"&&(f=b.filter(v).add(b.find(v)),f.length))return r[v]},isProcessing:function(s,r,d){s=o(s);var c=s[0].config,h=d||s.find("."+u.css.header);r?((typeof d=="undefined"?"undefined":_typeof(d))<"u"&&c.sortList.length>0&&(h=h.filter(function(){return this.sortDisabled?!1:u.isValueInArray(parseFloat(o(this).attr("data-column")),c.sortList)>=0})),s.add(h).addClass(u.css.processing+" "+c.cssProcessing)):s.add(h).removeClass(u.css.processing+" "+c.cssProcessing)},processTbody:function(s,r,d){if(s=o(s)[0],d)return s.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),o.fn.detach?r.detach():r.remove();var c=o(s).find("colgroup.tablesorter-savemyplace");r.insertAfter(c),c.remove(),s.isProcessing=!1},clearTableBody:function(s){o(s)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(s){var r,d="[",c=u.characterEquivalents;if(!u.characterRegex){u.characterRegexArray={};for(r in c)typeof r=="string"&&(d+=c[r],u.characterRegexArray[r]=new RegExp("["+c[r]+"]","g"));u.characterRegex=new RegExp(d+"]")}if(u.characterRegex.test(s))for(r in c)typeof r=="string"&&(s=s.replace(u.characterRegexArray[r],r));return s},validateOptions:function(s){var r,d,c,h,f="headers sortForce sortList sortAppend widgets".split(" "),v=s.originalSettings;if(v){u.debug(s,"core")&&(h=new Date);for(r in v)if(c=_typeof(u.defaults[r]),c==="undefined")console.warn('Tablesorter Warning! "table.config.'+r+'" option not recognized');else if(c==="object")for(d in v[r])c=u.defaults[r]&&_typeof(u.defaults[r][d]),o.inArray(r,f)<0&&c==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+r+"."+d+'" option not recognized');u.debug(s,"core")&&console.log("validate options time:"+u.benchmark(h))}},restoreHeaders:function(s){var r,d,c=o(s)[0].config,h=c.$table.find(c.selectorHeaders),f=h.length;for(r=0;r<f;r++)d=h.eq(r),d.find("."+u.css.headerIn).length&&d.html(c.headerContent[r])},destroy:function(s,r,d){if(s=o(s)[0],!!s.hasInitialized){u.removeWidget(s,!0,!1);var c,h=o(s),f=s.config,v=h.find("thead:first"),x=v.find("tr."+u.css.headerRow).removeClass(u.css.headerRow+" "+f.cssHeaderRow),w=h.find("tfoot:first > tr").children("th, td");r===!1&&o.inArray("uitheme",f.widgets)>=0&&(h.triggerHandler("applyWidgetId",["uitheme"]),h.triggerHandler("applyWidgetId",["zebra"])),v.find("tr").not(x).remove(),c="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(f.namespace+" "),h.removeData("tablesorter").unbind(c.replace(u.regex.spaces," ")),f.$headers.add(w).removeClass([u.css.header,f.cssHeader,f.cssAsc,f.cssDesc,u.css.sortAsc,u.css.sortDesc,u.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),x.find(f.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(f.namespace+" ").replace(u.regex.spaces," ")),u.restoreHeaders(s),h.toggleClass(u.css.table+" "+f.tableClass+" tablesorter-"+f.theme,r===!1),h.removeClass(f.namespace.slice(1)),s.hasInitialized=!1,delete s.config.cache,typeof d=="function"&&d(s),u.debug(f,"core")&&console.log("tablesorter has been removed")}}};o.fn.tablesorter=function(l){return this.each(function(){var s=this,r=o.extend(!0,{},u.defaults,l,u.instanceMethods);r.originalSettings=l,!s.hasInitialized&&u.buildTable&&this.nodeName!=="TABLE"?u.buildTable(s,r):u.setup(s,r)})},window.console&&window.console.log||(u.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var l=arguments.length>1?arguments:arguments[0];u.logs[u.logs.length]={date:Date.now(),log:l}}),u.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),u.addParser({id:"text",is:function(){return!0},format:function(s,r){var d=r.config;return s&&(s=o.trim(d.ignoreCase?s.toLocaleLowerCase():s),s=d.sortLocaleCompare?u.replaceAccents(s):s),s},type:"text"}),u.regex.nondigit=/[^\w,. \-()]/g,u.addParser({id:"digit",is:function(s){return u.isDigit(s)},format:function(s,r){var d=u.formatFloat((s||"").replace(u.regex.nondigit,""),r);return s&&typeof d=="number"?d:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),u.regex.currencyReplace=/[+\-,. ]/g,u.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,u.addParser({id:"currency",is:function(s){return s=(s||"").replace(u.regex.currencyReplace,""),u.regex.currencyTest.test(s)},format:function(s,r){var d=u.formatFloat((s||"").replace(u.regex.nondigit,""),r);return s&&typeof d=="number"?d:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),u.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,u.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,u.addParser({id:"url",is:function(s){return u.regex.urlProtocolTest.test(s)},format:function(s){return s&&o.trim(s.replace(u.regex.urlProtocolReplace,""))},type:"text"}),u.regex.dash=/-/g,u.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,u.addParser({id:"isoDate",is:function(s){return u.regex.isoDate.test(s)},format:function(s){var r=s&&new Date(s.replace(u.regex.dash,"/"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),u.regex.percent=/%/g,u.regex.percentTest=/(\d\s*?%|%\s*?\d)/,u.addParser({id:"percent",is:function(s){return u.regex.percentTest.test(s)&&s.length<15},format:function(s,r){return s&&u.formatFloat(s.replace(u.regex.percent,""),r)},type:"numeric"}),u.addParser({id:"image",is:function(s,r,d,c){return c.find("img").length>0},format:function(s,r,d){return o(d).find("img").attr(r.config.imgAttr||"alt")||s},parsed:!0,type:"text"}),u.regex.dateReplace=/(\S)([AP]M)$/i,u.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,u.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,u.addParser({id:"usLongDate",is:function(s){return u.regex.usLongDateTest1.test(s)||u.regex.usLongDateTest2.test(s)},format:function(s){var r=s&&new Date(s.replace(u.regex.dateReplace,"$1 $2"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),u.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,u.regex.shortDateReplace=/[\-.,]/g,u.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,u.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,u.convertFormat=function(l,s){l=(l||"").replace(u.regex.spaces," ").replace(u.regex.shortDateReplace,"/"),s==="mmddyyyy"?l=l.replace(u.regex.shortDateXXY,"$3/$1/$2"):s==="ddmmyyyy"?l=l.replace(u.regex.shortDateXXY,"$3/$2/$1"):s==="yyyymmdd"&&(l=l.replace(u.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(l);return _instanceof(r,Date)&&isFinite(r)?r.getTime():""},u.addParser({id:"shortDate",is:function(s){return s=(s||"").replace(u.regex.spaces," ").replace(u.regex.shortDateReplace,"/"),u.regex.shortDateTest.test(s)},format:function(s,r,d,c){if(s){var h=r.config,f=h.$headerIndexed[c],v=f.length&&f.data("dateFormat")||u.getData(f,u.getColumnData(r,h.headers,c),"dateFormat")||h.dateFormat;return f.length&&f.data("dateFormat",v),u.convertFormat(s,v)||s}return s},type:"numeric"}),u.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,u.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,u.addParser({id:"time",is:function(s){return u.regex.timeTest.test(s)},format:function(s){var r,d=(s||"").match(u.regex.timeMatch),c=new Date(s),h=s&&(d!==null?d[0]:"00:00 AM"),f=h&&new Date("2000/01/01 "+h.replace(u.regex.dateReplace,"$1 $2"));return _instanceof(f,Date)&&isFinite(f)?(r=_instanceof(c,Date)&&isFinite(c)?c.getTime():0,r?parseFloat(f.getTime()+"."+c.getTime()):f.getTime()):s},type:"numeric"}),u.addParser({id:"metadata",is:function(){return!1},format:function(s,r,d){var c=r.config,h=c.parserMetadataName?c.parserMetadataName:"sortValue";return o(d).metadata()[h]},type:"numeric"}),u.addWidget({id:"zebra",priority:90,format:function(s,r,d){var c,h,f,v,x,w,b,C=new RegExp(r.cssChildRow,"i"),P=r.$tbodies.add(o(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(x=0;x<P.length;x++)for(f=0,c=P.eq(x).children("tr:visible").not(r.selectorRemove),b=c.length,w=0;w<b;w++)h=c.eq(w),C.test(h[0].className)||f++,v=f%2===0,h.removeClass(d.zebra[v?1:0]).addClass(d.zebra[v?0:1])},remove:function(s,r,d,c){if(!c){var h,f,v=r.$tbodies,x=(d.zebra||["even","odd"]).join(" ");for(h=0;h<v.length;h++)f=u.processTbody(s,v.eq(h),!0),f.children().removeClass(x),u.processTbody(s,f,!1)}}})}(n),function(o,u,l){"use strict";var s=o.tablesorter||{};o.extend(!0,s.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),s.storage=function(r,d,c,h){r=o(r)[0];var f,v,x,w=!1,b={},C=r.config,P=C&&C.widgetOptions,E=s.debug(C,"storage"),T=(h&&h.storageType||P&&P.storage_storageType).toString().charAt(0).toLowerCase(),m=T?"":h&&h.useSessionStorage||P&&P.storage_useSessionStorage,a=o(r),p=h&&h.id||a.attr(h&&h.group||P&&P.storage_group||"data-table-group")||P&&P.storage_tableId||r.id||o(".tablesorter").index(a),g=h&&h.url||a.attr(h&&h.page||P&&P.storage_page||"data-table-page")||P&&P.storage_fixedUrl||C&&C.fixedUrl||u.location.pathname;if(T!=="c"&&(T=T==="s"||m?"sessionStorage":"localStorage",T in u))try{u[T].setItem("_tmptest","temp"),w=!0,u[T].removeItem("_tmptest")}catch(y){console.warn(T+" is not supported in this browser")}if(E&&console.log("Storage >> Using",w?T:"cookies"),o.parseJSON&&(w?b=o.parseJSON(u[T][d]||"null")||{}:(v=l.cookie.split(/[;\s|=]/),f=o.inArray(d,v)+1,b=f!==0?o.parseJSON(v[f]||"null")||{}:{})),(typeof c=="undefined"?"undefined":_typeof(c))<"u"&&u.JSON&&JSON.hasOwnProperty("stringify"))b[g]||(b[g]={}),b[g][p]=c,w?u[T][d]=JSON.stringify(b):(x=new Date,x.setTime(x.getTime()+31536e6),l.cookie=d+"="+JSON.stringify(b).replace(/\"/g,'"')+"; expires="+x.toGMTString()+"; path=/");else return b&&b[g]?b[g][p]:""}}(n,window,document),function(o){"use strict";var u=o.tablesorter||{};u.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},o.extend(u.css,{wrapper:"tablesorter-wrapper"}),u.addWidget({id:"uitheme",priority:10,format:function(s,r,d){var c,h,f,v,x,w,b,C,P,E,T,m,a,p=u.themes,g=r.$table.add(o(r.namespace+"_extra_table")),y=r.$headers.add(o(r.namespace+"_extra_headers")),_=r.theme||"jui",j=p[_]||{},R=o.trim([j.sortNone,j.sortDesc,j.sortAsc,j.active].join(" ")),D=o.trim([j.iconSortNone,j.iconSortDesc,j.iconSortAsc].join(" ")),H=u.debug(r,"uitheme");for(H&&(x=new Date),(!g.hasClass("tablesorter-"+_)||r.theme!==r.appliedTheme||!d.uitheme_applied)&&(d.uitheme_applied=!0,E=p[r.appliedTheme]||{},a=!o.isEmptyObject(E),T=a?[E.sortNone,E.sortDesc,E.sortAsc,E.active].join(" "):"",m=a?[E.iconSortNone,E.iconSortDesc,E.iconSortAsc].join(" "):"",a&&(d.zebra[0]=o.trim(" "+d.zebra[0].replace(" "+E.even,"")),d.zebra[1]=o.trim(" "+d.zebra[1].replace(" "+E.odd,"")),r.$tbodies.children().removeClass([E.even,E.odd].join(" "))),j.even&&(d.zebra[0]+=" "+j.even),j.odd&&(d.zebra[1]+=" "+j.odd),g.children("caption").removeClass(E.caption||"").addClass(j.caption),C=g.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(E.table||"")).addClass("tablesorter-"+_+" "+(j.table||"")).children("tfoot"),r.appliedTheme=r.theme,C.length&&C.children("tr").removeClass(E.footerRow||"").addClass(j.footerRow).children("th, td").removeClass(E.footerCells||"").addClass(j.footerCells),y.removeClass((a?[E.header,E.hover,T].join(" "):"")||"").addClass(j.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(K){o(this)[K.type==="mouseenter"?"addClass":"removeClass"](j.hover||"")}),y.each(function(){var K=o(this);K.find("."+u.css.wrapper).length||K.wrapInner('<div class="'+u.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&y.find("."+u.css.icon).removeClass(a?[E.icons,m].join(" "):"").addClass(j.icons||""),u.hasWidget(r.table,"filter")&&(h=function(){g.children("thead").children("."+u.css.filterRow).removeClass(a&&E.filterRow||"").addClass(j.filterRow||"")},d.filter_initialized?h():g.one("filterInit",function(){h()}))),c=0;c<r.columns;c++)w=r.$headers.add(o(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+c+'"]'),b=u.css.icon?w.find("."+u.css.icon):o(),P=y.not(".sorter-false").filter('[data-column="'+c+'"]:last'),P.length&&(w.removeClass(R),b.removeClass(D),P[0].sortDisabled?b.removeClass(j.icons||""):(f=j.sortNone,v=j.iconSortNone,P.hasClass(u.css.sortAsc)?(f=[j.sortAsc,j.active].join(" "),v=j.iconSortAsc):P.hasClass(u.css.sortDesc)&&(f=[j.sortDesc,j.active].join(" "),v=j.iconSortDesc),w.addClass(f),b.addClass(v||"")));H&&console.log("uitheme >> Applied "+_+" theme"+u.benchmark(x))},remove:function(s,r,d,c){if(d.uitheme_applied){var h=r.$table,f=r.appliedTheme||"jui",v=u.themes[f]||u.themes.jui,x=h.children("thead").children(),w=v.sortNone+" "+v.sortDesc+" "+v.sortAsc,b=v.iconSortNone+" "+v.iconSortDesc+" "+v.iconSortAsc;h.removeClass("tablesorter-"+f+" "+v.table),d.uitheme_applied=!1,!c&&(h.find(u.css.header).removeClass(v.header),x.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(v.hover+" "+w+" "+v.active).filter("."+u.css.filterRow).removeClass(v.filterRow),x.find("."+u.css.icon).removeClass(v.icons+" "+b))}}})}(n),function(o){"use strict";var u=o.tablesorter||{};u.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(s,r,d){var c,h,f,v,x,w,b,C,P=r.$table,E=r.$tbodies,T=r.sortList,m=T.length,a=d&&d.columns||["primary","secondary","tertiary"],p=a.length-1;for(b=a.join(" "),h=0;h<E.length;h++)c=u.processTbody(s,E.eq(h),!0),f=c.children("tr"),f.each(function(){if(x=o(this),this.style.display!=="none"&&(w=x.children().removeClass(b),T&&T[0]&&(w.eq(T[0][0]).addClass(a[0]),m>1)))for(C=1;C<m;C++)w.eq(T[C][0]).addClass(a[C]||a[p])}),u.processTbody(s,c,!1);if(v=d.columns_thead!==!1?["thead tr"]:[],d.columns_tfoot!==!1&&v.push("tfoot tr"),v.length&&(f=P.find(v.join(",")).children().removeClass(b),m))for(C=0;C<m;C++)f.filter('[data-column="'+T[C][0]+'"]').addClass(a[C]||a[p])},remove:function(s,r,d){var c,h,f=r.$tbodies,v=(d.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(v),r.$table.children("tfoot").children("tr").children("th, td").removeClass(v),c=0;c<f.length;c++)h=u.processTbody(s,f.eq(c),!0),h.children("tr").each(function(){o(this).children().removeClass(v)}),u.processTbody(s,h,!1)}})}(n),function(o){"use strict";var u,l,s=o.tablesorter||{},r=s.css,d=s.keyCodes;o.extend(r,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),o.extend(d,{backSpace:8,escape:27,space:32,left:37,down:40}),s.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(h,f,v){f.$table.hasClass("hasFilters")||u.init(h,f,v)},remove:function(h,f,v,x){var w,b,C=f.$table,P=f.$tbodies,E="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(f.namespace+"filter ");if(C.removeClass("hasFilters").unbind(E.replace(s.regex.spaces," ")).find("."+r.filterRow).remove(),v.filter_initialized=!1,!x){for(w=0;w<P.length;w++)b=s.processTbody(h,P.eq(w),!0),b.children().removeClass(v.filter_filteredRow).show(),s.processTbody(h,b,!1);v.filter_reset&&o(document).undelegate(v.filter_reset,"click"+f.namespace+"filter")}}}),u=s.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(h,f,v){if((l.orTest.test(f.iFilter)||l.orSplit.test(f.filter))&&!l.regex.test(f.filter)){var x,w,b,C,P=o.extend({},f),E=f.filter.split(l.orSplit),T=f.iFilter.split(l.orSplit),m=E.length;for(x=0;x<m;x++){P.nestedFilters=!0,P.filter=""+(u.parseFilter(h,E[x],f)||""),P.iFilter=""+(u.parseFilter(h,T[x],f)||""),b="("+(u.parseFilter(h,P.filter,f)||"")+")";try{if(C=new RegExp(f.isMatch?b:"^"+b+"$",h.widgetOptions.filter_ignoreCase?"i":""),w=C.test(P.exact)||u.processTypes(h,P,v),w)return w}catch(a){return null}}return w||!1}return null},and:function(h,f,v){if(l.andTest.test(f.filter)){var x,w,b,C,P,E=o.extend({},f),T=f.filter.split(l.andSplit),m=f.iFilter.split(l.andSplit),a=T.length;for(x=0;x<a;x++){E.nestedFilters=!0,E.filter=""+(u.parseFilter(h,T[x],f)||""),E.iFilter=""+(u.parseFilter(h,m[x],f)||""),C=("("+(u.parseFilter(h,E.filter,f)||"")+")").replace(l.wild01,"\\S{1}").replace(l.wild0More,"\\S*");try{P=new RegExp(f.isMatch?C:"^"+C+"$",h.widgetOptions.filter_ignoreCase?"i":""),b=P.test(E.exact)||u.processTypes(h,E,v),x===0?w=b:w=w&&b}catch(p){return null}}return w||!1}return null},regex:function(h,f){if(l.regex.test(f.filter)){var v,x=f.filter_regexCache[f.index]||l.regex.exec(f.filter),w=_instanceof(x,RegExp);try{w||(f.filter_regexCache[f.index]=x=new RegExp(x[1],x[2])),v=x.test(f.exact)}catch(b){v=!1}return v}return null},operators:function(h,f){if(l.operTest.test(f.iFilter)&&f.iExact!==""){var v,x,w,b=h.table,C=f.parsed[f.index],P=s.formatFloat(f.iFilter.replace(l.operators,""),b),E=h.parsers[f.index]||{},T=P;return(C||E.type==="numeric")&&(w=o.trim(""+f.iFilter.replace(l.operators,"")),x=u.parseFilter(h,w,f,!0),P=typeof x=="number"&&x!==""&&!isNaN(x)?x:P),(C||E.type==="numeric")&&!isNaN(P)&&_typeof(f.cache)<"u"?v=f.cache:(w=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(w,b)),l.gtTest.test(f.iFilter)?x=l.gteTest.test(f.iFilter)?v>=P:v>P:l.ltTest.test(f.iFilter)&&(x=l.lteTest.test(f.iFilter)?v<=P:v<P),!x&&T===""&&(x=!0),x}return null},notMatch:function(h,f){if(l.notTest.test(f.iFilter)){var v,x=f.iFilter.replace("!",""),w=u.parseFilter(h,x,f)||"";return l.exact.test(w)?(w=w.replace(l.exact,""),w===""?!0:o.trim(w)!==f.iExact):(v=f.iExact.search(o.trim(w)),w===""?!0:f.anyMatch?v<0:!(h.widgetOptions.filter_startsWith?v===0:v>=0))}return null},exact:function(h,f){if(l.exact.test(f.iFilter)){var v=f.iFilter.replace(l.exact,""),x=u.parseFilter(h,v,f)||"";return f.anyMatch?o.inArray(x,f.rowArray)>=0:x==f.iExact}return null},range:function(h,f){if(l.toTest.test(f.iFilter)){var v,x,w,b,C=h.table,P=f.index,E=f.parsed[P],T=f.iFilter.split(l.toSplit);return x=T[0].replace(s.regex.nondigit,"")||"",w=s.formatFloat(u.parseFilter(h,x,f),C),x=T[1].replace(s.regex.nondigit,"")||"",b=s.formatFloat(u.parseFilter(h,x,f),C),(E||h.parsers[P].type==="numeric")&&(v=h.parsers[P].format(""+T[0],C,h.$headers.eq(P),P),w=v!==""&&!isNaN(v)?v:w,v=h.parsers[P].format(""+T[1],C,h.$headers.eq(P),P),b=v!==""&&!isNaN(v)?v:b),(E||h.parsers[P].type==="numeric")&&!isNaN(w)&&!isNaN(b)?v=f.cache:(x=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(x,C)),w>b&&(x=w,w=b,b=x),v>=w&&v<=b||w===""||b===""}return null},wild:function(h,f){if(l.wildOrTest.test(f.iFilter)){var v=""+(u.parseFilter(h,f.iFilter,f)||"");!l.wildTest.test(v)&&f.nestedFilters&&(v=f.isMatch?v:"^("+v+")$");try{return new RegExp(v.replace(l.wild01,"\\S{1}").replace(l.wild0More,"\\S*"),h.widgetOptions.filter_ignoreCase?"i":"").test(f.exact)}catch(x){return null}}return null},fuzzy:function(h,f){if(l.fuzzyTest.test(f.iFilter)){var v,x=0,w=f.iExact.length,b=f.iFilter.slice(1),C=u.parseFilter(h,b,f)||"";for(v=0;v<w;v++)f.iExact[v]===C[x]&&(x+=1);return x===C.length}return null}},init:function(h){s.language=o.extend(!0,{},{to:"to",or:"or",and:"and"},s.language);var f,v,x,w,b,C,P,E,T=h.config,m=T.widgetOptions,a=function(g,y,_){return y=y.trim(),y===""?"":(g||"")+y+(_||"")};if(T.$table.addClass("hasFilters"),T.lastSearch=[],m.filter_searchTimer=null,m.filter_initTimer=null,m.filter_formatterCount=0,m.filter_formatterInit=[],m.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',m.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',C="\\{"+l.query+"\\}",o.extend(l,{child:new RegExp(T.cssChildRow),filtered:new RegExp(m.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+a("|",s.language.or)+a("|",s.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+a("|",s.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+a("|",s.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+a("",s.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+a("",s.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+a("|\\s+",s.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+a("|\\s+(?:",s.language.or,")\\s+")+")","gi"),iQuery:new RegExp(C,"i"),igQuery:new RegExp(C,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),C=T.$headers.filter(".filter-false, .parser-false").length,m.filter_columnFilters!==!1&&C!==T.$headers.length&&u.buildRow(h,T,m),x="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(T.namespace+"filter "),T.$table.bind(x,function(p,g){return C=m.filter_hideEmpty&&o.isEmptyObject(T.cache)&&!(T.delayInit&&p.type==="appendCache"),T.$table.find("."+r.filterRow).toggleClass(m.filter_filteredRow,C),/(search|filter)/.test(p.type)||(p.stopPropagation(),u.buildDefault(h,!0)),p.type==="filterReset"||p.type==="filterAndSortReset"?(T.$table.find("."+r.filter).add(m.filter_$externalFilters).val(""),p.type==="filterAndSortReset"?s.sortReset(this.config,function(){u.searching(h,[])}):u.searching(h,[])):p.type==="filterResetSaved"?s.storage(h,"tablesorter-filters",""):p.type==="filterEnd"?u.buildDefault(h,!0):(g=p.type==="search"?g:p.type==="updateComplete"?T.$table.data("lastSearch"):"",/(update|add)/.test(p.type)&&p.type!=="updateComplete"&&(T.lastCombinedFilter=null,T.lastSearch=[],setTimeout(function(){T.$table.triggerHandler("filterFomatterUpdate")},100)),u.searching(h,g,!0)),!1}),m.filter_reset&&(_instanceof(m.filter_reset,o)?m.filter_reset.click(function(){T.$table.triggerHandler("filterReset")}):o(m.filter_reset).length&&o(document).undelegate(m.filter_reset,"click"+T.namespace+"filter").delegate(m.filter_reset,"click"+T.namespace+"filter",function(){T.$table.triggerHandler("filterReset")})),m.filter_functions){for(b=0;b<T.columns;b++)if(P=s.getColumnData(h,m.filter_functions,b),P){if(w=T.$headerIndexed[b].removeClass("filter-select"),E=!(w.hasClass("filter-false")||w.hasClass("parser-false")),f="",P===!0&&E)u.buildSelect(h,b);else if(typeof P=="object"&&E){for(v in P)typeof v=="string"&&(f+=f===""?'<option value="">'+(w.data("placeholder")||w.attr("data-placeholder")||m.filter_placeholder.select||"")+"</option>":"",C=v,x=v,v.indexOf(m.filter_selectSourceSeparator)>=0&&(C=v.split(m.filter_selectSourceSeparator),x=C[1],C=C[0]),f+="<option "+(x===C?"":'data-function-name="'+v+'" ')+'value="'+C+'">'+x+"</option>");T.$table.find("thead").find("select."+r.filter+'[data-column="'+b+'"]').append(f),x=m.filter_selectSource,P=typeof x=="function"?!0:s.getColumnData(h,x,b),P&&u.buildSelect(T.table,b,"",!0,w.hasClass(m.filter_onlyAvail))}}}u.buildDefault(h,!0),u.bindSearch(h,T.$table.find("."+r.filter),!0),m.filter_external&&u.bindSearch(h,m.filter_external),m.filter_hideFilters&&u.hideFilters(T),T.showProcessing&&(x="filterStart filterEnd ".split(" ").join(T.namespace+"filter-sp "),T.$table.unbind(x.replace(s.regex.spaces," ")).bind(x,function(p,g){w=g?T.$table.find("."+r.header).filter("[data-column]").filter(function(){return g[o(this).data("column")]!==""}):"",s.isProcessing(h,p.type==="filterStart",g?w:"")})),T.filteredRows=T.totalRows,x="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(T.namespace+"filter "),T.$table.unbind(x.replace(s.regex.spaces," ")).bind(x,function(){u.completeInit(this)}),T.pager&&T.pager.initialized&&!m.filter_initialized?(T.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){u.filterInitComplete(T)},100)):m.filter_initialized||u.completeInit(h)},completeInit:function(h){var f=h.config,v=f.widgetOptions,x=u.setDefaults(h,f,v)||[];x.length&&(f.delayInit&&x.join("")===""||s.setFilters(h,x,!0)),f.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){v.filter_initialized||u.filterInitComplete(f)},100)},formatterUpdated:function(h,f){var v=h&&h.closest("table"),x=v.length&&v[0].config,w=x&&x.widgetOptions;w&&!w.filter_initialized&&(w.filter_formatterInit[f]=1)},filterInitComplete:function(h){var f,v,x=h.widgetOptions,w=0,b=function(){x.filter_initialized=!0,h.lastSearch=h.$table.data("lastSearch"),h.$table.triggerHandler("filterInit",h),u.findRows(h.table,h.lastSearch||[]),s.debug(h,"filter")&&console.log("Filter >> Widget initialized")};if(o.isEmptyObject(x.filter_formatter))b();else{for(v=x.filter_formatterInit.length,f=0;f<v;f++)x.filter_formatterInit[f]===1&&w++;clearTimeout(x.filter_initTimer),!x.filter_initialized&&w===x.filter_formatterCount?b():x.filter_initialized||(x.filter_initTimer=setTimeout(function(){b()},500))}},processFilters:function(h,f){var v,x=[],w=f?encodeURIComponent:decodeURIComponent,b=h.length;for(v=0;v<b;v++)h[v]&&(x[v]=w(h[v]));return x},setDefaults:function(h,f,v){var x,w,b,C,P,E=s.getFilters(h)||[];if(v.filter_saveFilters&&s.storage&&(w=s.storage(h,"tablesorter-filters")||[],x=o.isArray(w),x&&w.join("")===""||!x||(E=u.processFilters(w))),E.join("")==="")for(P=f.$headers.add(v.filter_$externalFilters).filter("["+v.filter_defaultAttrib+"]"),b=0;b<=f.columns;b++)C=b===f.columns?"all":b,E[b]=P.filter('[data-column="'+C+'"]').attr(v.filter_defaultAttrib)||E[b]||"";return f.$table.data("lastSearch",E),E},parseFilter:function(h,f,v,x){return x||v.parsed[v.index]?h.parsers[v.index].format(f,h.table,[],v.index):f},buildRow:function(h,f,v){var x,w,b,C,P,E,T,m,a,p=v.filter_cellFilter,g=f.columns,y=o.isArray(p),_='<tr role="search" class="'+r.filterRow+" "+f.cssIgnoreRow+'">';for(b=0;b<g;b++)f.$headerIndexed[b].length&&(a=f.$headerIndexed[b]&&f.$headerIndexed[b][0].colSpan||0,a>1?_+='<td data-column="'+b+"-"+(b+a-1)+'" colspan="'+a+'"':_+='<td data-column="'+b+'"',y?_+=p[b]?' class="'+p[b]+'"':"":_+=p!==""?' class="'+p+'"':"",_+="></td>");for(f.$filters=o(_+="</tr>").appendTo(f.$table.children("thead").eq(0)).children("td"),b=0;b<g;b++)E=!1,C=f.$headerIndexed[b],C&&C.length&&(x=u.getColumnElm(f,f.$filters,b),m=s.getColumnData(h,v.filter_functions,b),P=v.filter_functions&&m&&typeof m!="function"||C.hasClass("filter-select"),w=s.getColumnData(h,f.headers,b),E=s.getData(C[0],w,"filter")==="false"||s.getData(C[0],w,"parser")==="false",P?_=o("<select>").appendTo(x):(m=s.getColumnData(h,v.filter_formatter,b),m?(v.filter_formatterCount++,_=m(x,b),_&&_.length===0&&(_=x.children("input")),_&&(_.parent().length===0||_.parent().length&&_.parent()[0]!==x[0])&&x.append(_)):_=o('<input type="search">').appendTo(x),_&&(a=C.data("placeholder")||C.attr("data-placeholder")||v.filter_placeholder.search||"",_.attr("placeholder",a))),_&&(T=(o.isArray(v.filter_cssFilter)?_typeof(v.filter_cssFilter[b])<"u"&&v.filter_cssFilter[b]||"":v.filter_cssFilter)||"",_.addClass(r.filter+" "+T),T=v.filter_filterLabel,a=T.match(/{{([^}]+?)}}/g),a||(a=["{{label}}"]),o.each(a,function(j,R){var D=new RegExp(R,"g"),H=C.attr("data-"+R.replace(/{{|}}/g,"")),K=(typeof H=="undefined"?"undefined":_typeof(H))>"u"?C.text():H;T=T.replace(D,o.trim(K))}),_.attr({"data-column":x.attr("data-column"),"aria-label":T}),E&&(_.attr("placeholder","").addClass(r.filterDisabled)[0].disabled=!0)))},bindSearch:function(h,f,v){if(h=o(h)[0],f=o(f),!!f.length){var x,w=h.config,b=w.widgetOptions,C=w.namespace+"filter",P=b.filter_$externalFilters;v!==!0&&(x=b.filter_anyColumnSelector+","+b.filter_multipleColumnSelector,b.filter_$anyMatch=f.filter(x),P&&P.length?b.filter_$externalFilters=b.filter_$externalFilters.add(f):b.filter_$externalFilters=f,s.setFilters(h,w.$table.data("lastSearch")||[],v===!1)),x="keypress keyup keydown search change input ".split(" ").join(C+" "),f.attr("data-lastSearchTime",new Date().getTime()).unbind(x.replace(s.regex.spaces," ")).bind("keydown"+C,function(E){if(E.which===d.escape&&!h.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+C,function(E){b=h.config.widgetOptions;var T=parseInt(o(this).attr("data-column"),10),m=typeof b.filter_liveSearch=="boolean"?b.filter_liveSearch:s.getColumnData(h,b.filter_liveSearch,T);if((typeof m=="undefined"?"undefined":_typeof(m))>"u"&&(m=b.filter_liveSearch.fallback||!1),o(this).attr("data-lastSearchTime",new Date().getTime()),E.which===d.escape)this.value=b.filter_resetOnEsc?"":w.lastSearch[T];else if(this.value!==""&&(typeof m=="number"&&this.value.length<m||E.which!==d.enter&&E.which!==d.backSpace&&(E.which<d.space||E.which>=d.left&&E.which<=d.down))||m===!1&&this.value!==""&&E.which!==d.enter)return;u.searching(h,!0,!0,T)}).bind("search change keypress input blur ".split(" ").join(C+" "),function(E){var T=parseInt(o(this).attr("data-column"),10),m=E.type,a=typeof b.filter_liveSearch=="boolean"?b.filter_liveSearch:s.getColumnData(h,b.filter_liveSearch,T);h.config.widgetOptions.filter_initialized&&(E.which===d.enter||m==="search"||m==="blur"||(m==="change"||m==="input")&&(a===!0||a!==!0&&E.target.nodeName!=="INPUT")&&this.value!==w.lastSearch[T])&&(E.preventDefault(),o(this).attr("data-lastSearchTime",new Date().getTime()),u.searching(h,m!=="keypress"||E.which===d.enter,!0,T))})}},searching:function(h,f,v,x){var w,b=h.config.widgetOptions;(typeof x=="undefined"?"undefined":_typeof(x))>"u"?w=!1:(w=typeof b.filter_liveSearch=="boolean"?b.filter_liveSearch:s.getColumnData(h,b.filter_liveSearch,x),(typeof w=="undefined"?"undefined":_typeof(w))>"u"&&(w=b.filter_liveSearch.fallback||!1)),clearTimeout(b.filter_searchTimer),(typeof f=="undefined"?"undefined":_typeof(f))>"u"||f===!0?b.filter_searchTimer=setTimeout(function(){u.checkFilters(h,f,v)},w?b.filter_searchDelay:10):u.checkFilters(h,f,v)},equalFilters:function(h,f,v){var x,w=[],b=[],C=h.columns+1;for(f=o.isArray(f)?f:[],v=o.isArray(v)?v:[],x=0;x<C;x++)w[x]=f[x]||"",b[x]=v[x]||"";return w.join(",")===b.join(",")},checkFilters:function(h,f,v){var x=h.config,w=x.widgetOptions,b=o.isArray(f),C=b?f:s.getFilters(h,!0),P=C||[];if(o.isEmptyObject(x.cache)){x.delayInit&&(!x.pager||x.pager&&x.pager.initialized)&&s.updateCache(x,function(){u.checkFilters(h,!1,v)});return}if(b&&(s.setFilters(h,C,!1,v!==!0),w.filter_initialized||(x.lastSearch=[],x.lastCombinedFilter="")),w.filter_hideFilters&&x.$table.find("."+r.filterRow).triggerHandler(u.hideFiltersCheck(x)?"mouseleave":"mouseenter"),u.equalFilters(x,x.lastSearch,P)){if(f!==!1)return;x.lastCombinedFilter="",x.lastSearch=[]}if(C=C||[],C=Array.prototype.map?C.map(String):C.join("\uFFFD").split("\uFFFD"),w.filter_initialized&&x.$table.triggerHandler("filterStart",[C]),x.showProcessing)setTimeout(function(){return u.findRows(h,C,P),!1},30);else return u.findRows(h,C,P),!1},hideFiltersCheck:function(h){if(typeof h.widgetOptions.filter_hideFilters=="function"){var f=h.widgetOptions.filter_hideFilters(h);if(typeof f=="boolean")return f}return s.getFilters(h.$table).join("")===""},hideFilters:function(h,f){var v;(f||h.$table).find("."+r.filterRow).addClass(r.filterRowHide).bind("mouseenter mouseleave",function(x){var w=x,b=o(this);clearTimeout(v),v=setTimeout(function(){/enter|over/.test(w.type)?b.removeClass(r.filterRowHide):o(document.activeElement).closest("tr")[0]!==b[0]&&b.toggleClass(r.filterRowHide,u.hideFiltersCheck(h))},200)}).find("input, select").bind("focus blur",function(x){var w=x,b=o(this).closest("tr");clearTimeout(v),v=setTimeout(function(){clearTimeout(v),b.toggleClass(r.filterRowHide,u.hideFiltersCheck(h)&&w.type!=="focus")},200)})},defaultFilter:function(h,f){if(h==="")return h;var v=l.iQuery,x=f.match(l.igQuery).length,w=x>1?o.trim(h).split(/\s/):[o.trim(h)],b=w.length-1,C=0,P=f;for(b<1&&x>1&&(w[1]=w[0]);v.test(P);)P=P.replace(v,w[C++]||""),v.test(P)&&C<b&&(w[C]||"")!==""&&(P=f.replace(v,P));return P},getLatestSearch:function(h){return h?h.sort(function(f,v){return o(v).attr("data-lastSearchTime")-o(f).attr("data-lastSearchTime")}):h||o()},findRange:function(h,f,v){var x,w,b,C,P,E,T,m,a,p=[];if(/^[0-9]+$/.test(f))return[parseInt(f,10)];if(!v&&/-/.test(f))for(w=f.match(/(\d+)\s*-\s*(\d+)/g),a=w?w.length:0,m=0;m<a;m++){for(b=w[m].split(/\s*-\s*/),C=parseInt(b[0],10)||0,P=parseInt(b[1],10)||h.columns-1,C>P&&(x=C,C=P,P=x),P>=h.columns&&(P=h.columns-1);C<=P;C++)p[p.length]=C;f=f.replace(w[m],"")}if(!v&&/,/.test(f))for(E=f.split(/\s*,\s*/),a=E.length,T=0;T<a;T++)E[T]!==""&&(m=parseInt(E[T],10),m<h.columns&&(p[p.length]=m));if(!p.length)for(m=0;m<h.columns;m++)p[p.length]=m;return p},getColumnElm:function(h,f,v){return f.filter(function(){var x=u.findRange(h,o(this).attr("data-column"));return o.inArray(v,x)>-1})},multipleColumns:function(h,f){var v=h.widgetOptions,x=v.filter_initialized||!f.filter(v.filter_anyColumnSelector).length,w=o.trim(u.getLatestSearch(f).attr("data-column")||"");return u.findRange(h,w,!x)},processTypes:function(h,f,v){var x,w=null,b=null;for(x in u.types)o.inArray(x,v.excludeMatch)<0&&b===null&&(b=u.types[x](h,f,v),b!==null&&(f.matchedOn=x,w=b));return w},matchType:function(h,f){var v,x=h.widgetOptions,w=h.$headerIndexed[f];return w.hasClass("filter-exact")?v=!1:w.hasClass("filter-match")?v=!0:(x.filter_columnFilters?w=h.$filters.find("."+r.filter).add(x.filter_$externalFilters).filter('[data-column="'+f+'"]'):x.filter_$externalFilters&&(w=x.filter_$externalFilters.filter('[data-column="'+f+'"]')),v=w.length?h.widgetOptions.filter_matchType[(w[0].nodeName||"").toLowerCase()]==="match":!1),v},processRow:function(h,f,v){var x,w,b,C,P,E=h.widgetOptions,T=!0,m=E.filter_$anyMatch&&E.filter_$anyMatch.length,a=E.filter_$anyMatch&&E.filter_$anyMatch.length?u.multipleColumns(h,E.filter_$anyMatch):[];if(f.$cells=f.$row.children(),f.matchedOn=null,f.anyMatchFlag&&a.length>1||f.anyMatchFilter&&!m){if(f.anyMatch=!0,f.isMatch=!0,f.rowArray=f.$cells.map(function(p){if(o.inArray(p,a)>-1||f.anyMatchFilter&&!m)return f.parsed[p]?P=f.cacheArray[p]:(P=f.rawArray[p],P=o.trim(E.filter_ignoreCase?P.toLowerCase():P),h.sortLocaleCompare&&(P=s.replaceAccents(P))),P}).get(),f.filter=f.anyMatchFilter,f.iFilter=f.iAnyMatchFilter,f.exact=f.rowArray.join(" "),f.iExact=E.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.cache=f.cacheArray.slice(0,-1).join(" "),v.excludeMatch=v.noAnyMatch,w=u.processTypes(h,f,v),w!==null)T=w;else if(E.filter_startsWith)for(T=!1,a=Math.min(h.columns,f.rowArray.length);!T&&a>0;)a--,T=T||f.rowArray[a].indexOf(f.iFilter)===0;else T=(f.iExact+f.childRowText).indexOf(f.iFilter)>=0;if(f.anyMatch=!1,f.filters.join("")===f.filter)return T}for(a=0;a<h.columns;a++)f.filter=f.filters[a],f.index=a,v.excludeMatch=v.excludeFilter[a],f.filter&&(f.cache=f.cacheArray[a],x=f.parsed[a]?f.cache:f.rawArray[a]||"",f.exact=h.sortLocaleCompare?s.replaceAccents(x):x,f.iExact=!l.type.test(_typeof(f.exact))&&E.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.isMatch=u.matchType(h,a),x=T,C=E.filter_columnFilters&&h.$filters.add(E.filter_$externalFilters).filter('[data-column="'+a+'"]').find("select option:selected").attr("data-function-name")||"",h.sortLocaleCompare&&(f.filter=s.replaceAccents(f.filter)),E.filter_defaultFilter&&l.iQuery.test(v.defaultColFilter[a])&&(f.filter=u.defaultFilter(f.filter,v.defaultColFilter[a])),f.iFilter=E.filter_ignoreCase?(f.filter||"").toLowerCase():f.filter,b=v.functions[a],w=null,b&&(typeof b=="function"?w=b(f.exact,f.cache,f.filter,a,f.$row,h,f):typeof b[C||f.filter]=="function"&&(P=C||f.filter,w=b[P](f.exact,f.cache,f.filter,a,f.$row,h,f))),w===null?(w=u.processTypes(h,f,v),P=b===!0&&(f.matchedOn==="and"||f.matchedOn==="or"),w!==null&&!P?x=w:b===!0?x=f.isMatch?(""+f.iExact).search(f.iFilter)>=0:f.filter===f.exact:(P=(f.iExact+f.childRowText).indexOf(u.parseFilter(h,f.iFilter,f)),x=!E.filter_startsWith&&P>=0||E.filter_startsWith&&P===0)):x=w,T=x?T:!1);return T},findRows:function(h,f,v){if(!(u.equalFilters(h.config,h.config.lastSearch,v)||!h.config.widgetOptions.filter_initialized)){var x,w,b,C,P,E,T,m,a,p,g,y,_,j,R,D,H,K,J,F,de,re,V,X,oe=o.extend([],f),G=h.config,Y=G.widgetOptions,Z=s.debug(G,"filter"),ae={anyMatch:!1,filters:f,filter_regexCache:[]},ie={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:s.getColumnData(h,Y.filter_defaultFilter,G.columns,!0)||""};for(ae.parsed=[],a=0;a<G.columns;a++)ae.parsed[a]=Y.filter_useParsedData||G.parsers&&G.parsers[a]&&G.parsers[a].parsed||s.getData&&s.getData(G.$headerIndexed[a],s.getColumnData(h,G.headers,a),"filter")==="parsed"||G.$headerIndexed[a].hasClass("filter-parsed"),ie.functions[a]=s.getColumnData(h,Y.filter_functions,a)||G.$headerIndexed[a].hasClass("filter-select"),ie.defaultColFilter[a]=s.getColumnData(h,Y.filter_defaultFilter,a)||"",ie.excludeFilter[a]=(s.getColumnData(h,Y.filter_excludeFilter,a,!0)||"").split(/\s+/);for(Z&&(console.log("Filter >> Starting filter widget search",f),R=new Date),G.filteredRows=0,G.totalRows=0,v=oe||[],T=0;T<G.$tbodies.length;T++){if(m=s.processTbody(h,G.$tbodies.eq(T),!0),a=G.columns,w=G.cache[T].normalized,C=o(o.map(w,function(je){return je[a].$row.get()})),v.join("")===""||Y.filter_serversideFiltering)C.removeClass(Y.filter_filteredRow).not("."+G.cssChildRow).css("display","");else{if(C=C.not("."+G.cssChildRow),x=C.length,(Y.filter_$anyMatch&&Y.filter_$anyMatch.length||_typeof(f[G.columns])<"u")&&(ae.anyMatchFlag=!0,ae.anyMatchFilter=""+(f[G.columns]||Y.filter_$anyMatch&&u.getLatestSearch(Y.filter_$anyMatch).val()||""),Y.filter_columnAnyMatch)){for(F=ae.anyMatchFilter.split(l.andSplit),de=!1,H=0;H<F.length;H++)re=F[H].split(":"),re.length>1&&(isNaN(re[0])?o.each(G.headerContent,function(je,Le){Le.toLowerCase().indexOf(re[0])>-1&&(V=je,f[V]=re[1])}):V=parseInt(re[0],10)-1,V>=0&&V<G.columns&&(f[V]=re[1],F.splice(H,1),H--,de=!0));de&&(ae.anyMatchFilter=F.join(" && "))}if(J=Y.filter_searchFiltered,y=G.lastSearch||G.$table.data("lastSearch")||[],J)for(H=0;H<a+1;H++)D=f[H]||"",J||(H=a),J=J&&y.length&&D.indexOf(y[H]||"")===0&&!l.alreadyFiltered.test(D)&&!l.exactTest.test(D)&&!(l.isNeg1.test(D)||l.isNeg2.test(D))&&!(D!==""&&G.$filters&&G.$filters.filter('[data-column="'+H+'"]').find("select").length&&!u.matchType(G,H));for(K=C.not("."+Y.filter_filteredRow).length,J&&K===0&&(J=!1),Z&&console.log("Filter >> Searching through "+(J&&K<x?K:"all")+" rows"),ae.anyMatchFlag&&(G.sortLocaleCompare&&(ae.anyMatchFilter=s.replaceAccents(ae.anyMatchFilter)),Y.filter_defaultFilter&&l.iQuery.test(ie.defaultAnyFilter)&&(ae.anyMatchFilter=u.defaultFilter(ae.anyMatchFilter,ie.defaultAnyFilter),J=!1),ae.iAnyMatchFilter=Y.filter_ignoreCase&&G.ignoreCase?ae.anyMatchFilter.toLowerCase():ae.anyMatchFilter),E=0;E<x;E++)if(X=C[E].className,p=E&&l.child.test(X),!(p||J&&l.filtered.test(X))){if(ae.$row=C.eq(E),ae.rowIndex=E,ae.cacheArray=w[E],b=ae.cacheArray[G.columns],ae.rawArray=b.raw,ae.childRowText="",!Y.filter_childByColumn){for(X="",g=b.child,H=0;H<g.length;H++)X+=" "+g[H].join(" ")||"";ae.childRowText=Y.filter_childRows?Y.filter_ignoreCase?X.toLowerCase():X:""}if(_=!1,j=u.processRow(G,ae,ie),P=b.$row,D=!!j,g=b.$row.filter(":gt(0)"),Y.filter_childRows&&g.length){if(Y.filter_childByColumn)for(Y.filter_childWithSibs||(g.addClass(Y.filter_filteredRow),P=P.eq(0)),H=0;H<g.length;H++)ae.$row=g.eq(H),ae.cacheArray=b.child[H],ae.rawArray=ae.cacheArray,D=u.processRow(G,ae,ie),_=_||D,!Y.filter_childWithSibs&&D&&g.eq(H).removeClass(Y.filter_filteredRow);_=_||j}else _=D;P.toggleClass(Y.filter_filteredRow,!_)[0].display=_?"":"none"}}G.filteredRows+=C.not("."+Y.filter_filteredRow).length,G.totalRows+=C.length,s.processTbody(h,m,!1)}G.lastCombinedFilter=oe.join(""),G.lastSearch=oe,G.$table.data("lastSearch",oe),Y.filter_saveFilters&&s.storage&&s.storage(h,"tablesorter-filters",u.processFilters(oe,!0)),Z&&console.log("Filter >> Completed search"+s.benchmark(R)),Y.filter_initialized&&(G.$table.triggerHandler("filterBeforeEnd",G),G.$table.triggerHandler("filterEnd",G)),setTimeout(function(){s.applyWidget(G.table)},0)}},getOptionSource:function(h,f,v){h=o(h)[0];var x=h.config,w=x.widgetOptions,b=!1,C=w.filter_selectSource,P=x.$table.data("lastSearch")||[],E=typeof C=="function"?!0:s.getColumnData(h,C,f);if(v&&P[f]!==""&&(v=!1),E===!0)b=C(h,f,v);else{if(_instanceof(E,o)||o.type(E)==="string"&&E.indexOf("</option>")>=0)return E;if(o.isArray(E))b=E;else if(o.type(C)==="object"&&E&&(b=E(h,f,v),b===null))return null}return b===!1&&(b=u.getOptions(h,f,v)),u.processOptions(h,f,b)},processOptions:function(h,f,v){if(!o.isArray(v))return!1;h=o(h)[0];var x,w,b,C,P,E,T=h.config,m=(typeof f=="undefined"?"undefined":_typeof(f))<"u"&&f!==null&&f>=0&&f<T.columns,a=m?T.$headerIndexed[f].hasClass("filter-select-sort-desc"):!1,p=[];if(v=o.grep(v,function(g,y){return g.text?!0:o.inArray(g,v)===y}),m&&T.$headerIndexed[f].hasClass("filter-select-nosort"))return v;for(C=v.length,b=0;b<C;b++)w=v[b],E=w.text?w.text:w,P=(m&&T.parsers&&T.parsers.length&&T.parsers[f].format(E,h,[],f)||E).toString(),P=T.widgetOptions.filter_ignoreCase?P.toLowerCase():P,w.text?(w.parsed=P,p[p.length]=w):p[p.length]={text:w,parsed:P};for(x=T.textSorter||"",p.sort(function(g,y){var _=a?y.parsed:g.parsed,j=a?g.parsed:y.parsed;return m&&typeof x=="function"?x(_,j,!0,f,h):m&&typeof x=="object"&&x.hasOwnProperty(f)?x[f](_,j,!0,f,h):s.sortNatural?s.sortNatural(_,j):!0}),v=[],C=p.length,b=0;b<C;b++)v[v.length]=p[b];return v},getOptions:function(h,f,v){h=o(h)[0];var x,w,b,C,P,E,T,m,a=h.config,p=a.widgetOptions,g=[];for(w=0;w<a.$tbodies.length;w++)for(P=a.cache[w],b=a.cache[w].normalized.length,x=0;x<b;x++)if(C=P.row?P.row[x]:P.normalized[x][a.columns].$row[0],!(v&&C.className.match(p.filter_filteredRow))){if(p.filter_useParsedData||a.parsers[f].parsed||a.$headerIndexed[f].hasClass("filter-parsed")){if(g[g.length]=""+P.normalized[x][f],p.filter_childRows&&p.filter_childByColumn)for(m=P.normalized[x][a.columns].$row.length-1,E=0;E<m;E++)g[g.length]=""+P.normalized[x][a.columns].child[E][f]}else if(g[g.length]=P.normalized[x][a.columns].raw[f],p.filter_childRows&&p.filter_childByColumn)for(m=P.normalized[x][a.columns].$row.length,E=1;E<m;E++)T=P.normalized[x][a.columns].$row.eq(E).children().eq(f),g[g.length]=""+s.getElementText(a,T,f)}return g},buildSelect:function(h,f,v,x,w){if(h=o(h)[0],f=parseInt(f,10),!(!h.config.cache||o.isEmptyObject(h.config.cache))){var b,C,P,E,T,m,a,p=h.config,g=p.widgetOptions,y=p.$headerIndexed[f],_='<option value="">'+(y.data("placeholder")||y.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",j=p.$table.find("thead").find("select."+r.filter+'[data-column="'+f+'"]').val();if(!(((typeof v=="undefined"?"undefined":_typeof(v))>"u"||v==="")&&(v=u.getOptionSource(h,f,w),v===null))){if(o.isArray(v)){for(b=0;b<v.length;b++)if(a=v[b],a.text){a["data-function-name"]=_typeof(a.value)>"u"?a.text:a.value,_+="<option";for(C in a)a.hasOwnProperty(C)&&C!=="text"&&(_+=" "+C+'="'+a[C].replace(l.quote,"&quot;")+'"');a.value||(_+=' value="'+a.text.replace(l.quote,"&quot;")+'"'),_+=">"+a.text.replace(l.quote,"&quot;")+"</option>"}else""+a!="[object Object]"&&(P=a=(""+a).replace(l.quote,"&quot;"),C=P,P.indexOf(g.filter_selectSourceSeparator)>=0&&(E=P.split(g.filter_selectSourceSeparator),C=E[0],P=E[1]),_+=a!==""?"<option "+(C===P?"":'data-function-name="'+a+'" ')+'value="'+C+'">'+P+"</option>":"");v=[]}T=(p.$filters?p.$filters:p.$table.children("thead")).find("."+r.filter),g.filter_$externalFilters&&(T=T&&T.length?T.add(g.filter_$externalFilters):g.filter_$externalFilters),m=T.filter('select[data-column="'+f+'"]'),m.length&&(m[x?"html":"append"](_),o.isArray(v)||m.append(v).val(j),m.val(j))}}},buildDefault:function(h,f){var v,x,w,b=h.config,C=b.widgetOptions,P=b.columns;for(v=0;v<P;v++)x=b.$headerIndexed[v],w=!(x.hasClass("filter-false")||x.hasClass("parser-false")),(x.hasClass("filter-select")||s.getColumnData(h,C.filter_functions,v)===!0)&&w&&u.buildSelect(h,v,"",f,x.hasClass(C.filter_onlyAvail))}},l=u.regex,s.getFilters=function(c,h,f,v){var x,w,b,C,P=[],E=c?o(c)[0].config:"",T=E?E.widgetOptions:"";if(h!==!0&&T&&!T.filter_columnFilters||o.isArray(f)&&u.equalFilters(E,f,E.lastSearch))return o(c).data("lastSearch")||[];if(E&&(E.$filters&&(w=E.$filters.find("."+r.filter)),T.filter_$externalFilters&&(w=w&&w.length?w.add(T.filter_$externalFilters):T.filter_$externalFilters),w&&w.length))for(P=f||[],x=0;x<E.columns+1;x++)C=x===E.columns?T.filter_anyColumnSelector+","+T.filter_multipleColumnSelector:'[data-column="'+x+'"]',b=w.filter(C),b.length&&(b=u.getLatestSearch(b),o.isArray(f)?(v&&b.length>1&&(b=b.slice(1)),x===E.columns&&(C=b.filter(T.filter_anyColumnSelector),b=C.length?C:b),b.val(f[x]).trigger("change"+E.namespace)):(P[x]=b.val()||"",x===E.columns?b.slice(1).filter('[data-column*="'+b.attr("data-column")+'"]').val(P[x]):b.slice(1).val(P[x])),x===E.columns&&b.length&&(T.filter_$anyMatch=b));return P},s.setFilters=function(c,h,f,v){var x=c?o(c)[0].config:"",w=s.getFilters(c,!0,h,v);return(typeof f=="undefined"?"undefined":_typeof(f))>"u"&&(f=!0),x&&f&&(x.lastCombinedFilter=null,x.lastSearch=[],u.searching(x.table,h,v),x.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(n),function(o,u){"use strict";var l=function(d,c){var h=isNaN(c.stickyHeaders_offset)?o(c.stickyHeaders_offset):[];return h.length?h.height()||0:parseInt(c.stickyHeaders_offset,10)||0},s=o.tablesorter||{};o.extend(s.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),s.addHeaderResizeEvent=function(r,d,c){if(r=o(r)[0],!!r.config){var h={timer:250},f=o.extend({},h,c),v=r.config,x=v.widgetOptions,w=function(C){var P,E,T,m,a,p,g=v.$headers.length;for(x.resize_flag=!0,E=[],P=0;P<g;P++)T=v.$headers.eq(P),m=T.data("savedSizes")||[0,0],a=T[0].offsetWidth,p=T[0].offsetHeight,(a!==m[0]||p!==m[1])&&(T.data("savedSizes",[a,p]),E.push(T[0]));E.length&&C!==!1&&v.$table.triggerHandler("resize",[E]),x.resize_flag=!1};if(clearInterval(x.resize_timer),d)return x.resize_flag=!1,!1;w(!1),x.resize_timer=setInterval(function(){x.resize_flag||w()},f.timer)}},s.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(d,c,h){if(!(c.$table.hasClass("hasStickyHeaders")||o.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters"))){var f,v,x,w=c.$table,b=o(h.stickyHeaders_attachTo||h.stickyHeaders_appendTo),C=c.namespace+"stickyheaders ",P=o(h.stickyHeaders_yScroll||h.stickyHeaders_attachTo||u),E=o(h.stickyHeaders_xScroll||h.stickyHeaders_attachTo||u),T=w.children("thead:first"),m=T.children("tr").not(".sticky-false").children(),a=w.children("tfoot"),p=l(c,h),g=w.parent().closest("."+s.css.table).hasClass("hasStickyHeaders")?w.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],y=g.length?g.height():0,_=h.$sticky=w.clone().addClass("containsStickyHeaders "+s.css.sticky+" "+h.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+s.css.stickyWrap+'">'),j=_.parent().addClass(s.css.stickyHide).css({position:b.length?"absolute":"fixed",padding:parseInt(_.parent().parent().css("padding-left"),10),top:p+y,left:0,visibility:"hidden",zIndex:h.stickyHeaders_zIndex||2}),R=_.children("thead:first"),D,H="",K=function(V,X){var oe,G,Y,Z,ae,ie=V.filter(":visible"),je=ie.length;for(oe=0;oe<je;oe++)Z=X.filter(":visible").eq(oe),ae=ie.eq(oe),ae.css("box-sizing")==="border-box"?G=ae.outerWidth():Z.css("border-collapse")==="collapse"?u.getComputedStyle?G=parseFloat(u.getComputedStyle(ae[0],null).width):(Y=parseFloat(ae.css("border-width")),G=ae.outerWidth()-parseFloat(ae.css("padding-left"))-parseFloat(ae.css("padding-right"))-Y):G=ae.width(),Z.css({width:G,"min-width":G,"max-width":G})},J=function(V){return V===!1&&g.length?w.position().left:b.length?parseInt(b.css("padding-left"),10)||0:w.offset().left-parseInt(w.css("margin-left"),10)-o(u).scrollLeft()},F=function(){j.css({left:J(),width:w.outerWidth()}),K(w,_),K(m,D)},de=function(V){if(w.is(":visible")){y=g.length?g.offset().top-P.scrollTop()+g.height():0;var X,oe=w.offset(),G=l(c,h),Y=o.isWindow(P[0]),Z=Y?P.scrollTop():g.length?parseInt(g[0].style.top,10):P.offset().top,ae=b.length?Z:P.scrollTop(),ie=h.stickyHeaders_includeCaption?0:w.children("caption").height()||0,je=ae+G+y-ie,Le=w.height()-(j.height()+(a.height()||0))-ie,ke=je>oe.top&&je<oe.top+Le?"visible":"hidden",Ze=ke==="visible"?s.css.stickyVis:s.css.stickyHide,Ve=!j.hasClass(Ze),Xe={visibility:ke};b.length&&(Ve=!0,Xe.top=Y?je-b.offset().top:b.scrollTop()),X=J(Y),X!==parseInt(j.css("left"),10)&&(Ve=!0,Xe.left=X),Xe.top=(Xe.top||0)+(!Y&&g.length?g.height():G+y),Ve&&j.removeClass(s.css.stickyVis+" "+s.css.stickyHide).addClass(Ze).css(Xe),(ke!==H||V)&&(F(),H=ke)}};if(b.length&&!b.css("position")&&b.css("position","relative"),_.attr("id")&&(_[0].id+=h.stickyHeaders_cloneId),_.find("> thead:gt(0), tr.sticky-false").hide(),_.find("> tbody, > tfoot").remove(),_.find("caption").toggle(h.stickyHeaders_includeCaption),D=R.children().children(),_.css({height:0,width:0,margin:0}),D.find("."+s.css.resizer).remove(),w.addClass("hasStickyHeaders").bind("pagerComplete"+C,function(){F()}),s.bindEvents(d,R.children().children("."+s.css.header)),h.stickyHeaders_appendTo?o(h.stickyHeaders_appendTo).append(j):w.after(j),c.onRenderHeader)for(x=R.children("tr").children(),v=x.length,f=0;f<v;f++)c.onRenderHeader.apply(x.eq(f),[f,c,_]);E.add(P).unbind("scroll resize ".split(" ").join(C).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(C),function(re){de(re.type==="resize")}),c.$table.unbind("stickyHeadersUpdate"+C).bind("stickyHeadersUpdate"+C,function(){de(!0)}),h.stickyHeaders_addResizeEvent&&s.addHeaderResizeEvent(d),w.hasClass("hasFilters")&&h.filter_columnFilters&&(w.bind("filterEnd"+C,function(){var re=o(document.activeElement).closest("td"),V=re.parent().children().index(re);j.hasClass(s.css.stickyVis)&&h.stickyHeaders_filteredToTop&&(u.scrollTo(0,w.position().top),V>=0&&c.$filters&&c.$filters.eq(V).find("a, select, input").filter(":visible").focus())}),s.filter.bindSearch(w,D.find("."+s.css.filter)),h.filter_hideFilters&&s.filter.hideFilters(c,_)),h.stickyHeaders_addResizeEvent&&w.bind("resize"+c.namespace+"stickyheaders",function(){F()}),de(!0),w.triggerHandler("stickyHeadersInit")}},remove:function(d,c,h){var f=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(f).replace(/\s+/g," ")).next("."+s.css.stickyWrap).remove(),h.$sticky&&h.$sticky.length&&h.$sticky.remove(),o(u).add(h.stickyHeaders_xScroll).add(h.stickyHeaders_yScroll).add(h.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(f).replace(/\s+/g," ")),s.addHeaderResizeEvent(d,!0)}})}(n,window),function(o,u){"use strict";var l=o.tablesorter||{};o.extend(l.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),o(function(){var s="<style>body."+l.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+l.css.resizableContainer+" { position: relative; height: 1px; }."+l.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";o("head").append(s)}),l.resizable={init:function(r,d){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable");var c,h,f,v,x,w=r.$table,b=w.parent(),C=parseInt(w.css("margin-top"),10),P=d.resizable_vars={useStorage:l.storage&&d.resizable!==!1,$wrap:b,mouseXPosition:0,$target:null,$next:null,overflow:b.css("overflow")==="auto"||b.css("overflow")==="scroll"||b.css("overflow-x")==="auto"||b.css("overflow-x")==="scroll",storedSizes:[]};for(l.resizableReset(r.table,!0),P.tableWidth=w.width(),P.fullWidth=Math.abs(b.width()-P.tableWidth)<20,P.useStorage&&P.overflow&&(l.storage(r.table,"tablesorter-table-original-css-width",P.tableWidth),x=l.storage(r.table,"tablesorter-table-resized-width")||"auto",l.resizable.setWidth(w,x,!0)),d.resizable_vars.storedSizes=v=(P.useStorage?l.storage(r.table,l.css.resizableStorage):[])||[],l.resizable.setWidths(r,d,v),l.resizable.updateStoredSizes(r,d),d.$resizable_container=o('<div class="'+l.css.resizableContainer+'">').css({top:C}).insertBefore(w),f=0;f<r.columns;f++)h=r.$headerIndexed[f],x=l.getColumnData(r.table,r.headers,f),c=l.getData(h,x,"resizable")==="false",c||o('<div class="'+l.css.resizableHandle+'">').appendTo(d.$resizable_container).attr({"data-column":f,unselectable:"on"}).data("header",h).bind("selectstart",!1);l.resizable.bindings(r,d)}},updateStoredSizes:function(r,d){var c,h,f=r.columns,v=d.resizable_vars;for(v.storedSizes=[],c=0;c<f;c++)h=r.$headerIndexed[c],v.storedSizes[c]=h.is(":visible")?h.width():0},setWidth:function(r,d,c){r.css({width:d,"min-width":c?d:"","max-width":c?d:""})},setWidths:function(r,d,c){var h,f,v=d.resizable_vars,x=o(r.namespace+"_extra_headers"),w=r.$table.children("colgroup").children("col");if(c=c||v.storedSizes||[],c.length){for(h=0;h<r.columns;h++)l.resizable.setWidth(r.$headerIndexed[h],c[h],v.overflow),x.length&&(f=x.eq(h).add(w.eq(h)),l.resizable.setWidth(f,c[h],v.overflow));f=o(r.namespace+"_extra_table"),f.length&&!l.hasWidget(r.table,"scroller")&&l.resizable.setWidth(f,r.$table.outerWidth(),v.overflow)}},setHandlePosition:function(r,d){var c,h=r.$table.height(),f=d.$resizable_container.children(),v=Math.floor(f.width()/2);l.hasWidget(r.table,"scroller")&&(h=0,r.$table.closest("."+l.css.scrollerWrap).children().each(function(){var x=o(this);h+=x.filter('[style*="height"]').length?x.height():x.children("table").height()})),!d.resizable_includeFooter&&r.$table.children("tfoot").length&&(h-=r.$table.children("tfoot").height()),c=parseFloat(o.fn.jquery)>=3.3?0:r.$table.position().left,f.each(function(){var x=o(this),w=parseInt(x.attr("data-column"),10),b=r.columns-1,C=x.data("header");C&&(!C.is(":visible")||!d.resizable_addLastColumn&&l.resizable.checkVisibleColumns(r,w)?x.hide():(w<b||w===b&&d.resizable_addLastColumn)&&x.css({display:"inline-block",height:h,left:C.position().left-c+C.outerWidth()-v}))})},checkVisibleColumns:function(r,d){var c,h=0;for(c=d+1;c<r.columns;c++)h+=r.$headerIndexed[c].is(":visible")?1:0;return h===0},toggleTextSelection:function(r,d,c){var h=r.namespace+"tsresize";d.resizable_vars.disabled=c,o("body").toggleClass(l.css.resizableNoSelect,c),c?o("body").attr("unselectable","on").bind("selectstart"+h,!1):o("body").removeAttr("unselectable").unbind("selectstart"+h)},bindings:function(r,d){var c=r.namespace+"tsresize";d.$resizable_container.children().bind("mousedown",function(h){var f,v=d.resizable_vars,x=o(r.namespace+"_extra_headers"),w=o(h.target).data("header");f=parseInt(w.attr("data-column"),10),v.$target=w=w.add(x.filter('[data-column="'+f+'"]')),v.target=f,v.$next=h.shiftKey||d.resizable_targetLast?w.parent().children().not(".resizable-false").filter(":last"):w.nextAll(":not(.resizable-false)").eq(0),f=parseInt(v.$next.attr("data-column"),10),v.$next=v.$next.add(x.filter('[data-column="'+f+'"]')),v.next=f,v.mouseXPosition=h.pageX,l.resizable.updateStoredSizes(r,d),l.resizable.toggleTextSelection(r,d,!0)}),o(document).bind("mousemove"+c,function(h){var f=d.resizable_vars;!f.disabled||f.mouseXPosition===0||!f.$target||(d.resizable_throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){l.resizable.mouseMove(r,d,h)},isNaN(d.resizable_throttle)?5:d.resizable_throttle)):l.resizable.mouseMove(r,d,h))}).bind("mouseup"+c,function(){d.resizable_vars.disabled&&(l.resizable.toggleTextSelection(r,d,!1),l.resizable.stopResize(r,d),l.resizable.setHandlePosition(r,d))}),o(u).bind("resize"+c+" resizeEnd"+c,function(){l.resizable.setHandlePosition(r,d)}),r.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(c+" "),function(){l.resizable.setHandlePosition(r,d)}).bind("resizableReset"+c,function(){l.resizableReset(r.table)}).find("thead:first").add(o(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+c,function(){var h=d.resizable_vars.storedSizes.length===0;return l.resizableReset(r.table),l.resizable.setHandlePosition(r,d),d.resizable_vars.storedSizes=[],h})},mouseMove:function(r,d,c){if(!(d.resizable_vars.mouseXPosition===0||!d.resizable_vars.$target)){var h,f=0,v=d.resizable_vars,x=v.$next,w=v.storedSizes[v.target],b=c.pageX-v.mouseXPosition;if(v.overflow){if(w+b>0){for(v.storedSizes[v.target]+=b,l.resizable.setWidth(v.$target,v.storedSizes[v.target],!0),h=0;h<r.columns;h++)f+=v.storedSizes[h];l.resizable.setWidth(r.$table.add(o(r.namespace+"_extra_table")),f)}x.length||(v.$wrap[0].scrollLeft=r.$table.width())}else v.fullWidth?(v.storedSizes[v.target]+=b,v.storedSizes[v.next]-=b,l.resizable.setWidths(r,d)):(v.storedSizes[v.target]+=b,l.resizable.setWidths(r,d));v.mouseXPosition=c.pageX,r.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(r,d){var c=d.resizable_vars;l.resizable.updateStoredSizes(r,d),c.useStorage&&(l.storage(r.table,l.css.resizableStorage,c.storedSizes),l.storage(r.table,"tablesorter-table-resized-width",r.$table.width())),c.mouseXPosition=0,c.$target=c.$next=null,r.$table.triggerHandler("stickyHeadersUpdate"),r.$table.triggerHandler("resizableComplete")}},l.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(r,d,c,h){l.resizable.init(c,h)},format:function(r,d,c){l.resizable.setHandlePosition(d,c)},remove:function(r,d,c,h){if(c.$resizable_container){var f=d.namespace+"tsresize";d.$table.add(o(d.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+f),c.$resizable_container.remove(),l.resizable.toggleTextSelection(d,c,!1),l.resizableReset(r,h),o(document).unbind("mousemove"+f+" mouseup"+f)}}}),l.resizableReset=function(s,r){o(s).each(function(){var d,c,h=this.config,f=h&&h.widgetOptions,v=f.resizable_vars;if(s&&h&&h.$headerIndexed.length){for(v.overflow&&v.tableWidth&&(l.resizable.setWidth(h.$table,v.tableWidth,!0),v.useStorage&&l.storage(s,"tablesorter-table-resized-width",v.tableWidth)),d=0;d<h.columns;d++)c=h.$headerIndexed[d],f.resizable_widths&&f.resizable_widths[d]?l.resizable.setWidth(c,f.resizable_widths[d],v.overflow):c.hasClass("resizable-false")||l.resizable.setWidth(c,"",v.overflow);h.$table.triggerHandler("stickyHeadersUpdate"),l.storage&&!r&&l.storage(this,l.css.resizableStorage,[])}})}}(n,window),function(o){"use strict";var u=function(d){var c=s.storage(d.table,"tablesorter-savesort");return c&&c.hasOwnProperty("sortList")&&o.isArray(c.sortList)?c.sortList:[]},l=function(d,c){return(c||u(d)).join(",")!==d.sortList.join(",")},s=o.tablesorter||{};s.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(d,c,h,f){c.format(d,h,f,!0)},format:function(d,c,h,f){var v,x=c.$table,w=h.saveSort!==!1,b={sortList:c.sortList},C=s.debug(c,"saveSort");C&&(v=new Date),x.hasClass("hasSaveSort")?w&&d.hasInitialized&&s.storage&&l(c)&&(s.storage(d,"tablesorter-savesort",b),C&&console.log("saveSort >> Saving last sort: "+c.sortList+s.benchmark(v))):(x.addClass("hasSaveSort"),b="",s.storage&&(b=u(c),C&&console.log('saveSort >> Last sort loaded: "'+b+'"'+s.benchmark(v)),x.bind("saveSortReset",function(P){P.stopPropagation(),s.storage(d,"tablesorter-savesort","")})),f&&b&&b.length>0?c.sortList=b:d.hasInitialized&&b&&b.length>0&&l(c,b)&&s.sortOn(c,b))},remove:function(d,c){c.$table.removeClass("hasSaveSort"),s.storage&&s.storage(d,"tablesorter-savesort","")}})}(n),n.tablesorter})}),s1=o1(a1());var S;Vn=s1,S=Vn,Vp=S.default,l1=xi(Vn,["default"]),u1=Vp!==void 0?Vp:l1}}),d1={};qr(d1,{default:function(){return u1}});var z8=Tt({"https-url:https://esm.archive.org/tablesorter?deps=jquery@3.6.1":function(){c1(),c1()}}),$t,Md=Tt({"components/archive/archive.js":function(){da(),oi(),vb(),i8(),wb(),u8(),c8(),d8(),h8(),f8(),p8(),vo(),$b(),Bb(),pb(),v8(),g8(),m8(),y8(),up(),b8(),w8(),L8(),$t=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"paramsToJSON",value:function(){return Lb()}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&_instanceof(document,window.DocumentTouch)}},{key:"emulate_setup",value:function(e){e.toString=function(){return e.identifier},$t.emulator=new IALoader(ee("#canvas").get(0),e,null),ee("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),Gr.get("unmute")?(ee("#theatre-ia .iconochive-unmute").show(),$t.emulator.unmute()):(ee("#theatre-ia .iconochive-mute").show(),$t.emulator.mute()),$t.theatre_controls_position(),ee(window).on("resize  orientationchange",function(){clearTimeout($t.theatre_controls_position_throttler),$t.theatre_controls_position_throttler=setTimeout($t.theatre_controls_position,250)})}},{key:"emulate",value:function(){return ee(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button"\n              class="close js-emulate-keyboard" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(ee("#emulate .posrel")).addClass("showing"),ee("#jsmessSS").fadeOut("slow"),ee("#canvasholder").css("visibility","visible"),$t.emulator.start({hasCustomCSS:!0}),ee(".js-ajs-emulate-fullscreen").on("click",$t.emulator.requestFullScreen),Kr(".js-emulate-keyboard",function(){return ee(".ui-keyboard").removeClass("showing").hide()}),setTimeout($t.theatre_controls_position,100),setTimeout($t.theatre_controls_position,500),setTimeout($t.theatre_controls_position,3e3),setTimeout($t.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,n,o,u){var l=e,s=u&&!e;if(!(!s&&(e||(l=ee("#canvas")),!l.length))){var r=s?u:l.height()||0,d=s?o:l.width()||0;!s&&typeof n!="undefined"&&ee("#theatre-controls").offset({top:n});var c=Math.round((ee("#theatre-ia-wrap").width()-ee("#theatre-controls").width()-d)/2);dn("width",d),dn("right_gutter_width",c),ee("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,c/2)})}}},{key:"theatresize",value:function(e){$t.theatresize_maxheight||($t.theatresize_maxheight=null);var n=function(){var o=100,u=1e3,l=Math.min(ee(window).width(),400),s=ee(window).height()-(ee("#navwrap1").height()||0)-o;$t.theatresize_maxheight&&(s=Math.min(s,$t.theatresize_maxheight)),s=Math.max(s,l);var r=Math.min(s,u);ee("#theatre-ia-wrap").addClass("resized").css("height",r),e&&e(ee("#theatre-ia-wrap").height()||0)};n(),ee(window).on("resize  orientationchange",function(){clearTimeout($t.theatresize_throttler),$t.theatresize_throttler=setTimeout(n,250)})}},{key:"carouselsize",value:function(e,n){var o,u=ee(e),l=u.find("img.carousel-image").map(function(s,r){var d=ee.Deferred(),c;return r.complete?c=d.resolve(r.naturalHeight).promise():(r.addEventListener("load",function(){d.resolve(r.naturalHeight)}),c=d),c}).get();(o=ee).when.apply(o,_toConsumableArray(l)).then(function(){for(var s=arguments.length,r=new Array(s),d=0;d<s;d++)r[d]=arguments[d];var c,h=u.height(),f=(c=Math).max.apply(c,_toConsumableArray(r));h>f&&(u.css("maxHeight",f),n&&($t.theatresize_maxheight=f,ee(window).trigger("resize")))})}},{key:"popover_menu",value:function(e,n){var o={trigger:"hover focus click",container:e,content:n.content,html:!0};n.title&&(o.title=n.title),n.placement&&(o.placement=n.placement),n.trigger&&(o.trigger=n.trigger),ee(e).popover(o)}},{key:"date_switcher",value:function(e){var n="#date_switcher";ee(n).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){ee(n).parent().find(".tooltip").length||ee(this).tooltip("show")}),ee(".sortbar").on("mouseleave",function(){dn("not hovering sortbar anymore"),ee(n).tooltip("hide")}),ee(n).on("shown.bs.tooltip",function(){ee(n).parent().find(".date_switcher").on("click",function(){ee(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),ee(this).addClass("in")})})}},{key:"tiles_to_list",value:function(){var e=$t.selector(),n=ee(e).first();dn("lister() SELECTOR",e);var o=n.find(".results .item-ia:first   .C3").outerWidth(),u=n.find(".results .item-ia:first .C234").outerWidth(),l=u-o-20,s=Math.max(80,Math.round(.6*l)),r=Math.max(80,Math.round(.4*l));dn("C3  ",o),dn("C234",u),dn("C2  ",s),dn("C4  ",r),dn(" ==> availWidth: ",l,"(",s,"+",r,")"),n.find(".results .item-ia .C2").css({width:s,"max-width":s}),n.find(".results .item-ia .C4").css({width:r,"max-width":r})}},{key:"lists_v_tiles_setup",value:function(e){var n="tiles",o=Gr.get("view-".concat(e)),u=Gr.get("showdetails-".concat(e)),l=u==="showdetails"||u===void 0&&n==="lists";if(o==="lists"||!o&&n==="lists"){if(l)return;ee("body").removeClass("showdetails")}else ee("body").removeClass("lists".concat(l?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e){var n=ee("body"),o=n.hasClass("showdetails")?"":"showdetails";dn("showdetails_toggle() going to: ",o),Gr.set("showdetails-".concat(e),o,{path:"/",expires:30,domain:".archive.org"}),n.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(e,n){var o=ee("body"),u=o.hasClass("tiles")?"lists":"tiles";return dn("tiles_toggle() going to",u),o.removeClass("lists tiles").addClass(u),$t.tiler(),Gr.set("view-".concat(n),u,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"inTab",value:function(){var e=ee(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return e.indexOf("forum")===0?e.split(" ").shift():e}},{key:"selector",value:function(){var e=$t.inTab();if(e==="forum"||e==="posts"||e==="about")return!1;var n=!1;if(e){dn("inTab",e);var o="#tabby-".concat(e.replace(" ","-"));if(e==="collection"||e==="collections"||e==="uploads"||e==="reviews"||e==="web archives")n="#".concat(ee(o.concat(" div.ikind.in:first")).attr("id"));else{var u=ee(o.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");n="#ikind-".concat(e).concat(u===""?"":"-").concat(u)}}else n="#ikind-".concat(ee(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),ee(n).length||(n="#ikind-search");return dn("SELECTOR",n),n}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(n){return ee(n.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(n){return ee(n.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(e,n){var o=180,u=150,l=30,s=17;ee("body").hasClass("tiles")||ee("body").hasClass("showdetails")&&ee(".sortbar input[name=showdetails]").prop("checked",!0);var r=e||$t.selector();if(r!==!1){var d=ee(r).first(),c=d.attr("id"),h=d.parents(".row"),f=568,v=ee(window).width()<f;if(!ee("body").hasClass("tiles")){h.css({"padding-left":"","padding-right":""});return}if($t.tilerPREV||($t.tilerPREV={winW:0,pad:0,nPerRow:1,gutter:s,tileWidth:o,unsourced:{},firstLeft:0},$t.parent_hover(d)),ee(window).width()!==$t.tilerPREV.winW){h.css({"padding-left":"","padding-right":""}),$t.tilerPREV.firstLeft=0;var x=h.find(".columns-facets:visible"),w=x.outerWidth()||0;w&&(w+=1+parseInt(x.css("padding-right"),10));var b=v?ee(window).width():h.width()-w,C=v?(b-d.width())/2:s,P=ee(".item-ia:first").outerWidth()>=o?o:u,E=Math.max(1,Math.floor((b+C)/(P+C))),T=v?0:Math.max(0,b-E*(P+C)+C);dn("tiling",c,"parentRowW",h.width(),"facetsWidth",w,"availWidth: ",b,"number per row",E,". ","With gutter margin",C,"had ",T,"extra pixels"),$t.tilerPREV.pad=Math.round(T/2),$t.tilerPREV.winW=ee(window).width(),$t.tilerPREV.nPerRow=E,$t.tilerPREV.gutter=C,$t.tilerPREV.tileWidth=P}$t.tilerPREV.nPerRow>1?h.css({"padding-left":$t.tilerPREV.pad,"padding-right":$t.tilerPREV.pad}):$t.tilerPREV.firstLeft=$t.tilerPREV.pad;for(var m=0,a=[],p=0,g={0:0},y={0:$t.tilerPREV.firstLeft},_=1;_<$t.tilerPREV.nPerRow;_++)y[_]=y[_-1]+$t.tilerPREV.gutter+$t.tilerPREV.tileWidth,g[_]=0;$t.tilerPREV.unsourced[c]||(dn("unsourcing",c),d.find(".item-ia img[source]").each(function(R,D){ee(D).attr({src:ee(D).attr("source"),alt:"Image Not Found!",onError:'$(this).attr("src","/images/notfound.png")'}).removeAttr("source")}),$t.tilerPREV.unsourced[c]=1),$t.colPREV=-1,d.find(".item-ia").not(".mobile-header").css("visibility","hidden").each(function(j,R){var D=ee(R),H=D.innerHeight(),K=0;if($t.tilerPREV.nPerRow>1&&j>=$t.tilerPREV.nPerRow){var J=($t.colPREV+1)%$t.tilerPREV.nPerRow;K=J;for(var F=g[J]-H,de=0;de<$t.tilerPREV.nPerRow;de++)if(de!==J&&F>g[de]){K=de;break}}else K=j%$t.tilerPREV.nPerRow;$t.colPREV=K;var re={visibility:"visible",top:g[K],left:y[K]};g[K]+=H+l,p=Math.max(p,g[K]),D.css(re);var V=D.find(".item-img");V.length&&!D.find(".item-img").height()&&(m+=1,V=D.attr("data-id"),V&&a.push(V))}),dn("maxtop",p),d.find(".results").css({height:p}),m&&!n&&(dn(m," img (still w/o height); recall tiler(",r,")...",a.join(",")),clearTimeout($t.tiler_throttler),$t.tiler_throttler=setTimeout(function(){return $t.tiler(r,0)},1500))}}},{key:"ikind",value:function(e,n){var o="#".concat(n);dn("ikind",n),ee(o).parent().find("div.ikind.in").hide(),ee(o).removeClass("hidden").addClass("in").show(),ee(o).parents(".tabby-data").find("a.ikind").removeClass("in"),ee(e).addClass("in"),$t.tiler(o);var u=ee(o).parents(".tabby-data").find("select.ikind-mobile"),l=u.find("option:contains(".concat(ee(e).text(),")")),s=u.find("option:selected");return l.text().trim()!==s.text().trim()&&(dn("changing ikind mobile now to ",l.text()),$t.ikind_mobile_change_ignore_next=!0,l.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(e){if($t.ikind_mobile_change_ignore_next){$t.ikind_mobile_change_ignore_next=!1;return}var n=ee(e).find("option:selected");dn("ikind mobile changed to: ",n.text());var o=ee(e).parents(".tabby-data").find("a.ikind");if(o.length||(o=ee("body").find("a.ikind")),!!o.length){var u=o.filter(function(s,r){return ee(r).text()===n.text()}),l=u.attr("href");dn("goto",l),l&&(l.substr(0,1)==="#"?ee("a.ikind[data-id=".concat(l.substr(1),"]")).click():location.href=l)}}},{key:"popState",value:function(e){if($t.pushState=typeof history.pushState!="undefined",dn("popState(",e,") called, modern browser: ",$t.pushState?"y":"n"),!e){var n=function(o){var u=cf("tab",!0);u?u="#tabby-".concat(u,"-finder"):o?u="#tabby-".concat(o,"-finder"):u=".tabby-default-finder",$t.pushState&&dn("goto tab: ",u," ################################################### STATE"),$t.tabby_no_pushState_next_click=!0,ee(u).click()};$t.pushState&&ee(window).on("popstate",function(){return n()}),n()}}},{key:"tabby",value:function(e,n){dn("AJS.tabby()",n);var o=n.replace(/tabby-/,"").trim();if(!(o==="uploads"||o==="reviews"||o==="collections"||o==="loans"||o==="web archives")){if(ee(".tabby-data.in").removeClass("in").hide(),ee("#".concat(n)).removeClass("hidden").addClass("in").show(),ee(".tabby").removeClass("in"),ee(e).parents(".tabby").addClass("in"),$t.tabby_no_pushState_next_click)delete $t.tabby_no_pushState_next_click;else if($t.pushState&&typeof history.pushState!="undefined"){var u=ee(e).attr("href"),l=location.href,s=location.protocol.concat("//",location.host,u);l!==s&&(dn("pushState: ",u," ################################################### STATE"),history.pushState({},"",s))}(o==="collection"||o==="about")&&(o==="about"&&$t.grafs(),$t.tiler()),$t.pushState&&(event==null||event.preventDefault())}}},{key:"collectionSummaryMoreClicked",value:function(){return $t.tabby("#tabby-about-finder","tabby-about")}},{key:"head_img_dragdrop_setup",value:function(e){$t.head_img_dragdrop_setup_done||(dn("head_img_dragdrop_setup"),$t.head_img_dragdrop_setup_done=!0,ee("#file-dropper-wrap").bind("mouseenter",function(){dn("enter"),$t.head_img_replaceable(e),ee("#file-dropper").show()}).bind("mouseleave",function(){dn("ouddie"),$t.file_picked||ee("#file-dropper").hide()}),ee("body").bind("dragover",function(n){return dn("dragover"),n.stopPropagation(),n.preventDefault(),$t.head_img_replaceable(e),ee("#file-dropper").addClass("drag_over").show(),!1}),ee("body").bind("dragleave",function(n){dn("dragleave");var o=ee("#file-dropper-wrap").is(":hover")||ee("#file-dropper     ").is(":hover")||ee("#file-dropper-img ").is(":hover"),u=n.pageX||n.originalEvent.pageX,l=n.pageY||n.originalEvent.pageY;if(!o){var s=ee("#file-dropper-wrap"),r=s.offset(),d=r.left,c=r.top;u>=d&&u<=d+s.outerWidth()&&l>=c&&l<=c+s.outerHeight()&&(o=!0)}if(!o){var h=ee("#file-dropper"),f=h.offset(),v=f.left,x=f.top;u>=v&&u<=v+h.outerWidth()&&l>=x&&l<=x+h.outerHeight()&&(o=!0)}o||ee("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(e){if(ee("#file-dropper").html().trim()===""){ee("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button id="file-picker" type="button" class="btn btn-info btn-xs">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='.concat(e,'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="').concat(e,'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>')),Kr("#file-picker",function(){return ee("#file-selector").click()}),ee("#file-cancel").bind("click",function(d){return $t.cancelFile(),d.stopPropagation(),d.preventDefault(),!1});var n=function(){dn("success!")},o=function(){var d=!1;typeof XMLHttpRequest=="undefined"&&(d="browser appears to not have HTML5 functionality"),d||(d=$t.badFile());var c=new XMLHttpRequest;if(d||(dn($t.file2post),c.upload||(d="browser submit setup failed")),d)return d;dn("post");var h=Math.round(Date.now()/1e3);c.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",e,"&fname=",encodeURIComponent($t.file2post.name))),c.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),c.send($t.file2post),dn("posted in background"),ee("#file-dropper").html("waiting for your tasks to queue");var f=!1,v=function(){dn("STALKING..."),ee.getJSON("/metadata/".concat(e,"?rand=").concat(Math.random()),function(x){var w=x.pending_tasks&&x.tasks?x.tasks.length:0;if(!w)dn("last update",x.item_last_updated,"vs now",h),x.item_last_updated<h?ee("#file-dropper").html("waiting for your tasks to queue"):(dn("task(s) done!"),clearInterval(f),ee("#file-dropper").html("reloading page with your image"),window.location.reload());else{var b=x.tasks.filter(function(C){return C.wait_admin===2}).length;b?(ee("#file-dropper").html('\n                  <div class="alert alert-danger">\n                    status task failure -- an admin will need to resolve\n                  </div>'),clearInterval(f)):ee("#file-dropper").html("waiting for your ".concat(w," tasks to finish"))}})};return f=setInterval(v,2e3),""};ee("#file-selector").bind("click",function(){$t.file_picked="selected"}).bind("change",function(d){if(dn("file dropdown selected!"),ee("#file-submit, #file-cancel").show(),dn(d),d.target&&d.target.files&&d.target.files.length){var c;c=_slicedToArray(d.target.files,1),$t.file2post=c[0],$t.previewFile()}}),ee("#file-dropper").bind("drop",function(d){var c,h;if(d.stopPropagation(),d.preventDefault(),ee("#file-dropper").removeClass("drag_over"),ee("#file-submit, #file-cancel").show(),(h=(c=d.originalEvent)==null?void 0:c.dataTransfer)!=null&&h.files){dn(d.originalEvent.dataTransfer.files),$t.file_picked="dropped";var f;f=_slicedToArray(d.originalEvent.dataTransfer.files,1),$t.file2post=f[0],$t.previewFile(),ee("#file-selector").files=d.originalEvent.dataTransfer.files}}),ee("#poster").bind("focusin",function(d){dn(d.type),ee("#file-uploading").show()}).bind("submit",function(d){dn("submit!"),ee("#file-uploading").show();var c=o();return c===""?(n(),d.stopPropagation(),d.preventDefault(),!1):$t.file_picked==="dropped"?($t.cancelFile(),alert("Failure: ".concat(c)),d.stopPropagation(),d.preventDefault(),!1):!0});var u=ee("#file-dropper-img").outerWidth(),l=ee("#file-dropper-img").outerHeight(),s=ee("#file-dropper").outerWidth(),r=ee("#file-dropper").outerHeight();ee("#file-dropper").css({left:Math.round((u-s)/2),top:Math.round((l-r)/2)}),zu&&(ee("#file-dropper > form > div.hidden").removeClass("hidden"),ee("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(ee("#file-dropper .uppreview").remove(),$t.badFile())return $t.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;var e=new FileReader;return e.onload=function(n){dn(n.target);var o=new Image;o.src=n.target.result,ee("#file-dropper").append(o),ee(o).addClass("uppreview")},dn($t.file2post),e.readAsDataURL($t.file2post),!0}},{key:"cancelFile",value:function(){ee("#file-dropper .uppreview").remove(),ee("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),$t.file_picked&&delete $t.file_picked,$t.file2post&&delete $t.file2post}},{key:"badFile",value:function(){var e=!1;if(!e&&!$t.file2post&&(e="file is missing"),!e&&$t.file2post.size>8e6&&(e="file is over 8MB in size"),!e){var n=$t.file2post.type.toLowerCase();n!=="image/jpeg"&&n!=="image/png"&&n!=="image/gif"&&(e="file not required format of JPEG or PNG or GIF")}return e&&alert(e),e}},{key:"drawPDF",value:function(e,n){var o="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),u=!1,l=!1,s=!0,r=!1,d=void 0;try{for(var c=Object.keys(n)[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value,v=f.slice(0,4);if(l===!1&&(l=v),l!==v){u=!0;break}}}catch(re){r=!0,d=re}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}var x="",w=x,b=666,C=!0,P=!1,E=void 0;try{for(var T=Object.keys(n)[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a!=="yyyymmdd"){var p=n[a].split(","),g=a.slice(0,4),y=parseInt(a.slice(4,6),10),_=parseInt(a.slice(6,8),10),j=g.concat("-",y),R=!1,D="";j!==b&&(y===1?D="January":y===2?D="February":y===3?D="March":y===4?D="April":y===5?D="May":y===6?D="June":y===7?D="July":y===8?D="August":y===9?D="September":y===10?D="October":y===11?D="November":y===12?D="December":y===void 0?D="Single Page PDFs":D="Unknown_".concat(y),u&&(D=g.concat(" ",D)),w+=w?"</div><!--mo--><br/>":"",w+='\n<a href="#'.concat(D,",").concat(g,'" class="year-month" data-toggle="#m').concat(j,'">\n  <span class="iconochive-folder"></span> ').concat(D,'\n</a>\n<div class="mo" id="m').concat(j,'">')),(_===void 0||_==="")&&(R=!0),R?w+='<div class="day">':w+='\n<div class="day">\n<a href="#'.concat(j,"-").concat(_,'" class="year-month-day" data-toggle="#m').concat(j,"d").concat(_,'">\n  <span class="iconochive-folder" /> ').concat(_,'\n</a>\n<div class="pages" id="m').concat(j,"d").concat(_,'">');for(var H=1,K=void 0,J=void 0,F=0;F<p.length;F++)if(K=p[F],!!K){H>0&&(H=1-K),J=parseInt(K,10)+H,K="0000".concat(K),K=K.substr(K.length-4,4);var de=o.concat(K,".pdf");w+='<a href="'.concat(de,'">[').concat(J,"]</a> ")}R?w+="</div>":w+="</div><!--pages--></div><!--day-->",b=j}}}catch(re){P=!0,E=re}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}w+="</div><!--mo-->",ee("#pdfs .replaced").html(w),Kr("#pdfs .year-month",function(re){return ee(ee(re.currentTarget).data().toggle).toggle()}),Kr("#pdfs .year-month-day",function(re){return ee(ee(re.currentTarget).data().toggle).toggle()})}},{key:"grafs",value:function(){var e=ee("#grafs_views_api"),n=ee("#grafs2"),o=n.attr("data-id");dn("loading grafs"),e.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),n.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();var u="<h2>";ee.get("/details/".concat(o,"&grafs=1&v=3"),function(l){var s=l.split(u);s.length>=3&&(ee("#activity-reviewsN").html(s[1]).parents(".activity-box").show(),ee("#activity-forumN  ").html(s[2]).parents(".activity-box").show()),s.length===6?(e.html(u+s[3]),n.html(u+s[5])):(e.html("(graph data not available)"),n.html("(graph data not available)")),$t.plot_graphs()}),Hu.setUpTopRegionsTable()}},{key:"quick_down",value:function(e,n){var o="#".concat(e);if(ee(".format-group.in").length)ee(".format-group").slideDown(400),setTimeout(function(){ee(".format-group.in").removeClass("in"),ee(".download-button").html("DOWNLOAD OPTIONS")},400),ee(o).slideUp();else{var u=ee(n).text(),l=ee(o).parents(".format-group");ee(".download-button").html(u.concat(" FILES")),l.addClass("in"),ee(".format-group:not(.in)").slideUp(),ee(o).slideDown()}return!1}},{key:"arg",value:function(e,n){for(var o=n&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),u=0;u<o.length;u++)if(o[u].slice(0,o[u].indexOf("="))===e){var l=o[u].slice(o[u].indexOf("=")+1);return l.length>0?unescape(l):""}return""}},{key:"scrolled",value:function(){var e=ee(window).scrollTop(),n=".more_search:visible",o=ee(n);if(!!o.length){var u=o.offset().top+o.outerHeight()-ee(window).height()-40;e>u&&(dn("hit rock bottom > ",u),$t.more_searching||ee(n.concat(" > a")).get(0).click())}}},{key:"more_search",value:function(e,n,o){var u=$t.selector();if(u===!1)return!1;var l=u.replace(/#ikind-/,""),s=ee(u.concat(" .more_search")),r=u;if(typeof $t.page_map=="undefined"&&($t.page_map={}),typeof $t.page_map[r]=="undefined"&&($t.page_map[r]=o||1),$t.page_map[r]<0)return!1;$t.page_map[r]+=1;var d=$t.page_map[r];s.find(".more-search-fetching").show(),$t.more_searching=!0;var c=n+d,h=location.protocol.concat("//",location.host,c);return c+="&scroll=1",dn("url: ",c),dn("urlreplace",h),dn("more_search(selector=",u,"sort=",l,"page=",d,"url=",c,")"),ee.get(c,function(f){if(f.length<100&&ee(f).find("div.no-results")){s.find(".more-search-fetching, a.btn").hide(),$t.page_map[r]=-1,$t.more_searching=!1;return}$t.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",h);var v=ee(u).attr("id");$t.tilerPREV&&$t.tilerPREV.unsourced&&$t.tilerPREV.unsourced[v]&&delete $t.tilerPREV.unsourced[v];var x=ee(u.concat(" .results"));x.append($t.addNotes($t.addingNotesKind,f)),$t.tiler(u),s.find(".more-search-fetching").hide(),$t.more_searching=!1,$t.parent_hover(x),ee(u.concat(" img")).on("load",function(){clearTimeout($t.more_search_throttler),$t.more_search_throttler=setTimeout($t.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(d)}),!1}},{key:"embed_codes_adjust",value:function(){dn("showing embeds!");var e=!0,n=!1,o=void 0;try{for(var u=["embedcodehere","embedcodehereWP"][Symbol.iterator](),l;!(e=(l=u.next()).done);e=!0){var s=l.value,r=ee("#".concat(s));r.removeAttr("rows").css("height","");var d=r.text();ee("body").prepend(ee("<div/>").attr({id:"".concat(s,"Shadow"),class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(d));var c=ee("#".concat(s,"Shadow")).outerHeight()+15;dn(s,"bestie height",c,"for current width",r.width()),ee("#".concat(s,"Shadow")).remove(),r.height(c)}}catch(h){n=!0,o=h}finally{try{!e&&u.return!=null&&u.return()}finally{if(n)throw o}}}},{key:"modal_add",value:function(e,n){ee(e).length&&ee(e).remove();var o=e.replace(/#/,""),u=n.prepended_el,l=u===void 0?document.body:u;return ee(l).prepend('\n<div id="'.concat(o,'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header ').concat(n.headerClass!==void 0?n.headerClass:"modal-header-std",'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h1 class="modal-title">\n        ').concat(typeof n.title=="undefined"?"Confirmed":n.title,'\n      </h1>\n    </div>\n    <div id="').concat(o,'-body">\n      ').concat(typeof n.body=="undefined"?"":n.body,"\n    </div>\n  </div>\n</div>\n</div>")),ee(e)}},{key:"isFavoriteSuccessful",value:function(e){return e.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}},{key:"modal_go",value:function(e,n){var o=n,u=ee(e);if(typeof ee.fn.modal=="undefined"){if(n.recalling)throw Error("still cant modal -- are there two jquery on the page?");return n.recalling=1,Promise.resolve().then(function(){return u_(),Dp}).then(function(){return $t.modal_go(e,n)}),!1}o.favorite&&(o.login=!0,Gr.get("logged-in-user")!==void 0&&(kr.toggle_favorite_icon(u,!0),kr.update_favorite_count(!0)));var l=u.attr("data-target"),s=o.favorite?u.attr("data-href"):u.attr("href");if((!o.ignore_lnk||o.add_modal)&&$t.modal_add(l,o),o.shown&&ee(l).on("shown.bs.modal",function(){o.shown()}),o.follow_link_on_dismiss&&ee(l).on("hidden.bs.modal",function(){dn("modal hidden, going to ",s,".."),ee("body").removeClass("blurry"),location.href=s}),o.login&&Gr.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;var r="/account/login";return ee.get(r,function(d){var c=ee(d).find(".container-ia > div").length?ee(d).find(".container-ia > div").get(0):d;ee(l).addClass("login-modal"),ee(l.concat("-body")).html(c),ee(l).modal("show");var h=ee(l.concat("-body form:has(input[type=submit])"));if(!!h.length){var f=ee(".password_icon")[0];navigator.cookieEnabled===!0?(ee(".cookie-warning").addClass("hidden"),ee(".login-form :input").prop("disabled",!1),f.src="/images/eye-crossed.svg",f.alt="Show text",ee(".password_icon").on("click",function(){var v=ee(".input-password")[0];v.type==="password"?(v.type="text",f.src="/images/eye.svg",f.alt="Hide text"):(v.type="password",f.src="/images/eye-crossed.svg",f.alt="Show text")}),ee(".input-email, .input-password").on("focus",function(){ee(".password-error").html(""),ee(".reset-password").show()})):(ee(".cookie-warning").removeClass("hidden"),ee(".login-form :input").prop("disabled",!0)),Nb({$form:h,url:r,selector:l,element:e,conf:o})}}),!1}return o.auto_remove&&(o.auto_close=!0,ee(l).on("hidden.bs.modal",function(){ee(l).remove(),ee("body").removeClass("blurry")})),o.ignore_lnk?ee(l).modal("show"):(ee.get(s,function(d){if(o.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),$t.isFavoriteSuccessful(d))setTimeout(function(){o.postLogin&&location.reload(!0)},$t.modalInterval);else{kr.toggle_favorite_icon(u,!1),kr.update_favorite_count(!1);var c=ee(l),h='\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ';c.find(".modal-title").html("Failed"),c.find("".concat(l,"-body")).html(h),ee(l).modal("show")}else ee(l).modal("show"),o.auto_close&&setTimeout(function(){return ee(l).modal("hide")},$t.modalInterval)}),ee(l).on("hidden.bs.modal",function(){ee(l).remove()})),o.center&&ee(l.concat(" .modal-dialog")).center(),o.auto_close&&o.ignore_lnk&&setTimeout(function(){return ee(l).modal("hide")},$t.modalInterval),!1}},{key:"suffixFmt",value:function(e,n){return n.min>=0&&n.max<=5?Math.round(e*10,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(e,n){return $t.suffixFmt(e,n).concat("%")}},{key:"pluralize",value:function(e,n,o){return e===1?n:o}},{key:"viewMessage",value:function(e,n,o){var u=n.length,l="<table><tr>";l+='<th class="tt-date" rowspan="'.concat(u,'">').concat(e[2]," ").concat(e[3],"</th>"),l+='<td class="tt-number">'.concat(sa(n[0]),"</td>"),l+="<td>".concat($t.pluralize(n[0],"View","Views")," ").concat(o[0],"</td></tr>");for(var s=1;s<u;s++)l+='<tr><td class="tt-number">'.concat(sa(n[s]),"</td>"),l+="<td>".concat($t.pluralize(n[s],"View","Views")," ").concat(o[s],"</td></tr>");return l+="<table>",l}},{key:"plot_graphs",value:function(){ee(".js-ajs-plotter").each(function(e,n){var o=JSON.parse(ee(n).val());$t.plotter(function(){var u,l,s;dn("js-ajs-plotter",o);var r=JSON.parse(o.cfg);o.dayBarsNoPoints&&(r.dayBarsNoPoints=!0),o.dark&&(r.dark=!0),((u=r.yaxis)==null?void 0:u.tickFormatter)==="AJS.suffixFmt"&&(r.yaxis.tickFormatter=$t.suffixFmt),o.fmt==="AJS.broadcastsTooltip"?o.fmt=$t.broadcastsTooltip:o.fmt==="AJS.airedTooltip"?o.fmt=$t.airedTooltip:((l=o.fmt)==null?void 0:l.length)===3&&o.fmt[0]==="AJS.graphsTooltip"?o.fmt=$t.graphsTooltip(o.fmt[1],o.fmt[2]):((s=o.fmt)==null?void 0:s.length)===3&&o.fmt[0]==="AJS.statsTooltip"&&(o.fmt=$t.statsTooltip(o.fmt[1],o.fmt[2])),$t.plot(o.id,r,o.fmt,JSON.parse(o.pts),o.many)})})}},{key:"broadcastsTooltip",value:function(e,n){var o=new Date(e).toUTCString().split(" ");return"<nobr>".concat(sa(n)," broadcasts on ").concat(o[2]," ").concat(o[3],"</nobr>")}},{key:"airedTooltip",value:function(e,n){var o=new Date(e).toDateString().split(" ");return"<nobr>Aired ".concat(sa(n)," times on ").concat(o[1]," ").concat(o[2],"</nobr>")}},{key:"graphsTooltip",value:function(e,n){return function(o,u){var l=new Date(o).toDateString().split(" ");return"<nobr>".concat(sa(u)," ").concat(e," in ").concat(l[1]," ").concat(n==="day"?l[2]:""," ").concat(l[3],"</nobr>")}}},{key:"statsTooltip",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o;switch(e){case"main":{o=function(l){var s=l.y,r=l.t;return"".concat(sa(s)," total items in <strong>").concat(r[2]," ").concat(r[3],"</strong>")};break}case"item":{o=function(l){var s=l.t,r=l.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(sa(r.datapoint[1])," ").concat($t.pluralize(r.datapoint[1],"Item","Items"))};break}case"download":{o=function(l){var s=l.t,r=l.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(sa(r.datapoint[1])," ").concat($t.pluralize(r.datapoint[1],"Download","Downloads"))};break}case"view":{o=function(l){var s=l.t,r=l.values,d=l.labels;return $t.viewMessage(s,r,d)};break}default:break}var u=function(l,s,r,d,c){var h=new Date(l-n).toUTCString().split(" "),f={x:l,y:s,item:r,t:h,values:d,labels:c};return'<span style="white-space: nowrap;">'.concat(o(f),"</span>")};return u}},{key:"plotter",value:function(e){if(typeof $t.plotters=="undefined"&&($t.plotters=[]),e)$t.plotters.push(e),e();else{dn("plotter() resize/orient change",$t.plotters.length,"graphs to resize");for(var n=0;n<$t.plotters.length;n++)$t.plotters[n]()}}},{key:"plot",value:function(e,n,o,u,l){var s=n;s.xaxis||(s.xaxis={mode:"time",color:s.dark?"#ccc":"#545454"}),s.yaxis||(s.yaxis={color:s.dark?"#ccc":"#545454"});var r;l&&s.barWidth?r=s.barWidth*1:s.barWidth?r=s.barWidth*86400*1e3:r=(s.dayBarsNoPoints?1:7)*86400*1e3,s.color||(s.color="#385C74"),s.stack?s.series={stack:!0,bars:{show:!0,barWidth:r,fill:!0},legend:{show:!0}}:s.series={bars:{show:!0,barWidth:r,fill:.6,color:s.color},color:s.color,points:{show:!s.dayBarsNoPoints}},typeof s.grid=="undefined"&&(s.grid={borderColor:s.dark?"#333":"#aaa",hoverable:!0}),s.dark&&(s.grid.backgroundColor="#002b36"),s.tip||(s.tip={}),s.tip.id||(s.tip.id=e),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});var d=[];s.series.stack?d=u:(d=l?u:typeof u.data=="undefined"?[{data:u}]:[u],s.dayBarsNoPoints&&!s.noLabel&&(d[0].label=e));var c="#".concat(e);Promise.resolve().then(function(){return D8(),x_}).then(function(){Promise.all([Promise.resolve().then(function(){return $8(),$_}),Promise.resolve().then(function(){return B8(),J_})]).then(function(){var h=ee.plot(ee(c),d,s);!o||ee(c).bind("plothover",function(f,v,x){if(!x){window.GraphPriorDatapoint=[0,0,0],ee("#gtip").remove();return}if(window.GraphPriorDatapoint!==x.datapoint){window.GraphPriorDatapoint=x.datapoint,ee("#gtip").remove();var w=[],b=[];if(s.stack)for(var C=h.getData(),P=0;P<C.length;P++){var E=C[P];b[P]=E.label;for(var T=0;T<E.data.length;T++)if(E.data[T][0]===x.datapoint[0]){w[P]=E.data[T][1];break}}var m=o(x.datapoint[0],x.datapoint[1],x,w,b),a=ee(c),p=a.offset(),g=s.tip.pegTo;g||(g=v.pageX-p.left>a.width()/2?"right":"left");var y=g==="right"?a.width()-(v.pageX-p.left-20):v.pageX-p.left+20;dn(g,y),ee("#".concat(s.tip.id)).append('<div id="gtip" class="roundbox5 grafs-tooltip" style="top:'.concat(v.pageY-p.top,"px; ").concat(g,":").concat(y,'px">').concat(m,"</div>")).fadeIn(200)}})})})}},{key:"makeMouseElementAccessible",value:function(e){ee(e).attr("tabindex","0").on("keypress keydown",function(o){if(o.type!=="click"){var u=o.keyCode||o.which,l=32,s=13;[l,s].indexOf(u)!==-1&&ee(this).click()}})}},{key:"autocomplete",value:function(e,n,o){Promise.resolve().then(function(){return Zb(),hp}).then(function(){ee(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(u,l){l(ee.ui.autocomplete.filter(n,u.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(l,s){if(o){var r=this.value.split(/,\s*/);r.pop(),r.push(s.item.value),r.push(""),this.value=r.join(", ")}else this.value=s.item.value;return!1}})})}},{key:"addNotes",value:function(e,n){if(e!=="favorite"&&e!=="list"||(!n&&ee("body").hasClass("editable")&&($t.addingNotesKind=e),!$t.addingNotesKind))return n;if($t.addNoteHTM=ee('\n<div class="note">\n  <span class="edit">\n    <a href="#" class="js-note-add">Add a Note</a>\n  </span>\n</div>'),dn("addNotes"),n){var o=ee("<div>".concat(n,"</div>"));return o.find('.details-ia .C234:not(:has(".note"))').append($t.addNoteHTM),o.html()}return ee('.details-ia .C234:not(:has(".note"))').append($t.addNoteHTM),Kr(".js-note-add",function(u){return $t.editNote(u.currentTarget)})}},{key:"editNote",value:function(e){var n=ee(e),o=n.parents(".details-ia").prev().attr("data-id");if(!o)return!1;var u=n.parents(".note"),l="";return n.text()==="edit"&&(l=u.find("span:first").text(),l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;")),u.hide(),u.parent().append(ee('\n<form class="js-note-submit form form-horizontal note" role="form">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'.concat(l,'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>\n      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" class="js-note-edited btn btn-danger btn-xs ').concat(l?"":"hidden",'">Remove</button>\n    </div>\n  </div>\n</form>'))),Kr(".js-note-edited",function(s){return $t.editedNote(s.currentTarget)}),AO(".js-note-submit",function(s){return $t.editedNote(s.currentTarget)}),!1}},{key:"editedNote",value:function(e){var n=ee(e),o=n.parents(".details-ia").prev().attr("data-id");if(!!o){n.is("form")&&(n=n.find('button:contains("Save")'));var u=n.text(),l=n.parents(".note"),s=l.prev();if(u==="Save"||u==="Remove"){var r=u==="Save"?l.find("textarea").val():"",d="/bookmarks.php?identifier=".concat(o,"&kind=",$t.addingNotesKind,"&add_comment=",encodeURIComponent(r));dn("get ",d),ee.get(d,function(){var c=r?'Note: "<span>'.concat(r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'</span>"\n          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>'):$t.addNoteHTM.html();s.html(c).show(),l.remove(),Kr(".js-note",function(h){return $t.editNote(h.currentTarget)})});return}s.show(),l.remove()}}},{key:"thumbzilla",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n,o,u=ee("body").hasClass("tv");u&&(window==null?void 0:window.TV2)&&TV2.unplay("thumbzilla"),e||(e=(n=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:n[1]);var l="",s=function(){ee("#opscreen1M").remove(),ee("body").prepend(ee("<div />").attr({id:"opscreen1M"}));var d=ee("<div/>").attr({id:"thumbzilla"}).html("<div>".concat(l,"</div>"));d.appendTo("#opscreen1M"),ee("#opscreen1M").css("visibility","hidden").show();for(var c=ee(window).height()+(zu?60:0),h=720;h>=10;h-=10){var f=Math.round(h*.6875);if(dn("TRYING",h,"x",f),ee("#thumbzilla img").css({width:h,height:f}),ee("#thumbzilla img:last").offset().top+f<=c)break}ee("#thumbzilla div").center(),ee("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return ee("#opscreen1M").fadeOut("slow")}),window!=null&&window.TV2&&Kr(".js-tvthumb",function(v){ee("#opscreen1M").fadeOut("slow"),TV2.seekURL(ee(v.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(u&&ee(".js-tv3-init").length){var r=JSON.parse((o=ee(".js-tv3-init").val())!=null?o:"{}");ee(r["TV3.thumbzillas"]).each(function(d,c){var h=parseInt(c,10),f="/details/".concat(e,"/start/").concat(h,"/end/").concat(h+r["TV3.CLIP_SEC_MAX2"]);l+='<a class="js-tvthumb" href="'.concat(f,'">'),l+='<img src="/download/'.concat(e,"/").concat(e,".thumbs/").concat(e,"_").concat(c,'.jpg"/></a>')}),s()}else ee.getJSON("/metadata/".concat(e,"/files"),function(d){var c=!0,h=!1,f=void 0;try{for(var v=d.result[Symbol.iterator](),x;!(c=(x=v.next()).done);c=!0){var w=x.value,b="original"in w&&w.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);b&&(l+='\n              <a href="/details/'.concat(e,"/").concat(w.original,"?start=").concat(Number(b[1]),'"><img src="/download/').concat(e,"/").concat(w.name,'"></a>\n            '))}}catch(C){h=!0,f=C}finally{try{!c&&v.return!=null&&v.return()}finally{if(h)throw f}}l&&s()});return!1}},{key:"setUpSearchForms",value:function(){var e=function(l){var s=ee(l),r=s.find(".js-search-bar"),d=s.find(".js-search-options"),c=d.data("keepOpenWhenChanged"),h=!1;function f(b){var C=this.dataset.waybackMachineSearchUrl,P=ee(this.elements),E=P.filter('[name="sin"]:checked'),T=P.filter('[name="search"]'),m=E.length?E[0].value:"",a=T.length?T[0].value:"";C&&m==="WEB"&&(b.preventDefault(),window.location=[C.replace(/\/$/,""),a].join("/"))}function v(){d.addClass("is-open").attr("aria-expanded",!0)}function x(){d.removeClass("is-open").attr("aria-expanded",!1)}function w(b){!b||s[0].contains(b)||c&&h||ee(b).parents(".ui-autocomplete").length||x()}s.length&&(s.on("submit",f),d.hasClass("is-open")||(n.on("click",function(b){w(b.target)}),s.on("change",function(){h=!0}).on("focusout",function(b){w(b.relatedTarget)}),r.on("focusin",function(){v()})))},n=ee(document.body),o=ee(".js-search-form");o.each(function(u,l){return e(l)})}},{key:"setUpAccordions",value:function(){var e=function(u,l){Array.from(u).forEach(function(s){s!==l&&(s.open=!1)})},n=function(u){function l(s){!s.target.open||(e(u.querySelectorAll("details"),s.target),ee("html, body").animate({scrollTop:ee(s.target).offset().top},400))}Array.from(u.querySelectorAll("details")).forEach(function(s){s.addEventListener("toggle",l)}),u.setAttribute("data-accordion-ready","")};Array.from(document.querySelectorAll("[data-accordion]")).forEach(n)}},{key:"advanced_search",value:function(e){if(!$t.is_advanced_TV_search(e))return!0;$t.adv||($t.adv={mapping:!1});var n=new Date().toISOString().substr(0,10);ee.ajaxSetup({cache:!0});var o="https://".concat(location.host,"/includes/");return ee.when(typeof TVSearch!="undefined"||ee.getScript(o.concat("build/js/tvsearch.min.js?",n)),$t.adv.mapping||ee.getJSON("/details/tv?mappings&output=json&".concat(n),function(u){$t.adv.mapping=u})).then(function(){if($t.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick($t.adv.mapping,e)}),!1}},{key:"is_advanced_TV_search",value:function(e){if(location.hostname==="web.archive.org"||ee(document.body).hasClass("top"))return!1;var n=ee(e).parents("form");return n.find(".js-search-options input[value=TV]").is(":checked")?n:!1}}]),S}(),ee(function(){ee(".tabby a").click(function(e){var n=ee(e.currentTarget).attr("data-tabby");$t.tabby(e.currentTarget,"tabby-".concat(n))}),ee(".js-tiles-setup").each(function(e,n){var o=JSON.parse(ee(n).val());$t.lists_v_tiles_setup(o.toggle_range),ee("div.ikind").css({visibility:" visible"}),o.popState!==!1&&$t.popState(o.popState),$t.tiler(),ee(window).on("resize  orientationchange",function(u){clearTimeout($t.tiles_wrap_throttler),$t.tiles_wrap_throttler=setTimeout($t.tiler,250)}),ee(window).scroll($t.scrolled)}),$t.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),ee(".js-tiles-toggle").click(function(e){var n=ee(e.currentTarget).attr("data-range");return $t.tiles_toggle(e.currentTarget,n)}),ee(".js-ikind-link").click(function(e){var n=ee(e.currentTarget).attr("data-id");$t.ikind(e.currentTarget,"ikind-".concat(n))}),ee(".js-more-search").click(function(e){var n=e.currentTarget,o=decodeURIComponent(ee(n).attr("data-more-search")),u=parseInt(ee(n).attr("data-page"),10);return $t.more_search(n,o,u),!1}),ee("#showdetails").on("change",function(e){var n=ee(e.currentTarget).attr("data-toggle-range");$t.showdetails_toggle(n)}),ee(".ikind-mobile").on("change",function(e){$t.ikind_mobile_change(e.currentTarget)}),$t.setUpSearchForms(),$t.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),$t.modalInterval=2e3,Db.init(),ew.setup(),ee(".js-search-beta-opt-in").each(function(e,n){ee(n).on("click",function(){window.localStorage.setItem("SearchBeta-opt-in",!0)})}),ee(".js-collection-setup").each(function(e,n){var o=JSON.parse(ee(n).val());o.about&&$t.grafs(),$t.addNotes(o.is_list),ee(window).on("resize  orientationchange",function(u){clearTimeout($t.plotter_throttler),$t.plotter_throttler=setTimeout($t.plotter,250)})}),ee(".js-collection-setup2").each(function(e,n){var o=JSON.parse(ee(n).val());o.editable&&(ee("#editlink").show(),o.image!==""&&$t.head_img_dragdrop_setup(o.image))}),ee(".js-account-setup").each(function(e,n){var o,u=JSON.parse(ee(n).val());$t.head_img_dragdrop_setup(u.dragdrop),(o=u.darking_ids)!=null&&o.length&&kr.decorate_pendings(u.darking_ids)}),$t.plot_graphs(),ee(".js-pages").each(function(e,n){var o=JSON.parse(ee(n).val());$t.drawPDF(o.identifier,JSON.parse(o.pages))}),ee(".js-carousel2").each(function(){$t.theatresize(),$t.carouselsize("#ia-carousel",!0)}),ee(".js-emulation").each(function(e,n){ee(".container-ia:first").attr("id","begPgSpcr"),$t.emulate_setup(JSON.parse(ee(n).val()))}),ee(".tablesorter").each(function(e,n){var o={textExtraction:"complex"};ee("body").hasClass("js-tv-programPageColumnSorting")?o.headers={0:{sorter:!1}}:ee("body").hasClass("services-views")&&(o.ignoreCase=!0,o.sortList=[[1,0]],o.widgets=["saveSort"],o.widgetOptions={saveSort:!0}),typeof ee.fn.tablesorter=="undefined"?Promise.resolve().then(function(){return z8(),d1}).then(function(){ee(n).tablesorter(o)}):ee(n).tablesorter(o)}),Kr(".js-ebook-maker",function(e){return Sr(void 0,null,_regeneratorRuntime.default.mark(function n(){var o,u,l,s,r,d,c,h,f,v,x,w;return _regeneratorRuntime.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:for(o=e.currentTarget,o.parentElement.textContent="Generating...",u=ee(o).data().maker,dn({maker:u}),l=new URLSearchParams,s=!0,r=!1,d=void 0,C.prev=6,c=Object.entries(u)[Symbol.iterator]();!(s=(h=c.next()).done);s=!0)f=_slicedToArray(h.value,2),v=f[0],x=f[1],l.append(v,encodeURIComponent(x));C.next=14;break;case 10:C.prev=10,C.t0=C.catch(6),r=!0,d=C.t0;case 14:C.prev=14,C.prev=15,!s&&c.return!=null&&c.return();case 17:if(C.prev=17,!r){C.next=20;break}throw d;case 20:return C.finish(17);case 21:return C.finish(14);case 22:return C.next=24,fetch("/services/make-ebook.php",{method:"POST",body:l});case 24:w=C.sent,dn({res:w});case 26:case"end":return C.stop()}},n,null,[[6,10,14,22],[15,,17,21]])}))});var S=ee(".js-date_switcher"),t=!$t.isTouchDevice()&&typeof ee.fn.tooltip=="undefined"?ee('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||S.length)&&Promise.resolve().then(function(){return u_(),Dp}).then(function(){t.length&&t.tooltip({}),S.each(function(e,n){return $t.date_switcher(JSON.parse(ee(n).val()))})}),Kr(".js-createclick",function(e){location.href="/create/"}),Kr(".js-colclick",function(e){var n=ee(e.currentTarget),o=n.attr("data-id"),u=o&&!o.startsWith("__id_")?"/details/".concat(o):n.find("a").attr("href");o&&ee("body").hasClass("tiles")&&!n.hasClass("manage-item")&&(location.href=u)}),Kr(".js-note",function(e){return $t.editNote(e.currentTarget)}),Kr(".js-inliner",function(e){if(!window.inlined){window.inlined=!0;var n="".concat(e.currentTarget.href,"&nochrome=1"),o=ee(e.currentTarget).parent().parent().parent();o.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),ee.get(n,function(u){ee("#loadin").remove(),o.append("<hr/>".concat(u))})}}),Kr(".js-auto-submit-perpetual",function(){document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),SO(".js-auto-submit-cmd",function(e){e.currentTarget.value==="delete.php"&&alert('\n        WARNING: The "lost_item" arg is automatically\n        added to delete.php tasks submitted through this form.\n        That means the command can be used only to\n        tidy our records for items that have already\n        gotten lost, not to delete existing items.\n        If run on an item that actually exists still,\n        the task will redrow.')}),Kr(".js-slide-toggle",function(e){return ee(ee(e.currentTarget).data().target).slideToggle()}),Kr(".js-ajs-emulate",$t.emulate),Kr(".js-ajs-deadlists",function(e){var n=e.currentTarget.href;window.open(n,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")})}),window.AJS=$t}}),h1,Wp,f1,p1,v1,g1,m1,y1,b1,w1,_1,Vn,qp,k1,x1,S1=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/BookReader.js":function(){h1=Object.create,Wp=Object.defineProperty,f1=Object.getOwnPropertyDescriptor,p1=Object.getOwnPropertyNames,v1=Object.getPrototypeOf,g1=Object.prototype.hasOwnProperty,m1=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},y1=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!g1.call(t,v)&&v!==n&&Wp(t,v,{get:function(){return e[v]},enumerable:!(o=f1(e,v))||o.enumerable})},d=p1(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},b1=function(t,e,n){return n=t!=null?h1(v1(t)):{},y1(e||!t||!t.__esModule?Wp(n,"default",{value:t,enumerable:!0}):n,t)},w1=m1(function(){(function(){var t,e={9860:function(l,s,r){"use strict";var d=function(a,p){return function(g){if(Array.isArray(g))return g}(a)||function(g,y){var _=g==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&g[Symbol.iterator]||g["@@iterator"];if(_!=null){var j,R,D,H,K=[],J=!0,F=!1;try{if(D=(_=_.call(g)).next,y===0){if(Object(_)!==_)return;J=!1}else for(;!(J=(j=D.call(_)).done)&&(K.push(j.value),K.length!==y);J=!0);}catch(de){F=!0,R=de}finally{try{if(!J&&_.return!=null&&(H=_.return(),Object(H)!==H))return}finally{if(F)throw R}}return K}}(a,p)||c(a,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},c=function(a,p){if(a){if(typeof a=="string")return h(a,p);var g=Object.prototype.toString.call(a).slice(8,-1);return g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set"?Array.from(a):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?h(a,p):void 0}},h=function(a,p){(p==null||p>a.length)&&(p=a.length);for(var g=0,y=new Array(p);g<p;g++)y[g]=a[g];return y},f=function(a,p,g,y,_,j,R){try{var D=a[j](R),H=D.value}catch(K){return void g(K)}D.done?p(H):Promise.resolve(H).then(y,_)},v=function(a,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,(_=function(j,R){if(P(j)!=="object"||j===null)return j;var D=j[Symbol.toPrimitive];if(D!==void 0){var H=D.call(j,"string");if(P(H)!=="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(y.key),P(_)==="symbol"?_:String(_)),y)}var _},x=function(a,p){var g=document.createElement("div");return g.style.width="".concat(a.width,"px"),g.style.height="".concat(a.height,"px"),g.setAttribute("class","BRPageLayer ".concat(p)),g},w=function(a){var p=a.l,g=a.r,y=a.b,_=a.t,j=document.createElementNS("http://www.w3.org/2000/svg","rect");return j.setAttribute("x",p.toString()),j.setAttribute("y",_.toString()),j.setAttribute("width",(g-p).toString()),j.setAttribute("height",(y-_).toString()),j.setAttribute("rx","4"),j.setAttribute("ry","4"),j},b=function(a,p,g,y){var _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,j=y.querySelector(".".concat(a)),R=j||function(re,V){var X=document.createElementNS("http://www.w3.org/2000/svg","svg");return X.setAttribute("xmlns","http://www.w3.org/2000/svg"),X.setAttribute("viewBox","0 0 ".concat(re.width," ").concat(re.height)),X.setAttribute("class","BRPageLayer ".concat(V)),X.setAttribute("preserveAspectRatio","none"),X}(g,a);if(!j){var D=y.querySelector(".BRpageimage");D?C(R).insertAfter(D):C(R).prependTo(y)}var H,K=function(re,V){var X=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!X){if(Array.isArray(re)||(X=c(re))){X&&(re=X);var oe=0,G=function(){};return{s:G,n:function(){return oe>=re.length?{done:!0}:{done:!1,value:re[oe++]}},e:function(je){throw je},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Y,Z=!0,ae=!1;return{s:function(){X=X.call(re)},n:function(){var je=X.next();return Z=je.done,je},e:function(je){ae=!0,Y=je},f:function(){try{Z||X.return==null||X.return()}finally{if(ae)throw Y}}}}(p.entries());try{for(K.s();!(H=K.n()).done;){var J=d(H.value,2),F=J[0],de=w(J[1]);_&&de.setAttribute("class",_[F]),R.appendChild(de)}}catch(re){K.e(re)}finally{K.f()}};r.d(s,{RS:function(){return x},Tm:function(){return b},_z:function(){return T}}),r(278),r(228),r(6203),r(4338),r(2826),r(752),r(6265),r(9373),r(9903),r(9749),r(6544),r(9288),r(3964),r(4254),r(1694),r(8373),r(6793),r(7629),r(7509),r(8052),r(7522),r(4284),r(3374),r(9730),r(7049),r(4043);var C=r(5311);function P(m){return P=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(p){return typeof p=="undefined"?"undefined":_typeof(p)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a=="undefined"?"undefined":_typeof(a)},P(m)}function E(){E=function(){return a};var m,a={},p=Object.prototype,g=p.hasOwnProperty,y=Object.defineProperty||function(Re,_e,Ne){Re[_e]=Ne.value},_=typeof Symbol=="function"?Symbol:{},j=_.iterator||"@@iterator",R=_.asyncIterator||"@@asyncIterator",D=_.toStringTag||"@@toStringTag";function H(Re,_e,Ne){return Object.defineProperty(Re,_e,{value:Ne,enumerable:!0,configurable:!0,writable:!0}),Re[_e]}try{H({},"")}catch(Re){H=function(Ne,Je,Ye){return Ne[Je]=Ye}}function K(Re,_e,Ne,Je){var Ye=_e&&_instanceof(_e.prototype,oe)?_e:oe,Te=Object.create(Ye.prototype),rt=new yt(Je||[]);return y(Te,"_invoke",{value:Ze(Re,Ne,rt)}),Te}function J(Re,_e,Ne){try{return{type:"normal",arg:Re.call(_e,Ne)}}catch(Je){return{type:"throw",arg:Je}}}a.wrap=K;var F="suspendedStart",de="suspendedYield",re="executing",V="completed",X={};function oe(){}function G(){}function Y(){}var Z={};H(Z,j,function(){return this});var ae=Object.getPrototypeOf,ie=ae&&ae(ae(pt([])));ie&&ie!==p&&g.call(ie,j)&&(Z=ie);var je=Y.prototype=oe.prototype=Object.create(Z);function Le(Re){["next","throw","return"].forEach(function(_e){H(Re,_e,function(Ne){return this._invoke(_e,Ne)})})}function ke(Re,_e){function Ne(Ye,Te,rt,ht){var at=J(Re[Ye],Re,Te);if(at.type!=="throw"){var ut=at.arg,qe=ut.value;return qe&&P(qe)=="object"&&g.call(qe,"__await")?_e.resolve(qe.__await).then(function(ze){Ne("next",ze,rt,ht)},function(ze){Ne("throw",ze,rt,ht)}):_e.resolve(qe).then(function(ze){ut.value=ze,rt(ut)},function(ze){return Ne("throw",ze,rt,ht)})}ht(at.arg)}var Je;y(this,"_invoke",{value:function(Te,rt){function ht(){return new _e(function(at,ut){Ne(Te,rt,at,ut)})}return Je=Je?Je.then(ht,ht):ht()}})}function Ze(Re,_e,Ne){var Je=F;return function(Ye,Te){if(Je===re)throw new Error("Generator is already running");if(Je===V){if(Ye==="throw")throw Te;return{value:m,done:!0}}for(Ne.method=Ye,Ne.arg=Te;;){var rt=Ne.delegate;if(rt){var ht=Ve(rt,Ne);if(ht){if(ht===X)continue;return ht}}if(Ne.method==="next")Ne.sent=Ne._sent=Ne.arg;else if(Ne.method==="throw"){if(Je===F)throw Je=V,Ne.arg;Ne.dispatchException(Ne.arg)}else Ne.method==="return"&&Ne.abrupt("return",Ne.arg);Je=re;var at=J(Re,_e,Ne);if(at.type==="normal"){if(Je=Ne.done?V:de,at.arg===X)continue;return{value:at.arg,done:Ne.done}}at.type==="throw"&&(Je=V,Ne.method="throw",Ne.arg=at.arg)}}}function Ve(Re,_e){var Ne=_e.method,Je=Re.iterator[Ne];if(Je===m)return _e.delegate=null,Ne==="throw"&&Re.iterator.return&&(_e.method="return",_e.arg=m,Ve(Re,_e),_e.method==="throw")||Ne!=="return"&&(_e.method="throw",_e.arg=new TypeError("The iterator does not provide a '"+Ne+"' method")),X;var Ye=J(Je,Re.iterator,_e.arg);if(Ye.type==="throw")return _e.method="throw",_e.arg=Ye.arg,_e.delegate=null,X;var Te=Ye.arg;return Te?Te.done?(_e[Re.resultName]=Te.value,_e.next=Re.nextLoc,_e.method!=="return"&&(_e.method="next",_e.arg=m),_e.delegate=null,X):Te:(_e.method="throw",_e.arg=new TypeError("iterator result is not an object"),_e.delegate=null,X)}function Xe(Re){var _e={tryLoc:Re[0]};1 in Re&&(_e.catchLoc=Re[1]),2 in Re&&(_e.finallyLoc=Re[2],_e.afterLoc=Re[3]),this.tryEntries.push(_e)}function dt(Re){var _e=Re.completion||{};_e.type="normal",delete _e.arg,Re.completion=_e}function yt(Re){this.tryEntries=[{tryLoc:"root"}],Re.forEach(Xe,this),this.reset(!0)}function pt(Re){if(Re||Re===""){var _e=Re[j];if(_e)return _e.call(Re);if(typeof Re.next=="function")return Re;if(!isNaN(Re.length)){var Ne=-1,Je=function Ye(){for(;++Ne<Re.length;)if(g.call(Re,Ne))return Ye.value=Re[Ne],Ye.done=!1,Ye;return Ye.value=m,Ye.done=!0,Ye};return Je.next=Je}}throw new TypeError(P(Re)+" is not iterable")}return G.prototype=Y,y(je,"constructor",{value:Y,configurable:!0}),y(Y,"constructor",{value:G,configurable:!0}),G.displayName=H(Y,D,"GeneratorFunction"),a.isGeneratorFunction=function(Re){var _e=typeof Re=="function"&&Re.constructor;return!!_e&&(_e===G||(_e.displayName||_e.name)==="GeneratorFunction")},a.mark=function(Re){return Object.setPrototypeOf?Object.setPrototypeOf(Re,Y):(Re.__proto__=Y,H(Re,D,"GeneratorFunction")),Re.prototype=Object.create(je),Re},a.awrap=function(Re){return{__await:Re}},Le(ke.prototype),H(ke.prototype,R,function(){return this}),a.AsyncIterator=ke,a.async=function(Re,_e,Ne,Je,Ye){Ye===void 0&&(Ye=Promise);var Te=new ke(K(Re,_e,Ne,Je),Ye);return a.isGeneratorFunction(_e)?Te:Te.next().then(function(rt){return rt.done?rt.value:Te.next()})},Le(je),H(je,D,"Generator"),H(je,j,function(){return this}),H(je,"toString",function(){return"[object Generator]"}),a.keys=function(Re){var _e=Object(Re),Ne=[];for(var Je in _e)Ne.push(Je);return Ne.reverse(),function Ye(){for(;Ne.length;){var Te=Ne.pop();if(Te in _e)return Ye.value=Te,Ye.done=!1,Ye}return Ye.done=!0,Ye}},a.values=pt,yt.prototype={constructor:yt,reset:function(_e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(dt),!_e)for(var Ne in this)Ne.charAt(0)==="t"&&g.call(this,Ne)&&!isNaN(+Ne.slice(1))&&(this[Ne]=m)},stop:function(){this.done=!0;var _e=this.tryEntries[0].completion;if(_e.type==="throw")throw _e.arg;return this.rval},dispatchException:function(_e){if(this.done)throw _e;var Ne=this;function Je(ut,qe){return rt.type="throw",rt.arg=_e,Ne.next=ut,qe&&(Ne.method="next",Ne.arg=m),!!qe}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Te=this.tryEntries[Ye],rt=Te.completion;if(Te.tryLoc==="root")return Je("end");if(Te.tryLoc<=this.prev){var ht=g.call(Te,"catchLoc"),at=g.call(Te,"finallyLoc");if(ht&&at){if(this.prev<Te.catchLoc)return Je(Te.catchLoc,!0);if(this.prev<Te.finallyLoc)return Je(Te.finallyLoc)}else if(ht){if(this.prev<Te.catchLoc)return Je(Te.catchLoc,!0)}else{if(!at)throw new Error("try statement without catch or finally");if(this.prev<Te.finallyLoc)return Je(Te.finallyLoc)}}}},abrupt:function(_e,Ne){for(var Je=this.tryEntries.length-1;Je>=0;--Je){var Ye=this.tryEntries[Je];if(Ye.tryLoc<=this.prev&&g.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Te=Ye;break}}Te&&(_e==="break"||_e==="continue")&&Te.tryLoc<=Ne&&Ne<=Te.finallyLoc&&(Te=null);var rt=Te?Te.completion:{};return rt.type=_e,rt.arg=Ne,Te?(this.method="next",this.next=Te.finallyLoc,X):this.complete(rt)},complete:function(_e,Ne){if(_e.type==="throw")throw _e.arg;return _e.type==="break"||_e.type==="continue"?this.next=_e.arg:_e.type==="return"?(this.rval=this.arg=_e.arg,this.method="return",this.next="end"):_e.type==="normal"&&Ne&&(this.next=Ne),X},finish:function(_e){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var Je=this.tryEntries[Ne];if(Je.finallyLoc===_e)return this.complete(Je.completion,Je.afterLoc),dt(Je),X}},catch:function(_e){for(var Ne=this.tryEntries.length-1;Ne>=0;--Ne){var Je=this.tryEntries[Ne];if(Je.tryLoc===_e){var Ye=Je.completion;if(Ye.type==="throw"){var Te=Ye.arg;dt(Je)}return Te}}throw new Error("illegal catch attempt")},delegateYield:function(_e,Ne,Je){return this.delegate={iterator:pt(_e),resultName:Ne,nextLoc:Je},this.method==="next"&&(this.arg=m),X}},a}var T=function(){function m(g,y){var _=y.isProtected,j=y.imageCache,R=y.loadingImage;(function(D,H){if(!_instanceof(D,H))throw new TypeError("Cannot call a class as a function")})(this,m),this.page=g,this.imageCache=j,this.loadingImage=R,this.$container=C("<div />",{class:"BRpagecontainer ".concat(g?"pagediv".concat(g.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",g==null?void 0:g.pageSide),_&&(this.$container.append(C('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null}var a,p;return a=m,p=[{key:"update",value:function(y){var _,j,R=y.dimensions,D=R===void 0?null:R,H=y.reduce,K=H===void 0?null:H;if(D&&this.$container.css(D),K!=null&&this.page){var J=this.imageCache.imageLoaded(this.page.index,K),F=!J&&this.imageCache.getBestLoadedReduce(this.page.index,K),de=this.imageCache.image(this.page.index,K);if(((_=this.$img)===null||_===void 0?void 0:_[0].src)==de[0].src)return this;(j=this.$img)===null||j===void 0||j.remove(),this.$img=de.prependTo(this.$container);var re=[];return J||(this.$container.addClass("BRpageloading"),re.push('url("'.concat(this.loadingImage,'") center/20px no-repeat'))),F&&re.push('url("'.concat(this.page.getURI(F,0),'") center/100% 100% no-repeat')),J||this.$img.css("background",re.join(",")).one("loadend",function(){var V,X=(V=E().mark(function oe(G){return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:C(G.target).css({background:""}),C(G.target).parent().removeClass("BRpageloading");case 2:case"end":return Y.stop()}},oe)}),function(){var G=this,Y=arguments;return new Promise(function(Z,ae){var ie=V.apply(G,Y);function je(ke){f(ie,Z,ae,je,Le,"next",ke)}function Le(ke){f(ie,Z,ae,je,Le,"throw",ke)}je(void 0)})});return function(oe){return X.apply(this,arguments)}}()),this}}}],p&&v(a.prototype,p),Object.defineProperty(a,"prototype",{writable:!1}),m}()},5685:function(l,s,r){"use strict";var d=function(Y,Z,ae,ie,je,Le,ke){try{var Ze=Y[Le](ke),Ve=Ze.value}catch(Xe){return void ae(Xe)}Ze.done?Z(Ve):Promise.resolve(Ve).then(ie,je)},c=function(Y){return function(){var Z=this,ae=arguments;return new Promise(function(ie,je){var Le=Y.apply(Z,ae);function ke(Ve){d(Le,ie,je,ke,Ze,"next",Ve)}function Ze(Ve){d(Le,ie,je,ke,Ze,"throw",Ve)}ke(void 0)})}},h=function(Y,Z){(Z==null||Z>Y.length)&&(Z=Y.length);for(var ae=0,ie=new Array(Z);ae<Z;ae++)ie[ae]=Y[ae];return ie},f=function(Y){Y.bind("mousedown",function(){return!1}),Y[0].onselectstart=function(){return!1}},v=function(Y,Z,ae){return Math.min(Math.max(Y,Z),ae)},x=function(Y,Z){return Y/Z*100+"%"},w=function(Y,Z){return!Z.includes(Y)},b=function(){var Y=V(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(Y==null?void 0:Y.tagName)=="INPUT"||(Y==null?void 0:Y.tagName)=="TEXTAREA"},C=function(Y){var Z=Y.contentWindow||Y.contentDocument;return Z.document||Z},P=function(Y){return Y.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},E=function(Y){return decodeURIComponent(Y).replace(/\+/g," ")},T=function(Y){return encodeURIComponent(Y).replace(/%20/g,"+")},m=function(Y,Z,ae){var ie;return function(){var je=this,Le=arguments,ke=ae&&!ie;clearTimeout(ie),ie=setTimeout(function(){ie=null,ae||Y.apply(je,Le)},Z),ke&&Y.apply(je,Le)}},a=function(Y,Z,ae){var ie,je;return Z||(Z=250),ae&&(ie=+new Date),function(){var Le=this,ke=+new Date,Ze=arguments;ie&&ke<ie+Z?(clearTimeout(je),je=setTimeout(function(){ie=ke,Y.apply(Le,Ze)},Z)):(ie=ke,Y.apply(Le,Ze))}},p=function(Y){if(typeof Y.CustomEvent=="function")return!1;Y.CustomEvent=g},g=function(Y){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=Z.bubbles,ie=ae!==void 0&&ae,je=Z.cancelable,Le=je!==void 0&&je,ke=Z.detail,Ze=ke===void 0?null:ke,Ve=document.createEvent("CustomEvent");return Ve.initCustomEvent(Y,ie,Le,Ze),Ve},y=function(){var Y=document.createElement("div");Y.style.width="1in",document.body.appendChild(Y);var Z=Y.offsetWidth;document.body.removeChild(Y);var ae=1.25*Z;return ae==0?100:ae},_=function(Y){return Y.reduce(function(Z,ae){return Z+ae},0)},j=function(Y){var Z,ae=[],ie=function(Le,ke){var Ze=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Le[Symbol.iterator]||Le["@@iterator"];if(!Ze){if(Array.isArray(Le)||(Ze=function(Re,_e){if(Re){if(typeof Re=="string")return h(Re,_e);var Ne=Object.prototype.toString.call(Re).slice(8,-1);return Ne==="Object"&&Re.constructor&&(Ne=Re.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(Re):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?h(Re,_e):void 0}}(Le))||ke&&Le&&typeof Le.length=="number"){Ze&&(Le=Ze);var Ve=0,Xe=function(){};return{s:Xe,n:function(){return Ve>=Le.length?{done:!0}:{done:!1,value:Le[Ve++]}},e:function(_e){throw _e},f:Xe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var dt,yt=!0,pt=!1;return{s:function(){Ze=Ze.call(Le)},n:function(){var _e=Ze.next();return yt=_e.done,_e},e:function(_e){pt=!0,dt=_e},f:function(){try{yt||Ze.return==null||Ze.return()}finally{if(pt)throw dt}}}}(Y);try{for(ie.s();!(Z=ie.n()).done;){var je=Z.value;ae.push(je)}}catch(Le){ie.e(Le)}finally{ie.f()}return ae},R=function(Y,Z){return Y.length==Z.length&&Y.every(function(ae,ie){return ae==Z[ie]})},D=function(Y,Z){return Y&&Z&&!R(Y,Z)},H=function(Y){return X.apply(this,arguments)},K=function(Y){return oe.apply(this,arguments)},J=function(Y,Z){return new Promise(function(ae){Y.addEventListener(Z,function ie(je){Y.removeEventListener(Z,ie),ae(je)})})},F=function(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};function de(G){return de=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Z){return typeof Z=="undefined"?"undefined":_typeof(Z)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y=="undefined"?"undefined":_typeof(Y)},de(G)}function re(){re=function(){return Y};var G,Y={},Z=Object.prototype,ae=Z.hasOwnProperty,ie=Object.defineProperty||function(st,ye,N){st[ye]=N.value},je=typeof Symbol=="function"?Symbol:{},Le=je.iterator||"@@iterator",ke=je.asyncIterator||"@@asyncIterator",Ze=je.toStringTag||"@@toStringTag";function Ve(st,ye,N){return Object.defineProperty(st,ye,{value:N,enumerable:!0,configurable:!0,writable:!0}),st[ye]}try{Ve({},"")}catch(st){Ve=function(N,We,Ie){return N[We]=Ie}}function Xe(st,ye,N,We){var Ie=ye&&_instanceof(ye.prototype,Je)?ye:Je,et=Object.create(Ie.prototype),L=new wt(We||[]);return ie(et,"_invoke",{value:Fe(st,N,L)}),et}function dt(st,ye,N){try{return{type:"normal",arg:st.call(ye,N)}}catch(We){return{type:"throw",arg:We}}}Y.wrap=Xe;var yt="suspendedStart",pt="suspendedYield",Re="executing",_e="completed",Ne={};function Je(){}function Ye(){}function Te(){}var rt={};Ve(rt,Le,function(){return this});var ht=Object.getPrototypeOf,at=ht&&ht(ht(_t([])));at&&at!==Z&&ae.call(at,Le)&&(rt=at);var ut=Te.prototype=Je.prototype=Object.create(rt);function qe(st){["next","throw","return"].forEach(function(ye){Ve(st,ye,function(N){return this._invoke(ye,N)})})}function ze(st,ye){function N(Ie,et,L,ue){var ce=dt(st[Ie],st,et);if(ce.type!=="throw"){var pe=ce.arg,he=pe.value;return he&&de(he)=="object"&&ae.call(he,"__await")?ye.resolve(he.__await).then(function(Q){N("next",Q,L,ue)},function(Q){N("throw",Q,L,ue)}):ye.resolve(he).then(function(Q){pe.value=Q,L(pe)},function(Q){return N("throw",Q,L,ue)})}ue(ce.arg)}var We;ie(this,"_invoke",{value:function(et,L){function ue(){return new ye(function(ce,pe){N(et,L,ce,pe)})}return We=We?We.then(ue,ue):ue()}})}function Fe(st,ye,N){var We=yt;return function(Ie,et){if(We===Re)throw new Error("Generator is already running");if(We===_e){if(Ie==="throw")throw et;return{value:G,done:!0}}for(N.method=Ie,N.arg=et;;){var L=N.delegate;if(L){var ue=tt(L,N);if(ue){if(ue===Ne)continue;return ue}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(We===yt)throw We=_e,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);We=Re;var ce=dt(st,ye,N);if(ce.type==="normal"){if(We=N.done?_e:pt,ce.arg===Ne)continue;return{value:ce.arg,done:N.done}}ce.type==="throw"&&(We=_e,N.method="throw",N.arg=ce.arg)}}}function tt(st,ye){var N=ye.method,We=st.iterator[N];if(We===G)return ye.delegate=null,N==="throw"&&st.iterator.return&&(ye.method="return",ye.arg=G,tt(st,ye),ye.method==="throw")||N!=="return"&&(ye.method="throw",ye.arg=new TypeError("The iterator does not provide a '"+N+"' method")),Ne;var Ie=dt(We,st.iterator,ye.arg);if(Ie.type==="throw")return ye.method="throw",ye.arg=Ie.arg,ye.delegate=null,Ne;var et=Ie.arg;return et?et.done?(ye[st.resultName]=et.value,ye.next=st.nextLoc,ye.method!=="return"&&(ye.method="next",ye.arg=G),ye.delegate=null,Ne):et:(ye.method="throw",ye.arg=new TypeError("iterator result is not an object"),ye.delegate=null,Ne)}function nt(st){var ye={tryLoc:st[0]};1 in st&&(ye.catchLoc=st[1]),2 in st&&(ye.finallyLoc=st[2],ye.afterLoc=st[3]),this.tryEntries.push(ye)}function bt(st){var ye=st.completion||{};ye.type="normal",delete ye.arg,st.completion=ye}function wt(st){this.tryEntries=[{tryLoc:"root"}],st.forEach(nt,this),this.reset(!0)}function _t(st){if(st||st===""){var ye=st[Le];if(ye)return ye.call(st);if(typeof st.next=="function")return st;if(!isNaN(st.length)){var N=-1,We=function Ie(){for(;++N<st.length;)if(ae.call(st,N))return Ie.value=st[N],Ie.done=!1,Ie;return Ie.value=G,Ie.done=!0,Ie};return We.next=We}}throw new TypeError(de(st)+" is not iterable")}return Ye.prototype=Te,ie(ut,"constructor",{value:Te,configurable:!0}),ie(Te,"constructor",{value:Ye,configurable:!0}),Ye.displayName=Ve(Te,Ze,"GeneratorFunction"),Y.isGeneratorFunction=function(st){var ye=typeof st=="function"&&st.constructor;return!!ye&&(ye===Ye||(ye.displayName||ye.name)==="GeneratorFunction")},Y.mark=function(st){return Object.setPrototypeOf?Object.setPrototypeOf(st,Te):(st.__proto__=Te,Ve(st,Ze,"GeneratorFunction")),st.prototype=Object.create(ut),st},Y.awrap=function(st){return{__await:st}},qe(ze.prototype),Ve(ze.prototype,ke,function(){return this}),Y.AsyncIterator=ze,Y.async=function(st,ye,N,We,Ie){Ie===void 0&&(Ie=Promise);var et=new ze(Xe(st,ye,N,We),Ie);return Y.isGeneratorFunction(ye)?et:et.next().then(function(L){return L.done?L.value:et.next()})},qe(ut),Ve(ut,Ze,"Generator"),Ve(ut,Le,function(){return this}),Ve(ut,"toString",function(){return"[object Generator]"}),Y.keys=function(st){var ye=Object(st),N=[];for(var We in ye)N.push(We);return N.reverse(),function Ie(){for(;N.length;){var et=N.pop();if(et in ye)return Ie.value=et,Ie.done=!1,Ie}return Ie.done=!0,Ie}},Y.values=_t,wt.prototype={constructor:wt,reset:function(ye){if(this.prev=0,this.next=0,this.sent=this._sent=G,this.done=!1,this.delegate=null,this.method="next",this.arg=G,this.tryEntries.forEach(bt),!ye)for(var N in this)N.charAt(0)==="t"&&ae.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=G)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if(ye.type==="throw")throw ye.arg;return this.rval},dispatchException:function(ye){if(this.done)throw ye;var N=this;function We(pe,he){return L.type="throw",L.arg=ye,N.next=pe,he&&(N.method="next",N.arg=G),!!he}for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var et=this.tryEntries[Ie],L=et.completion;if(et.tryLoc==="root")return We("end");if(et.tryLoc<=this.prev){var ue=ae.call(et,"catchLoc"),ce=ae.call(et,"finallyLoc");if(ue&&ce){if(this.prev<et.catchLoc)return We(et.catchLoc,!0);if(this.prev<et.finallyLoc)return We(et.finallyLoc)}else if(ue){if(this.prev<et.catchLoc)return We(et.catchLoc,!0)}else{if(!ce)throw new Error("try statement without catch or finally");if(this.prev<et.finallyLoc)return We(et.finallyLoc)}}}},abrupt:function(ye,N){for(var We=this.tryEntries.length-1;We>=0;--We){var Ie=this.tryEntries[We];if(Ie.tryLoc<=this.prev&&ae.call(Ie,"finallyLoc")&&this.prev<Ie.finallyLoc){var et=Ie;break}}et&&(ye==="break"||ye==="continue")&&et.tryLoc<=N&&N<=et.finallyLoc&&(et=null);var L=et?et.completion:{};return L.type=ye,L.arg=N,et?(this.method="next",this.next=et.finallyLoc,Ne):this.complete(L)},complete:function(ye,N){if(ye.type==="throw")throw ye.arg;return ye.type==="break"||ye.type==="continue"?this.next=ye.arg:ye.type==="return"?(this.rval=this.arg=ye.arg,this.method="return",this.next="end"):ye.type==="normal"&&N&&(this.next=N),Ne},finish:function(ye){for(var N=this.tryEntries.length-1;N>=0;--N){var We=this.tryEntries[N];if(We.finallyLoc===ye)return this.complete(We.completion,We.afterLoc),bt(We),Ne}},catch:function(ye){for(var N=this.tryEntries.length-1;N>=0;--N){var We=this.tryEntries[N];if(We.tryLoc===ye){var Ie=We.completion;if(Ie.type==="throw"){var et=Ie.arg;bt(We)}return et}}throw new Error("illegal catch attempt")},delegateYield:function(ye,N,We){return this.delegate={iterator:_t(ye),resultName:N,nextLoc:We},this.method==="next"&&(this.arg=G),Ne}},Y}function V(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,Y=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Z=G.activeElement;return Y&&Z!=null&&Z.shadowRoot?V(Z.shadowRoot,!0):Z}function X(){return(X=c(re().mark(function G(Y){return re().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",new Promise(function(ae){return setTimeout(ae,Y)}));case 1:case"end":return Z.stop()}},G)}))).apply(this,arguments)}function oe(){return oe=c(re().mark(function G(Y){var Z,ae,ie,je,Le,ke,Ze,Ve,Xe,dt,yt,pt=arguments;return re().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:ae=(Z=pt.length>1&&pt[1]!==void 0?pt[1]:{}).step,ie=ae===void 0?50:ae,je=Z.timeout,Le=je===void 0?500:je,ke=Z.until,Ze=ke===void 0?function(Ne){return Boolean(Ne)}:ke,Ve=Z._sleep,Xe=Ve===void 0?H:Ve,dt=Date.now();case 2:if(!(Date.now()-dt<Le)){Re.next=10;break}if(yt=Y(),!Ze(yt)){Re.next=6;break}return Re.abrupt("return",yt);case 6:return Re.next=8,Xe(ie);case 8:Re.next=2;break;case 10:case"end":return Re.stop()}},G)})),oe.apply(this,arguments)}r.r(s),r.d(s,{PolyfilledCustomEvent:function(){return g},arrChanged:function(){return D},arrEquals:function(){return R},calcScreenDPI:function(){return y},clamp:function(){return v},cssPercentage:function(){return x},debounce:function(){return m},decodeURIComponentPlus:function(){return E},disableSelect:function(){return f},encodeURIComponentPlus:function(){return T},escapeHTML:function(){return P},escapeRegExp:function(){return F},genToArray:function(){return j},getActiveElement:function(){return V},getIFrameDocument:function(){return C},isInputActive:function(){return b},notInArray:function(){return w},poll:function(){return K},polyfillCustomEvent:function(){return p},promisifyEvent:function(){return J},sleep:function(){return H},sum:function(){return _},throttle:function(){return a}}),r(6801),r(3843),r(4043),r(7267),r(278),r(228),r(3964),r(9730),r(2826),r(4284),r(7049),r(1694),r(9749),r(6544),r(4254),r(752),r(6265),r(8373),r(6793),r(7629),r(7509),r(8052),r(7522),r(3374)},7775:function(l,s,r){"use strict";var d=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(x)&&/google inc/i.test(w)},c=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(x)},h=function(){return"ongesturestart"in window&&navigator.maxTouchPoints>0},f=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(x)};r.d(s,{Tv:function(){return f},gn:function(){return h},i7:function(){return d},vU:function(){return c}}),r(4043)},8496:function(l){l.exports=function(){var s=function(B){It.realWindow=gn=B;var q=B.document.createTextNode("");q.ownerDocument!==B.document&&typeof B.wrap=="function"&&B.wrap(q)===q&&(B=B.wrap(B)),It.window=mn=B},r=function(B){var q=B.interaction;if(q.prepared.name==="drag"){var te=q.prepared.axis;te==="x"?(q.coords.cur.page.y=q.coords.start.page.y,q.coords.cur.client.y=q.coords.start.client.y,q.coords.velocity.client.y=0,q.coords.velocity.page.y=0):te==="y"&&(q.coords.cur.page.x=q.coords.start.page.x,q.coords.cur.client.x=q.coords.start.client.x,q.coords.velocity.client.x=0,q.coords.velocity.page.x=0)}},d=function(B){var q=B.iEvent,te=B.interaction;if(te.prepared.name==="drag"){var ne=te.prepared.axis;if(ne==="x"||ne==="y"){var ve=ne==="x"?"y":"x";q.page[ve]=te.coords.start.page[ve],q.client[ve]=te.coords.start.client[ve],q.delta[ve]=0}}},c=function(){},h=function(B){var q=B.parentNode;if(Ut.default.docFrag(q)){for(;(q=q.host)&&Ut.default.docFrag(q););return q}return q},f=function(B,q){return It.window!==It.realWindow&&(q=q.replace(/\/deep\//g," ")),B[Vr.default.prefixedMatchesSelector](q)},v=function(B,q){for(var te,ne=[],ve=B;(te=Qe(ve))&&ve!==q&&te!==ve.ownerDocument;)ne.unshift(ve),ve=te;return ne},x=function(B){return{x:(B=B||It.window).scrollX||B.document.documentElement.scrollLeft,y:B.scrollY||B.document.documentElement.scrollTop}},w=function(B){var q=_instanceof(B,Ur.default.SVGElement)?B.getBoundingClientRect():B.getClientRects()[0];return q&&{left:q.left,right:q.right,top:q.top,bottom:q.bottom,width:q.width||q.right-q.left,height:q.height||q.bottom-q.top}},b=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},C=function(B,q,te){return B==="parent"?(0,ft.parentNode)(te):B==="self"?q.getRect(te):(0,ft.closest)(te,B)},P=function(B){return B.trim().split(/ +/)},E=function(B){return _instanceof(B,Ur.default.Event)||_instanceof(B,Ur.default.Touch)},T=function(B,q,te){return B=B||"page",(te=te||{}).x=q[B+"X"],te.y=q[B+"Y"],te},m=function(B,q){return q=q||{x:0,y:0},Vr.default.isOperaMobile&&E(B)?(T("screen",B,q),q.x+=window.scrollX,q.y+=window.scrollY):T("page",B,q),q},a=function(B,q){return q=q||{},Vr.default.isOperaMobile&&E(B)?T("screen",B,q):T("client",B,q),q},p=function(B){var q=[];return Ut.default.array(B)?(q[0]=B[0],q[1]=B[1]):B.type==="touchend"?B.touches.length===1?(q[0]=B.touches[0],q[1]=B.changedTouches[0]):B.touches.length===0&&(q[0]=B.changedTouches[0],q[1]=B.changedTouches[1]):(q[0]=B.touches[0],q[1]=B.touches[1]),q},g=function(B){for(var q={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},te=0;te<B.length;te++){var ne=B[te];for(var ve in q)q[ve]+=ne[ve]}for(var Ee in q)q[Ee]/=B.length;return q},y=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},_=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},j=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},R=function(B,q){for(var te=0;te<B.slice().length;te++){var ne=B.slice()[te],ve=ne.dropzone,Ee=ne.element;q.dropzone=ve,q.target=Ee,ve.fire(q),q.propagationStopped=q.immediatePropagationStopped=!1}},D=function(B,q){for(var te=function(Ee,Ue){for(var He=Ee.interactables,ot=[],vt=0;vt<He.list.length;vt++){var Lt=He.list[vt];if(Lt.options.drop.enabled){var Ft=Lt.options.drop.accept;if(!(Ut.default.element(Ft)&&Ft!==Ue||Ut.default.string(Ft)&&!ft.matchesSelector(Ue,Ft)||Ut.default.func(Ft)&&!Ft({dropzone:Lt,draggableElement:Ue})))for(var an=Ut.default.string(Lt.target)?Lt._context.querySelectorAll(Lt.target):Ut.default.array(Lt.target)?Lt.target:[Lt.target],Wt=0;Wt<an.length;Wt++){var Cn=an[Wt];Cn!==Ue&&ot.push({dropzone:Lt,element:Cn,rect:Lt.getRect(Cn)})}}}return ot}(B,q),ne=0;ne<te.length;ne++){var ve=te[ne];ve.rect=ve.dropzone.getRect(ve.element)}return te},H=function(B,q,te){for(var ne=B.dropState,ve=B.interactable,Ee=B.element,Ue=[],He=0;He<ne.activeDrops.length;He++){var ot=ne.activeDrops[He],vt=ot.dropzone,Lt=ot.element,Ft=ot.rect;Ue.push(vt.dropCheck(q,te,ve,Ee,Lt,Ft)?Lt:null)}var an=ft.indexOfDeepestElement(Ue);return ne.activeDrops[an]||null},K=function(B,q,te){var ne=B.dropState,ve={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return te.type==="dragstart"&&(ve.activate=new Dr.DropEvent(ne,te,"dropactivate"),ve.activate.target=null,ve.activate.dropzone=null),te.type==="dragend"&&(ve.deactivate=new Dr.DropEvent(ne,te,"dropdeactivate"),ve.deactivate.target=null,ve.deactivate.dropzone=null),ne.rejected||(ne.cur.element!==ne.prev.element&&(ne.prev.dropzone&&(ve.leave=new Dr.DropEvent(ne,te,"dragleave"),te.dragLeave=ve.leave.target=ne.prev.element,te.prevDropzone=ve.leave.dropzone=ne.prev.dropzone),ne.cur.dropzone&&(ve.enter=new Dr.DropEvent(ne,te,"dragenter"),te.dragEnter=ne.cur.element,te.dropzone=ne.cur.dropzone)),te.type==="dragend"&&ne.cur.dropzone&&(ve.drop=new Dr.DropEvent(ne,te,"drop"),te.dropzone=ne.cur.dropzone,te.relatedTarget=ne.cur.element),te.type==="dragmove"&&ne.cur.dropzone&&(ve.move=new Dr.DropEvent(ne,te,"dropmove"),ve.move.dragmove=te,te.dropzone=ne.cur.dropzone)),ve},J=function(B,q){var te=B.dropState,ne=te.activeDrops,ve=te.cur,Ee=te.prev;q.leave&&Ee.dropzone.fire(q.leave),q.enter&&ve.dropzone.fire(q.enter),q.move&&ve.dropzone.fire(q.move),q.drop&&ve.dropzone.fire(q.drop),q.deactivate&&R(ne,q.deactivate),te.prev.dropzone=ve.dropzone,te.prev.element=ve.element},F=function(B,q){var te=B.interaction,ne=B.iEvent,ve=B.event;if(ne.type==="dragmove"||ne.type==="dragend"){var Ee=te.dropState;q.dynamicDrop&&(Ee.activeDrops=D(q,te.element));var Ue=ne,He=H(te,Ue,ve);Ee.rejected=Ee.rejected&&!!He&&He.dropzone===Ee.cur.dropzone&&He.element===Ee.cur.element,Ee.cur.dropzone=He&&He.dropzone,Ee.cur.element=He&&He.element,Ee.events=K(te,0,Ue)}},de=function(B){var q=B.interaction,te=B.iEvent,ne=B.phase;if(q.prepared.name==="gesture"){var ve=q.pointers.map(function(vt){return vt.pointer}),Ee=ne==="start",Ue=ne==="end",He=q.interactable.options.deltaSource;if(te.touches=[ve[0],ve[1]],Ee)te.distance=Sn.touchDistance(ve,He),te.box=Sn.touchBBox(ve),te.scale=1,te.ds=0,te.angle=Sn.touchAngle(ve,He),te.da=0,q.gesture.startDistance=te.distance,q.gesture.startAngle=te.angle;else if(Ue){var ot=q.prevEvent;te.distance=ot.distance,te.box=ot.box,te.scale=ot.scale,te.ds=0,te.angle=ot.angle,te.da=0}else te.distance=Sn.touchDistance(ve,He),te.box=Sn.touchBBox(ve),te.scale=te.distance/q.gesture.startDistance,te.angle=Sn.touchAngle(ve,He),te.ds=te.scale-q.gesture.scale,te.da=te.angle-q.gesture.angle;q.gesture.distance=te.distance,q.gesture.angle=te.angle,Ut.default.number(te.scale)&&te.scale!==1/0&&!isNaN(te.scale)&&(q.gesture.scale=te.scale)}},re=function(B,q,te,ne,ve,Ee,Ue){if(!q)return!1;if(q===!0){var He=Ut.default.number(Ee.width)?Ee.width:Ee.right-Ee.left,ot=Ut.default.number(Ee.height)?Ee.height:Ee.bottom-Ee.top;if(Ue=Math.min(Ue,Math.abs((B==="left"||B==="right"?He:ot)/2)),He<0&&(B==="left"?B="right":B==="right"&&(B="left")),ot<0&&(B==="top"?B="bottom":B==="bottom"&&(B="top")),B==="left"){var vt=He>=0?Ee.left:Ee.right;return te.x<vt+Ue}if(B==="top"){var Lt=ot>=0?Ee.top:Ee.bottom;return te.y<Lt+Ue}if(B==="right")return te.x>(He>=0?Ee.right:Ee.left)-Ue;if(B==="bottom")return te.y>(ot>=0?Ee.bottom:Ee.top)-Ue}return!!Ut.default.element(ne)&&(Ut.default.element(q)?q===ne:ft.matchesUpTo(ne,q,ve))},V=function(B){var q=B.iEvent,te=B.interaction;if(te.prepared.name==="resize"&&te.resizeAxes){var ne=q;te.interactable.options.resize.square?(te.resizeAxes==="y"?ne.delta.x=ne.delta.y:ne.delta.y=ne.delta.x,ne.axes="xy"):(ne.axes=te.resizeAxes,te.resizeAxes==="x"?ne.delta.y=0:te.resizeAxes==="y"&&(ne.delta.x=0))}},X=function(B,q,te){return(Ut.default.string(B)?(0,en.getStringOptionResult)(B,q,te):B)||(0,It.getWindow)(te)},oe=function(B){return Ut.default.window(B)&&(B=window.document.body),{x:B.scrollLeft,y:B.scrollTop}},G=function(B){return Ut.default.bool(B)?(this.options.styleCursor=B,this):B===null?(delete this.options.styleCursor,this):this.options.styleCursor},Y=function(B){return Ut.default.func(B)?(this.options.actionChecker=B,this):B===null?(delete this.options.actionChecker,this):this.options.actionChecker},Z=function(B,q,te,ne,ve){return q.testIgnoreAllow(q.options[B.name],te,ne)&&q.options[B.name].enabled&&Le(q,te,B,ve)?B:null},ae=function(B,q,te,ne,ve,Ee,Ue){for(var He=0,ot=ne.length;He<ot;He++){var vt=ne[He],Lt=ve[He],Ft=vt.getAction(q,te,B,Lt);if(Ft){var an=Z(Ft,vt,Lt,Ee,Ue);if(an)return{action:an,interactable:vt,element:Lt}}}return{action:null,interactable:null,element:null}},ie=function(B,q,te,ne,ve){var Ee=[],Ue=[],He=ne;function ot(Lt){Ee.push(Lt),Ue.push(He)}for(;Ut.default.element(He);){Ee=[],Ue=[],ve.interactables.forEachMatch(He,ot);var vt=ae(B,q,te,Ee,Ue,ne,ve);if(vt.action&&!vt.interactable.options[vt.action.name].manualStart)return vt;He=ft.parentNode(He)}return{action:null,interactable:null,element:null}},je=function(B,q,te){var ne=q.action,ve=q.interactable,Ee=q.element;ne=ne||{name:null},B.interactable=ve,B.element=Ee,(0,_i.copyAction)(B.prepared,ne),B.rect=ve&&ne.name?ve.getRect(Ee):null,Ve(B,te),te.fire("autoStart:prepared",{interaction:B})},Le=function(B,q,te,ne){var ve=B.options,Ee=ve[te.name].max,Ue=ve[te.name].maxPerElement,He=ne.autoStart.maxInteractions,ot=0,vt=0,Lt=0;if(!(Ee&&Ue&&He))return!1;for(var Ft=0;Ft<ne.interactions.list.length;Ft++){var an=ne.interactions.list[Ft],Wt=an.prepared.name;if(an.interacting()&&(++ot>=He||an.interactable===B&&((vt+=Wt===te.name?1:0)>=Ee||an.element===q&&(Lt++,Wt===te.name&&Lt>=Ue))))return!1}return He>0},ke=function(B,q){return Ut.default.number(B)?(q.autoStart.maxInteractions=B,this):q.autoStart.maxInteractions},Ze=function(B,q,te){var ne=te.autoStart.cursorElement;ne&&ne!==B&&(ne.style.cursor=""),B.ownerDocument.documentElement.style.cursor=q,B.style.cursor=q,te.autoStart.cursorElement=q?B:null},Ve=function(B,q){var te=B.interactable,ne=B.element,ve=B.prepared;if(B.pointerType==="mouse"&&te&&te.options.styleCursor){var Ee="";if(ve.name){var Ue=te.options[ve.name].cursorChecker;Ee=Ut.default.func(Ue)?Ue(ve,te,ne,B._interacting):q.actions.map[ve.name].getCursor(ve)}Ze(B.element,Ee||"",q)}else q.autoStart.cursorElement&&Ze(q.autoStart.cursorElement,"",q)},Xe=function(B){var q=B.prepared&&B.prepared.name;if(!q)return null;var te=B.interactable.options;return te[q].hold||te[q].delay},dt=function(B){return/^(always|never|auto)$/.test(B)?(this.options.preventDefault=B,this):Ut.default.bool(B)?(this.options.preventDefault=B?"always":"never",this):this.options.preventDefault},yt=function(B){var q=B.interaction,te=B.event;q.interactable&&q.interactable.checkAndPreventDefault(te)},pt=function(B){var q=B.Interactable;q.prototype.preventDefault=dt,q.prototype.checkAndPreventDefault=function(te){return function(ne,ve,Ee){var Ue=ne.options.preventDefault;if(Ue!=="never")if(Ue!=="always"){if(ve.events.supportsPassive&&/^touch(start|move)$/.test(Ee.type)){var He=(0,It.getWindow)(Ee.target).document,ot=ve.getDocOptions(He);if(!ot||!ot.events||ot.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(Ee.type)||Ut.default.element(Ee.target)&&(0,ft.matchesSelector)(Ee.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||Ee.preventDefault()}else Ee.preventDefault()}(this,B,te)},B.interactions.docEvents.push({type:"dragstart",listener:function(ne){for(var ve=0;ve<B.interactions.list.length;ve++){var Ee=B.interactions.list[ve];if(Ee.element&&(Ee.element===ne.target||(0,ft.nodeContains)(Ee.element,ne.target)))return void Ee.interactable.checkAndPreventDefault(ne)}}})},Re=function(B,q){return function(te){if(Array.isArray(te))return te}(B)||function(te,ne){var ve=te==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ve!=null){var Ee,Ue,He=[],ot=!0,vt=!1;try{for(ve=ve.call(te);!(ot=(Ee=ve.next()).done)&&(He.push(Ee.value),!ne||He.length!==ne);ot=!0);}catch(Lt){vt=!0,Ue=Lt}finally{try{ot||ve.return==null||ve.return()}finally{if(vt)throw Ue}}return He}}(B,q)||function(te,ne){if(te){if(typeof te=="string")return _e(te,ne);var ve=Object.prototype.toString.call(te).slice(8,-1);return ve==="Object"&&te.constructor&&(ve=te.constructor.name),ve==="Map"||ve==="Set"?Array.from(te):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?_e(te,ne):void 0}}(B,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},_e=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},Ne=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},Je=function(B,q){return{rect:q,coords:B,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}},Ye=function(B,q){return B?{left:q.x-B.left,top:q.y-B.top,right:B.right-q.x,bottom:B.bottom-q.y}:{left:0,top:0,right:0,bottom:0}},Te=function(B){var q=B.iEvent,te=B.interaction.modification.result;te&&(q.modifiers=te.eventProps)},rt=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},ht=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},at=function(B,q){for(var te=0;te<q.length;te++){var ne=q[te];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(B,ne.key,ne)}},ut=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},qe=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},ze=function(B){B.pointerIsDown&&(bt(B.coords.cur,B.offset.total),B.offset.pending.x=0,B.offset.pending.y=0)},Fe=function(B){tt(B.interaction)},tt=function(B){if(!function(te){return!(!te.offset.pending.x&&!te.offset.pending.y)}(B))return!1;var q=B.offset.pending;return bt(B.coords.cur,q),bt(B.coords.delta,q),en.addEdges(B.edges,B.rect,q),q.x=0,q.y=0,!0},nt=function(B){var q=B.x,te=B.y;this.offset.pending.x+=q,this.offset.pending.y+=te,this.offset.total.x+=q,this.offset.total.y+=te},bt=function(B,q){var te=B.page,ne=B.client,ve=q.x,Ee=q.y;te.x+=ve,te.y+=Ee,ne.x+=ve,ne.y+=Ee},wt=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},_t=function(B){var q=B.interactable,te=B.prepared;return q&&q.options&&te.name&&q.options[te.name].inertia},st=function(B,q,te,ne){var ve=1-B;return ve*ve*q+2*ve*B*te+B*B*ne},ye=function(B,q,te,ne){return-te*(B/=ne)*(B-2)+q},N=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},We=function(B,q){for(var te=0;te<q.length;te++){var ne=q[te];if(B.immediatePropagationStopped)break;ne(B)}},Ie=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},et=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},L=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},ue=function(B,q){return function(te){if(Array.isArray(te))return te}(B)||function(te,ne){var ve=te==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ve!=null){var Ee,Ue,He=[],ot=!0,vt=!1;try{for(ve=ve.call(te);!(ot=(Ee=ve.next()).done)&&(He.push(Ee.value),!ne||He.length!==ne);ot=!0);}catch(Lt){vt=!0,Ue=Lt}finally{try{ot||ve.return==null||ve.return()}finally{if(vt)throw Ue}}return He}}(B,q)||function(te,ne){if(te){if(typeof te=="string")return ce(te,ne);var ve=Object.prototype.toString.call(te).slice(8,-1);return ve==="Object"&&te.constructor&&(ve=te.constructor.name),ve==="Map"||ve==="Set"?Array.from(te):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?ce(te,ne):void 0}}(B,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},ce=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},pe=function(B){if(!Ut.default.object(B))return{capture:!!B,passive:!1};var q=(0,gt.default)({},B);return q.capture=!!B.capture,q.passive=!!B.passive,q},he=function(B,q){return B.pointers.some(function(te){return te.id===q})},Q=function(B,q){return function(te){if(Array.isArray(te))return te}(B)||function(te,ne){var ve=te==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ve!=null){var Ee,Ue,He=[],ot=!0,vt=!1;try{for(ve=ve.call(te);!(ot=(Ee=ve.next()).done)&&(He.push(Ee.value),!ne||He.length!==ne);ot=!0);}catch(Lt){vt=!0,Ue=Lt}finally{try{ot||ve.return==null||ve.return()}finally{if(vt)throw Ue}}return He}}(B,q)||function(te,ne){if(te){if(typeof te=="string")return be(te,ne);var ve=Object.prototype.toString.call(te).slice(8,-1);return ve==="Object"&&te.constructor&&(ve=te.constructor.name),ve==="Map"||ve==="Set"?Array.from(te):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?be(te,ne):void 0}}(B,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},be=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},Ce=function(B,q){return function(te){var ne=q.interactions.list,ve=Sn.getPointerType(te),Ee=Q(Sn.getEventTargets(te),2),Ue=Ee[0],He=Ee[1],ot=[];if(/^touch/.test(te.type)){q.prevTouchTime=q.now();for(var vt=0;vt<te.changedTouches.length;vt++){var Lt=te.changedTouches[vt],Ft={pointer:Lt,pointerId:Sn.getPointerId(Lt),pointerType:ve,eventType:te.type,eventTarget:Ue,curEventTarget:He,scope:q},an=xe(Ft);ot.push([Ft.pointer,Ft.eventTarget,Ft.curEventTarget,an])}}else{var Wt=!1;if(!Vr.default.supportsPointerEvent&&/mouse/.test(te.type)){for(var Cn=0;Cn<ne.length&&!Wt;Cn++)Wt=ne[Cn].pointerType!=="mouse"&&ne[Cn].pointerIsDown;Wt=Wt||q.now()-q.prevTouchTime<500||te.timeStamp===0}if(!Wt){var Bn={pointer:te,pointerId:Sn.getPointerId(te),pointerType:ve,eventType:te.type,curEventTarget:He,eventTarget:Ue,scope:q},On=xe(Bn);ot.push([Bn.pointer,Bn.eventTarget,Bn.curEventTarget,On])}}for(var Nn=0;Nn<ot.length;Nn++){var Yn=Q(ot[Nn],4),cr=Yn[0],Ar=Yn[1],Ir=Yn[2];Yn[3][B](cr,te,Ar,Ir)}}},xe=function(B){var q=B.pointerType,te=B.scope,ne={interaction:no.default.search(B),searchDetails:B};return te.fire("interactions:find",ne),ne.interaction||te.interactions.new({pointerType:q})},Ge=function(B,q){var te=B.doc,ne=B.scope,ve=B.options,Ee=ne.interactions.docEvents,Ue=ne.events,He=Ue[q];for(var ot in ne.browser.isIOS&&!ve.events&&(ve.events={passive:!1}),Ue.delegatedEvents)He(te,ot,Ue.delegateListener),He(te,ot,Ue.delegateUseCapture,!0);for(var vt=ve&&ve.events,Lt=0;Lt<Ee.length;Lt++){var Ft=Ee[Lt];He(te,Ft.type,Ft.listener,vt)}},Be=function(B,q){if(!_instanceof(B,q))throw new TypeError("Cannot call a class as a function")},Ke=function(B,q){for(var te=0;te<q.length;te++){var ne=q[te];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(B,ne.key,ne)}},Pt=function(B,q,te){return q&&Ke(B.prototype,q),te&&Ke(B,te),Object.defineProperty(B,"prototype",{writable:!1}),B},At=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},Et=function(B,q){return B.isInitialized=!0,Ut.default.window(q)&&It.init(q),Ur.default.init(q),Vr.default.init(q),Wi.default.init(q),B.window=q,B.document=q.document,B.usePlugin(ro.default),B.usePlugin(Li.default),B},Jt=function(B){return B&&B.replace(/\/.*$/,"")},Dt=function(B,q){return function(te){if(Array.isArray(te))return te}(B)||function(te,ne){var ve=te==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ve!=null){var Ee,Ue,He=[],ot=!0,vt=!1;try{for(ve=ve.call(te);!(ot=(Ee=ve.next()).done)&&(He.push(Ee.value),!ne||He.length!==ne);ot=!0);}catch(Lt){vt=!0,Ue=Lt}finally{try{ot||ve.return==null||ve.return()}finally{if(vt)throw Ue}}return He}}(B,q)||function(te,ne){if(te){if(typeof te=="string")return Ht(te,ne);var ve=Object.prototype.toString.call(te).slice(8,-1);return ve==="Object"&&te.constructor&&(ve=te.constructor.name),ve==="Map"||ve==="Set"?Array.from(te):ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?Ht(te,ne):void 0}}(B,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Ht=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},Bt=function(B,q){var te=Object.keys(B);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(B);q&&(ne=ne.filter(function(ve){return Object.getOwnPropertyDescriptor(B,ve).enumerable})),te.push.apply(te,ne)}return te},qt=function(B){for(var q=arguments,te=function(ve){var Ee=q[ve]!=null?q[ve]:{};ve%2?Bt(Object(Ee),!0).forEach(function(Ue){Zt(B,Ue,Ee[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(Ee)):Bt(Object(Ee)).forEach(function(Ue){Object.defineProperty(B,Ue,Object.getOwnPropertyDescriptor(Ee,Ue))})},ne=1;ne<arguments.length;ne++)te(ne);return B},Zt=function(B,q,te){return q in B?Object.defineProperty(B,q,{value:te,enumerable:!0,configurable:!0,writable:!0}):B[q]=te,B},un=function(B,q,te){var ne=B.startCoords,ve=B.edgeSign;q?te.y=ne.y+(te.x-ne.x)*ve.y:te.x=ne.x+(te.y-ne.y)*ve.x},Rt=function(B,q,te,ne){var ve=B.startRect,Ee=B.startCoords,Ue=B.ratio,He=B.edgeSign;if(q){var ot=ne.width/Ue;te.y=Ee.y+(ot-ve.height)*He.y}else{var vt=ne.height*Ue;te.x=Ee.x+(vt-ve.width)*He.x}},rn=function(B,q,te){return Ut.default.func(B)?en.resolveRectLike(B,q.interactable,q.element,[te.x,te.y,q]):en.resolveRectLike(B,q.interactable,q.element)},Qt=function(B,q){for(var te=["top","left","bottom","right"],ne=0;ne<te.length;ne++){var ve=te[ne];ve in B||(B[ve]=q[ve])}return B},Tn=function(B,q){(q==null||q>B.length)&&(q=B.length);for(var te=0,ne=Array(q);te<q;te++)ne[te]=B[te];return ne},Nt=function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B},Me=function(B,q){var te=B.interaction,ne=B.pointer,ve=B.event,Ee=B.eventTarget,Ue=B.type,He=te.getPointerIndex(ne),ot=te.pointers[He];if(Ue==="tap"&&(te.pointerWasMoved||!ot||ot.downTarget!==Ee))return[];for(var vt=ft.getPath(Ee),Lt={interaction:te,pointer:ne,event:ve,eventTarget:Ee,type:Ue,path:vt,targets:[],node:null},Ft=0;Ft<vt.length;Ft++){var an=vt[Ft];Lt.node=an,q.fire("pointerEvents:collect-targets",Lt)}return Ue==="hold"&&(Lt.targets=Lt.targets.filter(function(Wt){var Cn;return Wt.eventable.options.holdDuration===((Cn=te.pointers[He])==null?void 0:Cn.hold.duration)})),Lt.targets},fe=function(B){var q=B.interaction,te=B.pointerIndex,ne=q.pointers[te].hold;ne&&ne.timeout&&(clearTimeout(ne.timeout),ne.timeout=null)},Se=function(B){var q=B.interaction;q.holdIntervalHandle&&(clearInterval(q.holdIntervalHandle),q.holdIntervalHandle=null)},De=function(B){return(0,gt.default)(this.events.options,B),this},it=function(B){var q=B.Interactable;B.actions.phases.reflow=!0,q.prototype.reflow=function(te){return function(ne,ve,Ee){for(var Ue=Ut.default.string(ne.target)?mr.from(ne._context.querySelectorAll(ne.target)):[ne.target],He=Ee.window.Promise,ot=He?[]:null,vt=function(){var an=Ue[Lt],Wt=ne.getRect(an);if(!Wt)return"break";var Cn=mr.find(Ee.interactions.list,function(cr){return cr.interacting()&&cr.interactable===ne&&cr.element===an&&cr.prepared.name===ve.name}),Bn=void 0;if(Cn)Cn.move(),ot&&(Bn=Cn._reflowPromise||new He(function(cr){Cn._reflowResolve=cr}));else{var On=(0,en.tlbrToXywh)(Wt),Nn={page:{x:On.x,y:On.y},client:{x:On.x,y:On.y},timeStamp:Ee.now()},Yn=Sn.coordsToEvent(Nn);Bn=function(cr,Ar,Ir,di,Zr){var xr=cr.interactions.new({pointerType:"reflow"}),ra={interaction:xr,event:Zr,pointer:Zr,eventTarget:Ir,phase:"reflow"};xr.interactable=Ar,xr.element=Ir,xr.prevEvent=Zr,xr.updatePointer(Zr,Zr,Ir,!0),Sn.setZeroCoords(xr.coords.delta),(0,_i.copyAction)(xr.prepared,di),xr._doPhase(ra);var ia=cr.window.Promise,Tu=ia?new ia(function(n0){xr._reflowResolve=n0}):void 0;return xr._reflowPromise=Tu,xr.start(di,Ar,Ir),xr._interacting?(xr.move(ra),xr.end(Zr)):(xr.stop(),xr._reflowResolve()),xr.removePointer(Zr,Zr),Tu}(Ee,ne,an,ve,Yn)}ot&&ot.push(Bn)},Lt=0;Lt<Ue.length&&vt()!=="break";Lt++);return ot&&He.all(ot).then(function(){return ne})}(this,te,B)}},ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0,ct.default=function(se){return!(!se||!se.Window)&&_instanceof(se,se.Window)};var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.getWindow=function(se){return(0,ct.default)(se)?se:(se.ownerDocument||se).defaultView||mn.window},It.init=s,It.window=It.realWindow=void 0;var gn=void 0;It.realWindow=gn;var mn=void 0;It.window=mn,(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&window&&s(window);var Ut={};function $n(se){return $n=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},$n(se)}Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.default=void 0;var Mn=function(B){return!!B&&$n(B)==="object"},yi=function(B){return typeof B=="function"},Cr={window:function(B){return B===It.window||(0,ct.default)(B)},docFrag:function(B){return Mn(B)&&B.nodeType===11},object:Mn,func:yi,number:function(B){return typeof B=="number"},bool:function(B){return typeof B=="boolean"},string:function(B){return typeof B=="string"},element:function(B){if(!B||$n(B)!=="object")return!1;var q=It.getWindow(B)||It.window;return/object|function/.test((typeof Element=="undefined"?"undefined":_typeof(Element))>"u"?"undefined":$n(Element))?_instanceof(B,Element)||_instanceof(B,q.Element):B.nodeType===1&&typeof B.nodeName=="string"},plainObject:function(B){return Mn(B)&&!!B.constructor&&/function Object\b/.test(B.constructor.toString())},array:function(B){return Mn(B)&&B.length!==void 0&&yi(B.splice)}};Ut.default=Cr;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.default=void 0;var Zi={id:"actions/drag",install:function(B){var q=B.actions,te=B.Interactable,ne=B.defaults;te.prototype.draggable=Zi.draggable,q.map.drag=Zi,q.methodDict.drag="draggable",ne.actions.drag=Zi.defaults},listeners:{"interactions:before-action-move":r,"interactions:action-resume":r,"interactions:action-move":d,"auto-start:check":function(se){var B=se.interaction,q=se.interactable,te=se.buttons,ne=q.options.drag;if(ne&&ne.enabled&&(!B.pointerIsDown||!/mouse|pointer/.test(B.pointerType)||te&q.options.drag.mouseButtons))return se.action={name:"drag",axis:ne.lockAxis==="start"?ne.startAxis:ne.lockAxis},!1}},draggable:function(B){return Ut.default.object(B)?(this.options.drag.enabled=B.enabled!==!1,this.setPerAction("drag",B),this.setOnEvents("drag",B),/^(xy|x|y|start)$/.test(B.lockAxis)&&(this.options.drag.lockAxis=B.lockAxis),/^(xy|x|y)$/.test(B.startAxis)&&(this.options.drag.startAxis=B.startAxis),this):Ut.default.bool(B)?(this.options.drag.enabled=B,this):this.options.drag},beforeMove:r,move:d,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},zi=Zi;Ti.default=zi;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.default=void 0;var bi={init:function(B){var q=B;bi.document=q.document,bi.DocumentFragment=q.DocumentFragment||c,bi.SVGElement=q.SVGElement||c,bi.SVGSVGElement=q.SVGSVGElement||c,bi.SVGElementInstance=q.SVGElementInstance||c,bi.Element=q.Element||c,bi.HTMLElement=q.HTMLElement||bi.Element,bi.Event=q.Event,bi.Touch=q.Touch||c,bi.PointerEvent=q.PointerEvent||q.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null},uo=bi;Ur.default=uo;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=void 0;var si={init:function(B){var q=Ur.default.Element,te=B.navigator||{};si.supportsTouch="ontouchstart"in B||Ut.default.func(B.DocumentTouch)&&_instanceof(Ur.default.document,B.DocumentTouch),si.supportsPointerEvent=te.pointerEnabled!==!1&&!!Ur.default.PointerEvent,si.isIOS=/iP(hone|od|ad)/.test(te.platform),si.isIOS7=/iP(hone|od|ad)/.test(te.platform)&&/OS 7[^\d]/.test(te.appVersion),si.isIe9=/MSIE 9/.test(te.userAgent),si.isOperaMobile=te.appName==="Opera"&&si.supportsTouch&&/Presto/.test(te.userAgent),si.prefixedMatchesSelector="matches"in q.prototype?"matches":"webkitMatchesSelector"in q.prototype?"webkitMatchesSelector":"mozMatchesSelector"in q.prototype?"mozMatchesSelector":"oMatchesSelector"in q.prototype?"oMatchesSelector":"msMatchesSelector",si.pEventTypes=si.supportsPointerEvent?Ur.default.PointerEvent===B.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,si.wheelEvent=Ur.default.document&&"onmousewheel"in Ur.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},ni=si;Vr.default=ni;var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.closest=function(se,B){for(;Ut.default.element(se);){if(f(se,B))return se;se=h(se)}return null},ft.getActualElement=function(se){return se.correspondingUseElement||se},ft.getElementClientRect=w,ft.getElementRect=function(se){var B=w(se);if(!Vr.default.isIOS7&&B){var q=x(It.getWindow(se));B.left+=q.x,B.right+=q.x,B.top+=q.y,B.bottom+=q.y}return B},ft.getPath=function(se){for(var B=[];se;)B.push(se),se=h(se);return B},ft.getScrollXY=x,ft.indexOfDeepestElement=function(se){for(var B,q=[],te=0;te<se.length;te++){var ne=se[te],ve=se[B];if(ne&&te!==B)if(ve){var Ee=Qe(ne),Ue=Qe(ve);if(Ee!==ne.ownerDocument)if(Ue!==ne.ownerDocument)if(Ee!==Ue){q=q.length?q:v(ve);var He=void 0;if(_instanceof(ve,Ur.default.HTMLElement)&&_instanceof(ne,Ur.default.SVGElement)&&!_instanceof(ne,Ur.default.SVGSVGElement)){if(ne===Ue)continue;He=ne.ownerSVGElement}else He=ne;for(var ot=v(He,ve.ownerDocument),vt=0;ot[vt]&&ot[vt]===q[vt];)vt++;var Lt=[ot[vt-1],ot[vt],q[vt]];if(Lt[0])for(var Ft=Lt[0].lastChild;Ft;){if(Ft===Lt[1]){B=te,q=ot;break}if(Ft===Lt[2])break;Ft=Ft.previousSibling}}else an=ne,Wt=ve,(parseInt(It.getWindow(an).getComputedStyle(an).zIndex,10)||0)>=(parseInt(It.getWindow(Wt).getComputedStyle(Wt).zIndex,10)||0)&&(B=te);else B=te}else B=te}var an,Wt;return B},ft.matchesSelector=f,ft.matchesUpTo=function(se,B,q){for(;Ut.default.element(se);){if(f(se,B))return!0;if((se=h(se))===q)return f(se,B)}return!1},ft.nodeContains=function(se,B){if(se.contains)return se.contains(B);for(;B;){if(B===se)return!0;B=B.parentNode}return!1},ft.parentNode=h,ft.trySelector=function(se){return!!Ut.default.string(se)&&(Ur.default.document.querySelector(se),!0)};var Qe=function(B){return B.parentNode||B.host},gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=function(se,B){for(var q in B)se[q]=B[q];return se};var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.addEdges=function(se,B,q){se.left&&(B.left+=q.x),se.right&&(B.right+=q.x),se.top&&(B.top+=q.y),se.bottom&&(B.bottom+=q.y),B.width=B.right-B.left,B.height=B.bottom-B.top},en.getStringOptionResult=C,en.rectToXY=function(se){return se&&{x:"x"in se?se.x:se.left,y:"y"in se?se.y:se.top}},en.resolveRectLike=function(se,B,q,te){var ne,ve=se;return Ut.default.string(ve)?ve=C(ve,B,q):Ut.default.func(ve)&&(ve=ve.apply(void 0,function(Ee){if(Array.isArray(Ee))return b(Ee)}(ne=te)||function(Ee){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ee[Symbol.iterator]!=null||Ee["@@iterator"]!=null)return Array.from(Ee)}(ne)||function(Ee,Ue){if(Ee){if(typeof Ee=="string")return b(Ee,Ue);var He=Object.prototype.toString.call(Ee).slice(8,-1);return He==="Object"&&Ee.constructor&&(He=Ee.constructor.name),He==="Map"||He==="Set"?Array.from(Ee):He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He)?b(Ee,Ue):void 0}}(ne)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),Ut.default.element(ve)&&(ve=(0,ft.getElementRect)(ve)),ve},en.tlbrToXywh=function(se){return!se||"x"in se&&"y"in se||((se=(0,gt.default)({},se)).x=se.left||0,se.y=se.top||0,se.width=se.width||(se.right||0)-se.x,se.height=se.height||(se.bottom||0)-se.y),se},en.xywhToTlbr=function(se){return!se||"left"in se&&"top"in se||((se=(0,gt.default)({},se)).left=se.x||0,se.top=se.y||0,se.right=se.right||se.left+se.width,se.bottom=se.bottom||se.top+se.height),se};var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=function(se,B,q){var te=se.options[q],ne=te&&te.origin||se.options.origin,ve=(0,en.resolveRectLike)(ne,se,B,[se&&B]);return(0,en.rectToXY)(ve)||{x:0,y:0}};var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.default=function se(B,q,te){if(te=te||{},Ut.default.string(B)&&B.search(" ")!==-1&&(B=P(B)),Ut.default.array(B))return B.reduce(function(He,ot){return(0,gt.default)(He,se(ot,q,te))},te);if(Ut.default.object(B)&&(q=B,B=""),Ut.default.func(q))te[B]=te[B]||[],te[B].push(q);else if(Ut.default.array(q))for(var ne=0;ne<q.length;ne++){var ve;ve=q[ne],se(B,ve,te)}else if(Ut.default.object(q))for(var Ee in q){var Ue=P(Ee).map(function(He){return"".concat(B).concat(He)});se(Ue,q[Ee],te)}return te};var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.default=void 0,Gn.default=function(se,B){return Math.sqrt(se*se+B*B)};var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=function(se,B){se.__set||(se.__set={});var q=function(ve){typeof se[ve]!="function"&&ve!=="__set"&&Object.defineProperty(se,ve,{get:function(){return ve in se.__set?se.__set[ve]:se.__set[ve]=B[ve]},set:function(Ue){se.__set[ve]=Ue},configurable:!0})};for(var te in B)q(te);return se};var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.coordsToEvent=function(se){return{coords:se,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Sn.copyCoords=function(se,B){se.page=se.page||{},se.page.x=B.page.x,se.page.y=B.page.y,se.client=se.client||{},se.client.x=B.client.x,se.client.y=B.client.y,se.timeStamp=B.timeStamp},Sn.getClientXY=a,Sn.getEventTargets=function(se){var B=Ut.default.func(se.composedPath)?se.composedPath():se.path;return[ft.getActualElement(B?B[0]:se.target),ft.getActualElement(se.currentTarget)]},Sn.getPageXY=m,Sn.getPointerId=function(se){return Ut.default.number(se.pointerId)?se.pointerId:se.identifier},Sn.getPointerType=function(se){return Ut.default.string(se.pointerType)?se.pointerType:Ut.default.number(se.pointerType)?[void 0,void 0,"touch","pen","mouse"][se.pointerType]:/touch/.test(se.type||"")||_instanceof(se,Ur.default.Touch)?"touch":"mouse"},Sn.getTouchPair=p,Sn.getXY=T,Sn.isNativePointer=E,Sn.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},Sn.pointerAverage=g,Object.defineProperty(Sn,"pointerExtend",{enumerable:!0,get:function(){return sr.default}}),Sn.setCoordDeltas=function(se,B,q){se.page.x=q.page.x-B.page.x,se.page.y=q.page.y-B.page.y,se.client.x=q.client.x-B.client.x,se.client.y=q.client.y-B.client.y,se.timeStamp=q.timeStamp-B.timeStamp},Sn.setCoordVelocity=function(se,B){var q=Math.max(B.timeStamp/1e3,.001);se.page.x=B.page.x/q,se.page.y=B.page.y/q,se.client.x=B.client.x/q,se.client.y=B.client.y/q,se.timeStamp=q},Sn.setCoords=function(se,B,q){var te=B.length>1?g(B):B[0];m(te,se.page),a(te,se.client),se.timeStamp=q},Sn.setZeroCoords=function(se){se.page.x=0,se.page.y=0,se.client.x=0,se.client.y=0},Sn.touchAngle=function(se,B){var q=B+"X",te=B+"Y",ne=p(se),ve=ne[1][q]-ne[0][q],Ee=ne[1][te]-ne[0][te];return 180*Math.atan2(Ee,ve)/Math.PI},Sn.touchBBox=function(se){if(!se.length)return null;var B=p(se),q=Math.min(B[0].pageX,B[1].pageX),te=Math.min(B[0].pageY,B[1].pageY),ne=Math.max(B[0].pageX,B[1].pageX),ve=Math.max(B[0].pageY,B[1].pageY);return{x:q,y:te,left:q,top:te,right:ne,bottom:ve,width:ne-q,height:ve-te}},Sn.touchDistance=function(se,B){var q=B+"X",te=B+"Y",ne=p(se),ve=ne[0][q]-ne[1][q],Ee=ne[0][te]-ne[1][te];return(0,Gn.default)(ve,Ee)};var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.BaseEvent=void 0;var Nr=function(){function se(te){(function(ne,ve){if(!_instanceof(ne,ve))throw new TypeError("Cannot call a class as a function")})(this,se),y(this,"immediatePropagationStopped",!1),y(this,"propagationStopped",!1),this._interaction=te}var B,q;return B=se,(q=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();Wr.BaseEvent=Nr,Object.defineProperty(Nr.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.remove=mr.merge=mr.from=mr.findIndex=mr.find=mr.contains=void 0,mr.contains=function(se,B){return se.indexOf(B)!==-1},mr.remove=function(se,B){return se.splice(se.indexOf(B),1)};var me=function(B,q){for(var te=0;te<q.length;te++){var ne=q[te];B.push(ne)}return B};mr.merge=me,mr.from=function(se){return me([],se)};var Fi=function(B,q){for(var te=0;te<B.length;te++)if(q(B[te],te,B))return te;return-1};mr.findIndex=Fi,mr.find=function(se,B){return se[Fi(se,B)]};var Dr={};function Ri(se){return Ri=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Ri(se)}function $r(se,B){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},$r(se,B)}function on(se){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},on(se)}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.DropEvent=void 0;var sn=function(se){(function(Ue,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(He&&He.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),He&&$r(Ue,He)})(Ee,se);var B,q,te,ne,ve=(te=Ee,ne=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var He,ot=on(te);if(ne){var vt=on(this).constructor;He=Reflect.construct(ot,arguments,vt)}else He=ot.apply(this,arguments);return function(Lt,Ft){if(Ft&&(Ri(Ft)==="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(Lt)}(this,He)});function Ee(Ue,He,ot){var vt;(function(Wt,Cn){if(!_instanceof(Wt,Cn))throw new TypeError("Cannot call a class as a function")})(this,Ee),j(_(vt=ve.call(this,He._interaction)),"dropzone",void 0),j(_(vt),"dragEvent",void 0),j(_(vt),"relatedTarget",void 0),j(_(vt),"draggable",void 0),j(_(vt),"propagationStopped",!1),j(_(vt),"immediatePropagationStopped",!1);var Lt=ot==="dragleave"?Ue.prev:Ue.cur,Ft=Lt.element,an=Lt.dropzone;return vt.type=ot,vt.target=Ft,vt.currentTarget=Ft,vt.dropzone=an,vt.dragEvent=He,vt.relatedTarget=He.target,vt.draggable=He.interactable,vt.timeStamp=He.timeStamp,vt}return B=Ee,(q=[{key:"reject",value:function(){var He=this,ot=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&ot.cur.dropzone===this.dropzone&&ot.cur.element===this.target)if(ot.prev.dropzone=this.dropzone,ot.prev.element=this.target,ot.rejected=!0,ot.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var vt=ot.activeDrops,Lt=mr.findIndex(vt,function(an){var Wt=an.dropzone,Cn=an.element;return Wt===He.dropzone&&Cn===He.target});ot.activeDrops.splice(Lt,1);var Ft=new Ee(ot,this.dragEvent,"dropdeactivate");Ft.dropzone=this.dropzone,Ft.target=this.target,this.dropzone.fire(Ft)}else this.dropzone.fire(new Ee(ot,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Ue,He){for(var ot=0;ot<He.length;ot++){var vt=He[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ue,vt.key,vt)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),Ee}(Wr.BaseEvent);Dr.DropEvent=sn;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=void 0;var Fn={id:"actions/drop",install:function(B){var q=B.actions,te=B.interactStatic,ne=B.Interactable,ve=B.defaults;B.usePlugin(Ti.default),ne.prototype.dropzone=function(Ee){return function(Ue,He){if(Ut.default.object(He)){if(Ue.options.drop.enabled=He.enabled!==!1,He.listeners){var ot=(0,En.default)(He.listeners),vt=Object.keys(ot).reduce(function(Lt,Ft){return Lt[/^(enter|leave)/.test(Ft)?"drag".concat(Ft):/^(activate|deactivate|move)/.test(Ft)?"drop".concat(Ft):Ft]=ot[Ft],Lt},{});Ue.off(Ue.options.drop.listeners),Ue.on(vt),Ue.options.drop.listeners=vt}return Ut.default.func(He.ondrop)&&Ue.on("drop",He.ondrop),Ut.default.func(He.ondropactivate)&&Ue.on("dropactivate",He.ondropactivate),Ut.default.func(He.ondropdeactivate)&&Ue.on("dropdeactivate",He.ondropdeactivate),Ut.default.func(He.ondragenter)&&Ue.on("dragenter",He.ondragenter),Ut.default.func(He.ondragleave)&&Ue.on("dragleave",He.ondragleave),Ut.default.func(He.ondropmove)&&Ue.on("dropmove",He.ondropmove),/^(pointer|center)$/.test(He.overlap)?Ue.options.drop.overlap=He.overlap:Ut.default.number(He.overlap)&&(Ue.options.drop.overlap=Math.max(Math.min(1,He.overlap),0)),"accept"in He&&(Ue.options.drop.accept=He.accept),"checker"in He&&(Ue.options.drop.checker=He.checker),Ue}return Ut.default.bool(He)?(Ue.options.drop.enabled=He,Ue):Ue.options.drop}(this,Ee)},ne.prototype.dropCheck=function(Ee,Ue,He,ot,vt,Lt){return function(Ft,an,Wt,Cn,Bn,On,Nn){var Yn=!1;if(!(Nn=Nn||Ft.getRect(On)))return!!Ft.options.drop.checker&&Ft.options.drop.checker(an,Wt,Yn,Ft,On,Cn,Bn);var cr=Ft.options.drop.overlap;if(cr==="pointer"){var Ar=(0,tn.default)(Cn,Bn,"drag"),Ir=Sn.getPageXY(an);Ir.x+=Ar.x,Ir.y+=Ar.y;var di=Ir.x>Nn.left&&Ir.x<Nn.right,Zr=Ir.y>Nn.top&&Ir.y<Nn.bottom;Yn=di&&Zr}var xr=Cn.getRect(Bn);if(xr&&cr==="center"){var ra=xr.left+xr.width/2,ia=xr.top+xr.height/2;Yn=ra>=Nn.left&&ra<=Nn.right&&ia>=Nn.top&&ia<=Nn.bottom}return xr&&Ut.default.number(cr)&&(Yn=Math.max(0,Math.min(Nn.right,xr.right)-Math.max(Nn.left,xr.left))*Math.max(0,Math.min(Nn.bottom,xr.bottom)-Math.max(Nn.top,xr.top))/(xr.width*xr.height)>=cr),Ft.options.drop.checker&&(Yn=Ft.options.drop.checker(an,Wt,Yn,Ft,On,Cn,Bn)),Yn}(this,Ee,Ue,He,ot,vt,Lt)},te.dynamicDrop=function(Ee){return Ut.default.bool(Ee)?(B.dynamicDrop=Ee,te):B.dynamicDrop},(0,gt.default)(q.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),q.methodDict.drop="dropzone",B.dynamicDrop=!1,ve.actions.drop=Fn.defaults},listeners:{"interactions:before-action-start":function(se){var B=se.interaction;B.prepared.name==="drag"&&(B.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(se,B){var q=se.interaction,te=(se.event,se.iEvent);if(q.prepared.name==="drag"){var ne=q.dropState;ne.activeDrops=null,ne.events=null,ne.activeDrops=D(B,q.element),ne.events=K(q,0,te),ne.events.activate&&(R(ne.activeDrops,ne.events.activate),B.fire("actions/drop:start",{interaction:q,dragEvent:te}))}},"interactions:action-move":F,"interactions:after-action-move":function(se,B){var q=se.interaction,te=se.iEvent;q.prepared.name==="drag"&&(J(q,q.dropState.events),B.fire("actions/drop:move",{interaction:q,dragEvent:te}),q.dropState.events={})},"interactions:action-end":function(se,B){if(se.interaction.prepared.name==="drag"){var q=se.interaction,te=se.iEvent;F(se,B),J(q,q.dropState.events),B.fire("actions/drop:end",{interaction:q,dragEvent:te})}},"interactions:stop":function(se){var B=se.interaction;if(B.prepared.name==="drag"){var q=B.dropState;q&&(q.activeDrops=null,q.events=null,q.cur.dropzone=null,q.cur.element=null,q.prev.dropzone=null,q.prev.element=null,q.rejected=!1)}}},getActiveDrops:D,getDrop:H,getDropEvents:K,fireDropEvents:J,defaults:{enabled:!1,accept:null,overlap:"pointer"}},nr=Fn;cn.default=nr;var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=void 0;var wi={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(B){var q=B.actions,te=B.Interactable,ne=B.defaults;te.prototype.gesturable=function(ve){return Ut.default.object(ve)?(this.options.gesture.enabled=ve.enabled!==!1,this.setPerAction("gesture",ve),this.setOnEvents("gesture",ve),this):Ut.default.bool(ve)?(this.options.gesture.enabled=ve,this):this.options.gesture},q.map.gesture=wi,q.methodDict.gesture="gesturable",ne.actions.gesture=wi.defaults},listeners:{"interactions:action-start":de,"interactions:action-move":de,"interactions:action-end":de,"interactions:new":function(se){se.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(se){if(!(se.interaction.pointers.length<2)){var B=se.interactable.options.gesture;if(B&&B.enabled)return se.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ui=wi;Br.default=Ui;var co={};Object.defineProperty(co,"__esModule",{value:!0}),co.default=void 0;var Vi={id:"actions/resize",before:["actions/drag"],install:function(B){var q=B.actions,te=B.browser,ne=B.Interactable,ve=B.defaults;Vi.cursors=function(Ee){return Ee.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(te),Vi.defaultMargin=te.supportsTouch||te.supportsPointerEvent?20:10,ne.prototype.resizable=function(Ee){return function(Ue,He,ot){return Ut.default.object(He)?(Ue.options.resize.enabled=He.enabled!==!1,Ue.setPerAction("resize",He),Ue.setOnEvents("resize",He),Ut.default.string(He.axis)&&/^x$|^y$|^xy$/.test(He.axis)?Ue.options.resize.axis=He.axis:He.axis===null&&(Ue.options.resize.axis=ot.defaults.actions.resize.axis),Ut.default.bool(He.preserveAspectRatio)?Ue.options.resize.preserveAspectRatio=He.preserveAspectRatio:Ut.default.bool(He.square)&&(Ue.options.resize.square=He.square),Ue):Ut.default.bool(He)?(Ue.options.resize.enabled=He,Ue):Ue.options.resize}(this,Ee,B)},q.map.resize=Vi,q.methodDict.resize="resizable",ve.actions.resize=Vi.defaults},listeners:{"interactions:new":function(se){se.interaction.resizeAxes="xy"},"interactions:action-start":function(se){(function(B){var q=B.iEvent,te=B.interaction;if(te.prepared.name==="resize"&&te.prepared.edges){var ne=q,ve=te.rect;te._rects={start:(0,gt.default)({},ve),corrected:(0,gt.default)({},ve),previous:(0,gt.default)({},ve),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},ne.edges=te.prepared.edges,ne.rect=te._rects.corrected,ne.deltaRect=te._rects.delta}})(se),V(se)},"interactions:action-move":function(se){(function(B){var q=B.iEvent,te=B.interaction;if(te.prepared.name==="resize"&&te.prepared.edges){var ne=q,ve=te.interactable.options.resize.invert,Ee=ve==="reposition"||ve==="negate",Ue=te.rect,He=te._rects,ot=He.start,vt=He.corrected,Lt=He.delta,Ft=He.previous;if((0,gt.default)(Ft,vt),Ee){if((0,gt.default)(vt,Ue),ve==="reposition"){if(vt.top>vt.bottom){var an=vt.top;vt.top=vt.bottom,vt.bottom=an}if(vt.left>vt.right){var Wt=vt.left;vt.left=vt.right,vt.right=Wt}}}else vt.top=Math.min(Ue.top,ot.bottom),vt.bottom=Math.max(Ue.bottom,ot.top),vt.left=Math.min(Ue.left,ot.right),vt.right=Math.max(Ue.right,ot.left);for(var Cn in vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt)Lt[Cn]=vt[Cn]-Ft[Cn];ne.edges=te.prepared.edges,ne.rect=vt,ne.deltaRect=Lt}})(se),V(se)},"interactions:action-end":function(se){var B=se.iEvent,q=se.interaction;if(q.prepared.name==="resize"&&q.prepared.edges){var te=B;te.edges=q.prepared.edges,te.rect=q._rects.corrected,te.deltaRect=q._rects.delta}},"auto-start:check":function(se){var B=se.interaction,q=se.interactable,te=se.element,ne=se.rect,ve=se.buttons;if(ne){var Ee=(0,gt.default)({},B.coords.cur.page),Ue=q.options.resize;if(Ue&&Ue.enabled&&(!B.pointerIsDown||!/mouse|pointer/.test(B.pointerType)||ve&Ue.mouseButtons)){if(Ut.default.object(Ue.edges)){var He={left:!1,right:!1,top:!1,bottom:!1};for(var ot in He)He[ot]=re(ot,Ue.edges[ot],Ee,B._latestPointer.eventTarget,te,ne,Ue.margin||Vi.defaultMargin);He.left=He.left&&!He.right,He.top=He.top&&!He.bottom,(He.left||He.right||He.top||He.bottom)&&(se.action={name:"resize",edges:He})}else{var vt=Ue.axis!=="y"&&Ee.x>ne.right-Vi.defaultMargin,Lt=Ue.axis!=="x"&&Ee.y>ne.bottom-Vi.defaultMargin;(vt||Lt)&&(se.action={name:"resize",axes:(vt?"x":"")+(Lt?"y":"")})}return!se.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(B){var q=B.edges,te=B.axis,ne=B.name,ve=Vi.cursors,Ee=null;if(te)Ee=ve[ne+te];else if(q){for(var Ue="",He=["top","bottom","left","right"],ot=0;ot<He.length;ot++){var vt=He[ot];q[vt]&&(Ue+=vt)}Ee=ve[Ue]}return Ee},defaultMargin:null},To=Vi;co.default=To;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.default=void 0;var Jc={id:"actions",install:function(B){B.usePlugin(Br.default),B.usePlugin(co.default),B.usePlugin(Ti.default),B.usePlugin(cn.default)}};ho.default=Jc;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.default=void 0;var qi,eo,dl=0,Io={request:function(B){return qi(B)},cancel:function(B){return eo(B)},init:function(B){if(qi=B.requestAnimationFrame,eo=B.cancelAnimationFrame,!qi)for(var q=["ms","moz","webkit","o"],te=0;te<q.length;te++){var ne=q[te];qi=B["".concat(ne,"RequestAnimationFrame")],eo=B["".concat(ne,"CancelAnimationFrame")]||B["".concat(ne,"CancelRequestAnimationFrame")]}qi=qi&&qi.bind(B),eo=eo&&eo.bind(B),qi||(qi=function(Ee){var Ue=Date.now(),He=Math.max(0,16-(Ue-dl)),ot=B.setTimeout(function(){Ee(Ue+He)},He);return dl=Ue+He,ot},eo=function(Ee){return clearTimeout(Ee)})}};Wi.default=Io;var fo={};Object.defineProperty(fo,"__esModule",{value:!0}),fo.default=void 0,fo.getContainer=X,fo.getScroll=oe,fo.getScrollSize=function(se){return Ut.default.window(se)&&(se=window.document.body),{x:se.scrollWidth,y:se.scrollHeight}},fo.getScrollSizeDelta=function(se,B){var q=se.interaction,te=se.element,ne=q&&q.interactable.options[q.prepared.name].autoScroll;if(!ne||!ne.enabled)return B(),{x:0,y:0};var ve=X(ne.container,q.interactable,te),Ee=oe(ve);B();var Ue=oe(ve);return{x:Ue.x-Ee.x,y:Ue.y-Ee.y}};var lr={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(B){lr.isScrolling=!0,Wi.default.cancel(lr.i),B.autoScroll=lr,lr.interaction=B,lr.prevTime=lr.now(),lr.i=Wi.default.request(lr.scroll)},stop:function(){lr.isScrolling=!1,lr.interaction&&(lr.interaction.autoScroll=null),Wi.default.cancel(lr.i)},scroll:function(){var B=lr.interaction,q=B.interactable,te=B.element,ne=B.prepared.name,ve=q.options[ne].autoScroll,Ee=X(ve.container,q,te),Ue=lr.now(),He=(Ue-lr.prevTime)/1e3,ot=ve.speed*He;if(ot>=1){var vt={x:lr.x*ot,y:lr.y*ot};if(vt.x||vt.y){var Lt=oe(Ee);Ut.default.window(Ee)?Ee.scrollBy(vt.x,vt.y):Ee&&(Ee.scrollLeft+=vt.x,Ee.scrollTop+=vt.y);var Ft=oe(Ee),an={x:Ft.x-Lt.x,y:Ft.y-Lt.y};(an.x||an.y)&&q.fire({type:"autoscroll",target:te,interactable:q,delta:an,interaction:B,container:Ee})}lr.prevTime=Ue}lr.isScrolling&&(Wi.default.cancel(lr.i),lr.i=Wi.default.request(lr.scroll))},check:function(B,q){var te;return(te=B.options[q].autoScroll)==null?void 0:te.enabled},onInteractionMove:function(B){var q=B.interaction,te=B.pointer;if(q.interacting()&&lr.check(q.interactable,q.prepared.name))if(q.simulation)lr.x=lr.y=0;else{var ne,ve,Ee,Ue,He=q.interactable,ot=q.element,vt=q.prepared.name,Lt=He.options[vt].autoScroll,Ft=X(Lt.container,He,ot);if(Ut.default.window(Ft))Ue=te.clientX<lr.margin,ne=te.clientY<lr.margin,ve=te.clientX>Ft.innerWidth-lr.margin,Ee=te.clientY>Ft.innerHeight-lr.margin;else{var an=ft.getElementClientRect(Ft);Ue=te.clientX<an.left+lr.margin,ne=te.clientY<an.top+lr.margin,ve=te.clientX>an.right-lr.margin,Ee=te.clientY>an.bottom-lr.margin}lr.x=ve?1:Ue?-1:0,lr.y=Ee?1:ne?-1:0,lr.isScrolling||(lr.margin=Lt.margin,lr.speed=Lt.speed,lr.start(q))}}},Au={id:"auto-scroll",install:function(B){var q=B.defaults,te=B.actions;B.autoScroll=lr,lr.now=function(){return B.now()},te.phaselessTypes.autoscroll=!0,q.perAction.autoScroll=lr.defaults},listeners:{"interactions:new":function(se){se.interaction.autoScroll=null},"interactions:destroy":function(se){se.interaction.autoScroll=null,lr.stop(),lr.interaction&&(lr.interaction=null)},"interactions:stop":lr.stop,"interactions:action-move":function(se){return lr.onInteractionMove(se)}}},jr=Au;fo.default=jr;var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.copyAction=function(se,B){return se.name=B.name,se.axis=B.axis,se.edges=B.edges,se},_i.sign=void 0,_i.warnOnce=function(se,B){var q=!1;return function(){return q||(It.window.console.warn(B),q=!0),se.apply(this,arguments)}},_i.sign=function(se){return se>=0?1:-1};var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.default=void 0;var wn={id:"auto-start/interactableMethods",install:function(B){var q=B.Interactable;q.prototype.getAction=function(te,ne,ve,Ee){var Ue=function(He,ot,vt,Lt,Ft){var an=He.getRect(Lt),Wt={action:null,interactable:He,interaction:vt,element:Lt,rect:an,buttons:ot.buttons||{0:1,1:4,3:8,4:16}[ot.button]};return Ft.fire("auto-start:check",Wt),Wt.action}(this,ne,ve,Ee,B);return this.options.actionChecker?this.options.actionChecker(te,ne,Ue,this,Ee,ve):Ue},q.prototype.ignoreFrom=(0,_i.warnOnce)(function(te){return this._backCompatOption("ignoreFrom",te)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),q.prototype.allowFrom=(0,_i.warnOnce)(function(te){return this._backCompatOption("allowFrom",te)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),q.prototype.actionChecker=Y,q.prototype.styleCursor=G}};to.default=wn;var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var k={id:"auto-start/base",before:["actions"],install:function(B){var q=B.interactStatic,te=B.defaults;B.usePlugin(to.default),te.base.actionChecker=null,te.base.styleCursor=!0,(0,gt.default)(te.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),q.maxInteractions=function(ne){return ke(ne,B)},B.autoStart={maxInteractions:1/0,withinInteractionLimit:Le,cursorElement:null}},listeners:{"interactions:down":function(se,B){var q=se.interaction,te=se.pointer,ne=se.event,ve=se.eventTarget;q.interacting()||je(q,ie(q,te,ne,ve,B),B)},"interactions:move":function(se,B){(function(q,te){var ne=q.interaction,ve=q.pointer,Ee=q.event,Ue=q.eventTarget;ne.pointerType!=="mouse"||ne.pointerIsDown||ne.interacting()||je(ne,ie(ne,ve,Ee,Ue,te),te)})(se,B),function(q,te){var ne=q.interaction;if(ne.pointerIsDown&&!ne.interacting()&&ne.pointerWasMoved&&ne.prepared.name){te.fire("autoStart:before-start",q);var ve=ne.interactable,Ee=ne.prepared.name;Ee&&ve&&(ve.options[Ee].manualStart||!Le(ve,ne.element,ne.prepared,te)?ne.stop():(ne.start(ne.prepared,ve,ne.element),Ve(ne,te)))}}(se,B)},"interactions:stop":function(se,B){var q=se.interaction,te=q.interactable;te&&te.options.styleCursor&&Ze(q.element,"",B)}},maxInteractions:ke,withinInteractionLimit:Le,validateAction:Z},O=k;z.default=O;var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var M={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(se,B){var q=se.interaction,te=se.eventTarget,ne=se.dx,ve=se.dy;if(q.prepared.name==="drag"){var Ee=Math.abs(ne),Ue=Math.abs(ve),He=q.interactable.options.drag,ot=He.startAxis,vt=Ee>Ue?"x":Ee<Ue?"y":"xy";if(q.prepared.axis=He.lockAxis==="start"?vt[0]:He.lockAxis,vt!=="xy"&&ot!=="xy"&&ot!==vt){q.prepared.name=null;for(var Lt=te,Ft=function(Cn){if(Cn!==q.interactable){var Bn=q.interactable.options.drag;if(!Bn.manualStart&&Cn.testIgnoreAllow(Bn,Lt,te)){var On=Cn.getAction(q.downPointer,q.downEvent,q,Lt);if(On&&On.name==="drag"&&function(Nn,Yn){if(!Yn)return!1;var cr=Yn.options.drag.startAxis;return Nn==="xy"||cr==="xy"||cr===Nn}(vt,Cn)&&z.default.validateAction(On,Cn,Lt,te,B))return Cn}}};Ut.default.element(Lt);){var an=B.interactables.forEachMatch(Lt,Ft);if(an){q.prepared.name="drag",q.interactable=an,q.element=Lt;break}Lt=(0,ft.parentNode)(Lt)}}}}}};I.default=M;var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var U={id:"auto-start/hold",install:function(B){var q=B.defaults;B.usePlugin(z.default),q.perAction.hold=0,q.perAction.delay=0},listeners:{"interactions:new":function(se){se.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(se){var B=se.interaction,q=Xe(B);q>0&&(B.autoStartHoldTimer=setTimeout(function(){B.start(B.prepared,B.interactable,B.element)},q))},"interactions:move":function(se){var B=se.interaction,q=se.duplicate;B.autoStartHoldTimer&&B.pointerWasMoved&&!q&&(clearTimeout(B.autoStartHoldTimer),B.autoStartHoldTimer=null)},"autoStart:before-start":function(se){var B=se.interaction;Xe(B)>0&&(B.prepared.name=null)}},getHoldDuration:Xe},le=U;W.default=le;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var we={id:"auto-start",install:function(B){B.usePlugin(z.default),B.usePlugin(W.default),B.usePlugin(I.default)}};Oe.default=we;var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0,lt.install=pt;var St={id:"core/interactablePreventDefault",install:pt,listeners:["down","move","up","cancel"].reduce(function(se,B){return se["interactions:".concat(B)]=yt,se},{})};lt.default=St;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0,zt.default={};var Vt,jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0,function(se){se.touchAction="touchAction",se.boxSizing="boxSizing",se.noListeners="noListeners"}(Vt||(Vt={})),Vt.touchAction,Vt.boxSizing,Vt.noListeners,jt.default={id:"dev-tools",install:function(){}};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=function se(B){var q={};for(var te in B){var ne=B[te];Ut.default.plainObject(ne)?q[te]=se(ne):Ut.default.array(ne)?q[te]=mr.from(ne):q[te]=ne}return q};var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.default=void 0,ln.getRectOffset=Ye;var yn=function(){function se(te){(function(ne,ve){if(!_instanceof(ne,ve))throw new TypeError("Cannot call a class as a function")})(this,se),Ne(this,"states",[]),Ne(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Ne(this,"startDelta",void 0),Ne(this,"result",void 0),Ne(this,"endResult",void 0),Ne(this,"startEdges",void 0),Ne(this,"edges",void 0),Ne(this,"interaction",void 0),this.interaction=te,this.result=Je(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var B,q;return B=se,(q=[{key:"start",value:function(ne,ve){var Ee=ne.phase,Ue=this.interaction,He=function(vt){var Lt=vt.interactable.options[vt.prepared.name],Ft=Lt.modifiers;return Ft&&Ft.length?Ft:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(an){var Wt=Lt[an];return Wt&&Wt.enabled&&{options:Wt,methods:Wt._methods}}).filter(function(an){return!!an})}(Ue);this.prepareStates(He),this.startEdges=(0,gt.default)({},Ue.edges),this.edges=(0,gt.default)({},this.startEdges),this.startOffset=Ye(Ue.rect,ve),this.startDelta={x:0,y:0};var ot=this.fillArg({phase:Ee,pageCoords:ve,preEnd:!1});return this.result=Je(),this.startAll(ot),this.result=this.setAll(ot)}},{key:"fillArg",value:function(ne){var ve=this.interaction;return ne.interaction=ve,ne.interactable=ve.interactable,ne.element=ve.element,ne.rect||(ne.rect=ve.rect),ne.edges||(ne.edges=this.startEdges),ne.startOffset=this.startOffset,ne}},{key:"startAll",value:function(ne){for(var ve=0;ve<this.states.length;ve++){var Ee=this.states[ve];Ee.methods.start&&(ne.state=Ee,Ee.methods.start(ne))}}},{key:"setAll",value:function(ne){var ve=ne.phase,Ee=ne.preEnd,Ue=ne.skipModifiers,He=ne.rect,ot=ne.edges;ne.coords=(0,gt.default)({},ne.pageCoords),ne.rect=(0,gt.default)({},He),ne.edges=(0,gt.default)({},ot);for(var vt=Ue?this.states.slice(Ue):this.states,Lt=Je(ne.coords,ne.rect),Ft=0;Ft<vt.length;Ft++){var an,Wt=vt[Ft],Cn=Wt.options,Bn=(0,gt.default)({},ne.coords),On=null;(an=Wt.methods)!=null&&an.set&&this.shouldDo(Cn,Ee,ve)&&(ne.state=Wt,On=Wt.methods.set(ne),en.addEdges(ne.edges,ne.rect,{x:ne.coords.x-Bn.x,y:ne.coords.y-Bn.y})),Lt.eventProps.push(On)}(0,gt.default)(this.edges,ne.edges),Lt.delta.x=ne.coords.x-ne.pageCoords.x,Lt.delta.y=ne.coords.y-ne.pageCoords.y,Lt.rectDelta.left=ne.rect.left-He.left,Lt.rectDelta.right=ne.rect.right-He.right,Lt.rectDelta.top=ne.rect.top-He.top,Lt.rectDelta.bottom=ne.rect.bottom-He.bottom;var Nn=this.result.coords,Yn=this.result.rect;if(Nn&&Yn){var cr=Lt.rect.left!==Yn.left||Lt.rect.right!==Yn.right||Lt.rect.top!==Yn.top||Lt.rect.bottom!==Yn.bottom;Lt.changed=cr||Nn.x!==Lt.coords.x||Nn.y!==Lt.coords.y}return Lt}},{key:"applyToInteraction",value:function(ne){var ve=this.interaction,Ee=ne.phase,Ue=ve.coords.cur,He=ve.coords.start,ot=this.result,vt=this.startDelta,Lt=ot.delta;Ee==="start"&&(0,gt.default)(this.startDelta,ot.delta);for(var Ft=0;Ft<2;Ft++){var an=Re([[He,vt],[Ue,Lt]][Ft],2),Wt=an[0],Cn=an[1];Wt.page.x+=Cn.x,Wt.page.y+=Cn.y,Wt.client.x+=Cn.x,Wt.client.y+=Cn.y}var Bn=this.result.rectDelta,On=ne.rect||ve.rect;On.left+=Bn.left,On.right+=Bn.right,On.top+=Bn.top,On.bottom+=Bn.bottom,On.width=On.right-On.left,On.height=On.bottom-On.top}},{key:"setAndApply",value:function(ne){var ve=this.interaction,Ee=ne.phase,Ue=ne.preEnd,He=ne.skipModifiers,ot=this.setAll(this.fillArg({preEnd:Ue,phase:Ee,pageCoords:ne.modifiedCoords||ve.coords.cur.page}));if(this.result=ot,!ot.changed&&(!He||He<this.states.length)&&ve.interacting())return!1;if(ne.modifiedCoords){var vt=ve.coords.cur.page,Lt={x:ne.modifiedCoords.x-vt.x,y:ne.modifiedCoords.y-vt.y};ot.coords.x+=Lt.x,ot.coords.y+=Lt.y,ot.delta.x+=Lt.x,ot.delta.y+=Lt.y}this.applyToInteraction(ne)}},{key:"beforeEnd",value:function(ne){var ve=ne.interaction,Ee=ne.event,Ue=this.states;if(Ue&&Ue.length){for(var He=!1,ot=0;ot<Ue.length;ot++){var vt=Ue[ot];ne.state=vt;var Lt=vt.options,Ft=vt.methods,an=Ft.beforeEnd&&Ft.beforeEnd(ne);if(an)return this.endResult=an,!1;He=He||!He&&this.shouldDo(Lt,!0,ne.phase,!0)}He&&ve.move({event:Ee,preEnd:!0})}}},{key:"stop",value:function(ne){var ve=ne.interaction;if(this.states&&this.states.length){var Ee=(0,gt.default)({states:this.states,interactable:ve.interactable,element:ve.element,rect:null},ne);this.fillArg(Ee);for(var Ue=0;Ue<this.states.length;Ue++){var He=this.states[Ue];Ee.state=He,He.methods.stop&&He.methods.stop(Ee)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(ne){this.states=[];for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve],Ue=Ee.options,He=Ee.methods,ot=Ee.name;this.states.push({options:Ue,methods:He,index:ve,name:ot})}return this.states}},{key:"restoreInteractionCoords",value:function(ne){var ve=ne.interaction,Ee=ve.coords,Ue=ve.rect,He=ve.modification;if(He.result){for(var ot=He.startDelta,vt=He.result,Lt=vt.delta,Ft=vt.rectDelta,an=[[Ee.start,ot],[Ee.cur,Lt]],Wt=0;Wt<an.length;Wt++){var Cn=Re(an[Wt],2),Bn=Cn[0],On=Cn[1];Bn.page.x-=On.x,Bn.page.y-=On.y,Bn.client.x-=On.x,Bn.client.y-=On.y}Ue.left-=Ft.left,Ue.right-=Ft.right,Ue.top-=Ft.top,Ue.bottom-=Ft.bottom}}},{key:"shouldDo",value:function(ne,ve,Ee,Ue){return!(!ne||ne.enabled===!1||Ue&&!ne.endOnly||ne.endOnly&&!ve||Ee==="start"&&!ne.setStart)}},{key:"copyFrom",value:function(ne){this.startOffset=ne.startOffset,this.startDelta=ne.startDelta,this.startEdges=ne.startEdges,this.edges=ne.edges,this.states=ne.states.map(function(ve){return(0,fn.default)(ve)}),this.result=Je((0,gt.default)({},ne.result.coords),(0,gt.default)({},ne.result.rect))}},{key:"destroy",value:function(){for(var ne in this)this[ne]=null}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();ln.default=yn;var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.addEventModifiers=Te,qn.default=void 0,qn.makeModifier=function(se,B){var q=se.defaults,te={start:se.start,set:se.set,beforeEnd:se.beforeEnd,stop:se.stop},ne=function(Ee){var Ue=Ee||{};for(var He in Ue.enabled=Ue.enabled!==!1,q)He in Ue||(Ue[He]=q[He]);var ot={options:Ue,methods:te,name:B,enable:function(){return Ue.enabled=!0,ot},disable:function(){return Ue.enabled=!1,ot}};return ot};return B&&typeof B=="string"&&(ne._defaults=q,ne._methods=te),ne};var kn={id:"modifiers/base",before:["actions"],install:function(B){B.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(se){var B=se.interaction;B.modification=new ln.default(B)},"interactions:before-action-start":function(se){var B=se.interaction,q=se.interaction.modification;q.start(se,B.coords.start.page),B.edges=q.edges,q.applyToInteraction(se)},"interactions:before-action-move":function(se){var B=se.interaction,q=B.modification,te=q.setAndApply(se);return B.edges=q.edges,te},"interactions:before-action-end":function(se){var B=se.interaction,q=B.modification,te=q.beforeEnd(se);return B.edges=q.startEdges,te},"interactions:action-start":Te,"interactions:action-move":Te,"interactions:action-end":Te,"interactions:after-action-start":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:after-action-move":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:stop":function(se){return se.interaction.modification.stop(se)}}},zn=kn;qn.default=zn;var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.defaults=void 0,jn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Zn={};function Pn(se){return Pn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Pn(se)}function ar(se,B){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},ar(se,B)}function Hn(se){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},Hn(se)}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.InteractEvent=void 0;var ir=function(se){(function(Ue,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(He&&He.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),He&&ar(Ue,He)})(Ee,se);var B,q,te,ne,ve=(te=Ee,ne=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var He,ot=Hn(te);if(ne){var vt=Hn(this).constructor;He=Reflect.construct(ot,arguments,vt)}else He=ot.apply(this,arguments);return function(Lt,Ft){if(Ft&&(Pn(Ft)==="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(Lt)}(this,He)});function Ee(Ue,He,ot,vt,Lt,Ft,an){var Wt;(function(Ir,di){if(!_instanceof(Ir,di))throw new TypeError("Cannot call a class as a function")})(this,Ee),ht(rt(Wt=ve.call(this,Ue)),"relatedTarget",null),ht(rt(Wt),"screenX",void 0),ht(rt(Wt),"screenY",void 0),ht(rt(Wt),"button",void 0),ht(rt(Wt),"buttons",void 0),ht(rt(Wt),"ctrlKey",void 0),ht(rt(Wt),"shiftKey",void 0),ht(rt(Wt),"altKey",void 0),ht(rt(Wt),"metaKey",void 0),ht(rt(Wt),"page",void 0),ht(rt(Wt),"client",void 0),ht(rt(Wt),"delta",void 0),ht(rt(Wt),"rect",void 0),ht(rt(Wt),"x0",void 0),ht(rt(Wt),"y0",void 0),ht(rt(Wt),"t0",void 0),ht(rt(Wt),"dt",void 0),ht(rt(Wt),"duration",void 0),ht(rt(Wt),"clientX0",void 0),ht(rt(Wt),"clientY0",void 0),ht(rt(Wt),"velocity",void 0),ht(rt(Wt),"speed",void 0),ht(rt(Wt),"swipe",void 0),ht(rt(Wt),"axes",void 0),ht(rt(Wt),"preEnd",void 0),Lt=Lt||Ue.element;var Cn=Ue.interactable,Bn=(Cn&&Cn.options||jn.defaults).deltaSource,On=(0,tn.default)(Cn,Lt,ot),Nn=vt==="start",Yn=vt==="end",cr=Nn?rt(Wt):Ue.prevEvent,Ar=Nn?Ue.coords.start:Yn?{page:cr.page,client:cr.client,timeStamp:Ue.coords.cur.timeStamp}:Ue.coords.cur;return Wt.page=(0,gt.default)({},Ar.page),Wt.client=(0,gt.default)({},Ar.client),Wt.rect=(0,gt.default)({},Ue.rect),Wt.timeStamp=Ar.timeStamp,Yn||(Wt.page.x-=On.x,Wt.page.y-=On.y,Wt.client.x-=On.x,Wt.client.y-=On.y),Wt.ctrlKey=He.ctrlKey,Wt.altKey=He.altKey,Wt.shiftKey=He.shiftKey,Wt.metaKey=He.metaKey,Wt.button=He.button,Wt.buttons=He.buttons,Wt.target=Lt,Wt.currentTarget=Lt,Wt.preEnd=Ft,Wt.type=an||ot+(vt||""),Wt.interactable=Cn,Wt.t0=Nn?Ue.pointers[Ue.pointers.length-1].downTime:cr.t0,Wt.x0=Ue.coords.start.page.x-On.x,Wt.y0=Ue.coords.start.page.y-On.y,Wt.clientX0=Ue.coords.start.client.x-On.x,Wt.clientY0=Ue.coords.start.client.y-On.y,Wt.delta=Nn||Yn?{x:0,y:0}:{x:Wt[Bn].x-cr[Bn].x,y:Wt[Bn].y-cr[Bn].y},Wt.dt=Ue.coords.delta.timeStamp,Wt.duration=Wt.timeStamp-Wt.t0,Wt.velocity=(0,gt.default)({},Ue.coords.velocity[Bn]),Wt.speed=(0,Gn.default)(Wt.velocity.x,Wt.velocity.y),Wt.swipe=Yn||vt==="inertiastart"?Wt.getSwipe():null,Wt}return B=Ee,(q=[{key:"getSwipe",value:function(){var He=this._interaction;if(He.prevEvent.speed<600||this.timeStamp-He.prevEvent.timeStamp>150)return null;var ot=180*Math.atan2(He.prevEvent.velocityY,He.prevEvent.velocityX)/Math.PI;ot<0&&(ot+=360);var vt=112.5<=ot&&ot<247.5,Lt=202.5<=ot&&ot<337.5;return{up:Lt,down:!Lt&&22.5<=ot&&ot<157.5,left:vt,right:!vt&&(292.5<=ot||ot<67.5),angle:ot,speed:He.prevEvent.speed,velocity:{x:He.prevEvent.velocityX,y:He.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Ue,He){for(var ot=0;ot<He.length;ot++){var vt=He[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ue,vt.key,vt)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),Ee}(Wr.BaseEvent);Zn.InteractEvent=ir,Object.defineProperties(ir.prototype,{pageX:{get:function(){return this.page.x},set:function(B){this.page.x=B}},pageY:{get:function(){return this.page.y},set:function(B){this.page.y=B}},clientX:{get:function(){return this.client.x},set:function(B){this.client.x=B}},clientY:{get:function(){return this.client.y},set:function(B){this.client.y=B}},dx:{get:function(){return this.delta.x},set:function(B){this.delta.x=B}},dy:{get:function(){return this.delta.y},set:function(B){this.delta.y=B}},velocityX:{get:function(){return this.velocity.x},set:function(B){this.velocity.x=B}},velocityY:{get:function(){return this.velocity.y},set:function(B){this.velocity.y=B}}});var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.PointerInfo=void 0;var yr=function(se,B,q){return B&&at(se.prototype,B),q&&at(se,q),Object.defineProperty(se,"prototype",{writable:!1}),se}(function se(B,q,te,ne,ve){(function(Ee,Ue){if(!_instanceof(Ee,Ue))throw new TypeError("Cannot call a class as a function")})(this,se),ut(this,"id",void 0),ut(this,"pointer",void 0),ut(this,"event",void 0),ut(this,"downTime",void 0),ut(this,"downTarget",void 0),this.id=B,this.pointer=q,this.event=te,this.downTime=ne,this.downTarget=ve});or.PointerInfo=yr;var tr,Kn,In={};Object.defineProperty(In,"__esModule",{value:!0}),In.Interaction=void 0,Object.defineProperty(In,"PointerInfo",{enumerable:!0,get:function(){return or.PointerInfo}}),In.default=In._ProxyValues=In._ProxyMethods=void 0,In._ProxyValues=tr,function(se){se.interactable="",se.element="",se.prepared="",se.pointerIsDown="",se.pointerWasMoved="",se._proxy=""}(tr||(In._ProxyValues=tr={})),In._ProxyMethods=Kn,function(se){se.start="",se.move="",se.end="",se.stop="",se.interacting=""}(Kn||(In._ProxyMethods=Kn={}));var $e=0,ge=function(){function se(te){var ne=this,ve=te.pointerType,Ee=te.scopeFire;(function(Ft,an){if(!_instanceof(Ft,an))throw new TypeError("Cannot call a class as a function")})(this,se),qe(this,"interactable",null),qe(this,"element",null),qe(this,"rect",null),qe(this,"_rects",void 0),qe(this,"edges",null),qe(this,"_scopeFire",void 0),qe(this,"prepared",{name:null,axis:null,edges:null}),qe(this,"pointerType",void 0),qe(this,"pointers",[]),qe(this,"downEvent",null),qe(this,"downPointer",{}),qe(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),qe(this,"prevEvent",null),qe(this,"pointerIsDown",!1),qe(this,"pointerWasMoved",!1),qe(this,"_interacting",!1),qe(this,"_ending",!1),qe(this,"_stopped",!0),qe(this,"_proxy",null),qe(this,"simulation",null),qe(this,"doMove",(0,_i.warnOnce)(function(Ft){this.move(Ft)},"The interaction.doMove() method has been renamed to interaction.move()")),qe(this,"coords",{start:Sn.newCoords(),prev:Sn.newCoords(),cur:Sn.newCoords(),delta:Sn.newCoords(),velocity:Sn.newCoords()}),qe(this,"_id",$e++),this._scopeFire=Ee,this.pointerType=ve;var Ue=this;this._proxy={};var He=function(an){Object.defineProperty(ne._proxy,an,{get:function(){return Ue[an]}})};for(var ot in tr)He(ot);var vt=function(an){Object.defineProperty(ne._proxy,an,{value:function(){return Ue[an].apply(Ue,arguments)}})};for(var Lt in Kn)vt(Lt);this._scopeFire("interactions:new",{interaction:this})}var B,q;return B=se,q=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(ne,ve,Ee){var Ue=this.updatePointer(ne,ve,Ee,!0),He=this.pointers[Ue];this._scopeFire("interactions:down",{pointer:ne,event:ve,eventTarget:Ee,pointerIndex:Ue,pointerInfo:He,type:"down",interaction:this})}},{key:"start",value:function(ne,ve,Ee){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(ne.name==="gesture"?2:1)||!ve.options[ne.name].enabled)&&((0,_i.copyAction)(this.prepared,ne),this.interactable=ve,this.element=Ee,this.rect=ve.getRect(Ee),this.edges=this.prepared.edges?(0,gt.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(ne,ve,Ee){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(ne,ve,Ee,!1);var Ue,He,ot=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Ue=this.coords.cur.client.x-this.coords.start.client.x,He=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Gn.default)(Ue,He)>this.pointerMoveTolerance);var vt=this.getPointerIndex(ne),Lt={pointer:ne,pointerIndex:vt,pointerInfo:this.pointers[vt],event:ve,type:"move",eventTarget:Ee,dx:Ue,dy:He,duplicate:ot,interaction:this};ot||Sn.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",Lt),ot||this.simulation||(this.interacting()&&(Lt.type=null,this.move(Lt)),this.pointerWasMoved&&Sn.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(ne){ne&&ne.event||Sn.setZeroCoords(this.coords.delta),(ne=(0,gt.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},ne||{})).phase="move",this._doPhase(ne)}},{key:"pointerUp",value:function(ne,ve,Ee,Ue){var He=this.getPointerIndex(ne);He===-1&&(He=this.updatePointer(ne,ve,Ee,!1));var ot=/cancel$/i.test(ve.type)?"cancel":"up";this._scopeFire("interactions:".concat(ot),{pointer:ne,pointerIndex:He,pointerInfo:this.pointers[He],event:ve,eventTarget:Ee,type:ot,curEventTarget:Ue,interaction:this}),this.simulation||this.end(ve),this.removePointer(ne,ve)}},{key:"documentBlur",value:function(ne){this.end(ne),this._scopeFire("interactions:blur",{event:ne,type:"blur",interaction:this})}},{key:"end",value:function(ne){var ve;this._ending=!0,ne=ne||this._latestPointer.event,this.interacting()&&(ve=this._doPhase({event:ne,interaction:this,phase:"end"})),this._ending=!1,ve===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(ne){var ve=Sn.getPointerId(ne);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:mr.findIndex(this.pointers,function(Ee){return Ee.id===ve})}},{key:"getPointerInfo",value:function(ne){return this.pointers[this.getPointerIndex(ne)]}},{key:"updatePointer",value:function(ne,ve,Ee,Ue){var He=Sn.getPointerId(ne),ot=this.getPointerIndex(ne),vt=this.pointers[ot];return Ue=Ue!==!1&&(Ue||/(down|start)$/i.test(ve.type)),vt?vt.pointer=ne:(vt=new or.PointerInfo(He,ne,ve,null,null),ot=this.pointers.length,this.pointers.push(vt)),Sn.setCoords(this.coords.cur,this.pointers.map(function(Lt){return Lt.pointer}),this._now()),Sn.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Ue&&(this.pointerIsDown=!0,vt.downTime=this.coords.cur.timeStamp,vt.downTarget=Ee,Sn.pointerExtend(this.downPointer,ne),this.interacting()||(Sn.copyCoords(this.coords.start,this.coords.cur),Sn.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=ve,this.pointerWasMoved=!1)),this._updateLatestPointer(ne,ve,Ee),this._scopeFire("interactions:update-pointer",{pointer:ne,event:ve,eventTarget:Ee,down:Ue,pointerInfo:vt,pointerIndex:ot,interaction:this}),ot}},{key:"removePointer",value:function(ne,ve){var Ee=this.getPointerIndex(ne);if(Ee!==-1){var Ue=this.pointers[Ee];this._scopeFire("interactions:remove-pointer",{pointer:ne,event:ve,eventTarget:null,pointerIndex:Ee,pointerInfo:Ue,interaction:this}),this.pointers.splice(Ee,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(ne,ve,Ee){this._latestPointer.pointer=ne,this._latestPointer.event=ve,this._latestPointer.eventTarget=Ee}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(ne,ve,Ee,Ue){return new Zn.InteractEvent(this,ne,this.prepared.name,ve,this.element,Ee,Ue)}},{key:"_fireEvent",value:function(ne){var ve;(ve=this.interactable)==null||ve.fire(ne),(!this.prevEvent||ne.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=ne)}},{key:"_doPhase",value:function(ne){var ve=ne.event,Ee=ne.phase,Ue=ne.preEnd,He=ne.type,ot=this.rect;if(ot&&Ee==="move"&&(en.addEdges(this.edges,ot,this.coords.delta[this.interactable.options.deltaSource]),ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top),this._scopeFire("interactions:before-action-".concat(Ee),ne)===!1)return!1;var vt=ne.iEvent=this._createPreparedEvent(ve,Ee,Ue,He);return this._scopeFire("interactions:action-".concat(Ee),ne),Ee==="start"&&(this.prevEvent=vt),this._fireEvent(vt),this._scopeFire("interactions:after-action-".concat(Ee),ne),!0}},{key:"_now",value:function(){return Date.now()}}],q&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();In.Interaction=ge;var Pe=ge;In.default=Pe;var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.addTotal=ze,mt.applyPending=tt,mt.default=void 0,In._ProxyMethods.offsetBy="";var Ct={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(B){B.Interaction.prototype.offsetBy=nt},listeners:{"interactions:new":function(se){se.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(se){return ze(se.interaction)},"interactions:before-action-start":Fe,"interactions:before-action-move":Fe,"interactions:before-action-end":function(se){var B=se.interaction;if(tt(B))return B.move({offset:!0}),B.end(),!1},"interactions:stop":function(se){var B=se.interaction;B.offset.total.x=0,B.offset.total.y=0,B.offset.pending.x=0,B.offset.pending.y=0}}},kt=Ct;mt.default=kt;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=Gt.InertiaState=void 0;var vn=function(){function se(te){(function(ne,ve){if(!_instanceof(ne,ve))throw new TypeError("Cannot call a class as a function")})(this,se),wt(this,"active",!1),wt(this,"isModified",!1),wt(this,"smoothEnd",!1),wt(this,"allowResume",!1),wt(this,"modification",void 0),wt(this,"modifierCount",0),wt(this,"modifierArg",void 0),wt(this,"startCoords",void 0),wt(this,"t0",0),wt(this,"v0",0),wt(this,"te",0),wt(this,"targetOffset",void 0),wt(this,"modifiedOffset",void 0),wt(this,"currentOffset",void 0),wt(this,"lambda_v0",0),wt(this,"one_ve_v0",0),wt(this,"timeout",void 0),wt(this,"interaction",void 0),this.interaction=te}var B,q;return B=se,(q=[{key:"start",value:function(ne){var ve=this.interaction,Ee=_t(ve);if(!Ee||!Ee.enabled)return!1;var Ue=ve.coords.velocity.client,He=(0,Gn.default)(Ue.x,Ue.y),ot=this.modification||(this.modification=new ln.default(ve));if(ot.copyFrom(ve.modification),this.t0=ve._now(),this.allowResume=Ee.allowResume,this.v0=He,this.currentOffset={x:0,y:0},this.startCoords=ve.coords.cur.page,this.modifierArg=ot.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-ve.coords.cur.timeStamp<50&&He>Ee.minSpeed&&He>Ee.endSpeed)this.startInertia();else{if(ot.result=ot.setAll(this.modifierArg),!ot.result.changed)return!1;this.startSmoothEnd()}return ve.modification.result.rect=null,ve.offsetBy(this.targetOffset),ve._doPhase({interaction:ve,event:ne,phase:"inertiastart"}),ve.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),ve.modification.result.rect=null,this.active=!0,ve.simulation=this,!0}},{key:"startInertia",value:function(){var ne=this,ve=this.interaction.coords.velocity.client,Ee=_t(this.interaction),Ue=Ee.resistance,He=-Math.log(Ee.endSpeed/this.v0)/Ue;this.targetOffset={x:(ve.x-He)/Ue,y:(ve.y-He)/Ue},this.te=He,this.lambda_v0=Ue/this.v0,this.one_ve_v0=1-Ee.endSpeed/this.v0;var ot=this.modification,vt=this.modifierArg;vt.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ot.result=ot.setAll(vt),ot.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ot.result.delta.x,y:this.targetOffset.y+ot.result.delta.y}),this.onNextFrame(function(){return ne.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var ne=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return ne.smoothEndTick()})}},{key:"onNextFrame",value:function(ne){var ve=this;this.timeout=Wi.default.request(function(){ve.active&&ne()})}},{key:"inertiaTick",value:function(){var ne,ve,Ee,Ue,He,ot=this,vt=this.interaction,Lt=_t(vt).resistance,Ft=(vt._now()-this.t0)/1e3;if(Ft<this.te){var an,Wt=1-(Math.exp(-Lt*Ft)-this.lambda_v0)/this.one_ve_v0;this.isModified?(ne=this.targetOffset.x,ve=this.targetOffset.y,Ee=this.modifiedOffset.x,Ue=this.modifiedOffset.y,an={x:st(He=Wt,0,ne,Ee),y:st(He,0,ve,Ue)}):an={x:this.targetOffset.x*Wt,y:this.targetOffset.y*Wt};var Cn={x:an.x-this.currentOffset.x,y:an.y-this.currentOffset.y};this.currentOffset.x+=Cn.x,this.currentOffset.y+=Cn.y,vt.offsetBy(Cn),vt.move(),this.onNextFrame(function(){return ot.inertiaTick()})}else vt.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var ne=this,ve=this.interaction,Ee=ve._now()-this.t0,Ue=_t(ve).smoothEndDuration;if(Ee<Ue){var He={x:ye(Ee,0,this.targetOffset.x,Ue),y:ye(Ee,0,this.targetOffset.y,Ue)},ot={x:He.x-this.currentOffset.x,y:He.y-this.currentOffset.y};this.currentOffset.x+=ot.x,this.currentOffset.y+=ot.y,ve.offsetBy(ot),ve.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return ne.smoothEndTick()})}else ve.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(ne){var ve=ne.pointer,Ee=ne.event,Ue=ne.eventTarget,He=this.interaction;He.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),He.updatePointer(ve,Ee,Ue,!0),He._doPhase({interaction:He,event:Ee,phase:"resume"}),(0,Sn.copyCoords)(He.coords.prev,He.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Wi.default.cancel(this.timeout)}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();Gt.InertiaState=vn;var An={id:"inertia",before:["modifiers","actions"],install:function(B){var q=B.defaults;B.usePlugin(mt.default),B.usePlugin(qn.default),B.actions.phases.inertiastart=!0,B.actions.phases.resume=!0,q.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(se){var B=se.interaction;B.inertia=new vn(B)},"interactions:before-action-end":function(se){var B=se.interaction,q=se.event;return(!B._interacting||B.simulation||!B.inertia.start(q))&&null},"interactions:down":function(se){var B=se.interaction,q=se.eventTarget,te=B.inertia;if(te.active)for(var ne=q;Ut.default.element(ne);){if(ne===B.element){te.resume(se);break}ne=ft.parentNode(ne)}},"interactions:stop":function(se){var B=se.interaction.inertia;B.active&&B.stop()},"interactions:before-action-resume":function(se){var B=se.interaction.modification;B.stop(se),B.start(se,se.interaction.coords.cur.page),B.applyToInteraction(se)},"interactions:before-action-inertiastart":function(se){return se.interaction.modification.setAndApply(se)},"interactions:action-resume":qn.addEventModifiers,"interactions:action-inertiastart":qn.addEventModifiers,"interactions:after-action-inertiastart":function(se){return se.interaction.modification.restoreInteractionCoords(se)},"interactions:after-action-resume":function(se){return se.interaction.modification.restoreInteractionCoords(se)}}},dr=An;Gt.default=dr;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Eventable=void 0;var ur=function(){function se(te){(function(ne,ve){if(!_instanceof(ne,ve))throw new TypeError("Cannot call a class as a function")})(this,se),N(this,"options",void 0),N(this,"types",{}),N(this,"propagationStopped",!1),N(this,"immediatePropagationStopped",!1),N(this,"global",void 0),this.options=(0,gt.default)({},te||{})}var B,q;return B=se,(q=[{key:"fire",value:function(ne){var ve,Ee=this.global;(ve=this.types[ne.type])&&We(ne,ve),!ne.propagationStopped&&Ee&&(ve=Ee[ne.type])&&We(ne,ve)}},{key:"on",value:function(ne,ve){var Ee=(0,En.default)(ne,ve);for(ne in Ee)this.types[ne]=mr.merge(this.types[ne]||[],Ee[ne])}},{key:"off",value:function(ne,ve){var Ee=(0,En.default)(ne,ve);for(ne in Ee){var Ue=this.types[ne];if(Ue&&Ue.length)for(var He=0;He<Ee[ne].length;He++){var ot=Ee[ne][He],vt=Ue.indexOf(ot);vt!==-1&&Ue.splice(vt,1)}}}},{key:"getRect",value:function(ne){return null}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();Jn.Eventable=ur;var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=function(se,B){if(B.phaselessTypes[se])return!0;for(var q in B.map)if(se.indexOf(q)===0&&se.substr(q.length)in B.phases)return!0;return!1};var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.createInteractStatic=function(se){var B=function q(te,ne){var ve=se.interactables.get(te,ne);return ve||((ve=se.interactables.new(te,ne)).events.global=q.globalEvents),ve};return B.getPointerAverage=Sn.pointerAverage,B.getTouchBBox=Sn.touchBBox,B.getTouchDistance=Sn.touchDistance,B.getTouchAngle=Sn.touchAngle,B.getElementRect=ft.getElementRect,B.getElementClientRect=ft.getElementClientRect,B.matchesSelector=ft.matchesSelector,B.closest=ft.closest,B.globalEvents={},B.version="1.10.18",B.scope=se,B.use=function(q,te){return this.scope.usePlugin(q,te),this},B.isSet=function(q,te){return!!this.scope.interactables.get(q,te&&te.context)},B.on=(0,_i.warnOnce)(function(q,te,ne){if(Ut.default.string(q)&&q.search(" ")!==-1&&(q=q.trim().split(/ +/)),Ut.default.array(q)){for(var ve=0;ve<q.length;ve++){var Ee=q[ve];this.on(Ee,te,ne)}return this}if(Ut.default.object(q)){for(var Ue in q)this.on(Ue,q[Ue],te);return this}return(0,_o.default)(q,this.scope.actions)?this.globalEvents[q]?this.globalEvents[q].push(te):this.globalEvents[q]=[te]:this.scope.events.add(this.scope.document,q,te,{options:ne}),this},"The interact.on() method is being deprecated"),B.off=(0,_i.warnOnce)(function(q,te,ne){if(Ut.default.string(q)&&q.search(" ")!==-1&&(q=q.trim().split(/ +/)),Ut.default.array(q)){for(var ve=0;ve<q.length;ve++){var Ee=q[ve];this.off(Ee,te,ne)}return this}if(Ut.default.object(q)){for(var Ue in q)this.off(Ue,q[Ue],te);return this}var He;return(0,_o.default)(q,this.scope.actions)?q in this.globalEvents&&(He=this.globalEvents[q].indexOf(te))!==-1&&this.globalEvents[q].splice(He,1):this.scope.events.remove(this.scope.document,q,te,ne),this},"The interact.off() method is being deprecated"),B.debug=function(){return this.scope},B.supportsTouch=function(){return Vr.default.supportsTouch},B.supportsPointerEvent=function(){return Vr.default.supportsPointerEvent},B.stop=function(){for(var q=0;q<this.scope.interactions.list.length;q++)this.scope.interactions.list[q].stop();return this},B.pointerMoveTolerance=function(q){return Ut.default.number(q)?(this.scope.interactions.pointerMoveTolerance=q,this):this.scope.interactions.pointerMoveTolerance},B.addDocument=function(q,te){this.scope.addDocument(q,te)},B.removeDocument=function(q){this.scope.removeDocument(q)},B};var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.Interactable=void 0;var hl=function(){function se(te,ne,ve,Ee){(function(Ue,He){if(!_instanceof(Ue,He))throw new TypeError("Cannot call a class as a function")})(this,se),Ie(this,"options",void 0),Ie(this,"_actions",void 0),Ie(this,"target",void 0),Ie(this,"events",new Jn.Eventable),Ie(this,"_context",void 0),Ie(this,"_win",void 0),Ie(this,"_doc",void 0),Ie(this,"_scopeEvents",void 0),Ie(this,"_rectChecker",void 0),this._actions=ne.actions,this.target=te,this._context=ne.context||ve,this._win=(0,It.getWindow)((0,ft.trySelector)(te)?this._context:te),this._doc=this._win.document,this._scopeEvents=Ee,this.set(ne)}var B,q;return B=se,(q=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(ne,ve){return Ut.default.func(ve.onstart)&&this.on("".concat(ne,"start"),ve.onstart),Ut.default.func(ve.onmove)&&this.on("".concat(ne,"move"),ve.onmove),Ut.default.func(ve.onend)&&this.on("".concat(ne,"end"),ve.onend),Ut.default.func(ve.oninertiastart)&&this.on("".concat(ne,"inertiastart"),ve.oninertiastart),this}},{key:"updatePerActionListeners",value:function(ne,ve,Ee){(Ut.default.array(ve)||Ut.default.object(ve))&&this.off(ne,ve),(Ut.default.array(Ee)||Ut.default.object(Ee))&&this.on(ne,Ee)}},{key:"setPerAction",value:function(ne,ve){var Ee=this._defaults;for(var Ue in ve){var He=Ue,ot=this.options[ne],vt=ve[He];He==="listeners"&&this.updatePerActionListeners(ne,ot.listeners,vt),Ut.default.array(vt)?ot[He]=mr.from(vt):Ut.default.plainObject(vt)?(ot[He]=(0,gt.default)(ot[He]||{},(0,fn.default)(vt)),Ut.default.object(Ee.perAction[He])&&"enabled"in Ee.perAction[He]&&(ot[He].enabled=vt.enabled!==!1)):Ut.default.bool(vt)&&Ut.default.object(Ee.perAction[He])?ot[He].enabled=vt:ot[He]=vt}}},{key:"getRect",value:function(ne){return ne=ne||(Ut.default.element(this.target)?this.target:null),Ut.default.string(this.target)&&(ne=ne||this._context.querySelector(this.target)),(0,ft.getElementRect)(ne)}},{key:"rectChecker",value:function(ne){var ve=this;return Ut.default.func(ne)?(this._rectChecker=ne,this.getRect=function(Ee){var Ue=(0,gt.default)({},ve._rectChecker(Ee));return"width"in Ue||(Ue.width=Ue.right-Ue.left,Ue.height=Ue.bottom-Ue.top),Ue},this):ne===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(ne,ve){if((0,ft.trySelector)(ve)||Ut.default.object(ve)){for(var Ee in this.options[ne]=ve,this._actions.map)this.options[Ee][ne]=ve;return this}return this.options[ne]}},{key:"origin",value:function(ne){return this._backCompatOption("origin",ne)}},{key:"deltaSource",value:function(ne){return ne==="page"||ne==="client"?(this.options.deltaSource=ne,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(ne){return this._context===ne.ownerDocument||(0,ft.nodeContains)(this._context,ne)}},{key:"testIgnoreAllow",value:function(ne,ve,Ee){return!this.testIgnore(ne.ignoreFrom,ve,Ee)&&this.testAllow(ne.allowFrom,ve,Ee)}},{key:"testAllow",value:function(ne,ve,Ee){return!ne||!!Ut.default.element(Ee)&&(Ut.default.string(ne)?(0,ft.matchesUpTo)(Ee,ne,ve):!!Ut.default.element(ne)&&(0,ft.nodeContains)(ne,Ee))}},{key:"testIgnore",value:function(ne,ve,Ee){return!(!ne||!Ut.default.element(Ee))&&(Ut.default.string(ne)?(0,ft.matchesUpTo)(Ee,ne,ve):!!Ut.default.element(ne)&&(0,ft.nodeContains)(ne,Ee))}},{key:"fire",value:function(ne){return this.events.fire(ne),this}},{key:"_onOff",value:function(ne,ve,Ee,Ue){Ut.default.object(ve)&&!Ut.default.array(ve)&&(Ue=Ee,Ee=null);var He=ne==="on"?"add":"remove",ot=(0,En.default)(ve,Ee);for(var vt in ot){vt==="wheel"&&(vt=Vr.default.wheelEvent);for(var Lt=0;Lt<ot[vt].length;Lt++){var Ft=ot[vt][Lt];(0,_o.default)(vt,this._actions)?this.events[ne](vt,Ft):Ut.default.string(this.target)?this._scopeEvents["".concat(He,"Delegate")](this.target,this._context,vt,Ft,Ue):this._scopeEvents[He](this.target,vt,Ft,Ue)}}return this}},{key:"on",value:function(ne,ve,Ee){return this._onOff("on",ne,ve,Ee)}},{key:"off",value:function(ne,ve,Ee){return this._onOff("off",ne,ve,Ee)}},{key:"set",value:function(ne){var ve=this._defaults;for(var Ee in Ut.default.object(ne)||(ne={}),this.options=(0,fn.default)(ve.base),this._actions.methodDict){var Ue=Ee,He=this._actions.methodDict[Ue];this.options[Ue]={},this.setPerAction(Ue,(0,gt.default)((0,gt.default)({},ve.perAction),ve.actions[Ue])),this[He](ne[Ue])}for(var ot in ne)Ut.default.func(this[ot])&&this[ot](ne[ot]);return this}},{key:"unset",value:function(){if(Ut.default.string(this.target))for(var ne in this._scopeEvents.delegatedEvents)for(var ve=this._scopeEvents.delegatedEvents[ne],Ee=ve.length-1;Ee>=0;Ee--){var Ue=ve[Ee],He=Ue.selector,ot=Ue.context,vt=Ue.listeners;He===this.target&&ot===this._context&&ve.splice(Ee,1);for(var Lt=vt.length-1;Lt>=0;Lt--)this._scopeEvents.removeDelegate(this.target,this._context,ne,vt[Lt][0],vt[Lt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();po.Interactable=hl;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.InteractableSet=void 0;var Cu=function(){function se(te){var ne=this;(function(ve,Ee){if(!_instanceof(ve,Ee))throw new TypeError("Cannot call a class as a function")})(this,se),et(this,"list",[]),et(this,"selectorMap",{}),et(this,"scope",void 0),this.scope=te,te.addListeners({"interactable:unset":function(ve){var Ee=ve.interactable,Ue=Ee.target,He=Ee._context,ot=Ut.default.string(Ue)?ne.selectorMap[Ue]:Ue[ne.scope.id],vt=mr.findIndex(ot,function(Lt){return Lt.context===He});ot[vt]&&(ot[vt].context=null,ot[vt].interactable=null),ot.splice(vt,1)}})}var B,q;return B=se,(q=[{key:"new",value:function(ne,ve){ve=(0,gt.default)(ve||{},{actions:this.scope.actions});var Ee=new this.scope.Interactable(ne,ve,this.scope.document,this.scope.events),Ue={context:Ee._context,interactable:Ee};return this.scope.addDocument(Ee._doc),this.list.push(Ee),Ut.default.string(ne)?(this.selectorMap[ne]||(this.selectorMap[ne]=[]),this.selectorMap[ne].push(Ue)):(Ee.target[this.scope.id]||Object.defineProperty(ne,this.scope.id,{value:[],configurable:!0}),ne[this.scope.id].push(Ue)),this.scope.fire("interactable:new",{target:ne,options:ve,interactable:Ee,win:this.scope._win}),Ee}},{key:"get",value:function(ne,ve){var Ee=ve&&ve.context||this.scope.document,Ue=Ut.default.string(ne),He=Ue?this.selectorMap[ne]:ne[this.scope.id];if(!He)return null;var ot=mr.find(He,function(vt){return vt.context===Ee&&(Ue||vt.interactable.inContext(ne))});return ot&&ot.interactable}},{key:"forEachMatch",value:function(ne,ve){for(var Ee=0;Ee<this.list.length;Ee++){var Ue=this.list[Ee],He=void 0;if((Ut.default.string(Ue.target)?Ut.default.element(ne)&&ft.matchesSelector(ne,Ue.target):ne===Ue.target)&&Ue.inContext(ne)&&(He=ve(Ue)),He!==void 0)return He}}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}();Gi.InteractableSet=Cu;var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.default=void 0;var Yi=function(){function se(te){(function(ne,ve){if(!_instanceof(ne,ve))throw new TypeError("Cannot call a class as a function")})(this,se),L(this,"currentTarget",void 0),L(this,"originalEvent",void 0),L(this,"type",void 0),this.originalEvent=te,(0,sr.default)(this,te)}var B,q;return B=se,(q=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(te,ne){for(var ve=0;ve<ne.length;ve++){var Ee=ne[ve];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),se}(),ko={id:"events",install:function(B){var q=function(Ft,an,Wt,Cn){var Bn=pe(Cn),On=mr.find(Ee,function(Nn){return Nn.eventTarget===Ft});On||(On={eventTarget:Ft,events:{}},Ee.push(On)),On.events[an]||(On.events[an]=[]),Ft.addEventListener&&!mr.contains(On.events[an],Wt)&&(Ft.addEventListener(an,Wt,ot.supportsOptions?Bn:Bn.capture),On.events[an].push(Wt))},te=function(Ft,an){for(var Wt=pe(an),Cn=new Yi(Ft),Bn=Ue[Ft.type],On=ue(Sn.getEventTargets(Ft),1)[0],Nn=On;Ut.default.element(Nn);){for(var Yn=0;Yn<Bn.length;Yn++){var cr=Bn[Yn],Ar=cr.selector,Ir=cr.context;if(ft.matchesSelector(Nn,Ar)&&ft.nodeContains(Ir,On)&&ft.nodeContains(Ir,Nn)){var di=cr.listeners;Cn.currentTarget=Nn;for(var Zr=0;Zr<di.length;Zr++){var xr=ue(di[Zr],2),ra=xr[0],ia=xr[1],Tu=ia.capture,n0=ia.passive;Tu===Wt.capture&&n0===Wt.passive&&ra(Cn)}}}Nn=ft.parentNode(Nn)}},ne=function(Ft){return te(Ft,!0)},ve,Ee=[],Ue={},He=[],ot={add:q,remove:vt,addDelegate:function(Ft,an,Wt,Cn,Bn){var On=pe(Bn);if(!Ue[Wt]){Ue[Wt]=[];for(var Nn=0;Nn<He.length;Nn++){var Yn=He[Nn];q(Yn,Wt,te),q(Yn,Wt,ne,!0)}}var cr=Ue[Wt],Ar=mr.find(cr,function(Ir){return Ir.selector===Ft&&Ir.context===an});Ar||(Ar={selector:Ft,context:an,listeners:[]},cr.push(Ar)),Ar.listeners.push([Cn,On])},removeDelegate:function(Ft,an,Wt,Cn,Bn){var On,Nn=pe(Bn),Yn=Ue[Wt],cr=!1;if(Yn)for(On=Yn.length-1;On>=0;On--){var Ar=Yn[On];if(Ar.selector===Ft&&Ar.context===an){for(var Ir=Ar.listeners,di=Ir.length-1;di>=0;di--){var Zr=ue(Ir[di],2),xr=Zr[0],ra=Zr[1],ia=ra.capture,Tu=ra.passive;if(xr===Cn&&ia===Nn.capture&&Tu===Nn.passive){Ir.splice(di,1),Ir.length||(Yn.splice(On,1),vt(an,Wt,te),vt(an,Wt,ne,!0)),cr=!0;break}}if(cr)break}}},delegateListener:te,delegateUseCapture:ne,delegatedEvents:Ue,documents:He,targets:Ee,supportsOptions:!1,supportsPassive:!1};function vt(Lt,Ft,an,Wt){var Cn=pe(Wt),Bn=mr.findIndex(Ee,function(Ir){return Ir.eventTarget===Lt}),On=Ee[Bn];if(On&&On.events)if(Ft!=="all"){var Nn=!1,Yn=On.events[Ft];if(Yn){if(an==="all"){for(var cr=Yn.length-1;cr>=0;cr--)vt(Lt,Ft,Yn[cr],Cn);return}for(var Ar=0;Ar<Yn.length;Ar++)if(Yn[Ar]===an){Lt.removeEventListener(Ft,an,ot.supportsOptions?Cn:Cn.capture),Yn.splice(Ar,1),Yn.length===0&&(delete On.events[Ft],Nn=!0);break}}Nn&&!Object.keys(On.events).length&&Ee.splice(Bn,1)}else for(Ft in On.events)On.events.hasOwnProperty(Ft)&&vt(Lt,Ft,"all")}return(ve=B.document)==null||ve.createElement("div").addEventListener("test",null,{get capture(){return ot.supportsOptions=!0},get passive(){return ot.supportsPassive=!0}}),B.events=ot,ot}};Li.default=ko;var no={};Object.defineProperty(no,"__esModule",{value:!0}),no.default=void 0;var Ro={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(B){for(var q=0;q<Ro.methodOrder.length;q++){var te;te=Ro.methodOrder[q];var ne=Ro[te](B);if(ne)return ne}return null},simulationResume:function(B){var q=B.pointerType,te=B.eventType,ne=B.eventTarget,ve=B.scope;if(!/down|start/i.test(te))return null;for(var Ee=0;Ee<ve.interactions.list.length;Ee++){var Ue=ve.interactions.list[Ee],He=ne;if(Ue.simulation&&Ue.simulation.allowResume&&Ue.pointerType===q)for(;He;){if(He===Ue.element)return Ue;He=ft.parentNode(He)}}return null},mouseOrPen:function(B){var q,te=B.pointerId,ne=B.pointerType,ve=B.eventType,Ee=B.scope;if(ne!=="mouse"&&ne!=="pen")return null;for(var Ue=0;Ue<Ee.interactions.list.length;Ue++){var He=Ee.interactions.list[Ue];if(He.pointerType===ne){if(He.simulation&&!he(He,te))continue;if(He.interacting())return He;q||(q=He)}}if(q)return q;for(var ot=0;ot<Ee.interactions.list.length;ot++){var vt=Ee.interactions.list[ot];if(!(vt.pointerType!==ne||/down/i.test(ve)&&vt.simulation))return vt}return null},hasPointer:function(B){for(var q=B.pointerId,te=B.scope,ne=0;ne<te.interactions.list.length;ne++){var ve=te.interactions.list[ne];if(he(ve,q))return ve}return null},idle:function(B){for(var q=B.pointerType,te=B.scope,ne=0;ne<te.interactions.list.length;ne++){var ve=te.interactions.list[ne];if(ve.pointers.length===1){var Ee=ve.interactable;if(Ee&&(!Ee.options.gesture||!Ee.options.gesture.enabled))continue}else if(ve.pointers.length>=2)continue;if(!ve.interacting()&&q===ve.pointerType)return ve}return null}},Mr=Ro;no.default=Mr;var ro={};function Lo(se){return Lo=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Lo(se)}function Ca(se,B){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},Ca(se,B)}function _s(se){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},_s(se)}Object.defineProperty(ro,"__esModule",{value:!0}),ro.default=void 0;var Do=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],Qc={id:"core/interactions",install:function(B){for(var q=function(){for(var ot=0;ot<B.interactions.list.length;ot++){var vt=B.interactions.list[ot];if(vt.pointerIsDown&&vt.pointerType==="touch"&&!vt._interacting)for(var Lt=function(){var Wt=vt.pointers[Ft];B.documents.some(function(Cn){var Bn=Cn.doc;return(0,ft.nodeContains)(Bn,Wt.downTarget)})||vt.removePointer(Wt.pointer,Wt.event)},Ft=0;Ft<vt.pointers.length;Ft++)Lt()}},te={},ne=0;ne<Do.length;ne++){var ve=Do[ne];te[ve]=Ce(ve,B)}var Ee,Ue=Vr.default.pEventTypes;(Ee=Ur.default.PointerEvent?[{type:Ue.down,listener:q},{type:Ue.down,listener:te.pointerDown},{type:Ue.move,listener:te.pointerMove},{type:Ue.up,listener:te.pointerUp},{type:Ue.cancel,listener:te.pointerUp}]:[{type:"mousedown",listener:te.pointerDown},{type:"mousemove",listener:te.pointerMove},{type:"mouseup",listener:te.pointerUp},{type:"touchstart",listener:q},{type:"touchstart",listener:te.pointerDown},{type:"touchmove",listener:te.pointerMove},{type:"touchend",listener:te.pointerUp},{type:"touchcancel",listener:te.pointerUp}]).push({type:"blur",listener:function(ot){for(var vt=0;vt<B.interactions.list.length;vt++)B.interactions.list[vt].documentBlur(ot)}}),B.prevTouchTime=0,B.Interaction=function(He){(function(Cn,Bn){if(typeof Bn!="function"&&Bn!==null)throw new TypeError("Super expression must either be null or a function");Cn.prototype=Object.create(Bn&&Bn.prototype,{constructor:{value:Cn,writable:!0,configurable:!0}}),Object.defineProperty(Cn,"prototype",{writable:!1}),Bn&&Ca(Cn,Bn)})(Wt,He);var ot,vt,Lt,Ft,an=(Lt=Wt,Ft=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Cn){return!1}}(),function(){var Bn,On=_s(Lt);if(Ft){var Nn=_s(this).constructor;Bn=Reflect.construct(On,arguments,Nn)}else Bn=On.apply(this,arguments);return function(Yn,cr){if(cr&&(Lo(cr)==="object"||typeof cr=="function"))return cr;if(cr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ar){if(Ar===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ar}(Yn)}(this,Bn)});function Wt(){return function(Cn,Bn){if(!_instanceof(Cn,Bn))throw new TypeError("Cannot call a class as a function")}(this,Wt),an.apply(this,arguments)}return ot=Wt,(vt=[{key:"pointerMoveTolerance",get:function(){return B.interactions.pointerMoveTolerance},set:function(Bn){B.interactions.pointerMoveTolerance=Bn}},{key:"_now",value:function(){return B.now()}}])&&function(Cn,Bn){for(var On=0;On<Bn.length;On++){var Nn=Bn[On];Nn.enumerable=Nn.enumerable||!1,Nn.configurable=!0,"value"in Nn&&(Nn.writable=!0),Object.defineProperty(Cn,Nn.key,Nn)}}(ot.prototype,vt),Object.defineProperty(ot,"prototype",{writable:!1}),Wt}(In.default),B.interactions={list:[],new:function(ot){ot.scopeFire=function(Lt,Ft){return B.fire(Lt,Ft)};var vt=new B.Interaction(ot);return B.interactions.list.push(vt),vt},listeners:te,docEvents:Ee,pointerMoveTolerance:1},B.usePlugin(lt.default)},listeners:{"scope:add-document":function(se){return Ge(se,"add")},"scope:remove-document":function(se){return Ge(se,"remove")},"interactable:unset":function(se,B){for(var q=se.interactable,te=B.interactions.list.length-1;te>=0;te--){var ne=B.interactions.list[te];ne.interactable===q&&(ne.stop(),B.fire("interactions:destroy",{interaction:ne}),ne.destroy(),B.interactions.list.length>2&&B.interactions.list.splice(te,1))}}},onDocSignal:Ge,doOnInteractions:Ce,methodNames:Do},Ou=Qc;ro.default=Ou;var fl={};function Zc(se){return Zc=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Zc(se)}function pl(){return pl=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(B,q,te){var ne=function(Ee,Ue){for(;!Object.prototype.hasOwnProperty.call(Ee,Ue)&&(Ee=ea(Ee))!==null;);return Ee}(B,q);if(ne){var ve=Object.getOwnPropertyDescriptor(ne,q);return ve.get?ve.get.call(arguments.length<3?B:te):ve.value}},pl.apply(this,arguments)}function ks(se,B){return ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},ks(se,B)}function ea(se){return ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},ea(se)}Object.defineProperty(fl,"__esModule",{value:!0}),fl.Scope=void 0,fl.initScope=Et;var Gy=function(){function se(){var B=this;Be(this,se),At(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),At(this,"isInitialized",!1),At(this,"listenerMaps",[]),At(this,"browser",Vr.default),At(this,"defaults",(0,fn.default)(jn.defaults)),At(this,"Eventable",Jn.Eventable),At(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),At(this,"interactStatic",(0,Mo.createInteractStatic)(this)),At(this,"InteractEvent",Zn.InteractEvent),At(this,"Interactable",void 0),At(this,"interactables",new Gi.InteractableSet(this)),At(this,"_win",void 0),At(this,"document",void 0),At(this,"window",void 0),At(this,"documents",[]),At(this,"_plugins",{list:[],map:{}}),At(this,"onWindowUnload",function(te){return B.removeDocument(te.target)});var q=this;this.Interactable=function(te){(function(He,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");He.prototype=Object.create(ot&&ot.prototype,{constructor:{value:He,writable:!0,configurable:!0}}),Object.defineProperty(He,"prototype",{writable:!1}),ot&&ks(He,ot)})(Ue,te);var ne,ve,Ee=(ne=Ue,ve=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(He){return!1}}(),function(){var ot,vt=ea(ne);if(ve){var Lt=ea(this).constructor;ot=Reflect.construct(vt,arguments,Lt)}else ot=vt.apply(this,arguments);return function(Ft,an){if(an&&(Zc(an)==="object"||typeof an=="function"))return an;if(an!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Wt){if(Wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Wt}(Ft)}(this,ot)});function Ue(){return Be(this,Ue),Ee.apply(this,arguments)}return Pt(Ue,[{key:"_defaults",get:function(){return q.defaults}},{key:"set",value:function(ot){return pl(ea(Ue.prototype),"set",this).call(this,ot),q.fire("interactable:set",{options:ot,interactable:this}),this}},{key:"unset",value:function(){pl(ea(Ue.prototype),"unset",this).call(this);var ot=q.interactables.list.indexOf(this);ot<0||(pl(ea(Ue.prototype),"unset",this).call(this),q.interactables.list.splice(ot,1),q.fire("interactable:unset",{interactable:this}))}}]),Ue}(po.Interactable)}return Pt(se,[{key:"addListeners",value:function(q,te){this.listenerMaps.push({id:te,map:q})}},{key:"fire",value:function(q,te){for(var ne=0;ne<this.listenerMaps.length;ne++){var ve=this.listenerMaps[ne].map[q];if(ve&&ve(te,this,q)===!1)return!1}}},{key:"init",value:function(q){return this.isInitialized?this:Et(this,q)}},{key:"pluginIsInstalled",value:function(q){return this._plugins.map[q.id]||this._plugins.list.indexOf(q)!==-1}},{key:"usePlugin",value:function(q,te){if(!this.isInitialized)return this;if(this.pluginIsInstalled(q))return this;if(q.id&&(this._plugins.map[q.id]=q),this._plugins.list.push(q),q.install&&q.install(this,te),q.listeners&&q.before){for(var ne=0,ve=this.listenerMaps.length,Ee=q.before.reduce(function(He,ot){return He[ot]=!0,He[Jt(ot)]=!0,He},{});ne<ve;ne++){var Ue=this.listenerMaps[ne].id;if(Ee[Ue]||Ee[Jt(Ue)])break}this.listenerMaps.splice(ne,0,{id:q.id,map:q.listeners})}else q.listeners&&this.listenerMaps.push({id:q.id,map:q.listeners});return this}},{key:"addDocument",value:function(q,te){if(this.getDocIndex(q)!==-1)return!1;var ne=It.getWindow(q);te=te?(0,gt.default)({},te):{},this.documents.push({doc:q,options:te}),this.events.documents.push(q),q!==this.document&&this.events.add(ne,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:q,window:ne,scope:this,options:te})}},{key:"removeDocument",value:function(q){var te=this.getDocIndex(q),ne=It.getWindow(q),ve=this.documents[te].options;this.events.remove(ne,"unload",this.onWindowUnload),this.documents.splice(te,1),this.events.documents.splice(te,1),this.fire("scope:remove-document",{doc:q,window:ne,scope:this,options:ve})}},{key:"getDocIndex",value:function(q){for(var te=0;te<this.documents.length;te++)if(this.documents[te].doc===q)return te;return-1}},{key:"getDocOptions",value:function(q){var te=this.getDocIndex(q);return te===-1?null:this.documents[te].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),se}();fl.Scope=Gy;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.default=void 0;var xs=new fl.Scope,Yy=xs.interactStatic;Ii.default=Yy;var ed=(typeof globalThis=="undefined"?"undefined":_typeof(globalThis))<"u"?globalThis:(typeof document=="undefined"?"undefined":_typeof(document))<"u"?window:void 0;xs.init(ed);var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.default=void 0,io.default=function(){};var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.default=void 0,oo.default=function(){};var vl={};Object.defineProperty(vl,"__esModule",{value:!0}),vl.default=void 0,vl.default=function(se){var B=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(te){var ne=Dt(te,2),ve=ne[0],Ee=ne[1];return ve in se||Ee in se}),q=function(ne,ve){for(var Ee=se.range,Ue=se.limits,He=Ue===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Ue,ot=se.offset,vt=ot===void 0?{x:0,y:0}:ot,Lt={range:Ee,grid:se,x:null,y:null},Ft=0;Ft<B.length;Ft++){var an=Dt(B[Ft],2),Wt=an[0],Cn=an[1],Bn=Math.round((ne-vt.x)/se[Wt]),On=Math.round((ve-vt.y)/se[Cn]);Lt[Wt]=Math.max(He.left,Math.min(He.right,Bn*se[Wt]+vt.x)),Lt[Cn]=Math.max(He.top,Math.min(He.bottom,On*se[Cn]+vt.y))}return Lt};return q.grid=se,q.coordFields=B,q};var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0}),Object.defineProperty(Ss,"edgeTarget",{enumerable:!0,get:function(){return io.default}}),Object.defineProperty(Ss,"elements",{enumerable:!0,get:function(){return oo.default}}),Object.defineProperty(Ss,"grid",{enumerable:!0,get:function(){return vl.default}});var gl={};Object.defineProperty(gl,"__esModule",{value:!0}),gl.default=void 0;var Xy={id:"snappers",install:function(B){var q=B.interactStatic;q.snappers=(0,gt.default)(q.snappers||{},Ss),q.createSnapGrid=q.snappers.grid}},td=Xy;gl.default=td;var ta={};Object.defineProperty(ta,"__esModule",{value:!0}),ta.default=ta.aspectRatio=void 0;var nn={start:function(B){var q=B.state,te=B.rect,ne=B.edges,ve=B.pageCoords,Ee=q.options,Ue=Ee.ratio,He=Ee.enabled,ot=q.options,vt=ot.equalDelta,Lt=ot.modifiers;Ue==="preserve"&&(Ue=te.width/te.height),q.startCoords=(0,gt.default)({},ve),q.startRect=(0,gt.default)({},te),q.ratio=Ue,q.equalDelta=vt;var Ft=q.linkedEdges={top:ne.top||ne.left&&!ne.bottom,left:ne.left||ne.top&&!ne.right,bottom:ne.bottom||ne.right&&!ne.top,right:ne.right||ne.bottom&&!ne.left};if(q.xIsPrimaryAxis=!(!ne.left&&!ne.right),q.equalDelta){var an=(Ft.left?1:-1)*(Ft.top?1:-1);q.edgeSign={x:an,y:an}}else q.edgeSign={x:Ft.left?-1:1,y:Ft.top?-1:1};if(He!==!1&&(0,gt.default)(ne,Ft),Lt!=null&&Lt.length){var Wt=new ln.default(B.interaction);Wt.copyFrom(B.interaction.modification),Wt.prepareStates(Lt),q.subModification=Wt,Wt.startAll(qt({},B))}},set:function(B){var q=B.state,te=B.rect,ne=B.coords,ve=q.linkedEdges,Ee=(0,gt.default)({},ne),Ue=q.equalDelta?un:Rt;if((0,gt.default)(B.edges,ve),Ue(q,q.xIsPrimaryAxis,ne,te),!q.subModification)return null;var He=(0,gt.default)({},te);(0,en.addEdges)(ve,He,{x:ne.x-Ee.x,y:ne.y-Ee.y});var ot=q.subModification.setAll(qt(qt({},B),{},{rect:He,edges:ve,pageCoords:ne,prevCoords:ne,prevRect:He})),vt=ot.delta;return ot.changed&&(Ue(q,Math.abs(vt.x)>Math.abs(vt.y),ot.coords,ot.rect),(0,gt.default)(ne,ot.coords)),ot.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};ta.aspectRatio=nn;var xt=(0,qn.makeModifier)(nn,"aspectRatio");ta.default=xt;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=void 0;var Yt=function(){};Yt._defaults={};var xn=Yt;Mt.default=xn;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),Object.defineProperty(hn,"default",{enumerable:!0,get:function(){return Mt.default}});var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0,pn.getRestrictionRect=rn,pn.restrict=void 0;var bn={start:function(B){var q=B.rect,te=B.startOffset,ne=B.state,ve=B.interaction,Ee=B.pageCoords,Ue=ne.options,He=Ue.elementRect,ot=(0,gt.default)({left:0,top:0,right:0,bottom:0},Ue.offset||{});if(q&&He){var vt=rn(Ue.restriction,ve,Ee);if(vt){var Lt=vt.right-vt.left-q.width,Ft=vt.bottom-vt.top-q.height;Lt<0&&(ot.left+=Lt,ot.right+=Lt),Ft<0&&(ot.top+=Ft,ot.bottom+=Ft)}ot.left+=te.left-q.width*He.left,ot.top+=te.top-q.height*He.top,ot.right+=te.right-q.width*(1-He.right),ot.bottom+=te.bottom-q.height*(1-He.bottom)}ne.offset=ot},set:function(B){var q=B.coords,te=B.interaction,ne=B.state,ve=ne.options,Ee=ne.offset,Ue=rn(ve.restriction,te,q);if(Ue){var He=en.xywhToTlbr(Ue);q.x=Math.max(Math.min(He.right-Ee.right,q.x),He.left+Ee.left),q.y=Math.max(Math.min(He.bottom-Ee.bottom,q.y),He.top+Ee.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};pn.restrict=bn;var Wn=(0,qn.makeModifier)(bn,"restrict");pn.default=Wn;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.restrictEdges=Dn.default=void 0;var er={top:1/0,left:1/0,bottom:-1/0,right:-1/0},fr={top:-1/0,left:-1/0,bottom:1/0,right:1/0},pr={noInner:er,noOuter:fr,start:function(B){var q,te=B.interaction,ne=B.startOffset,ve=B.state,Ee=ve.options;if(Ee){var Ue=(0,pn.getRestrictionRect)(Ee.offset,te,te.coords.start.page);q=en.rectToXY(Ue)}q=q||{x:0,y:0},ve.offset={top:q.y+ne.top,left:q.x+ne.left,bottom:q.y-ne.bottom,right:q.x-ne.right}},set:function(B){var q=B.coords,te=B.edges,ne=B.interaction,ve=B.state,Ee=ve.offset,Ue=ve.options;if(te){var He=(0,gt.default)({},q),ot=(0,pn.getRestrictionRect)(Ue.inner,ne,He)||{},vt=(0,pn.getRestrictionRect)(Ue.outer,ne,He)||{};Qt(ot,er),Qt(vt,fr),te.top?q.y=Math.min(Math.max(vt.top+Ee.top,He.y),ot.top+Ee.top):te.bottom&&(q.y=Math.max(Math.min(vt.bottom+Ee.bottom,He.y),ot.bottom+Ee.bottom)),te.left?q.x=Math.min(Math.max(vt.left+Ee.left,He.x),ot.left+Ee.left):te.right&&(q.x=Math.max(Math.min(vt.right+Ee.right,He.x),ot.right+Ee.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Dn.restrictEdges=pr;var Rr=(0,qn.makeModifier)(pr,"restrictEdges");Dn.default=Rr;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.restrictRect=Lr.default=void 0;var wr=(0,gt.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(se){}},pn.restrict.defaults),Xr={start:pn.restrict.start,set:pn.restrict.set,defaults:wr};Lr.restrictRect=Xr;var Di=(0,qn.makeModifier)(Xr,"restrictRect");Lr.default=Di;var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.restrictSize=Er.default=void 0;var na={width:-1/0,height:-1/0},ml={width:1/0,height:1/0},Oa={start:function(B){return Dn.restrictEdges.start(B)},set:function(B){var q=B.interaction,te=B.state,ne=B.rect,ve=B.edges,Ee=te.options;if(ve){var Ue=en.tlbrToXywh((0,pn.getRestrictionRect)(Ee.min,q,B.coords))||na,He=en.tlbrToXywh((0,pn.getRestrictionRect)(Ee.max,q,B.coords))||ml;te.options={endOnly:Ee.endOnly,inner:(0,gt.default)({},Dn.restrictEdges.noInner),outer:(0,gt.default)({},Dn.restrictEdges.noOuter)},ve.top?(te.options.inner.top=ne.bottom-Ue.height,te.options.outer.top=ne.bottom-He.height):ve.bottom&&(te.options.inner.bottom=ne.top+Ue.height,te.options.outer.bottom=ne.top+He.height),ve.left?(te.options.inner.left=ne.right-Ue.width,te.options.outer.left=ne.right-He.width):ve.right&&(te.options.inner.right=ne.left+Ue.width,te.options.outer.right=ne.left+He.width),Dn.restrictEdges.set(B),te.options=Ee}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Er.restrictSize=Oa;var $i=(0,qn.makeModifier)(Oa,"restrictSize");Er.default=$i;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0}),Object.defineProperty(Ky,"default",{enumerable:!0,get:function(){return Mt.default}});var As={};Object.defineProperty(As,"__esModule",{value:!0}),As.snap=As.default=void 0;var gO={start:function(B){var q,te=B.interaction,ne=B.interactable,ve=B.element,Ee=B.rect,Ue=B.state,He=B.startOffset,ot=Ue.options,vt=ot.offsetWithOrigin?function(an){var Wt=an.interaction.element;return(0,en.rectToXY)((0,en.resolveRectLike)(an.state.options.origin,null,null,[Wt]))||(0,tn.default)(an.interactable,Wt,an.interaction.prepared.name)}(B):{x:0,y:0};if(ot.offset==="startCoords")q={x:te.coords.start.page.x,y:te.coords.start.page.y};else{var Lt=(0,en.resolveRectLike)(ot.offset,ne,ve,[te]);(q=(0,en.rectToXY)(Lt)||{x:0,y:0}).x+=vt.x,q.y+=vt.y}var Ft=ot.relativePoints;Ue.offsets=Ee&&Ft&&Ft.length?Ft.map(function(an,Wt){return{index:Wt,relativePoint:an,x:He.left-Ee.width*an.x+q.x,y:He.top-Ee.height*an.y+q.y}}):[{index:0,relativePoint:null,x:q.x,y:q.y}]},set:function(B){var q=B.interaction,te=B.coords,ne=B.state,ve=ne.options,Ee=ne.offsets,Ue=(0,tn.default)(q.interactable,q.element,q.prepared.name),He=(0,gt.default)({},te),ot=[];ve.offsetWithOrigin||(He.x-=Ue.x,He.y-=Ue.y);for(var vt=0;vt<Ee.length;vt++)for(var Lt=Ee[vt],Ft=He.x-Lt.x,an=He.y-Lt.y,Wt=0,Cn=ve.targets.length;Wt<Cn;Wt++){var Bn,On=ve.targets[Wt];(Bn=Ut.default.func(On)?On(Ft,an,q._proxy,Lt,Wt):On)&&ot.push({x:(Ut.default.number(Bn.x)?Bn.x:Ft)+Lt.x,y:(Ut.default.number(Bn.y)?Bn.y:an)+Lt.y,range:Ut.default.number(Bn.range)?Bn.range:ve.range,source:On,index:Wt,offset:Lt})}for(var Nn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Yn=0;Yn<ot.length;Yn++){var cr=ot[Yn],Ar=cr.range,Ir=cr.x-He.x,di=cr.y-He.y,Zr=(0,Gn.default)(Ir,di),xr=Zr<=Ar;Ar===1/0&&Nn.inRange&&Nn.range!==1/0&&(xr=!1),Nn.target&&!(xr?Nn.inRange&&Ar!==1/0?Zr/Ar<Nn.distance/Nn.range:Ar===1/0&&Nn.range!==1/0||Zr<Nn.distance:!Nn.inRange&&Zr<Nn.distance)||(Nn.target=cr,Nn.distance=Zr,Nn.range=Ar,Nn.inRange=xr,Nn.delta.x=Ir,Nn.delta.y=di)}return Nn.inRange&&(te.x=Nn.target.x,te.y=Nn.target.y),ne.closest=Nn,Nn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};As.snap=gO;var FT=(0,qn.makeModifier)(gO,"snap");As.default=FT;var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),ja.snapSize=ja.default=void 0;var mO={start:function(B){var q=B.state,te=B.edges,ne=q.options;if(!te)return null;B.state={options:{targets:null,relativePoints:[{x:te.left?0:1,y:te.top?0:1}],offset:ne.offset||"self",origin:{x:0,y:0},range:ne.range}},q.targetFields=q.targetFields||[["width","height"],["x","y"]],As.snap.start(B),q.offsets=B.state.offsets,B.state=q},set:function(B){var q,te=B.interaction,ne=B.state,ve=B.coords,Ee=ne.options,Ue=ne.offsets,He={x:ve.x-Ue[0].x,y:ve.y-Ue[0].y};ne.options=(0,gt.default)({},Ee),ne.options.targets=[];for(var ot=0;ot<(Ee.targets||[]).length;ot++){var vt=(Ee.targets||[])[ot],Lt=void 0;if(Lt=Ut.default.func(vt)?vt(He.x,He.y,te):vt){for(var Ft=0;Ft<ne.targetFields.length;Ft++){var an=function(On){if(Array.isArray(On))return On}(q=ne.targetFields[Ft])||function(On,Nn){var Yn=On==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&On[Symbol.iterator]||On["@@iterator"];if(Yn!=null){var cr,Ar,Ir=[],di=!0,Zr=!1;try{for(Yn=Yn.call(On);!(di=(cr=Yn.next()).done)&&(Ir.push(cr.value),Ir.length!==2);di=!0);}catch(xr){Zr=!0,Ar=xr}finally{try{di||Yn.return==null||Yn.return()}finally{if(Zr)throw Ar}}return Ir}}(q)||function(On,Nn){if(On){if(typeof On=="string")return Tn(On,2);var Yn=Object.prototype.toString.call(On).slice(8,-1);return Yn==="Object"&&On.constructor&&(Yn=On.constructor.name),Yn==="Map"||Yn==="Set"?Array.from(On):Yn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yn)?Tn(On,2):void 0}}(q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Wt=an[0],Cn=an[1];if(Wt in Lt||Cn in Lt){Lt.x=Lt[Wt],Lt.y=Lt[Cn];break}}ne.options.targets.push(Lt)}}var Bn=As.snap.set(B);return ne.options=Ee,Bn},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ja.snapSize=mO;var UT=(0,qn.makeModifier)(mO,"snapSize");ja.default=UT;var ju={};Object.defineProperty(ju,"__esModule",{value:!0}),ju.snapEdges=ju.default=void 0;var yO={start:function(B){var q=B.edges;return q?(B.state.targetFields=B.state.targetFields||[[q.left?"left":"right",q.top?"top":"bottom"]],ja.snapSize.start(B)):null},set:ja.snapSize.set,defaults:(0,gt.default)((0,fn.default)(ja.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};ju.snapEdges=yO;var VT=(0,qn.makeModifier)(yO,"snapEdges");ju.default=VT;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0}),Object.defineProperty(Jy,"default",{enumerable:!0,get:function(){return Mt.default}});var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0}),Object.defineProperty(Qy,"default",{enumerable:!0,get:function(){return Mt.default}});var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.default=void 0;var WT={aspectRatio:ta.default,restrictEdges:Dn.default,restrict:pn.default,restrictRect:Lr.default,restrictSize:Er.default,snapEdges:ju.default,snap:As.default,snapSize:ja.default,spring:Jy.default,avoid:hn.default,transform:Qy.default,rubberband:Ky.default};Eu.default=WT;var nd={};Object.defineProperty(nd,"__esModule",{value:!0}),nd.default=void 0;var qT={id:"modifiers",install:function(B){var q=B.interactStatic;for(var te in B.usePlugin(qn.default),B.usePlugin(gl.default),q.modifiers=Eu.default,Eu.default){var ne=Eu.default[te],ve=ne._defaults,Ee=ne._methods;ve._methods=Ee,B.defaults.perAction[te]=ve}}},GT=qT;nd.default=GT;var yl={};function Zy(se){return Zy=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},Zy(se)}function e0(se,B){return e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},e0(se,B)}function of(se){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},of(se)}Object.defineProperty(yl,"__esModule",{value:!0}),yl.default=yl.PointerEvent=void 0;var YT=function(se){(function(Ue,He){if(typeof He!="function"&&He!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(He&&He.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),He&&e0(Ue,He)})(Ee,se);var B,q,te,ne,ve=(te=Ee,ne=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var He,ot=of(te);if(ne){var vt=of(this).constructor;He=Reflect.construct(ot,arguments,vt)}else He=ot.apply(this,arguments);return function(Lt,Ft){if(Ft&&(Zy(Ft)==="object"||typeof Ft=="function"))return Ft;if(Ft!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nt(Lt)}(this,He)});function Ee(Ue,He,ot,vt,Lt,Ft){var an;if(function(Bn,On){if(!_instanceof(Bn,On))throw new TypeError("Cannot call a class as a function")}(this,Ee),an=ve.call(this,Lt),Sn.pointerExtend(Nt(an),ot),ot!==He&&Sn.pointerExtend(Nt(an),He),an.timeStamp=Ft,an.originalEvent=ot,an.type=Ue,an.pointerId=Sn.getPointerId(He),an.pointerType=Sn.getPointerType(He),an.target=vt,an.currentTarget=null,Ue==="tap"){var Wt=Lt.getPointerIndex(He);an.dt=an.timeStamp-Lt.pointers[Wt].downTime;var Cn=an.timeStamp-Lt.tapTime;an.double=!!Lt.prevTap&&Lt.prevTap.type!=="doubletap"&&Lt.prevTap.target===an.target&&Cn<500}else Ue==="doubletap"&&(an.dt=He.timeStamp-Lt.tapTime,an.double=!0);return an}return B=Ee,(q=[{key:"_subtractOrigin",value:function(He){var ot=He.x,vt=He.y;return this.pageX-=ot,this.pageY-=vt,this.clientX-=ot,this.clientY-=vt,this}},{key:"_addOrigin",value:function(He){var ot=He.x,vt=He.y;return this.pageX+=ot,this.pageY+=vt,this.clientX+=ot,this.clientY+=vt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Ue,He){for(var ot=0;ot<He.length;ot++){var vt=He[ot];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(Ue,vt.key,vt)}}(B.prototype,q),Object.defineProperty(B,"prototype",{writable:!1}),Ee}(Wr.BaseEvent);yl.PointerEvent=yl.default=YT;var rd={};Object.defineProperty(rd,"__esModule",{value:!0}),rd.default=void 0;var af={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(B){B.pointerEvents=af,B.defaults.actions.pointerEvents=af.defaults,(0,gt.default)(B.actions.phaselessTypes,af.types)},listeners:{"interactions:new":function(se){var B=se.interaction;B.prevTap=null,B.tapTime=0},"interactions:update-pointer":function(se){var B=se.down,q=se.pointerInfo;!B&&q.hold||(q.hold={duration:1/0,timeout:null})},"interactions:move":function(se,B){var q=se.interaction,te=se.pointer,ne=se.event,ve=se.eventTarget;se.duplicate||q.pointerIsDown&&!q.pointerWasMoved||(q.pointerIsDown&&fe(se),Cs({interaction:q,pointer:te,event:ne,eventTarget:ve,type:"move"},B))},"interactions:down":function(se,B){(function(q,te){for(var ne=q.interaction,ve=q.pointer,Ee=q.event,Ue=q.eventTarget,He=q.pointerIndex,ot=ne.pointers[He].hold,vt=ft.getPath(Ue),Lt={interaction:ne,pointer:ve,event:Ee,eventTarget:Ue,type:"hold",targets:[],path:vt,node:null},Ft=0;Ft<vt.length;Ft++){var an=vt[Ft];Lt.node=an,te.fire("pointerEvents:collect-targets",Lt)}if(Lt.targets.length){for(var Wt=1/0,Cn=0;Cn<Lt.targets.length;Cn++){var Bn=Lt.targets[Cn].eventable.options.holdDuration;Bn<Wt&&(Wt=Bn)}ot.duration=Wt,ot.timeout=setTimeout(function(){Cs({interaction:ne,eventTarget:Ue,pointer:ve,event:Ee,type:"hold"},te)},Wt)}})(se,B),Cs(se,B)},"interactions:up":function(se,B){fe(se),Cs(se,B),function(q,te){var ne=q.interaction,ve=q.pointer,Ee=q.event,Ue=q.eventTarget;ne.pointerWasMoved||Cs({interaction:ne,eventTarget:Ue,pointer:ve,event:Ee,type:"tap"},te)}(se,B)},"interactions:cancel":function(se,B){fe(se),Cs(se,B)}},PointerEvent:yl.PointerEvent,fire:Cs,collectEventTargets:Me,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Cs(se,B){var q=se.interaction,te=se.pointer,ne=se.event,ve=se.eventTarget,Ee=se.type,Ue=se.targets,He=Ue===void 0?Me(se,B):Ue,ot=new yl.PointerEvent(Ee,te,ne,ve,q,B.now());B.fire("pointerEvents:new",{pointerEvent:ot});for(var vt={interaction:q,pointer:te,event:ne,eventTarget:ve,targets:He,type:Ee,pointerEvent:ot},Lt=0;Lt<He.length;Lt++){var Ft=He[Lt];for(var an in Ft.props||{})ot[an]=Ft.props[an];var Wt=(0,tn.default)(Ft.eventable,Ft.node);if(ot._subtractOrigin(Wt),ot.eventable=Ft.eventable,ot.currentTarget=Ft.node,Ft.eventable.fire(ot),ot._addOrigin(Wt),ot.immediatePropagationStopped||ot.propagationStopped&&Lt+1<He.length&&He[Lt+1].node!==ot.currentTarget)break}if(B.fire("pointerEvents:fired",vt),Ee==="tap"){var Cn=ot.double?Cs({interaction:q,pointer:te,event:ne,eventTarget:ve,type:"doubletap"},B):ot;q.prevTap=Cn,q.tapTime=Cn.timeStamp}return ot}var XT=af;rd.default=XT;var sf={};Object.defineProperty(sf,"__esModule",{value:!0}),sf.default=void 0;var KT={id:"pointer-events/holdRepeat",install:function(B){B.usePlugin(rd.default);var q=B.pointerEvents;q.defaults.holdRepeatInterval=0,q.types.holdrepeat=B.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(se,B){return se["pointerEvents:".concat(B)]=Se,se},{"pointerEvents:new":function(se){var B=se.pointerEvent;B.type==="hold"&&(B.count=(B.count||0)+1)},"pointerEvents:fired":function(se,B){var q=se.interaction,te=se.pointerEvent,ne=se.eventTarget,ve=se.targets;if(te.type==="hold"&&ve.length){var Ee=ve[0].eventable.options.holdRepeatInterval;Ee<=0||(q.holdIntervalHandle=setTimeout(function(){B.pointerEvents.fire({interaction:q,eventTarget:ne,type:"hold",pointer:te,event:te},B)},Ee))}}})},JT=KT;sf.default=JT;var lf={};Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var QT={id:"pointer-events/interactableTargets",install:function(B){var q=B.Interactable;q.prototype.pointerEvents=De;var te=q.prototype._backCompatOption;q.prototype._backCompatOption=function(ne,ve){var Ee=te.call(this,ne,ve);return Ee===this&&(this.events.options[ne]=ve),Ee}},listeners:{"pointerEvents:collect-targets":function(se,B){var q=se.targets,te=se.node,ne=se.type,ve=se.eventTarget;B.interactables.forEachMatch(te,function(Ee){var Ue=Ee.events,He=Ue.options;Ue.types[ne]&&Ue.types[ne].length&&Ee.testIgnoreAllow(He,te,ve)&&q.push({node:te,eventable:Ue,props:{interactable:Ee}})})},"interactable:new":function(se){var B=se.interactable;B.events.getRect=function(q){return B.getRect(q)}},"interactable:set":function(se,B){var q=se.interactable,te=se.options;(0,gt.default)(q.events.options,B.pointerEvents.defaults),(0,gt.default)(q.events.options,te.pointerEvents||{})}}},ZT=QT;lf.default=ZT;var id={};Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var e3={id:"pointer-events",install:function(B){B.usePlugin(rd),B.usePlugin(sf.default),B.usePlugin(lf.default)}},t3=e3;id.default=t3;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.default=void 0,Pu.install=it;var n3={id:"reflow",install:it,listeners:{"interactions:stop":function(se,B){var q=se.interaction;q.pointerType==="reflow"&&(q._reflowResolve&&q._reflowResolve(),mr.remove(B.interactions.list,q))}}},r3=n3;Pu.default=r3;var bl={};Object.defineProperty(bl,"__esModule",{value:!0}),bl.default=void 0,Ii.default.use(lt.default),Ii.default.use(mt.default),Ii.default.use(id.default),Ii.default.use(Gt.default),Ii.default.use(nd.default),Ii.default.use(Oe.default),Ii.default.use(ho.default),Ii.default.use(fo.default),Ii.default.use(Pu.default);var i3=Ii.default;bl.default=i3,Ii.default.default=Ii.default,ho.default,fo.default,Oe.default,lt.default,jt.default,Gt.default,Ii.default,nd.default,mt.default,id.default,Pu.default;var wl={exports:{}};function t0(se){return t0=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B=="undefined"?"undefined":_typeof(B)},t0(se)}Object.defineProperty(wl.exports,"__esModule",{value:!0}),wl.exports.default=void 0;var o3=bl.default;if(wl.exports.default=o3,t0(wl)==="object"&&wl)try{wl.exports=bl.default}catch(se){}return bl.default.default=bl.default,wl.exports}()},4581:function(l,s,r){(function(d,c,h){var f=function(N,We,Ie){var et=c.createElement(N);return We&&(et.id=Te+We),Ie&&(et.style.cssText=Ie),d(et)},v=function(){return h.innerHeight?h.innerHeight:d(h).height()},x=function(N,We){We!==Object(We)&&(We={}),this.cache={},this.el=N,this.value=function(Ie){var et;return this.cache[Ie]===void 0&&((et=d(this.el).attr("data-cbox-"+Ie))!==void 0?this.cache[Ie]=et:We[Ie]!==void 0?this.cache[Ie]=We[Ie]:Je[Ie]!==void 0&&(this.cache[Ie]=Je[Ie])),this.cache[Ie]},this.get=function(Ie){var et=this.value(Ie);return d.isFunction(et)?et.call(this.el,this):et}},w=function(N){var We=K.length,Ie=(Ve+N)%We;return Ie<0?We+Ie:Ie},b=function(N,We){return Math.round((/%/.test(N)?(We==="x"?J.width():v())/100:1)*parseInt(N,10))},C=function(N,We){return N.get("photo")||N.get("photoRegex").test(We)},P=function(N,We){return N.get("retinaUrl")&&h.devicePixelRatio>1?We.replace(N.get("photoRegex"),N.get("retinaSuffix")):We},E=function(N){"contains"in g[0]&&!g[0].contains(N.target)&&N.target!==p[0]&&(N.stopPropagation(),g.focus())},T=function(N){d(c).trigger(N),tt.triggerHandler(N)},m=function(N){var We,Ie;if(!pt){if(We=d(N).data(Ye),ie=new x(N,We),Ie=ie.get("rel"),Ve=0,Ie&&Ie!==!1&&Ie!=="nofollow"?(K=d("."+rt).filter(function(){return new x(this,d.data(this,Ye)).get("rel")===Ie}),(Ve=K.index(ie.el))===-1&&(K=K.add(ie.el),Ve=K.length-1)):K=d(ie.el),!dt){dt=yt=!0,_t(ie.get("className")),g.css({visibility:"hidden",display:"block",opacity:""}),F=f(nt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),_.css({width:"",height:""}).append(F),je=j.height()+H.height()+_.outerHeight(!0)-_.height(),Le=R.width()+D.width()+_.outerWidth(!0)-_.width(),ke=F.outerHeight(!0),Ze=F.outerWidth(!0);var et=b(ie.get("initialWidth"),"x"),L=b(ie.get("initialHeight"),"y"),ue=ie.get("maxWidth"),ce=ie.get("maxHeight");ie.w=Math.max((ue!==!1?Math.min(et,b(ue,"x")):et)-Ze-Le,0),ie.h=Math.max((ce!==!1?Math.min(L,b(ce,"y")):L)-ke-je,0),F.css({width:"",height:ie.h}),_e.position(),T(ht),ie.get("onOpen"),ae.add(V).hide(),g.focus(),ie.get("trapFocus")&&c.addEventListener&&(c.addEventListener("focus",E,!0),tt.one(ze,function(){c.removeEventListener("focus",E,!0)})),ie.get("returnFocus")&&tt.one(ze,function(){d(ie.el).focus()})}var pe=parseFloat(ie.get("opacity"));p.css({opacity:pe==pe?pe:"",cursor:ie.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),ie.get("closeButton")?Z.html(ie.get("close")).appendTo(_):Z.appendTo("<div/>"),function(){var he,Q,be,Ce=_e.prep,xe=++bt;if(yt=!0,Xe=!1,T(Fe),T(at),ie.get("onLoad"),ie.h=ie.get("height")?b(ie.get("height"),"y")-ke-je:ie.get("innerHeight")&&b(ie.get("innerHeight"),"y"),ie.w=ie.get("width")?b(ie.get("width"),"x")-Ze-Le:ie.get("innerWidth")&&b(ie.get("innerWidth"),"x"),ie.mw=ie.w,ie.mh=ie.h,ie.get("maxWidth")&&(ie.mw=b(ie.get("maxWidth"),"x")-Ze-Le,ie.mw=ie.w&&ie.w<ie.mw?ie.w:ie.mw),ie.get("maxHeight")&&(ie.mh=b(ie.get("maxHeight"),"y")-ke-je,ie.mh=ie.h&&ie.h<ie.mh?ie.h:ie.mh),he=ie.get("href"),Re=setTimeout(function(){re.show()},100),ie.get("inline")){var Ge=d(he).eq(0);be=d("<div>").hide().insertBefore(Ge),tt.one(Fe,function(){be.replaceWith(Ge)}),Ce(Ge)}else ie.get("iframe")?Ce(" "):ie.get("html")?Ce(ie.get("html")):C(ie,he)?(he=P(ie,he),Xe=ie.get("createImg"),d(Xe).addClass(Te+"Photo").bind("error."+Te,function(){Ce(f(nt,"Error").html(ie.get("imgError")))}).one("load",function(){xe===bt&&setTimeout(function(){var Be;ie.get("retinaImage")&&h.devicePixelRatio>1&&(Xe.height=Xe.height/h.devicePixelRatio,Xe.width=Xe.width/h.devicePixelRatio),ie.get("scalePhotos")&&(Q=function(){Xe.height-=Xe.height*Be,Xe.width-=Xe.width*Be},ie.mw&&Xe.width>ie.mw&&(Be=(Xe.width-ie.mw)/Xe.width,Q()),ie.mh&&Xe.height>ie.mh&&(Be=(Xe.height-ie.mh)/Xe.height,Q())),ie.h&&(Xe.style.marginTop=Math.max(ie.mh-Xe.height,0)/2+"px"),K[1]&&(ie.get("loop")||K[Ve+1])&&(Xe.style.cursor="pointer",d(Xe).bind("click."+Te,function(){_e.next()})),Xe.style.width=Xe.width+"px",Xe.style.height=Xe.height+"px",Ce(Xe)},1)}),Xe.src=he):he&&de.load(he,ie.get("data"),function(Be,Ke){xe===bt&&Ce(Ke==="error"?f(nt,"Error").html(ie.get("xhrError")):d(this).contents())})}()}},a=function(){g||(Ne=!1,J=d(h),g=f(nt).attr({id:Ye,class:d.support.opacity===!1?Te+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=f(nt,"Overlay").hide(),re=d([f(nt,"LoadingOverlay")[0],f(nt,"LoadingGraphic")[0]]),y=f(nt,"Wrapper"),_=f(nt,"Content").append(V=f(nt,"Title"),X=f(nt,"Current"),Y=d('<button type="button"/>').attr({id:Te+"Previous"}),G=d('<button type="button"/>').attr({id:Te+"Next"}),oe=d('<button type="button"/>').attr({id:Te+"Slideshow"}),re),Z=d('<button type="button"/>').attr({id:Te+"Close"}),y.append(f(nt).append(f(nt,"TopLeft"),j=f(nt,"TopCenter"),f(nt,"TopRight")),f(nt,!1,"clear:left").append(R=f(nt,"MiddleLeft"),_,D=f(nt,"MiddleRight")),f(nt,!1,"clear:left").append(f(nt,"BottomLeft"),H=f(nt,"BottomCenter"),f(nt,"BottomRight"))).find("div div").css({float:"left"}),de=f(nt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ae=G.add(Y).add(X).add(oe)),c.body&&!g.parent().length&&d(c.body).append(p,g.append(y,de))},p,g,y,_,j,R,D,H,K,J,F,de,re,V,X,oe,G,Y,Z,ae,ie,je,Le,ke,Ze,Ve,Xe,dt,yt,pt,Re,_e,Ne,Je={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title},createImg:function(){var N=new Image,We=d(this).data("cbox-img-attrs");return typeof We=="object"&&d.each(We,function(Ie,et){N[Ie]=et}),N},createIframe:function(){var N=c.createElement("iframe"),We=d(this).data("cbox-iframe-attrs");return typeof We=="object"&&d.each(We,function(Ie,et){N[Ie]=et}),"frameBorder"in N&&(N.frameBorder=0),"allowTransparency"in N&&(N.allowTransparency="true"),N.name=new Date().getTime(),N.allowFullscreen=!0,N}},Ye="colorbox",Te="cbox",rt=Te+"Element",ht=Te+"_open",at=Te+"_load",ut=Te+"_complete",qe=Te+"_cleanup",ze=Te+"_closed",Fe=Te+"_purge",tt=d("<a/>"),nt="div",bt=0,wt={};function _t(ye){_t.str!==ye&&(g.add(p).removeClass(_t.str).addClass(ye),_t.str=ye)}var st=function(){var ye=function(){clearTimeout(ue)},N=function(){(ie.get("loop")||K[Ve+1])&&(ye(),ue=setTimeout(_e.next,ie.get("slideshowSpeed")))},We=function(){oe.html(ie.get("slideshowStop")).unbind(pe).one(pe,Ie),tt.bind(ut,N).bind(at,ye),g.removeClass(ce+"off").addClass(ce+"on")},Ie=function(){ye(),tt.unbind(ut,N).unbind(at,ye),oe.html(ie.get("slideshowStart")).unbind(pe).one(pe,function(){_e.next(),We()}),g.removeClass(ce+"on").addClass(ce+"off")},et=function(){L=!1,oe.hide(),ye(),tt.unbind(ut,N).unbind(at,ye),g.removeClass(ce+"off "+ce+"on")},L,ue,ce=Te+"Slideshow_",pe="click."+Te;return function(){L?ie.get("slideshow")||(tt.unbind(qe,et),et()):ie.get("slideshow")&&K[1]&&(L=!0,tt.one(qe,et),ie.get("slideshowAuto")?We():Ie(),oe.show())}}();d[Ye]||(d(a),(_e=d.fn[Ye]=d[Ye]=function(ye,N){var We=this;return ye=ye||{},d.isFunction(We)&&(We=d("<a/>"),ye.open=!0),We[0]&&(a(),function(){var Ie=function(L){L.which>1||L.shiftKey||L.altKey||L.metaKey||L.ctrlKey||(L.preventDefault(),m(this))};return!!g&&(Ne||(Ne=!0,G.click(function(){_e.next()}),Y.click(function(){_e.prev()}),Z.click(function(){_e.close()}),p.click(function(){ie.get("overlayClose")&&_e.close()}),d(c).bind("keydown."+Te,function(et){var L=et.keyCode;dt&&ie.get("escKey")&&L===27&&(et.preventDefault(),_e.close()),dt&&ie.get("arrowKey")&&K[1]&&!et.altKey&&(L===37?(et.preventDefault(),Y.click()):L===39&&(et.preventDefault(),G.click()))}),d.isFunction(d.fn.on)?d(c).on("click."+Te,"."+rt,Ie):d("."+rt).live("click."+Te,Ie)),!0)}()&&(N&&(ye.onComplete=N),We.each(function(){var Ie=d.data(this,Ye)||{};d.data(this,Ye,d.extend(Ie,ye))}).addClass(rt),new x(We[0],ye).get("open")&&m(We[0]))),We}).position=function(ye,N){var We=function(){j[0].style.width=H[0].style.width=_[0].style.width=parseInt(g[0].style.width,10)-Le+"px",_[0].style.height=R[0].style.height=D[0].style.height=parseInt(g[0].style.height,10)-je+"px"},Ie,et,L,ue=0,ce=0,pe=g.offset();if(J.unbind("resize."+Te),g.css({top:-9e4,left:-9e4}),et=J.scrollTop(),L=J.scrollLeft(),ie.get("fixed")?(pe.top-=et,pe.left-=L,g.css({position:"fixed"})):(ue=et,ce=L,g.css({position:"absolute"})),ie.get("right")!==!1?ce+=Math.max(J.width()-ie.w-Ze-Le-b(ie.get("right"),"x"),0):ie.get("left")!==!1?ce+=b(ie.get("left"),"x"):ce+=Math.round(Math.max(J.width()-ie.w-Ze-Le,0)/2),ie.get("bottom")!==!1?ue+=Math.max(v()-ie.h-ke-je-b(ie.get("bottom"),"y"),0):ie.get("top")!==!1?ue+=b(ie.get("top"),"y"):ue+=Math.round(Math.max(v()-ie.h-ke-je,0)/2),g.css({top:pe.top,left:pe.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",Ie={width:ie.w+Ze+Le,height:ie.h+ke+je,top:ue,left:ce},ye){var he=0;d.each(Ie,function(Q){Ie[Q]===wt[Q]||(he=ye)}),ye=he}wt=Ie,ye||g.css(Ie),g.dequeue().animate(Ie,{duration:ye||0,complete:function(){We(),yt=!1,y[0].style.width=ie.w+Ze+Le+"px",y[0].style.height=ie.h+ke+je+"px",ie.get("reposition")&&setTimeout(function(){J.bind("resize."+Te,_e.position)},1),d.isFunction(N)&&N()},step:We})},_e.resize=function(ye){var N;dt&&((ye=ye||{}).width&&(ie.w=b(ye.width,"x")-Ze-Le),ye.innerWidth&&(ie.w=b(ye.innerWidth,"x")),F.css({width:ie.w}),ye.height&&(ie.h=b(ye.height,"y")-ke-je),ye.innerHeight&&(ie.h=b(ye.innerHeight,"y")),ye.innerHeight||ye.height||(N=F.scrollTop(),F.css({height:"auto"}),ie.h=F.height()),F.css({height:ie.h}),N&&F.scrollTop(N),_e.position(ie.get("transition")==="none"?0:ie.get("speed")))},_e.prep=function(ye){if(dt){var N,We=ie.get("transition")==="none"?0:ie.get("speed");F.remove(),(F=f(nt,"LoadedContent").append(ye)).hide().appendTo(de.show()).css({width:(ie.w=ie.w||F.width(),ie.w=ie.mw&&ie.mw<ie.w?ie.mw:ie.w,ie.w),overflow:ie.get("scrolling")?"auto":"hidden"}).css({height:(ie.h=ie.h||F.height(),ie.h=ie.mh&&ie.mh<ie.h?ie.mh:ie.h,ie.h)}).prependTo(_),de.hide(),d(Xe).css({float:"none"}),_t(ie.get("className")),N=function(){var et=function(){d.support.opacity===!1&&g[0].style.removeAttribute("filter")},L,ue,ce=K.length;dt&&(ue=function(){clearTimeout(Re),re.hide(),T(ut),ie.get("onComplete")},V.html(ie.get("title")).show(),F.show(),ce>1?(typeof ie.get("current")=="string"&&X.html(ie.get("current").replace("{current}",Ve+1).replace("{total}",ce)).show(),G[ie.get("loop")||Ve<ce-1?"show":"hide"]().html(ie.get("next")),Y[ie.get("loop")||Ve?"show":"hide"]().html(ie.get("previous")),st(),ie.get("preloading")&&d.each([w(-1),w(1)],function(){var pe=K[this],he=new x(pe,d.data(pe,Ye)),Q=he.get("href");Q&&C(he,Q)&&(Q=P(he,Q),c.createElement("img").src=Q)})):ae.hide(),ie.get("iframe")?(L=ie.get("createIframe"),ie.get("scrolling")||(L.scrolling="no"),d(L).attr({src:ie.get("href"),class:Te+"Iframe"}).one("load",ue).appendTo(F),tt.one(Fe,function(){L.src="//about:blank"}),ie.get("fastIframe")&&d(L).trigger("load")):ue(),ie.get("transition")==="fade"?g.fadeTo(We,1,et):et())},ie.get("transition")==="fade"?g.fadeTo(We,0,function(){_e.position(0,N)}):_e.position(We,N)}},_e.next=function(){!yt&&K[1]&&(ie.get("loop")||K[Ve+1])&&(Ve=w(1),m(K[Ve]))},_e.prev=function(){!yt&&K[1]&&(ie.get("loop")||Ve)&&(Ve=w(-1),m(K[Ve]))},_e.close=function(){dt&&!pt&&(pt=!0,dt=!1,T(qe),ie.get("onCleanup"),J.unbind("."+Te),p.fadeTo(ie.get("fadeOut")||0,0),g.stop().fadeTo(ie.get("fadeOut")||0,0,function(){g.hide(),p.hide(),T(Fe),F.remove(),setTimeout(function(){pt=!1,T(ze),ie.get("onClosed")},1)}))},_e.remove=function(){g&&(g.stop(),d[Ye].close(),g.stop(!1,!0).remove(),p.remove(),pt=!1,g=null,d("."+rt).removeData(Ye).removeClass(rt),d(c).unbind("click."+Te).unbind("keydown."+Te))},_e.element=function(){return d(ie.el)},_e.settings=Je)})(r(5311),document,window)},5557:function(l,s,r){(function(d){var c=function(b,C){if(!(b.originalEvent.touches.length>1)){b.preventDefault();var P=b.originalEvent.changedTouches[0],E=document.createEvent("MouseEvents");E.initMouseEvent(C,!0,!0,window,1,P.screenX,P.screenY,P.clientX,P.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(E)}};if(d.support.touch="ontouchend"in document,d.support.touch){var h,f=d.ui.mouse.prototype,v=f._mouseInit,x=f._mouseDestroy;f._touchStart=function(w){!h&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,c(w,"mouseover"),c(w,"mousemove"),c(w,"mousedown"))},f._touchMove=function(w){h&&(this._touchMoved=!0,c(w,"mousemove"))},f._touchEnd=function(w){h&&(c(w,"mouseup"),c(w,"mouseout"),this._touchMoved||c(w,"click"),h=!1)},f._mouseInit=function(){var w=this;w.element.bind({touchstart:d.proxy(w,"_touchStart"),touchmove:d.proxy(w,"_touchMove"),touchend:d.proxy(w,"_touchEnd")}),v.call(w)},f._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:d.proxy(w,"_touchStart"),touchmove:d.proxy(w,"_touchMove"),touchend:d.proxy(w,"_touchEnd")}),x.call(w)}}})(r(5311))},1870:function(l,s,r){var d,c,h;c=[r(5311),r(5592)],(h=typeof(d=function(v){return v.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?d.apply(s,c):d)===void 0||(l.exports=h)},7053:function(l,s,r){var d,c,h;c=[r(5311),r(5592)],(h=typeof(d=function(v){return v.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?d.apply(s,c):d)===void 0||(l.exports=h)},5592:function(l,s,r){var d,c,h;c=[r(5311)],(h=typeof(d=function(v){return v.ui=v.ui||{},v.ui.version="1.12.1"})=="function"?d.apply(s,c):d)===void 0||(l.exports=h)},6891:function(l,s,r){var d,c,h;c=[r(5311),r(5592)],d=function(v){var x,w=0,b=Array.prototype.slice;return v.cleanData=(x=v.cleanData,function(C){var P,E,T;for(T=0;(E=C[T])!=null;T++)try{(P=v._data(E,"events"))&&P.remove&&v(E).triggerHandler("remove")}catch(m){}x(C)}),v.widget=function(C,P,E){var T,m,a,p={},g=C.split(".")[0],y=g+"-"+(C=C.split(".")[1]);return E||(E=P,P=v.Widget),v.isArray(E)&&(E=v.extend.apply(null,[{}].concat(E))),v.expr[":"][y.toLowerCase()]=function(_){return!!v.data(_,y)},v[g]=v[g]||{},T=v[g][C],m=v[g][C]=function(_,j){if(!this._createWidget)return new m(_,j);arguments.length&&this._createWidget(_,j)},v.extend(m,T,{version:E.version,_proto:v.extend({},E),_childConstructors:[]}),(a=new P).options=v.widget.extend({},a.options),v.each(E,function(_,j){v.isFunction(j)?p[_]=function(){var R=function(){return P.prototype[_].apply(this,arguments)},D=function(K){return P.prototype[_].apply(this,K)};return function(){var H,K=this._super,J=this._superApply;return this._super=R,this._superApply=D,H=j.apply(this,arguments),this._super=K,this._superApply=J,H}}():p[_]=j}),m.prototype=v.widget.extend(a,{widgetEventPrefix:T&&a.widgetEventPrefix||C},p,{constructor:m,namespace:g,widgetName:C,widgetFullName:y}),T?(v.each(T._childConstructors,function(_,j){var R=j.prototype;v.widget(R.namespace+"."+R.widgetName,m,j._proto)}),delete T._childConstructors):P._childConstructors.push(m),v.widget.bridge(C,m),m},v.widget.extend=function(C){for(var P,E,T=b.call(arguments,1),m=0,a=T.length;m<a;m++)for(P in T[m])E=T[m][P],T[m].hasOwnProperty(P)&&E!==void 0&&(v.isPlainObject(E)?C[P]=v.isPlainObject(C[P])?v.widget.extend({},C[P],E):v.widget.extend({},E):C[P]=E);return C},v.widget.bridge=function(C,P){var E=P.prototype.widgetFullName||C;v.fn[C]=function(T){var m=typeof T=="string",a=b.call(arguments,1),p=this;return m?this.length||T!=="instance"?this.each(function(){var g,y=v.data(this,E);return T==="instance"?(p=y,!1):y?v.isFunction(y[T])&&T.charAt(0)!=="_"?(g=y[T].apply(y,a))!==y&&g!==void 0?(p=g&&g.jquery?p.pushStack(g.get()):g,!1):void 0:v.error("no such method '"+T+"' for "+C+" widget instance"):v.error("cannot call methods on "+C+" prior to initialization; attempted to call method '"+T+"'")}):p=void 0:(a.length&&(T=v.widget.extend.apply(null,[T].concat(a))),this.each(function(){var g=v.data(this,E);g?(g.option(T||{}),g._init&&g._init()):v.data(this,E,new P(T,this))})),p}},v.Widget=function(){},v.Widget._childConstructors=[],v.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(P,E){E=v(E||this.defaultElement||this)[0],this.element=v(E),this.uuid=w++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=v(),this.hoverable=v(),this.focusable=v(),this.classesElementLookup={},E!==this&&(v.data(E,this.widgetFullName,this),this._on(!0,this.element,{remove:function(m){m.target===E&&this.destroy()}}),this.document=v(E.style?E.ownerDocument:E.document||E),this.window=v(this.document[0].defaultView||this.document[0].parentWindow)),this.options=v.widget.extend({},this.options,this._getCreateOptions(),P),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:v.noop,_create:v.noop,_init:v.noop,destroy:function(){var P=this;this._destroy(),v.each(this.classesElementLookup,function(E,T){P._removeClass(T,E)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:v.noop,widget:function(){return this.element},option:function(P,E){var T,m,a,p=P;if(arguments.length===0)return v.widget.extend({},this.options);if(typeof P=="string")if(p={},T=P.split("."),P=T.shift(),T.length){for(m=p[P]=v.widget.extend({},this.options[P]),a=0;a<T.length-1;a++)m[T[a]]=m[T[a]]||{},m=m[T[a]];if(P=T.pop(),arguments.length===1)return m[P]===void 0?null:m[P];m[P]=E}else{if(arguments.length===1)return this.options[P]===void 0?null:this.options[P];p[P]=E}return this._setOptions(p),this},_setOptions:function(P){var E;for(E in P)this._setOption(E,P[E]);return this},_setOption:function(P,E){return P==="classes"&&this._setOptionClasses(E),this.options[P]=E,P==="disabled"&&this._setOptionDisabled(E),this},_setOptionClasses:function(P){var E,T,m;for(E in P)m=this.classesElementLookup[E],P[E]!==this.options.classes[E]&&m&&m.length&&(T=v(m.get()),this._removeClass(m,E),T.addClass(this._classes({element:T,keys:E,classes:P,add:!0})))},_setOptionDisabled:function(P){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!P),P&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(P){var E=function(p,g){var y,_;for(_=0;_<p.length;_++)y=m.classesElementLookup[p[_]]||v(),y=P.add?v(v.unique(y.get().concat(P.element.get()))):v(y.not(P.element).get()),m.classesElementLookup[p[_]]=y,T.push(p[_]),g&&P.classes[p[_]]&&T.push(P.classes[p[_]])},T=[],m=this;return P=v.extend({element:this.element,classes:this.options.classes||{}},P),this._on(P.element,{remove:"_untrackClassesElement"}),P.keys&&E(P.keys.match(/\S+/g)||[],!0),P.extra&&E(P.extra.match(/\S+/g)||[]),T.join(" ")},_untrackClassesElement:function(P){var E=this;v.each(E.classesElementLookup,function(T,m){v.inArray(P.target,m)!==-1&&(E.classesElementLookup[T]=v(m.not(P.target).get()))})},_removeClass:function(P,E,T){return this._toggleClass(P,E,T,!1)},_addClass:function(P,E,T){return this._toggleClass(P,E,T,!0)},_toggleClass:function(P,E,T,m){m=typeof m=="boolean"?m:T;var a=typeof P=="string"||P===null,p={extra:a?E:T,keys:a?P:E,element:a?this.element:P,add:m};return p.element.toggleClass(this._classes(p),m),this},_on:function(P,E,T){var m,a=this;typeof P!="boolean"&&(T=E,E=P,P=!1),T?(E=m=v(E),this.bindings=this.bindings.add(E)):(T=E,E=this.element,m=this.widget()),v.each(T,function(p,g){var y=function(){if(P||a.options.disabled!==!0&&!v(this).hasClass("ui-state-disabled"))return(typeof g=="string"?a[g]:g).apply(a,arguments)};typeof g!="string"&&(y.guid=g.guid=g.guid||y.guid||v.guid++);var _=p.match(/^([\w:-]*)\s*(.*)$/),j=_[1]+a.eventNamespace,R=_[2];R?m.on(j,R,y):E.on(j,y)})},_off:function(P,E){E=(E||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,P.off(E).off(E),this.bindings=v(this.bindings.not(P).get()),this.focusable=v(this.focusable.not(P).get()),this.hoverable=v(this.hoverable.not(P).get())},_delay:function(P,E){var T=this;return setTimeout(function(){return(typeof P=="string"?T[P]:P).apply(T,arguments)},E||0)},_hoverable:function(P){this.hoverable=this.hoverable.add(P),this._on(P,{mouseenter:function(T){this._addClass(v(T.currentTarget),null,"ui-state-hover")},mouseleave:function(T){this._removeClass(v(T.currentTarget),null,"ui-state-hover")}})},_focusable:function(P){this.focusable=this.focusable.add(P),this._on(P,{focusin:function(T){this._addClass(v(T.currentTarget),null,"ui-state-focus")},focusout:function(T){this._removeClass(v(T.currentTarget),null,"ui-state-focus")}})},_trigger:function(P,E,T){var m,a,p=this.options[P];if(T=T||{},(E=v.Event(E)).type=(P===this.widgetEventPrefix?P:this.widgetEventPrefix+P).toLowerCase(),E.target=this.element[0],a=E.originalEvent)for(m in a)m in E||(E[m]=a[m]);return this.element.trigger(E,T),!(v.isFunction(p)&&p.apply(this.element[0],[E].concat(T))===!1||E.isDefaultPrevented())}},v.each({show:"fadeIn",hide:"fadeOut"},function(C,P){v.Widget.prototype["_"+C]=function(E,T,m){var a;typeof T=="string"&&(T={effect:T});var p=T?T===!0||typeof T=="number"?P:T.effect||P:C;typeof(T=T||{})=="number"&&(T={duration:T}),a=!v.isEmptyObject(T),T.complete=m,T.delay&&E.delay(T.delay),a&&v.effects&&v.effects.effect[p]?E[C](T):p!==C&&E[p]?E[p](T.duration,T.easing,m):E.queue(function(g){v(this)[C](),m&&m.call(E[0]),g()})}}),v.widget},(h=d.apply(s,c))===void 0||(l.exports=h)},6177:function(l,s,r){var d,c,h;c=[r(5311),r(1870),r(5592),r(6891)],(h=typeof(d=function(v){var x=!1;return v(document).on("mouseup",function(){x=!1}),v.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(C){return b._mouseDown(C)}).on("click."+this.widgetName,function(C){if(v.data(C.target,b.widgetName+".preventClickEvent")===!0)return v.removeData(C.target,b.widgetName+".preventClickEvent"),C.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!x){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var C=this,P=b.which===1,E=!(typeof this.options.cancel!="string"||!b.target.nodeName)&&v(b.target).closest(this.options.cancel).length;return!(P&&!E&&this._mouseCapture(b)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){C.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),0):(v.data(b.target,this.widgetName+".preventClickEvent")===!0&&v.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(T){return C._mouseMove(T)},this._mouseUpDelegate=function(T){return C._mouseUp(T)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),x=!0,0)))}},_mouseMove:function(b){if(this._mouseMoved){if(v.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button)return this._mouseUp(b);if(!b.which){if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}}return(b.which||b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&v.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,x=!1,b.preventDefault()},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?d.apply(s,c):d)===void 0||(l.exports=h)},6227:function(l,s,r){var d,c,h;c=[r(5311),r(6177),r(7053),r(5592),r(6891)],d=function(v){return v.widget("ui.slider",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var w,b,C=this.options,P=this.element.find(".ui-slider-handle"),E=[];for(b=C.values&&C.values.length||1,P.length>b&&(P.slice(b).remove(),P=P.slice(0,b)),w=P.length;w<b;w++)E.push("<span tabindex='0'></span>");this.handles=P.add(v(E.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(T){v(this).data("ui-slider-handle-index",T).attr("tabIndex",0)})},_createRange:function(){var w=this.options;w.range?(w.range===!0&&(w.values?w.values.length&&w.values.length!==2?w.values=[w.values[0],w.values[0]]:v.isArray(w.values)&&(w.values=w.values.slice(0)):w.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=v("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),w.range!=="min"&&w.range!=="max"||this._addClass(this.range,"ui-slider-range-"+w.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(w){var b,C,P,E,T,m,a,p=this,g=this.options;return!g.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:w.pageX,y:w.pageY},C=this._normValueFromMouse(b),P=this._valueMax()-this._valueMin()+1,this.handles.each(function(y){var _=Math.abs(C-p.values(y));(P>_||P===_&&(y===p._lastChangedValue||p.values(y)===g.min))&&(P=_,E=v(this),T=y)}),this._start(w,T)!==!1&&(this._mouseSliding=!0,this._handleIndex=T,this._addClass(E,null,"ui-state-active"),E.trigger("focus"),m=E.offset(),a=!v(w.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:w.pageX-m.left-E.width()/2,top:w.pageY-m.top-E.height()/2-(parseInt(E.css("borderTopWidth"),10)||0)-(parseInt(E.css("borderBottomWidth"),10)||0)+(parseInt(E.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,T,C),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(w){var b={x:w.pageX,y:w.pageY},C=this._normValueFromMouse(b);return this._slide(w,this._handleIndex,C),!1},_mouseStop:function(w){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(w,this._handleIndex),this._change(w,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(w){var b,C,P,E,T;return this.orientation==="horizontal"?(b=this.elementSize.width,C=w.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,C=w.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(P=C/b)>1&&(P=1),P<0&&(P=0),this.orientation==="vertical"&&(P=1-P),E=this._valueMax()-this._valueMin(),T=this._valueMin()+P*E,this._trimAlignValue(T)},_uiHash:function(w,b,C){var P={handle:this.handles[w],handleIndex:w,value:b!==void 0?b:this.value()};return this._hasMultipleValues()&&(P.value=b!==void 0?b:this.values(w),P.values=C||this.values()),P},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(w,b){return this._trigger("start",w,this._uiHash(b))},_slide:function(w,b,C){var P,E=this.value(),T=this.values();this._hasMultipleValues()&&(P=this.values(b?0:1),E=this.values(b),this.options.values.length===2&&this.options.range===!0&&(C=b===0?Math.min(P,C):Math.max(P,C)),T[b]=C),C!==E&&this._trigger("slide",w,this._uiHash(b,C,T))!==!1&&(this._hasMultipleValues()?this.values(b,C):this.value(C))},_stop:function(w,b){this._trigger("stop",w,this._uiHash(b))},_change:function(w,b){this._keySliding||this._mouseSliding||(this._lastChangedValue=b,this._trigger("change",w,this._uiHash(b)))},value:function(w){return arguments.length?(this.options.value=this._trimAlignValue(w),this._refreshValue(),void this._change(null,0)):this._value()},values:function(w,b){var C,P,E;if(arguments.length>1)return this.options.values[w]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,w);if(!arguments.length)return this._values();if(!v.isArray(arguments[0]))return this._hasMultipleValues()?this._values(w):this.value();for(C=this.options.values,P=arguments[0],E=0;E<C.length;E+=1)C[E]=this._trimAlignValue(P[E]),this._change(null,E);this._refreshValue()},_setOption:function(w,b){var C,P=0;switch(w==="range"&&this.options.range===!0&&(b==="min"?(this.options.value=this._values(0),this.options.values=null):b==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),v.isArray(this.options.values)&&(P=this.options.values.length),this._super(w,b),w){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(b),this.handles.css(b==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),C=P-1;C>=0;C--)this._change(null,C);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(w){this._super(w),this._toggleClass(null,"ui-state-disabled",!!w)},_value:function(){var w=this.options.value;return this._trimAlignValue(w)},_values:function(w){var b,C,P;if(arguments.length)return b=this.options.values[w],this._trimAlignValue(b);if(this._hasMultipleValues()){for(C=this.options.values.slice(),P=0;P<C.length;P+=1)C[P]=this._trimAlignValue(C[P]);return C}return[]},_trimAlignValue:function(w){if(w<=this._valueMin())return this._valueMin();if(w>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,C=(w-this._valueMin())%b,P=w-C;return 2*Math.abs(C)>=b&&(P+=C>0?b:-b),parseFloat(P.toFixed(5))},_calculateNewMax:function(){var w=this.options.max,b=this._valueMin(),C=this.options.step;(w=Math.round((w-b)/C)*C+b)>this.options.max&&(w-=C),this.max=parseFloat(w.toFixed(this._precision()))},_precision:function(){var w=this._precisionOf(this.options.step);return this.options.min!==null&&(w=Math.max(w,this._precisionOf(this.options.min))),w},_precisionOf:function(w){var b=w.toString(),C=b.indexOf(".");return C===-1?0:b.length-C-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(w){w==="vertical"&&this.range.css({width:"",left:""}),w==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var w,b,C,P,E,T=this.options.range,m=this.options,a=this,p=!this._animateOff&&m.animate,g={};this._hasMultipleValues()?this.handles.each(function(y){b=(a.values(y)-a._valueMin())/(a._valueMax()-a._valueMin())*100,g[a.orientation==="horizontal"?"left":"bottom"]=b+"%",v(this).stop(1,1)[p?"animate":"css"](g,m.animate),a.options.range===!0&&(a.orientation==="horizontal"?(y===0&&a.range.stop(1,1)[p?"animate":"css"]({left:b+"%"},m.animate),y===1&&a.range[p?"animate":"css"]({width:b-w+"%"},{queue:!1,duration:m.animate})):(y===0&&a.range.stop(1,1)[p?"animate":"css"]({bottom:b+"%"},m.animate),y===1&&a.range[p?"animate":"css"]({height:b-w+"%"},{queue:!1,duration:m.animate}))),w=b}):(C=this.value(),P=this._valueMin(),E=this._valueMax(),b=E!==P?(C-P)/(E-P)*100:0,g[this.orientation==="horizontal"?"left":"bottom"]=b+"%",this.handle.stop(1,1)[p?"animate":"css"](g,m.animate),T==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:b+"%"},m.animate),T==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:100-b+"%"},m.animate),T==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:b+"%"},m.animate),T==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:100-b+"%"},m.animate))},_handleEvents:{keydown:function(w){var b,C,P,E=v(w.target).data("ui-slider-handle-index");switch(w.keyCode){case v.ui.keyCode.HOME:case v.ui.keyCode.END:case v.ui.keyCode.PAGE_UP:case v.ui.keyCode.PAGE_DOWN:case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(w.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(v(w.target),null,"ui-state-active"),this._start(w,E)===!1))return}switch(P=this.options.step,b=C=this._hasMultipleValues()?this.values(E):this.value(),w.keyCode){case v.ui.keyCode.HOME:C=this._valueMin();break;case v.ui.keyCode.END:C=this._valueMax();break;case v.ui.keyCode.PAGE_UP:C=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.PAGE_DOWN:C=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:if(b===this._valueMax())return;C=this._trimAlignValue(b+P);break;case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(b===this._valueMin())return;C=this._trimAlignValue(b-P)}this._slide(w,E,C)},keyup:function(w){var b=v(w.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(w,b),this._change(w,b),this._removeClass(v(w.target),null,"ui-state-active"))}}})},(h=d.apply(s,c))===void 0||(l.exports=h)},5311:function(l){"use strict";l.exports=jQuery},509:function(l,s,r){"use strict";var d=r(9985),c=r(3691),h=TypeError;l.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not a function")}},2655:function(l,s,r){"use strict";var d=r(9429),c=r(3691),h=TypeError;l.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not a constructor")}},3550:function(l,s,r){"use strict";var d=r(9985),c=String,h=TypeError;l.exports=function(f){if(typeof f=="object"||d(f))return f;throw new h("Can't set "+c(f)+" as a prototype")}},7370:function(l,s,r){"use strict";var d=r(4201),c=r(5391),h=r(2560).f,f=d("unscopables"),v=Array.prototype;v[f]===void 0&&h(v,f,{configurable:!0,value:c(null)}),l.exports=function(x){v[f][x]=!0}},727:function(l,s,r){"use strict";var d=r(730).charAt;l.exports=function(c,h,f){return h+(f?d(c,h).length:1)}},767:function(l,s,r){"use strict";var d=r(3622),c=TypeError;l.exports=function(h,f){if(d(f,h))return h;throw new c("Incorrect invocation")}},5027:function(l,s,r){"use strict";var d=r(8999),c=String,h=TypeError;l.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not an object")}},1655:function(l,s,r){"use strict";var d=r(3689);l.exports=d(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},2872:function(l,s,r){"use strict";var d=r(690),c=r(7578),h=r(6310);l.exports=function(f){for(var v=d(this),x=h(v),w=arguments.length,b=c(w>1?arguments[1]:void 0,x),C=w>2?arguments[2]:void 0,P=C===void 0?x:c(C,x);P>b;)v[b++]=f;return v}},7612:function(l,s,r){"use strict";var d=r(2960).forEach,c=r(6834)("forEach");l.exports=c?[].forEach:function(h){return d(this,h,arguments.length>1?arguments[1]:void 0)}},1055:function(l,s,r){"use strict";var d=r(4071),c=r(2615),h=r(690),f=r(1228),v=r(3292),x=r(9429),w=r(6310),b=r(6522),C=r(5185),P=r(1664),E=Array;l.exports=function(T){var m=h(T),a=x(this),p=arguments.length,g=p>1?arguments[1]:void 0,y=g!==void 0;y&&(g=d(g,p>2?arguments[2]:void 0));var _,j,R,D,H,K,J=P(m),F=0;if(!J||this===E&&v(J))for(_=w(m),j=a?new this(_):E(_);_>F;F++)K=y?g(m[F],F):m[F],b(j,F,K);else for(H=(D=C(m,J)).next,j=a?new this:[];!(R=c(H,D)).done;F++)K=y?f(D,g,[R.value,F],!0):R.value,b(j,F,K);return j.length=F,j}},4328:function(l,s,r){"use strict";var d=r(5290),c=r(7578),h=r(6310),f=function(x){return function(w,b,C){var P,E=d(w),T=h(E),m=c(C,T);if(x&&b!=b){for(;T>m;)if((P=E[m++])!=P)return!0}else for(;T>m;m++)if((x||m in E)&&E[m]===b)return x||m||0;return!x&&-1}};l.exports={includes:f(!0),indexOf:f(!1)}},2960:function(l,s,r){"use strict";var d=r(4071),c=r(8844),h=r(4413),f=r(690),v=r(6310),x=r(7120),w=c([].push),b=function(P){var E=P===1,T=P===2,m=P===3,a=P===4,p=P===6,g=P===7,y=P===5||p;return function(_,j,R,D){for(var H,K,J=f(_),F=h(J),de=d(j,R),re=v(F),V=0,X=D||x,oe=E?X(_,re):T||g?X(_,0):void 0;re>V;V++)if((y||V in F)&&(K=de(H=F[V],V,J),P))if(E)oe[V]=K;else if(K)switch(P){case 3:return!0;case 5:return H;case 6:return V;case 2:w(oe,H)}else switch(P){case 4:return!1;case 7:w(oe,H)}return p?-1:m||a?a:oe}};l.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6),filterReject:b(7)}},9042:function(l,s,r){"use strict";var d=r(3689),c=r(4201),h=r(3615),f=c("species");l.exports=function(v){return h>=51||!d(function(){var x=[];return(x.constructor={})[f]=function(){return{foo:1}},x[v](Boolean).foo!==1})}},6834:function(l,s,r){"use strict";var d=r(3689);l.exports=function(c,h){var f=[][c];return!!f&&d(function(){f.call(null,h||function(){return 1},1)})}},8820:function(l,s,r){"use strict";var d=r(509),c=r(690),h=r(4413),f=r(6310),v=TypeError,x=function(b){return function(C,P,E,T){d(P);var m=c(C),a=h(m),p=f(m),g=b?p-1:0,y=b?-1:1;if(E<2)for(;;){if(g in a){T=a[g],g+=y;break}if(g+=y,b?g<0:p<=g)throw new v("Reduce of empty array with no initial value")}for(;b?g>=0:p>g;g+=y)g in a&&(T=P(T,a[g],g,m));return T}};l.exports={left:x(!1),right:x(!0)}},5649:function(l,s,r){"use strict";var d=r(7697),c=r(2297),h=TypeError,f=Object.getOwnPropertyDescriptor,v=d&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(x){return _instanceof(x,TypeError)}}();l.exports=v?function(x,w){if(c(x)&&!f(x,"length").writable)throw new h("Cannot set read only .length");return x.length=w}:function(x,w){return x.length=w}},9015:function(l,s,r){"use strict";var d=r(7578),c=r(6310),h=r(6522),f=Array,v=Math.max;l.exports=function(x,w,b){for(var C=c(x),P=d(w,C),E=d(b===void 0?C:b,C),T=f(v(E-P,0)),m=0;P<E;P++,m++)h(T,m,x[P]);return T.length=m,T}},6004:function(l,s,r){"use strict";var d=r(8844);l.exports=d([].slice)},382:function(l,s,r){"use strict";var d=r(9015),c=Math.floor,h=function(x,w){var b=x.length,C=c(b/2);return b<8?f(x,w):v(x,h(d(x,0,C),w),h(d(x,C),w),w)},f=function(w,b){for(var C,P,E=w.length,T=1;T<E;){for(P=T,C=w[T];P&&b(w[P-1],C)>0;)w[P]=w[--P];P!==T++&&(w[P]=C)}return w},v=function(w,b,C,P){for(var E=b.length,T=C.length,m=0,a=0;m<E||a<T;)w[m+a]=m<E&&a<T?P(b[m],C[a])<=0?b[m++]:C[a++]:m<E?b[m++]:C[a++];return w};l.exports=h},5271:function(l,s,r){"use strict";var d=r(2297),c=r(9429),h=r(8999),f=r(4201)("species"),v=Array;l.exports=function(x){var w;return d(x)&&(w=x.constructor,(c(w)&&(w===v||d(w.prototype))||h(w)&&(w=w[f])===null)&&(w=void 0)),w===void 0?v:w}},7120:function(l,s,r){"use strict";var d=r(5271);l.exports=function(c,h){return new(d(c))(h===0?0:h)}},1228:function(l,s,r){"use strict";var d=r(5027),c=r(2125);l.exports=function(h,f,v,x){try{return x?f(d(v)[0],v[1]):f(v)}catch(w){c(h,"throw",w)}}},6431:function(l,s,r){"use strict";var d=r(4201)("iterator"),c=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){c=!0}};f[d]=function(){return this},Array.from(f,function(){throw 2})}catch(v){}l.exports=function(v,x){try{if(!x&&!c)return!1}catch(C){return!1}var w=!1;try{var b={};b[d]=function(){return{next:function(){return{done:w=!0}}}},v(b)}catch(C){}return w}},6648:function(l,s,r){"use strict";var d=r(8844),c=d({}.toString),h=d("".slice);l.exports=function(f){return h(c(f),8,-1)}},926:function(l,s,r){"use strict";var d=r(3043),c=r(9985),h=r(6648),f=r(4201)("toStringTag"),v=Object,x=h(function(){return arguments}())==="Arguments";l.exports=d?h:function(w){var b,C,P;return w===void 0?"Undefined":w===null?"Null":typeof(C=function(E,T){try{return E[T]}catch(m){}}(b=v(w),f))=="string"?C:x?h(b):(P=h(b))==="Object"&&c(b.callee)?"Arguments":P}},800:function(l,s,r){"use strict";var d=r(5391),c=r(2148),h=r(6045),f=r(4071),v=r(767),x=r(981),w=r(8734),b=r(1934),C=r(7807),P=r(4241),E=r(7697),T=r(5375).fastKey,m=r(618),a=m.set,p=m.getterFor;l.exports={getConstructor:function(y,_,j,R){var D=y(function(de,re){v(de,H),a(de,{type:_,index:d(null),first:void 0,last:void 0,size:0}),E||(de.size=0),x(re)||w(re,de[R],{that:de,AS_ENTRIES:j})}),H=D.prototype,K=p(_),J=function(re,V,X){var oe,G,Y=K(re),Z=F(re,V);return Z?Z.value=X:(Y.last=Z={index:G=T(V,!0),key:V,value:X,previous:oe=Y.last,next:void 0,removed:!1},Y.first||(Y.first=Z),oe&&(oe.next=Z),E?Y.size++:re.size++,G!=="F"&&(Y.index[G]=Z)),re},F=function(re,V){var X,oe=K(re),G=T(V);if(G!=="F")return oe.index[G];for(X=oe.first;X;X=X.next)if(X.key===V)return X};return h(H,{clear:function(){for(var re=K(this),V=re.index,X=re.first;X;)X.removed=!0,X.previous&&(X.previous=X.previous.next=void 0),delete V[X.index],X=X.next;re.first=re.last=void 0,E?re.size=0:this.size=0},delete:function(re){var V=this,X=K(V),oe=F(V,re);if(oe){var G=oe.next,Y=oe.previous;delete X.index[oe.index],oe.removed=!0,Y&&(Y.next=G),G&&(G.previous=Y),X.first===oe&&(X.first=G),X.last===oe&&(X.last=Y),E?X.size--:V.size--}return!!oe},forEach:function(re){for(var V,X=K(this),oe=f(re,arguments.length>1?arguments[1]:void 0);V=V?V.next:X.first;)for(oe(V.value,V.key,this);V&&V.removed;)V=V.previous},has:function(re){return!!F(this,re)}}),h(H,j?{get:function(re){var V=F(this,re);return V&&V.value},set:function(re,V){return J(this,re===0?0:re,V)}}:{add:function(re){return J(this,re=re===0?0:re,re)}}),E&&c(H,"size",{configurable:!0,get:function(){return K(this).size}}),D},setStrong:function(y,_,j){var R=_+" Iterator",D=p(_),H=p(R);b(y,_,function(K,J){a(this,{type:R,target:K,state:D(K),kind:J,last:void 0})},function(){for(var K=H(this),J=K.kind,F=K.last;F&&F.removed;)F=F.previous;return K.target&&(K.last=F=F?F.next:K.state.first)?C(J==="keys"?F.key:J==="values"?F.value:[F.key,F.value],!1):(K.target=void 0,C(void 0,!0))},j?"entries":"values",!j,!0),P(_)}}},637:function(l,s,r){"use strict";var d=r(8844),c=r(6045),h=r(5375).getWeakData,f=r(767),v=r(5027),x=r(981),w=r(8999),b=r(8734),C=r(2960),P=r(6812),E=r(618),T=E.set,m=E.getterFor,a=C.find,p=C.findIndex,g=d([].splice),y=0,_=function(H){return H.frozen||(H.frozen=new j)},j=function(){this.entries=[]},R=function(H,K){return a(H.entries,function(J){return J[0]===K})};j.prototype={get:function(H){var K=R(this,H);if(K)return K[1]},has:function(H){return!!R(this,H)},set:function(H,K){var J=R(this,H);J?J[1]=K:this.entries.push([H,K])},delete:function(H){var K=p(this.entries,function(J){return J[0]===H});return~K&&g(this.entries,K,1),!!~K}},l.exports={getConstructor:function(H,K,J,F){var de=H(function(oe,G){f(oe,re),T(oe,{type:K,id:y++,frozen:void 0}),x(G)||b(G,oe[F],{that:oe,AS_ENTRIES:J})}),re=de.prototype,V=m(K),X=function(G,Y,Z){var ae=V(G),ie=h(v(Y),!0);return ie===!0?_(ae).set(Y,Z):ie[ae.id]=Z,G};return c(re,{delete:function(G){var Y=V(this);if(!w(G))return!1;var Z=h(G);return Z===!0?_(Y).delete(G):Z&&P(Z,Y.id)&&delete Z[Y.id]},has:function(G){var Y=V(this);if(!w(G))return!1;var Z=h(G);return Z===!0?_(Y).has(G):Z&&P(Z,Y.id)}}),c(re,J?{get:function(G){var Y=V(this);if(w(G)){var Z=h(G);return Z===!0?_(Y).get(G):Z?Z[Y.id]:void 0}},set:function(G,Y){return X(this,G,Y)}}:{add:function(G){return X(this,G,!0)}}),de}}},319:function(l,s,r){"use strict";var d=r(9989),c=r(9037),h=r(8844),f=r(5266),v=r(1880),x=r(5375),w=r(8734),b=r(767),C=r(9985),P=r(981),E=r(8999),T=r(3689),m=r(6431),a=r(5997),p=r(3457);l.exports=function(g,y,_){var j=g.indexOf("Map")!==-1,R=g.indexOf("Weak")!==-1,D=j?"set":"add",H=c[g],K=H&&H.prototype,J=H,F={},de=function(Z){var ae=h(K[Z]);v(K,Z,Z==="add"?function(ie){return ae(this,ie===0?0:ie),this}:Z==="delete"?function(ie){return!(R&&!E(ie))&&ae(this,ie===0?0:ie)}:Z==="get"?function(ie){return R&&!E(ie)?void 0:ae(this,ie===0?0:ie)}:Z==="has"?function(ie){return!(R&&!E(ie))&&ae(this,ie===0?0:ie)}:function(ie,je){return ae(this,ie===0?0:ie,je),this})};if(f(g,!C(H)||!(R||K.forEach&&!T(function(){new H().entries().next()}))))J=_.getConstructor(y,g,j,D),x.enable();else if(f(g,!0)){var re=new J,V=re[D](R?{}:-0,1)!==re,X=T(function(){re.has(1)}),oe=m(function(Y){new H(Y)}),G=!R&&T(function(){for(var Y=new H,Z=5;Z--;)Y[D](Z,Z);return!Y.has(-0)});oe||((J=y(function(Y,Z){b(Y,K);var ae=p(new H,Y,J);return P(Z)||w(Z,ae[D],{that:ae,AS_ENTRIES:j}),ae})).prototype=K,K.constructor=J),(X||G)&&(de("delete"),de("has"),j&&de("get")),(G||V)&&de(D),R&&K.clear&&delete K.clear}return F[g]=J,d({global:!0,constructor:!0,forced:J!==H},F),a(J,g),R||_.setStrong(J,g,j),J}},8758:function(l,s,r){"use strict";var d=r(6812),c=r(9152),h=r(2474),f=r(2560);l.exports=function(v,x,w){for(var b=c(x),C=f.f,P=h.f,E=0;E<b.length;E++){var T=b[E];d(v,T)||w&&d(w,T)||C(v,T,P(x,T))}}},7413:function(l,s,r){"use strict";var d=r(4201)("match");l.exports=function(c){var h=/./;try{"/./"[c](h)}catch(f){try{return h[d]=!1,"/./"[c](h)}catch(v){}}return!1}},1748:function(l,s,r){"use strict";var d=r(3689);l.exports=!d(function(){var c=function(){};return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},7807:function(l){"use strict";l.exports=function(s,r){return{value:s,done:r}}},5773:function(l,s,r){"use strict";var d=r(7697),c=r(2560),h=r(5684);l.exports=d?function(f,v,x){return c.f(f,v,h(1,x))}:function(f,v,x){return f[v]=x,f}},5684:function(l){"use strict";l.exports=function(s,r){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:r}}},6522:function(l,s,r){"use strict";var d=r(8360),c=r(2560),h=r(5684);l.exports=function(f,v,x){var w=d(v);w in f?c.f(f,w,h(0,x)):f[w]=x}},1797:function(l,s,r){"use strict";var d=r(5027),c=r(5899),h=TypeError;l.exports=function(f){if(d(this),f==="string"||f==="default")f="string";else if(f!=="number")throw new h("Incorrect hint");return c(this,f)}},2148:function(l,s,r){"use strict";var d=r(8702),c=r(2560);l.exports=function(h,f,v){return v.get&&d(v.get,f,{getter:!0}),v.set&&d(v.set,f,{setter:!0}),c.f(h,f,v)}},1880:function(l,s,r){"use strict";var d=r(9985),c=r(2560),h=r(8702),f=r(5014);l.exports=function(v,x,w,b){b||(b={});var C=b.enumerable,P=b.name!==void 0?b.name:x;if(d(w)&&h(w,P,b),b.global)C?v[x]=w:f(x,w);else{try{b.unsafe?v[x]&&(C=!0):delete v[x]}catch(E){}C?v[x]=w:c.f(v,x,{value:w,enumerable:!1,configurable:!b.nonConfigurable,writable:!b.nonWritable})}return v}},6045:function(l,s,r){"use strict";var d=r(1880);l.exports=function(c,h,f){for(var v in h)d(c,v,h[v],f);return c}},5014:function(l,s,r){"use strict";var d=r(9037),c=Object.defineProperty;l.exports=function(h,f){try{c(d,h,{value:f,configurable:!0,writable:!0})}catch(v){d[h]=f}return f}},8494:function(l,s,r){"use strict";var d=r(3691),c=TypeError;l.exports=function(h,f){if(!delete h[f])throw new c("Cannot delete property "+d(f)+" of "+d(h))}},7697:function(l,s,r){"use strict";var d=r(3689);l.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},2659:function(l){"use strict";var s=typeof document=="object"&&document.all,r=s===void 0&&s!==void 0;l.exports={all:s,IS_HTMLDDA:r}},6420:function(l,s,r){"use strict";var d=r(9037),c=r(8999),h=d.document,f=c(h)&&c(h.createElement);l.exports=function(v){return f?h.createElement(v):{}}},5565:function(l){"use strict";var s=TypeError;l.exports=function(r){if(r>9007199254740991)throw s("Maximum allowed index exceeded");return r}},6338:function(l){"use strict";l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(l,s,r){"use strict";var d=r(6420)("span").classList,c=d&&d.constructor&&d.constructor.prototype;l.exports=c===Object.prototype?void 0:c},7365:function(l,s,r){"use strict";var d=r(71).match(/firefox\/(\d+)/i);l.exports=!!d&&+d[1]},2532:function(l,s,r){"use strict";var d=r(8563),c=r(806);l.exports=!d&&!c&&typeof window=="object"&&typeof document=="object"},8563:function(l){"use strict";l.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},7298:function(l,s,r){"use strict";var d=r(71);l.exports=/MSIE|Trident/.test(d)},3221:function(l,s,r){"use strict";var d=r(71);l.exports=/ipad|iphone|ipod/i.test(d)&&(typeof Pebble=="undefined"?"undefined":_typeof(Pebble))<"u"},4764:function(l,s,r){"use strict";var d=r(71);l.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},806:function(l,s,r){"use strict";var d=r(9037),c=r(6648);l.exports=c(d.process)==="process"},7486:function(l,s,r){"use strict";var d=r(71);l.exports=/web0s(?!.*chrome)/i.test(d)},71:function(l){"use strict";l.exports=(typeof navigator=="undefined"?"undefined":_typeof(navigator))<"u"&&String(navigator.userAgent)||""},3615:function(l,s,r){"use strict";var d,c,h=r(9037),f=r(71),v=h.process,x=h.Deno,w=v&&v.versions||x&&x.version,b=w&&w.v8;b&&(c=(d=b.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!c&&f&&(!(d=f.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=f.match(/Chrome\/(\d+)/))&&(c=+d[1]),l.exports=c},7922:function(l,s,r){"use strict";var d=r(71).match(/AppleWebKit\/(\d+)\./);l.exports=!!d&&+d[1]},2739:function(l){"use strict";l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(l,s,r){"use strict";var d=r(9037),c=r(2474).f,h=r(5773),f=r(1880),v=r(5014),x=r(8758),w=r(5266);l.exports=function(b,C){var P,E,T,m,a,p=b.target,g=b.global,y=b.stat;if(P=g?d:y?d[p]||v(p,{}):(d[p]||{}).prototype)for(E in C){if(m=C[E],T=b.dontCallGetSet?(a=c(P,E))&&a.value:P[E],!w(g?E:p+(y?".":"#")+E,b.forced)&&T!==void 0){if((typeof m=="undefined"?"undefined":_typeof(m))==(typeof T=="undefined"?"undefined":_typeof(T)))continue;x(m,T)}(b.sham||T&&T.sham)&&h(m,"sham",!0),f(P,E,m,b)}}},3689:function(l){"use strict";l.exports=function(s){try{return!!s()}catch(r){return!0}}},8678:function(l,s,r){"use strict";r(4043);var d=r(6576),c=r(1880),h=r(6308),f=r(3689),v=r(4201),x=r(5773),w=v("species"),b=RegExp.prototype;l.exports=function(C,P,E,T){var m=v(C),a=!f(function(){var _={};return _[m]=function(){return 7},""[C](_)!==7}),p=a&&!f(function(){var _=!1,j=/a/;return C==="split"&&((j={}).constructor={},j.constructor[w]=function(){return j},j.flags="",j[m]=/./[m]),j.exec=function(){return _=!0,null},j[m](""),!_});if(!a||!p||E){var g=d(/./[m]),y=P(m,""[C],function(_,j,R,D,H){var K=d(_),J=j.exec;return J===h||J===b.exec?a&&!H?{done:!0,value:g(j,R,D)}:{done:!0,value:K(R,j,D)}:{done:!1}});c(String.prototype,C,y[0]),c(b,m,y[1])}T&&x(b[m],"sham",!0)}},7809:function(l,s,r){"use strict";var d=r(2297),c=r(6310),h=r(5565),f=r(4071),v=function(x,w,b,C,P,E,T,m){for(var a,p,g=P,y=0,_=!!T&&f(T,m);y<C;)y in b&&(a=_?_(b[y],y,w):b[y],E>0&&d(a)?(p=c(a),g=v(x,w,a,p,g,E-1)-1):(h(g+1),x[g]=a),g++),y++;return g};l.exports=v},1594:function(l,s,r){"use strict";var d=r(3689);l.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},1735:function(l,s,r){"use strict";var d=r(7215),c=Function.prototype,h=c.apply,f=c.call;l.exports=typeof Reflect=="object"&&Reflect.apply||(d?f.bind(h):function(){return f.apply(h,arguments)})},4071:function(l,s,r){"use strict";var d=r(6576),c=r(509),h=r(7215),f=d(d.bind);l.exports=function(v,x){return c(v),x===void 0?v:h?f(v,x):function(){return v.apply(x,arguments)}}},7215:function(l,s,r){"use strict";var d=r(3689);l.exports=!d(function(){var c=function(){}.bind();return typeof c!="function"||c.hasOwnProperty("prototype")})},6761:function(l,s,r){"use strict";var d=r(8844),c=r(509),h=r(8999),f=r(6812),v=r(6004),x=r(7215),w=Function,b=d([].concat),C=d([].join),P={};l.exports=x?w.bind:function(E){var T=c(this),m=T.prototype,a=v(arguments,1),p=function(){var g=b(a,v(arguments));return _instanceof(this,p)?function(y,_,j){if(!f(P,_)){for(var R=[],D=0;D<_;D++)R[D]="a["+D+"]";P[_]=w("C,a","return new C("+C(R,",")+")")}return P[_](y,j)}(T,g.length,g):T.apply(E,g)};return h(m)&&(p.prototype=m),p}},2615:function(l,s,r){"use strict";var d=r(7215),c=Function.prototype.call;l.exports=d?c.bind(c):function(){return c.apply(c,arguments)}},1236:function(l,s,r){"use strict";var d=r(7697),c=r(6812),h=Function.prototype,f=d&&Object.getOwnPropertyDescriptor,v=c(h,"name"),x=v&&function(){}.name==="something",w=v&&(!d||d&&f(h,"name").configurable);l.exports={EXISTS:v,PROPER:x,CONFIGURABLE:w}},2743:function(l,s,r){"use strict";var d=r(8844),c=r(509);l.exports=function(h,f,v){try{return d(c(Object.getOwnPropertyDescriptor(h,f)[v]))}catch(x){}}},6576:function(l,s,r){"use strict";var d=r(6648),c=r(8844);l.exports=function(h){if(d(h)==="Function")return c(h)}},8844:function(l,s,r){"use strict";var d=r(7215),c=Function.prototype,h=c.call,f=d&&c.bind.bind(h,h);l.exports=d?f:function(v){return function(){return h.apply(v,arguments)}}},6058:function(l,s,r){"use strict";var d=r(9037),c=r(9985);l.exports=function(h,f){return arguments.length<2?(v=d[h],c(v)?v:void 0):d[h]&&d[h][f];var v}},1664:function(l,s,r){"use strict";var d=r(926),c=r(4849),h=r(981),f=r(9478),v=r(4201)("iterator");l.exports=function(x){if(!h(x))return c(x,v)||c(x,"@@iterator")||f[d(x)]}},5185:function(l,s,r){"use strict";var d=r(2615),c=r(509),h=r(5027),f=r(3691),v=r(1664),x=TypeError;l.exports=function(w,b){var C=arguments.length<2?v(w):b;if(c(C))return h(d(C,w));throw new x(f(w)+" is not iterable")}},2643:function(l,s,r){"use strict";var d=r(8844),c=r(2297),h=r(9985),f=r(6648),v=r(4327),x=d([].push);l.exports=function(w){if(h(w))return w;if(c(w)){for(var b=w.length,C=[],P=0;P<b;P++){var E=w[P];typeof E=="string"?x(C,E):typeof E!="number"&&f(E)!=="Number"&&f(E)!=="String"||x(C,v(E))}var T=C.length,m=!0;return function(a,p){if(m)return m=!1,p;if(c(this))return p;for(var g=0;g<T;g++)if(C[g]===a)return p}}}},4849:function(l,s,r){"use strict";var d=r(509),c=r(981);l.exports=function(h,f){var v=h[f];return c(v)?void 0:d(v)}},7017:function(l,s,r){"use strict";var d=r(8844),c=r(690),h=Math.floor,f=d("".charAt),v=d("".replace),x=d("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,b=/\$([$&'`]|\d{1,2})/g;l.exports=function(C,P,E,T,m,a){var p=E+C.length,g=T.length,y=b;return m!==void 0&&(m=c(m),y=w),v(a,y,function(_,j){var R;switch(f(j,0)){case"$":return"$";case"&":return C;case"`":return x(P,0,E);case"'":return x(P,p);case"<":R=m[x(j,1,-1)];break;default:var D=+j;if(D===0)return _;if(D>g){var H=h(D/10);return H===0?_:H<=g?T[H-1]===void 0?f(j,1):T[H-1]+f(j,1):_}R=T[D-1]}return R===void 0?"":R})}},9037:function(l,s,r){"use strict";var d=function(h){return h&&h.Math===Math&&h};l.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof r.g=="object"&&r.g)||d(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},6812:function(l,s,r){"use strict";var d=r(8844),c=r(690),h=d({}.hasOwnProperty);l.exports=Object.hasOwn||function(f,v){return h(c(f),v)}},7248:function(l){"use strict";l.exports={}},920:function(l){"use strict";l.exports=function(s,r){try{arguments.length===1?console.error(s):console.error(s,r)}catch(d){}}},2688:function(l,s,r){"use strict";var d=r(6058);l.exports=d("document","documentElement")},8506:function(l,s,r){"use strict";var d=r(7697),c=r(3689),h=r(6420);l.exports=!d&&!c(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},4413:function(l,s,r){"use strict";var d=r(8844),c=r(3689),h=r(6648),f=Object,v=d("".split);l.exports=c(function(){return!f("z").propertyIsEnumerable(0)})?function(x){return h(x)==="String"?v(x,""):f(x)}:f},3457:function(l,s,r){"use strict";var d=r(9985),c=r(8999),h=r(9385);l.exports=function(f,v,x){var w,b;return h&&d(w=v.constructor)&&w!==x&&c(b=w.prototype)&&b!==x.prototype&&h(f,b),f}},6738:function(l,s,r){"use strict";var d=r(8844),c=r(9985),h=r(4091),f=d(Function.toString);c(h.inspectSource)||(h.inspectSource=function(v){return f(v)}),l.exports=h.inspectSource},5375:function(l,s,r){"use strict";var d=r(9989),c=r(8844),h=r(7248),f=r(8999),v=r(6812),x=r(2560).f,w=r(2741),b=r(6062),C=r(1129),P=r(4630),E=r(1594),T=!1,m=P("meta"),a=0,p=function(_){x(_,m,{value:{objectID:"O"+a++,weakData:{}}})},g=l.exports={enable:function(){g.enable=function(){},T=!0;var _=w.f,j=c([].splice),R={};R[m]=1,_(R).length&&(w.f=function(D){for(var H=_(D),K=0,J=H.length;K<J;K++)if(H[K]===m){j(H,K,1);break}return H},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:b.f}))},fastKey:function(_,j){if(!f(_))return(typeof _=="undefined"?"undefined":_typeof(_))=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!v(_,m)){if(!C(_))return"F";if(!j)return"E";p(_)}return _[m].objectID},getWeakData:function(_,j){if(!v(_,m)){if(!C(_))return!0;if(!j)return!1;p(_)}return _[m].weakData},onFreeze:function(_){return E&&T&&C(_)&&!v(_,m)&&p(_),_}};h[m]=!0},618:function(l,s,r){"use strict";var d,c,h,f=r(9834),v=r(9037),x=r(8999),w=r(5773),b=r(6812),C=r(4091),P=r(2713),E=r(7248),T="Object already initialized",m=v.TypeError,a=v.WeakMap;if(f||C.state){var p=C.state||(C.state=new a);p.get=p.get,p.has=p.has,p.set=p.set,d=function(_,j){if(p.has(_))throw new m(T);return j.facade=_,p.set(_,j),j},c=function(_){return p.get(_)||{}},h=function(_){return p.has(_)}}else{var g=P("state");E[g]=!0,d=function(_,j){if(b(_,g))throw new m(T);return j.facade=_,w(_,g,j),j},c=function(_){return b(_,g)?_[g]:{}},h=function(_){return b(_,g)}}l.exports={set:d,get:c,has:h,enforce:function(_){return h(_)?c(_):d(_,{})},getterFor:function(_){return function(j){var R;if(!x(j)||(R=c(j)).type!==_)throw new m("Incompatible receiver, "+_+" required");return R}}}},3292:function(l,s,r){"use strict";var d=r(4201),c=r(9478),h=d("iterator"),f=Array.prototype;l.exports=function(v){return v!==void 0&&(c.Array===v||f[h]===v)}},2297:function(l,s,r){"use strict";var d=r(6648);l.exports=Array.isArray||function(c){return d(c)==="Array"}},9985:function(l,s,r){"use strict";var d=r(2659),c=d.all;l.exports=d.IS_HTMLDDA?function(h){return typeof h=="function"||h===c}:function(h){return typeof h=="function"}},9429:function(l,s,r){"use strict";var d=r(8844),c=r(3689),h=r(9985),f=r(926),v=r(6058),x=r(6738),w=function(){},b=[],C=v("Reflect","construct"),P=/^\s*(?:class|function)\b/,E=d(P.exec),T=!P.test(w),m=function(g){if(!h(g))return!1;try{return C(w,b,g),!0}catch(y){return!1}},a=function(g){if(!h(g))return!1;switch(f(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!E(P,x(g))}catch(y){return!0}};a.sham=!0,l.exports=!C||c(function(){var p;return m(m.call)||!m(Object)||!m(function(){p=!0})||p})?a:m},6251:function(l,s,r){"use strict";var d=r(6812);l.exports=function(c){return c!==void 0&&(d(c,"value")||d(c,"writable"))}},5266:function(l,s,r){"use strict";var d=r(3689),c=r(9985),h=/#|\.prototype\./,f=function(P,E){var T=x[v(P)];return T===b||T!==w&&(c(E)?d(E):!!E)},v=f.normalize=function(P){return String(P).replace(h,".").toLowerCase()},x=f.data={},w=f.NATIVE="N",b=f.POLYFILL="P";l.exports=f},981:function(l){"use strict";l.exports=function(s){return s==null}},8999:function(l,s,r){"use strict";var d=r(9985),c=r(2659),h=c.all;l.exports=c.IS_HTMLDDA?function(f){return typeof f=="object"?f!==null:d(f)||f===h}:function(f){return typeof f=="object"?f!==null:d(f)}},3931:function(l){"use strict";l.exports=!1},1245:function(l,s,r){"use strict";var d=r(8999),c=r(6648),h=r(4201)("match");l.exports=function(f){var v;return d(f)&&((v=f[h])!==void 0?!!v:c(f)==="RegExp")}},734:function(l,s,r){"use strict";var d=r(6058),c=r(9985),h=r(3622),f=r(9525),v=Object;l.exports=f?function(x){return(typeof x=="undefined"?"undefined":_typeof(x))=="symbol"}:function(x){var w=d("Symbol");return c(w)&&h(w.prototype,v(x))}},8734:function(l,s,r){"use strict";var d=r(4071),c=r(2615),h=r(5027),f=r(3691),v=r(3292),x=r(6310),w=r(3622),b=r(5185),C=r(1664),P=r(2125),E=TypeError,T=function(p,g){this.stopped=p,this.result=g},m=T.prototype;l.exports=function(a,p,g){var y,_,j,R,D,H,K,J=g&&g.that,F=!(!g||!g.AS_ENTRIES),de=!(!g||!g.IS_RECORD),re=!(!g||!g.IS_ITERATOR),V=!(!g||!g.INTERRUPTED),X=d(p,J),oe=function(Z){return y&&P(y,"normal",Z),new T(!0,Z)},G=function(Z){return F?(h(Z),V?X(Z[0],Z[1],oe):X(Z[0],Z[1])):V?X(Z,oe):X(Z)};if(de)y=a.iterator;else if(re)y=a;else{if(!(_=C(a)))throw new E(f(a)+" is not iterable");if(v(_)){for(j=0,R=x(a);R>j;j++)if((D=G(a[j]))&&w(m,D))return D;return new T(!1)}y=b(a,_)}for(H=de?a.next:y.next;!(K=c(H,y)).done;){try{D=G(K.value)}catch(Y){P(y,"throw",Y)}if(typeof D=="object"&&D&&w(m,D))return D}return new T(!1)}},2125:function(l,s,r){"use strict";var d=r(2615),c=r(5027),h=r(4849);l.exports=function(f,v,x){var w,b;c(f);try{if(!(w=h(f,"return"))){if(v==="throw")throw x;return x}w=d(w,f)}catch(C){b=!0,w=C}if(v==="throw")throw x;if(b)throw w;return c(w),x}},974:function(l,s,r){"use strict";var d=r(2013).IteratorPrototype,c=r(5391),h=r(5684),f=r(5997),v=r(9478),x=function(){return this};l.exports=function(w,b,C,P){var E=b+" Iterator";return w.prototype=c(d,{next:h(+!P,C)}),f(w,E,!1,!0),v[E]=x,w}},1934:function(l,s,r){"use strict";var d=r(9989),c=r(2615),h=r(3931),f=r(1236),v=r(9985),x=r(974),w=r(1868),b=r(9385),C=r(5997),P=r(5773),E=r(1880),T=r(4201),m=r(9478),a=r(2013),p=f.PROPER,g=f.CONFIGURABLE,y=a.IteratorPrototype,_=a.BUGGY_SAFARI_ITERATORS,j=T("iterator"),R="keys",D="values",H="entries",K=function(){return this};l.exports=function(J,F,de,re,V,X,oe){x(de,F,re);var G,Y,Z,ae=function(dt){if(dt===V&&Ze)return Ze;if(!_&&dt&&dt in Le)return Le[dt];switch(dt){case R:case D:case H:return function(){return new de(this,dt)}}return function(){return new de(this)}},ie=F+" Iterator",je=!1,Le=J.prototype,ke=Le[j]||Le["@@iterator"]||V&&Le[V],Ze=!_&&ke||ae(V),Ve=F==="Array"&&Le.entries||ke;if(Ve&&(G=w(Ve.call(new J)))!==Object.prototype&&G.next&&(h||w(G)===y||(b?b(G,y):v(G[j])||E(G,j,K)),C(G,ie,!0,!0),h&&(m[ie]=K)),p&&V===D&&ke&&ke.name!==D&&(!h&&g?P(Le,"name",D):(je=!0,Ze=function(){return c(ke,this)})),V)if(Y={values:ae(D),keys:X?Ze:ae(R),entries:ae(H)},oe)for(Z in Y)(_||je||!(Z in Le))&&E(Le,Z,Y[Z]);else d({target:F,proto:!0,forced:_||je},Y);return h&&!oe||Le[j]===Ze||E(Le,j,Ze,{name:V}),m[F]=Ze,Y}},2013:function(l,s,r){"use strict";var d,c,h,f=r(3689),v=r(9985),x=r(8999),w=r(5391),b=r(1868),C=r(1880),P=r(4201),E=r(3931),T=P("iterator"),m=!1;[].keys&&("next"in(h=[].keys())?(c=b(b(h)))!==Object.prototype&&(d=c):m=!0),!x(d)||f(function(){var a={};return d[T].call(a)!==a})?d={}:E&&(d=w(d)),v(d[T])||C(d,T,function(){return this}),l.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:m}},9478:function(l){"use strict";l.exports={}},6310:function(l,s,r){"use strict";var d=r(3126);l.exports=function(c){return d(c.length)}},8702:function(l,s,r){"use strict";var d=r(8844),c=r(3689),h=r(9985),f=r(6812),v=r(7697),x=r(1236).CONFIGURABLE,w=r(6738),b=r(618),C=b.enforce,P=b.get,E=String,T=Object.defineProperty,m=d("".slice),a=d("".replace),p=d([].join),g=v&&!c(function(){return T(function(){},"length",{value:8}).length!==8}),y=String(String).split("String"),_=l.exports=function(R,D,H){m(E(D),0,7)==="Symbol("&&(D="["+a(E(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),H&&H.getter&&(D="get "+D),H&&H.setter&&(D="set "+D),(!f(R,"name")||x&&R.name!==D)&&(v?T(R,"name",{value:D,configurable:!0}):R.name=D),g&&H&&f(H,"arity")&&R.length!==H.arity&&T(R,"length",{value:H.arity});try{H&&f(H,"constructor")&&H.constructor?v&&T(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch(J){}var K=C(R);return f(K,"source")||(K.source=p(y,typeof D=="string"?D:"")),R};Function.prototype.toString=_(function(){return h(this)&&P(this).source||w(this)},"toString")},5680:function(l){"use strict";l.exports=Math.sign||function(s){var r=+s;return r===0||r!=r?r:r<0?-1:1}},8828:function(l){"use strict";var s=Math.ceil,r=Math.floor;l.exports=Math.trunc||function(d){var c=+d;return(c>0?r:s)(c)}},231:function(l,s,r){"use strict";var d,c,h,f,v,x=r(9037),w=r(4071),b=r(2474).f,C=r(9886).set,P=r(4410),E=r(4764),T=r(3221),m=r(7486),a=r(806),p=x.MutationObserver||x.WebKitMutationObserver,g=x.document,y=x.process,_=x.Promise,j=b(x,"queueMicrotask"),R=j&&j.value;if(!R){var D=new P,H=function(){var J,F;for(a&&(J=y.domain)&&J.exit();F=D.get();)try{F()}catch(de){throw D.head&&d(),de}J&&J.enter()};E||a||m||!p||!g?!T&&_&&_.resolve?((f=_.resolve(void 0)).constructor=_,v=w(f.then,f),d=function(){v(H)}):a?d=function(){y.nextTick(H)}:(C=w(C,x),d=function(){C(H)}):(c=!0,h=g.createTextNode(""),new p(H).observe(h,{characterData:!0}),d=function(){h.data=c=!c}),R=function(J){D.head||d(),D.add(J)}}l.exports=R},8742:function(l,s,r){"use strict";var d=r(509),c=TypeError,h=function(v){var x,w;this.promise=new v(function(b,C){if(x!==void 0||w!==void 0)throw new c("Bad Promise constructor");x=b,w=C}),this.resolve=d(x),this.reject=d(w)};l.exports.f=function(f){return new h(f)}},2124:function(l,s,r){"use strict";var d=r(1245),c=TypeError;l.exports=function(h){if(d(h))throw new c("The method doesn't accept regular expressions");return h}},7897:function(l,s,r){"use strict";var d=r(9037),c=r(3689),h=r(8844),f=r(4327),v=r(1435).trim,x=r(6350),w=d.parseInt,b=d.Symbol,C=b&&b.iterator,P=/^[+-]?0x/i,E=h(P.exec),T=w(x+"08")!==8||w(x+"0x16")!==22||C&&!c(function(){w(Object(C))});l.exports=T?function(m,a){var p=v(f(m));return w(p,a>>>0||(E(P,p)?16:10))}:w},5394:function(l,s,r){"use strict";var d=r(7697),c=r(8844),h=r(2615),f=r(3689),v=r(300),x=r(7518),w=r(9556),b=r(690),C=r(4413),P=Object.assign,E=Object.defineProperty,T=c([].concat);l.exports=!P||f(function(){if(d&&P({b:1},P(E({},"a",{enumerable:!0,get:function(){E(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},a={},p=Symbol("assign detection"),g="abcdefghijklmnopqrst";return m[p]=7,g.split("").forEach(function(y){a[y]=y}),P({},m)[p]!==7||v(P({},a)).join("")!==g})?function(m,a){for(var p=b(m),g=arguments.length,y=1,_=x.f,j=w.f;g>y;)for(var R,D=C(arguments[y++]),H=_?T(v(D),_(D)):v(D),K=H.length,J=0;K>J;)R=H[J++],d&&!h(j,D,R)||(p[R]=D[R]);return p}:P},5391:function(l,s,r){"use strict";var d,c=r(5027),h=r(8920),f=r(2739),v=r(7248),x=r(2688),w=r(6420),b=r(2713),C="prototype",P="script",E=b("IE_PROTO"),T=function(){},m=function(y){return"<"+P+">"+y+"</"+P+">"},a=function(y){y.write(m("")),y.close();var _=y.parentWindow.Object;return y=null,_},p=function(){try{d=new ActiveXObject("htmlfile")}catch(R){}var g,y,_;p=(typeof document=="undefined"?"undefined":_typeof(document))<"u"?document.domain&&d?a(d):(y=w("iframe"),_="java"+P+":",y.style.display="none",x.appendChild(y),y.src=String(_),(g=y.contentWindow.document).open(),g.write(m("document.F=Object")),g.close(),g.F):a(d);for(var j=f.length;j--;)delete p[C][f[j]];return p()};v[E]=!0,l.exports=Object.create||function(g,y){var _;return g!==null?(T[C]=c(g),_=new T,T[C]=null,_[E]=g):_=p(),y===void 0?_:h.f(_,y)}},8920:function(l,s,r){"use strict";var d=r(7697),c=r(5648),h=r(2560),f=r(5027),v=r(5290),x=r(300);s.f=d&&!c?Object.defineProperties:function(w,b){f(w);for(var C,P=v(b),E=x(b),T=E.length,m=0;T>m;)h.f(w,C=E[m++],P[C]);return w}},2560:function(l,s,r){"use strict";var d=r(7697),c=r(8506),h=r(5648),f=r(5027),v=r(8360),x=TypeError,w=Object.defineProperty,b=Object.getOwnPropertyDescriptor,C="enumerable",P="configurable",E="writable";s.f=d?h?function(T,m,a){if(f(T),m=v(m),f(a),typeof T=="function"&&m==="prototype"&&"value"in a&&E in a&&!a[E]){var p=b(T,m);p&&p[E]&&(T[m]=a.value,a={configurable:P in a?a[P]:p[P],enumerable:C in a?a[C]:p[C],writable:!1})}return w(T,m,a)}:w:function(T,m,a){if(f(T),m=v(m),f(a),c)try{return w(T,m,a)}catch(p){}if("get"in a||"set"in a)throw new x("Accessors not supported");return"value"in a&&(T[m]=a.value),T}},2474:function(l,s,r){"use strict";var d=r(7697),c=r(2615),h=r(9556),f=r(5684),v=r(5290),x=r(8360),w=r(6812),b=r(8506),C=Object.getOwnPropertyDescriptor;s.f=d?C:function(P,E){if(P=v(P),E=x(E),b)try{return C(P,E)}catch(T){}if(w(P,E))return f(!c(h.f,P,E),P[E])}},6062:function(l,s,r){"use strict";var d=r(6648),c=r(5290),h=r(2741).f,f=r(9015),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(x){return v&&d(x)==="Window"?function(w){try{return h(w)}catch(b){return f(v)}}(x):h(c(x))}},2741:function(l,s,r){"use strict";var d=r(4948),c=r(2739).concat("length","prototype");s.f=Object.getOwnPropertyNames||function(h){return d(h,c)}},7518:function(l,s){"use strict";s.f=Object.getOwnPropertySymbols},1868:function(l,s,r){"use strict";var d=r(6812),c=r(9985),h=r(690),f=r(2713),v=r(1748),x=f("IE_PROTO"),w=Object,b=w.prototype;l.exports=v?w.getPrototypeOf:function(C){var P=h(C);if(d(P,x))return P[x];var E=P.constructor;return c(E)&&_instanceof(P,E)?E.prototype:_instanceof(P,w)?b:null}},1129:function(l,s,r){"use strict";var d=r(3689),c=r(8999),h=r(6648),f=r(1655),v=Object.isExtensible,x=d(function(){v(1)});l.exports=x||f?function(w){return!!c(w)&&(!f||h(w)!=="ArrayBuffer")&&(!v||v(w))}:v},3622:function(l,s,r){"use strict";var d=r(8844);l.exports=d({}.isPrototypeOf)},4948:function(l,s,r){"use strict";var d=r(8844),c=r(6812),h=r(5290),f=r(4328).indexOf,v=r(7248),x=d([].push);l.exports=function(w,b){var C,P=h(w),E=0,T=[];for(C in P)!c(v,C)&&c(P,C)&&x(T,C);for(;b.length>E;)c(P,C=b[E++])&&(~f(T,C)||x(T,C));return T}},300:function(l,s,r){"use strict";var d=r(4948),c=r(2739);l.exports=Object.keys||function(h){return d(h,c)}},9556:function(l,s){"use strict";var r={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,c=d&&!r.call({1:2},1);s.f=c?function(h){var f=d(this,h);return!!f&&f.enumerable}:r},9385:function(l,s,r){"use strict";var d=r(2743),c=r(5027),h=r(3550);l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var f,v=!1,x={};try{(f=d(Object.prototype,"__proto__","set"))(x,[]),v=_instanceof(x,Array)}catch(w){}return function(w,b){return c(w),h(b),v?f(w,b):w.__proto__=b,w}}():void 0)},9419:function(l,s,r){"use strict";var d=r(7697),c=r(3689),h=r(8844),f=r(1868),v=r(300),x=r(5290),w=h(r(9556).f),b=h([].push),C=d&&c(function(){var E=Object.create(null);return E[2]=2,!w(E,2)}),P=function(T){return function(m){for(var a,p=x(m),g=v(p),y=C&&f(p)===null,_=g.length,j=0,R=[];_>j;)a=g[j++],d&&!(y?a in p:w(p,a))||b(R,T?[a,p[a]]:p[a]);return R}};l.exports={entries:P(!0),values:P(!1)}},5073:function(l,s,r){"use strict";var d=r(3043),c=r(926);l.exports=d?{}.toString:function(){return"[object "+c(this)+"]"}},5899:function(l,s,r){"use strict";var d=r(2615),c=r(9985),h=r(8999),f=TypeError;l.exports=function(v,x){var w,b;if(x==="string"&&c(w=v.toString)&&!h(b=d(w,v))||c(w=v.valueOf)&&!h(b=d(w,v))||x!=="string"&&c(w=v.toString)&&!h(b=d(w,v)))return b;throw new f("Can't convert object to primitive value")}},9152:function(l,s,r){"use strict";var d=r(6058),c=r(8844),h=r(2741),f=r(7518),v=r(5027),x=c([].concat);l.exports=d("Reflect","ownKeys")||function(w){var b=h.f(v(w)),C=f.f;return C?x(b,C(w)):b}},496:function(l,s,r){"use strict";var d=r(9037);l.exports=d},9302:function(l){"use strict";l.exports=function(s){try{return{error:!1,value:s()}}catch(r){return{error:!0,value:r}}}},7073:function(l,s,r){"use strict";var d=r(9037),c=r(7919),h=r(9985),f=r(5266),v=r(6738),x=r(4201),w=r(2532),b=r(8563),C=r(3931),P=r(3615),E=c&&c.prototype,T=x("species"),m=!1,a=h(d.PromiseRejectionEvent),p=f("Promise",function(){var g=v(c),y=g!==String(c);if(!y&&P===66||C&&(!E.catch||!E.finally))return!0;if(!P||P<51||!/native code/.test(g)){var _=new c(function(R){R(1)}),j=function(D){D(function(){},function(){})};if((_.constructor={})[T]=j,!(m=_instanceof(_.then(function(){}),j)))return!0}return!y&&(w||b)&&!a});l.exports={CONSTRUCTOR:p,REJECTION_EVENT:a,SUBCLASSING:m}},7919:function(l,s,r){"use strict";var d=r(9037);l.exports=d.Promise},2945:function(l,s,r){"use strict";var d=r(5027),c=r(8999),h=r(8742);l.exports=function(f,v){if(d(f),c(v)&&v.constructor===f)return v;var x=h.f(f);return(0,x.resolve)(v),x.promise}},562:function(l,s,r){"use strict";var d=r(7919),c=r(6431),h=r(7073).CONSTRUCTOR;l.exports=h||!c(function(f){d.all(f).then(void 0,function(){})})},8055:function(l,s,r){"use strict";var d=r(2560).f;l.exports=function(c,h,f){f in c||d(c,f,{configurable:!0,get:function(){return h[f]},set:function(x){h[f]=x}})}},4410:function(l){"use strict";var s=function(){this.head=null,this.tail=null};s.prototype={add:function(d){var c={item:d,next:null},h=this.tail;h?h.next=c:this.head=c,this.tail=c},get:function(){var d=this.head;if(d)return(this.head=d.next)===null&&(this.tail=null),d.item}},l.exports=s},6100:function(l,s,r){"use strict";var d=r(2615),c=r(5027),h=r(9985),f=r(6648),v=r(6308),x=TypeError;l.exports=function(w,b){var C=w.exec;if(h(C)){var P=d(C,w,b);return P!==null&&c(P),P}if(f(w)==="RegExp")return d(v,w,b);throw new x("RegExp#exec called on incompatible receiver")}},6308:function(l,s,r){"use strict";var d,c,h=r(2615),f=r(8844),v=r(4327),x=r(9633),w=r(7901),b=r(3430),C=r(5391),P=r(618).get,E=r(2100),T=r(6422),m=b("native-string-replace",String.prototype.replace),a=RegExp.prototype.exec,p=a,g=f("".charAt),y=f("".indexOf),_=f("".replace),j=f("".slice),R=(c=/b*/g,h(a,d=/a/,"a"),h(a,c,"a"),d.lastIndex!==0||c.lastIndex!==0),D=w.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(R||H||D||E||T)&&(p=function(K){var J,F,de,re,V,X,oe,G=this,Y=P(G),Z=v(K),ae=Y.raw;if(ae)return ae.lastIndex=G.lastIndex,J=h(p,ae,Z),G.lastIndex=ae.lastIndex,J;var ie=Y.groups,je=D&&G.sticky,Le=h(x,G),ke=G.source,Ze=0,Ve=Z;if(je&&(Le=_(Le,"y",""),y(Le,"g")===-1&&(Le+="g"),Ve=j(Z,G.lastIndex),G.lastIndex>0&&(!G.multiline||G.multiline&&g(Z,G.lastIndex-1)!=="\n")&&(ke="(?: "+ke+")",Ve=" "+Ve,Ze++),F=new RegExp("^(?:"+ke+")",Le)),H&&(F=new RegExp("^"+ke+"$(?!\\s)",Le)),R&&(de=G.lastIndex),re=h(a,je?F:G,Ve),je?re?(re.input=j(re.input,Ze),re[0]=j(re[0],Ze),re.index=G.lastIndex,G.lastIndex+=re[0].length):G.lastIndex=0:R&&re&&(G.lastIndex=G.global?re.index+re[0].length:de),H&&re&&re.length>1&&h(m,re[0],F,function(){for(V=1;V<arguments.length-2;V++)arguments[V]===void 0&&(re[V]=void 0)}),re&&ie)for(re.groups=X=C(null),V=0;V<ie.length;V++)X[(oe=ie[V])[0]]=re[oe[1]];return re}),l.exports=p},9633:function(l,s,r){"use strict";var d=r(5027);l.exports=function(){var c=d(this),h="";return c.hasIndices&&(h+="d"),c.global&&(h+="g"),c.ignoreCase&&(h+="i"),c.multiline&&(h+="m"),c.dotAll&&(h+="s"),c.unicode&&(h+="u"),c.unicodeSets&&(h+="v"),c.sticky&&(h+="y"),h}},3477:function(l,s,r){"use strict";var d=r(2615),c=r(6812),h=r(3622),f=r(9633),v=RegExp.prototype;l.exports=function(x){var w=x.flags;return w!==void 0||"flags"in v||c(x,"flags")||!h(v,x)?w:d(f,x)}},7901:function(l,s,r){"use strict";var d=r(3689),c=r(9037).RegExp,h=d(function(){var x=c("a","y");return x.lastIndex=2,x.exec("abcd")!==null}),f=h||d(function(){return!c("a","y").sticky}),v=h||d(function(){var x=c("^r","gy");return x.lastIndex=2,x.exec("str")!==null});l.exports={BROKEN_CARET:v,MISSED_STICKY:f,UNSUPPORTED_Y:h}},2100:function(l,s,r){"use strict";var d=r(3689),c=r(9037).RegExp;l.exports=d(function(){var h=c(".","s");return!(h.dotAll&&h.test("\n")&&h.flags==="s")})},6422:function(l,s,r){"use strict";var d=r(3689),c=r(9037).RegExp;l.exports=d(function(){var h=c("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},4684:function(l,s,r){"use strict";var d=r(981),c=TypeError;l.exports=function(h){if(d(h))throw new c("Can't call method on "+h);return h}},953:function(l){"use strict";l.exports=Object.is||function(s,r){return s===r?s!==0||1/s==1/r:s!=s&&r!=r}},4241:function(l,s,r){"use strict";var d=r(6058),c=r(2148),h=r(4201),f=r(7697),v=h("species");l.exports=function(x){var w=d(x);f&&w&&!w[v]&&c(w,v,{configurable:!0,get:function(){return this}})}},5997:function(l,s,r){"use strict";var d=r(2560).f,c=r(6812),h=r(4201)("toStringTag");l.exports=function(f,v,x){f&&!x&&(f=f.prototype),f&&!c(f,h)&&d(f,h,{configurable:!0,value:v})}},2713:function(l,s,r){"use strict";var d=r(3430),c=r(4630),h=d("keys");l.exports=function(f){return h[f]||(h[f]=c(f))}},4091:function(l,s,r){"use strict";var d=r(9037),c=r(5014),h="__core-js_shared__",f=d[h]||c(h,{});l.exports=f},3430:function(l,s,r){"use strict";var d=r(3931),c=r(4091);(l.exports=function(h,f){return c[h]||(c[h]=f!==void 0?f:{})})("versions",[]).push({version:"3.33.3",mode:d?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(l,s,r){"use strict";var d=r(5027),c=r(2655),h=r(981),f=r(4201)("species");l.exports=function(v,x){var w,b=d(v).constructor;return b===void 0||h(w=d(b)[f])?x:c(w)}},730:function(l,s,r){"use strict";var d=r(8844),c=r(8700),h=r(4327),f=r(4684),v=d("".charAt),x=d("".charCodeAt),w=d("".slice),b=function(P){return function(E,T){var m,a,p=h(f(E)),g=c(T),y=p.length;return g<0||g>=y?P?"":void 0:(m=x(p,g))<55296||m>56319||g+1===y||(a=x(p,g+1))<56320||a>57343?P?v(p,g):m:P?w(p,g,g+2):a-56320+(m-55296<<10)+65536}};l.exports={codeAt:b(!1),charAt:b(!0)}},1435:function(l,s,r){"use strict";var d=r(8844),c=r(4684),h=r(4327),f=r(6350),v=d("".replace),x=RegExp("^["+f+"]+"),w=RegExp("(^|[^"+f+"])["+f+"]+$"),b=function(P){return function(E){var T=h(c(E));return 1&P&&(T=v(T,x,"")),2&P&&(T=v(T,w,"$1")),T}};l.exports={start:b(1),end:b(2),trim:b(3)}},146:function(l,s,r){"use strict";var d=r(3615),c=r(3689),h=r(9037).String;l.exports=!!Object.getOwnPropertySymbols&&!c(function(){var f=Symbol("symbol detection");return!h(f)||!_instanceof(Object(f),Symbol)||!Symbol.sham&&d&&d<41})},3032:function(l,s,r){"use strict";var d=r(2615),c=r(6058),h=r(4201),f=r(1880);l.exports=function(){var v=c("Symbol"),x=v&&v.prototype,w=x&&x.valueOf,b=h("toPrimitive");x&&!x[b]&&f(x,b,function(C){return d(w,this)},{arity:1})}},6549:function(l,s,r){"use strict";var d=r(146);l.exports=d&&!!Symbol.for&&!!Symbol.keyFor},9886:function(l,s,r){"use strict";var d,c,h,f,v=r(9037),x=r(1735),w=r(4071),b=r(9985),C=r(6812),P=r(3689),E=r(2688),T=r(6004),m=r(6420),a=r(1500),p=r(4764),g=r(806),y=v.setImmediate,_=v.clearImmediate,j=v.process,R=v.Dispatch,D=v.Function,H=v.MessageChannel,K=v.String,J=0,F={},de="onreadystatechange";P(function(){d=v.location});var re=function(Y){if(C(F,Y)){var Z=F[Y];delete F[Y],Z()}},V=function(Y){return function(){re(Y)}},X=function(Y){re(Y.data)},oe=function(Y){v.postMessage(K(Y),d.protocol+"//"+d.host)};y&&_||(y=function(Y){a(arguments.length,1);var Z=b(Y)?Y:D(Y),ae=T(arguments,1);return F[++J]=function(){x(Z,void 0,ae)},c(J),J},_=function(Y){delete F[Y]},g?c=function(Y){j.nextTick(V(Y))}:R&&R.now?c=function(Y){R.now(V(Y))}:H&&!p?(f=(h=new H).port2,h.port1.onmessage=X,c=w(f.postMessage,f)):v.addEventListener&&b(v.postMessage)&&!v.importScripts&&d&&d.protocol!=="file:"&&!P(oe)?(c=oe,v.addEventListener("message",X,!1)):c=de in m("script")?function(Y){E.appendChild(m("script"))[de]=function(){E.removeChild(this),re(Y)}}:function(G){setTimeout(V(G),0)}),l.exports={set:y,clear:_}},3648:function(l,s,r){"use strict";var d=r(8844);l.exports=d(1 .valueOf)},7578:function(l,s,r){"use strict";var d=r(8700),c=Math.max,h=Math.min;l.exports=function(f,v){var x=d(f);return x<0?c(x+v,0):h(x,v)}},5290:function(l,s,r){"use strict";var d=r(4413),c=r(4684);l.exports=function(h){return d(c(h))}},8700:function(l,s,r){"use strict";var d=r(8828);l.exports=function(c){var h=+c;return h!=h||h===0?0:d(h)}},3126:function(l,s,r){"use strict";var d=r(8700),c=Math.min;l.exports=function(h){return h>0?c(d(h),9007199254740991):0}},690:function(l,s,r){"use strict";var d=r(4684),c=Object;l.exports=function(h){return c(d(h))}},8732:function(l,s,r){"use strict";var d=r(2615),c=r(8999),h=r(734),f=r(4849),v=r(5899),x=r(4201),w=TypeError,b=x("toPrimitive");l.exports=function(C,P){if(!c(C)||h(C))return C;var E,T=f(C,b);if(T){if(P===void 0&&(P="default"),E=d(T,C,P),!c(E)||h(E))return E;throw new w("Can't convert object to primitive value")}return P===void 0&&(P="number"),v(C,P)}},8360:function(l,s,r){"use strict";var d=r(8732),c=r(734);l.exports=function(h){var f=d(h,"string");return c(f)?f:f+""}},3043:function(l,s,r){"use strict";var d={};d[r(4201)("toStringTag")]="z",l.exports=String(d)==="[object z]"},4327:function(l,s,r){"use strict";var d=r(926),c=String;l.exports=function(h){if(d(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return c(h)}},3691:function(l){"use strict";var s=String;l.exports=function(r){try{return s(r)}catch(d){return"Object"}}},4630:function(l,s,r){"use strict";var d=r(8844),c=0,h=Math.random(),f=d(1 .toString);l.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+f(++c+h,36)}},6837:function(l,s,r){"use strict";var d=r(3689),c=r(4201),h=r(7697),f=r(3931),v=c("iterator");l.exports=!d(function(){var x=new URL("b?a=1&b=2&c=3","http://a"),w=x.searchParams,b=new URLSearchParams("a=1&a=2&b=3"),C="";return x.pathname="c%20d",w.forEach(function(P,E){w.delete("b"),C+=E+P}),b.delete("a",2),b.delete("b",void 0),f&&(!x.toJSON||!b.has("a",1)||b.has("a",2)||!b.has("a",void 0)||b.has("b"))||!w.size&&(f||!h)||!w.sort||x.href!=="http://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||C!=="a1c3"||new URL("http://x",void 0).host!=="x"})},9525:function(l,s,r){"use strict";var d=r(146);l.exports=d&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol"},5648:function(l,s,r){"use strict";var d=r(7697),c=r(3689);l.exports=d&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},1500:function(l){"use strict";var s=TypeError;l.exports=function(r,d){if(r<d)throw new s("Not enough arguments");return r}},9834:function(l,s,r){"use strict";var d=r(9037),c=r(9985),h=d.WeakMap;l.exports=c(h)&&/native code/.test(String(h))},5405:function(l,s,r){"use strict";var d=r(496),c=r(6812),h=r(6145),f=r(2560).f;l.exports=function(v){var x=d.Symbol||(d.Symbol={});c(x,v)||f(x,v,{value:h.f(v)})}},6145:function(l,s,r){"use strict";var d=r(4201);s.f=d},4201:function(l,s,r){"use strict";var d=r(9037),c=r(3430),h=r(6812),f=r(4630),v=r(146),x=r(9525),w=d.Symbol,b=c("wks"),C=x?w.for||w:w&&w.withoutSetter||f;l.exports=function(P){return h(b,P)||(b[P]=v&&h(w,P)?w[P]:C("Symbol."+P)),b[P]}},6350:function(l){"use strict";l.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},4338:function(l,s,r){"use strict";var d=r(9989),c=r(3689),h=r(2297),f=r(8999),v=r(690),x=r(6310),w=r(5565),b=r(6522),C=r(7120),P=r(9042),E=r(4201),T=r(3615),m=E("isConcatSpreadable"),a=T>=51||!c(function(){var g=[];return g[m]=!1,g.concat()[0]!==g}),p=function(y){if(!f(y))return!1;var _=y[m];return _!==void 0?!!_:h(y)};d({target:"Array",proto:!0,arity:1,forced:!a||!P("concat")},{concat:function(y){var _,j,R,D,H,K=v(this),J=C(K,0),F=0;for(_=-1,R=arguments.length;_<R;_++)if(p(H=_===-1?K:arguments[_]))for(D=x(H),w(F+D),j=0;j<D;j++,F++)j in H&&b(J,F,H[j]);else w(F+1),b(J,F++,H);return J.length=F,J}})},7895:function(l,s,r){"use strict";var d=r(9989),c=r(2872),h=r(7370);d({target:"Array",proto:!0},{fill:c}),h("fill")},8077:function(l,s,r){"use strict";var d=r(9989),c=r(2960).filter;d({target:"Array",proto:!0,forced:!r(9042)("filter")},{filter:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},9772:function(l,s,r){"use strict";var d=r(9989),c=r(2960).findIndex,h=r(7370),f="findIndex",v=!0;f in[]&&Array(1)[f](function(){v=!1}),d({target:"Array",proto:!0,forced:v},{findIndex:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),h(f)},5728:function(l,s,r){"use strict";var d=r(9989),c=r(2960).find,h=r(7370),f="find",v=!0;f in[]&&Array(1)[f](function(){v=!1}),d({target:"Array",proto:!0,forced:v},{find:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),h(f)},4564:function(l,s,r){"use strict";var d=r(9989),c=r(7809),h=r(509),f=r(690),v=r(6310),x=r(7120);d({target:"Array",proto:!0},{flatMap:function(b){var C,P=f(this),E=v(P);return h(b),(C=x(P,0)).length=c(C,P,P,E,0,1,b,arguments.length>1?arguments[1]:void 0),C}})},2795:function(l,s,r){"use strict";var d=r(9989),c=r(7809),h=r(690),f=r(6310),v=r(8700),x=r(7120);d({target:"Array",proto:!0},{flat:function(){var b=arguments.length?arguments[0]:void 0,C=h(this),P=f(C),E=x(C,0);return E.length=c(E,C,C,P,0,b===void 0?1:v(b)),E}})},7049:function(l,s,r){"use strict";var d=r(9989),c=r(1055);d({target:"Array",stat:!0,forced:!r(6431)(function(h){Array.from(h)})},{from:c})},6801:function(l,s,r){"use strict";var d=r(9989),c=r(4328).includes,h=r(3689),f=r(7370);d({target:"Array",proto:!0,forced:h(function(){return!Array(1).includes()})},{includes:function(x){return c(this,x,arguments.length>1?arguments[1]:void 0)}}),f("includes")},752:function(l,s,r){"use strict";var d=r(5290),c=r(7370),h=r(9478),f=r(618),v=r(2560).f,x=r(1934),w=r(7807),b=r(3931),C=r(7697),P="Array Iterator",E=f.set,T=f.getterFor(P);l.exports=x(Array,"Array",function(a,p){E(this,{type:P,target:d(a),index:0,kind:p})},function(){var a=T(this),p=a.target,g=a.index++;if(!p||g>=p.length)return a.target=void 0,w(void 0,!0);switch(a.kind){case"keys":return w(g,!1);case"values":return w(p[g],!1)}return w([g,p[g]],!1)},"values");var m=h.Arguments=h.Array;if(c("keys"),c("values"),c("entries"),!b&&C&&m.name!=="values")try{v(m,"name",{value:"values"})}catch(a){}},6203:function(l,s,r){"use strict";var d=r(9989),c=r(8844),h=r(4413),f=r(5290),v=r(6834),x=c([].join);d({target:"Array",proto:!0,forced:h!==Object||!v("join",",")},{join:function(b){return x(f(this),b===void 0?",":b)}})},886:function(l,s,r){"use strict";var d=r(9989),c=r(2960).map;d({target:"Array",proto:!0,forced:!r(9042)("map")},{map:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},278:function(l,s,r){"use strict";var d=r(9989),c=r(8820).left,h=r(6834),f=r(3615);d({target:"Array",proto:!0,forced:!r(806)&&f>79&&f<83||!h("reduce")},{reduce:function(x){var w=arguments.length;return c(this,x,w,w>1?arguments[1]:void 0)}})},3374:function(l,s,r){"use strict";var d=r(9989),c=r(8844),h=r(2297),f=c([].reverse),v=[1,2];d({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return h(this)&&(this.length=this.length),f(this)}})},9730:function(l,s,r){"use strict";var d=r(9989),c=r(2297),h=r(9429),f=r(8999),v=r(7578),x=r(6310),w=r(5290),b=r(6522),C=r(4201),P=r(9042),E=r(6004),T=P("slice"),m=C("species"),a=Array,p=Math.max;d({target:"Array",proto:!0,forced:!T},{slice:function(y,_){var j,R,D,H=w(this),K=x(H),J=v(y,K),F=v(_===void 0?K:_,K);if(c(H)&&(j=H.constructor,(h(j)&&(j===a||c(j.prototype))||f(j)&&(j=j[m])===null)&&(j=void 0),j===a||j===void 0))return E(H,J,F);for(R=new(j===void 0?a:j)(p(F-J,0)),D=0;J<F;J++,D++)J in H&&b(R,D,H[J]);return R.length=D,R}})},5137:function(l,s,r){"use strict";var d=r(9989),c=r(8844),h=r(509),f=r(690),v=r(6310),x=r(8494),w=r(4327),b=r(3689),C=r(382),P=r(6834),E=r(7365),T=r(7298),m=r(3615),a=r(7922),p=[],g=c(p.sort),y=c(p.push),_=b(function(){p.sort(void 0)}),j=b(function(){p.sort(null)}),R=P("sort"),D=!b(function(){if(m)return m<70;if(!(E&&E>3)){if(T)return!0;if(a)return a<603;var H,K,J,F,de="";for(H=65;H<76;H++){switch(K=String.fromCharCode(H),H){case 66:case 69:case 70:case 72:J=3;break;case 68:case 71:J=4;break;default:J=2}for(F=0;F<47;F++)p.push({k:K+F,v:J})}for(p.sort(function(re,V){return V.v-re.v}),F=0;F<p.length;F++)K=p[F].k.charAt(0),de.charAt(de.length-1)!==K&&(de+=K);return de!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:_||!j||!R||!D},{sort:function(K){K!==void 0&&h(K);var J=f(this);if(D)return K===void 0?g(J):g(J,K);var F,de,re=[],V=v(J);for(de=0;de<V;de++)de in J&&y(re,J[de]);for(C(re,function(X){return function(oe,G){return G===void 0?-1:oe===void 0?1:X!==void 0?+X(oe,G)||0:w(oe)>w(G)?1:-1}}(K)),F=v(re),de=0;de<F;)J[de]=re[de++];for(;de<V;)x(J,de++);return J}})},2506:function(l,s,r){"use strict";var d=r(9989),c=r(690),h=r(7578),f=r(8700),v=r(6310),x=r(5649),w=r(5565),b=r(7120),C=r(6522),P=r(8494),E=r(9042)("splice"),T=Math.max,m=Math.min;d({target:"Array",proto:!0,forced:!E},{splice:function(p,g){var y,_,j,R,D,H,K=c(this),J=v(K),F=h(p,J),de=arguments.length;for(de===0?y=_=0:de===1?(y=0,_=J-F):(y=de-2,_=m(T(f(g),0),J-F)),w(J+y-_),j=b(K,_),R=0;R<_;R++)(D=F+R)in K&&C(j,R,K[D]);if(j.length=_,y<_){for(R=F;R<J-_;R++)H=R+y,(D=R+_)in K?K[H]=K[D]:P(K,H);for(R=J;R>J-_+y;R--)P(K,R-1)}else if(y>_)for(R=J-_;R>F;R--)H=R+y-1,(D=R+_-1)in K?K[H]=K[D]:P(K,H);for(R=0;R<y;R++)K[R+F]=arguments[R+2];return x(K,J-_+y),j}})},385:function(l,s,r){"use strict";r(7370)("flatMap")},3383:function(l,s,r){"use strict";r(7370)("flat")},9903:function(l,s,r){"use strict";var d=r(6812),c=r(1880),h=r(1797),f=r(4201)("toPrimitive"),v=Date.prototype;d(v,f)||c(v,f,h)},4284:function(l,s,r){"use strict";var d=r(7697),c=r(1236).EXISTS,h=r(8844),f=r(2148),v=Function.prototype,x=h(v.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,b=h(w.exec);d&&!c&&f(v,"name",{configurable:!0,get:function(){try{return b(w,x(this))[1]}catch(P){return""}}})},5398:function(l,s,r){"use strict";var d=r(9989),c=r(9037);d({global:!0,forced:c.globalThis!==c},{globalThis:c})},8324:function(l,s,r){"use strict";var d=r(9989),c=r(6058),h=r(1735),f=r(2615),v=r(8844),x=r(3689),w=r(9985),b=r(734),C=r(6004),P=r(2643),E=r(146),T=String,m=c("JSON","stringify"),a=v(/./.exec),p=v("".charAt),g=v("".charCodeAt),y=v("".replace),_=v(1 .toString),j=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,D=/^[\uDC00-\uDFFF]$/,H=!E||x(function(){var de=c("Symbol")("stringify detection");return m([de])!=="[null]"||m({a:de})!=="{}"||m(Object(de))!=="{}"}),K=x(function(){return m("\uDF06\uD834")!=='"\uDF06\uD834"'||m("\uDEAD")!=='"\uDEAD"'}),J=function(re,V){var X=C(arguments),oe=P(V);if(w(oe)||re!==void 0&&!b(re))return X[1]=function(G,Y){if(w(oe)&&(Y=f(oe,this,T(G),Y)),!b(Y))return Y},h(m,null,X)},F=function(re,V,X){var oe=p(X,V-1),G=p(X,V+1);return a(R,re)&&!a(D,G)||a(D,re)&&!a(R,oe)?"\\u"+_(g(re,0),16):re};m&&d({target:"JSON",stat:!0,arity:3,forced:H||K},{stringify:function(re,V,X){var oe=C(arguments),G=h(H?J:m,null,oe);return K&&typeof G=="string"?y(G,j,F):G}})},7629:function(l,s,r){"use strict";var d=r(9037);r(5997)(d.JSON,"JSON",!0)},9322:function(l,s,r){"use strict";r(319)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},r(800))},6646:function(l,s,r){"use strict";r(9322)},8813:function(l,s,r){"use strict";var d=r(9989),c=Math.log,h=Math.LN2;d({target:"Math",stat:!0},{log2:function(v){return c(v)/h}})},6976:function(l,s,r){"use strict";r(9989)({target:"Math",stat:!0},{sign:r(5680)})},7509:function(l,s,r){"use strict";r(5997)(Math,"Math",!0)},9288:function(l,s,r){"use strict";var d=r(9989),c=r(3931),h=r(7697),f=r(9037),v=r(496),x=r(8844),w=r(5266),b=r(6812),C=r(3457),P=r(3622),E=r(734),T=r(8732),m=r(3689),a=r(2741).f,p=r(2474).f,g=r(2560).f,y=r(3648),_=r(1435).trim,j="Number",R=f[j],D=v[j],H=R.prototype,K=f.TypeError,J=x("".slice),F=x("".charCodeAt),de=w(j,!R(" 0o1")||!R("0b1")||R("+0x1")),re=function(X){var oe,G=arguments.length<1?0:R(function(Y){var Z=T(Y,"number");return(typeof Z=="undefined"?"undefined":_typeof(Z))=="bigint"?Z:function(ae){var ie,je,Le,ke,Ze,Ve,Xe,dt,yt=T(ae,"number");if(E(yt))throw new K("Cannot convert a Symbol value to a number");if(typeof yt=="string"&&yt.length>2){if(yt=_(yt),(ie=F(yt,0))===43||ie===45){if((je=F(yt,2))===88||je===120)return NaN}else if(ie===48){switch(F(yt,1)){case 66:case 98:Le=2,ke=49;break;case 79:case 111:Le=8,ke=55;break;default:return+yt}for(Ve=(Ze=J(yt,2)).length,Xe=0;Xe<Ve;Xe++)if((dt=F(Ze,Xe))<48||dt>ke)return NaN;return parseInt(Ze,Le)}}return+yt}(Z)}(X));return P(H,oe=this)&&m(function(){y(oe)})?C(Object(G),this,re):G};re.prototype=H,de&&!c&&(H.constructor=re),d({global:!0,constructor:!0,wrap:!0,forced:de},{Number:re});var V=function(oe,G){for(var Y,Z=h?a(G):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ae=0;Z.length>ae;ae++)b(G,Y=Z[ae])&&!b(oe,Y)&&g(oe,Y,p(G,Y))};c&&D&&V(v[j],D),(de||c)&&V(v[j],R)},429:function(l,s,r){"use strict";var d=r(9989),c=r(5394);d({target:"Object",stat:!0,arity:2,forced:Object.assign!==c},{assign:c})},1830:function(l,s,r){"use strict";var d=r(9989),c=r(1594),h=r(3689),f=r(8999),v=r(5375).onFreeze,x=Object.freeze;d({target:"Object",stat:!0,forced:h(function(){x(1)}),sham:!c},{freeze:function(b){return x&&f(b)?x(v(b)):b}})},1919:function(l,s,r){"use strict";var d=r(9989),c=r(3689),h=r(5290),f=r(2474).f,v=r(7697);d({target:"Object",stat:!0,forced:!v||c(function(){f(1)}),sham:!v},{getOwnPropertyDescriptor:function(w,b){return f(h(w),b)}})},9474:function(l,s,r){"use strict";var d=r(9989),c=r(7697),h=r(9152),f=r(5290),v=r(2474),x=r(6522);d({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(b){for(var C,P,E=f(b),T=v.f,m=h(E),a={},p=0;m.length>p;)(P=T(E,C=m[p++]))!==void 0&&x(a,C,P);return a}})},9997:function(l,s,r){"use strict";var d=r(9989),c=r(3689),h=r(6062).f;d({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},9434:function(l,s,r){"use strict";var d=r(9989),c=r(146),h=r(3689),f=r(7518),v=r(690);d({target:"Object",stat:!0,forced:!c||h(function(){f.f(1)})},{getOwnPropertySymbols:function(w){var b=f.f;return b?b(v(w)):[]}})},8052:function(l,s,r){"use strict";var d=r(9989),c=r(3689),h=r(690),f=r(1868),v=r(1748);d({target:"Object",stat:!0,forced:c(function(){f(1)}),sham:!v},{getPrototypeOf:function(w){return f(h(w))}})},9358:function(l,s,r){"use strict";var d=r(9989),c=r(690),h=r(300);d({target:"Object",stat:!0,forced:r(3689)(function(){h(1)})},{keys:function(v){return h(c(v))}})},228:function(l,s,r){"use strict";var d=r(3043),c=r(1880),h=r(5073);d||c(Object.prototype,"toString",h,{unsafe:!0})},6466:function(l,s,r){"use strict";var d=r(9989),c=r(9419).values;d({target:"Object",stat:!0},{values:function(f){return c(f)}})},2320:function(l,s,r){"use strict";var d=r(9989),c=r(7897);d({global:!0,forced:parseInt!==c},{parseInt:c})},1692:function(l,s,r){"use strict";var d=r(9989),c=r(2615),h=r(509),f=r(8742),v=r(9302),x=r(8734);d({target:"Promise",stat:!0,forced:r(562)},{all:function(b){var C=this,P=f.f(C),E=P.resolve,T=P.reject,m=v(function(){var a=h(C.resolve),p=[],g=0,y=1;x(b,function(_){var j=g++,R=!1;y++,c(a,C,_).then(function(D){R||(R=!0,p[j]=D,--y||E(p))},T)}),--y||E(p)});return m.error&&T(m.value),P.promise}})},5089:function(l,s,r){"use strict";var d=r(9989),c=r(3931),h=r(7073).CONSTRUCTOR,f=r(7919),v=r(6058),x=r(9985),w=r(1880),b=f&&f.prototype;if(d({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(E){return this.then(void 0,E)}}),!c&&x(f)){var C=v("Promise").prototype.catch;b.catch!==C&&w(b,"catch",C,{unsafe:!0})}},6697:function(l,s,r){"use strict";var d,c,h,f=r(9989),v=r(3931),x=r(806),w=r(9037),b=r(2615),C=r(1880),P=r(9385),E=r(5997),T=r(4241),m=r(509),a=r(9985),p=r(8999),g=r(767),y=r(6373),_=r(9886).set,j=r(231),R=r(920),D=r(9302),H=r(4410),K=r(618),J=r(7919),F=r(7073),de=r(8742),re="Promise",V=F.CONSTRUCTOR,X=F.REJECTION_EVENT,oe=F.SUBCLASSING,G=K.getterFor(re),Y=K.set,Z=J&&J.prototype,ae=J,ie=Z,je=w.TypeError,Le=w.document,ke=w.process,Ze=de.f,Ve=Ze,Xe=!!(Le&&Le.createEvent&&w.dispatchEvent),dt="unhandledrejection",yt=function(ut){var qe;return!(!p(ut)||!a(qe=ut.then))&&qe},pt=function(ut,qe){var ze,Fe,tt,nt=qe.value,bt=qe.state===1,wt=bt?ut.ok:ut.fail,_t=ut.resolve,st=ut.reject,ye=ut.domain;try{wt?(bt||(qe.rejection===2&&Ye(qe),qe.rejection=1),wt===!0?ze=nt:(ye&&ye.enter(),ze=wt(nt),ye&&(ye.exit(),tt=!0)),ze===ut.promise?st(new je("Promise-chain cycle")):(Fe=yt(ze))?b(Fe,ze,_t,st):_t(ze)):st(nt)}catch(N){ye&&!tt&&ye.exit(),st(N)}},Re=function(ut,qe){ut.notified||(ut.notified=!0,j(function(){for(var ze,Fe=ut.reactions;ze=Fe.get();)pt(ze,ut);ut.notified=!1,qe&&!ut.rejection&&Ne(ut)}))},_e=function(ut,qe,ze){var Fe,tt;Xe?((Fe=Le.createEvent("Event")).promise=qe,Fe.reason=ze,Fe.initEvent(ut,!1,!0),w.dispatchEvent(Fe)):Fe={promise:qe,reason:ze},!X&&(tt=w["on"+ut])?tt(Fe):ut===dt&&R("Unhandled promise rejection",ze)},Ne=function(ut){b(_,w,function(){var qe,ze=ut.facade,Fe=ut.value;if(Je(ut)&&(qe=D(function(){x?ke.emit("unhandledRejection",Fe,ze):_e(dt,ze,Fe)}),ut.rejection=x||Je(ut)?2:1,qe.error))throw qe.value})},Je=function(ut){return ut.rejection!==1&&!ut.parent},Ye=function(ut){b(_,w,function(){var qe=ut.facade;x?ke.emit("rejectionHandled",qe):_e("rejectionhandled",qe,ut.value)})},Te=function(ut,qe,ze){return function(Fe){ut(qe,Fe,ze)}},rt=function(ut,qe,ze){ut.done||(ut.done=!0,ze&&(ut=ze),ut.value=qe,ut.state=2,Re(ut,!0))},ht=function(at,ut,qe){if(!at.done){at.done=!0,qe&&(at=qe);try{if(at.facade===ut)throw new je("Promise can't be resolved itself");var ze=yt(ut);ze?j(function(){var Fe={done:!1};try{b(ze,ut,Te(ht,Fe,at),Te(rt,Fe,at))}catch(tt){rt(Fe,tt,at)}}):(at.value=ut,at.state=1,Re(at,!1))}catch(Fe){rt({done:!1},Fe,at)}}};if(V&&(ie=(ae=function(ut){g(this,ie),m(ut),b(d,this);var qe=G(this);try{ut(Te(ht,qe),Te(rt,qe))}catch(ze){rt(qe,ze)}}).prototype,(d=function(ut){Y(this,{type:re,done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=C(ie,"then",function(at,ut){var qe=G(this),ze=Ze(y(this,ae));return qe.parent=!0,ze.ok=!a(at)||at,ze.fail=a(ut)&&ut,ze.domain=x?ke.domain:void 0,qe.state===0?qe.reactions.add(ze):j(function(){pt(ze,qe)}),ze.promise}),c=function(){var ut=new d,qe=G(ut);this.promise=ut,this.resolve=Te(ht,qe),this.reject=Te(rt,qe)},de.f=Ze=function(ut){return ut===ae||ut===void 0?new c(ut):Ve(ut)},!v&&a(J)&&Z!==Object.prototype)){h=Z.then,oe||C(Z,"then",function(at,ut){var qe=this;return new ae(function(ze,Fe){b(h,qe,ze,Fe)}).then(at,ut)},{unsafe:!0});try{delete Z.constructor}catch(at){}P&&P(Z,ie)}f({global:!0,constructor:!0,wrap:!0,forced:V},{Promise:ae}),E(ae,re,!1,!0),T(re)},3964:function(l,s,r){"use strict";r(6697),r(1692),r(5089),r(8829),r(2092),r(7905)},8829:function(l,s,r){"use strict";var d=r(9989),c=r(2615),h=r(509),f=r(8742),v=r(9302),x=r(8734);d({target:"Promise",stat:!0,forced:r(562)},{race:function(b){var C=this,P=f.f(C),E=P.reject,T=v(function(){var m=h(C.resolve);x(b,function(a){c(m,C,a).then(P.resolve,E)})});return T.error&&E(T.value),P.promise}})},2092:function(l,s,r){"use strict";var d=r(9989),c=r(2615),h=r(8742);d({target:"Promise",stat:!0,forced:r(7073).CONSTRUCTOR},{reject:function(v){var x=h.f(this);return c(x.reject,void 0,v),x.promise}})},7905:function(l,s,r){"use strict";var d=r(9989),c=r(6058),h=r(3931),f=r(7919),v=r(7073).CONSTRUCTOR,x=r(2945),w=c("Promise"),b=h&&!v;d({target:"Promise",stat:!0,forced:h||v},{resolve:function(P){return x(b&&this===w?f:this,P)}})},50:function(l,s,r){"use strict";var d=r(9989),c=r(6058),h=r(1735),f=r(6761),v=r(2655),x=r(5027),w=r(8999),b=r(5391),C=r(3689),P=c("Reflect","construct"),E=Object.prototype,T=[].push,m=C(function(){var g=function(){};return!_instanceof(P(function(){},[],g),g)}),a=!C(function(){P(function(){})}),p=m||a;d({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(y,_){v(y),x(_);var j=arguments.length<3?y:v(arguments[2]);if(a&&!m)return P(y,_,j);if(y===j){switch(_.length){case 0:return new y;case 1:return new y(_[0]);case 2:return new y(_[0],_[1]);case 3:return new y(_[0],_[1],_[2]);case 4:return new y(_[0],_[1],_[2],_[3])}var R=[null];return h(T,R,_),new(h(f,y,R))}var D=j.prototype,H=b(w(D)?D:E),K=h(y,H,_);return w(K)?K:H}})},2349:function(l,s,r){"use strict";var d=r(9989),c=r(2615),h=r(8999),f=r(5027),v=r(6251),x=r(2474),w=r(1868);d({target:"Reflect",stat:!0},{get:function b(C,P){var E,T,m=arguments.length<3?C:arguments[2];return f(C)===m?C[P]:(E=x.f(C,P))?v(E)?E.value:E.get===void 0?void 0:c(E.get,m):h(T=w(C))?b(T,P,m):void 0}})},2003:function(l,s,r){"use strict";var d=r(7697),c=r(9037),h=r(8844),f=r(5266),v=r(3457),x=r(5773),w=r(2741).f,b=r(3622),C=r(1245),P=r(4327),E=r(3477),T=r(7901),m=r(8055),a=r(1880),p=r(3689),g=r(6812),y=r(618).enforce,_=r(4241),j=r(4201),R=r(2100),D=r(6422),H=j("match"),K=c.RegExp,J=K.prototype,F=c.SyntaxError,de=h(J.exec),re=h("".charAt),V=h("".replace),X=h("".indexOf),oe=h("".slice),G=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,Z=/a/g,ae=new K(Y)!==Y,ie=T.MISSED_STICKY,je=T.UNSUPPORTED_Y;if(f("RegExp",d&&(!ae||ie||R||D||p(function(){return Z[H]=!1,K(Y)!==Y||K(Z)===Z||String(K(Y,"i"))!=="/a/i"})))){for(var Le=function(Ve,Xe){var dt,yt,pt,Re,_e,Ne,Je=b(J,this),Ye=C(Ve),Te=Xe===void 0,rt=[],ht=Ve;if(!Je&&Ye&&Te&&Ve.constructor===Le)return Ve;if((Ye||b(J,Ve))&&(Ve=Ve.source,Te&&(Xe=E(ht))),Ve=Ve===void 0?"":P(Ve),Xe=Xe===void 0?"":P(Xe),ht=Ve,R&&"dotAll"in Y&&(yt=!!Xe&&X(Xe,"s")>-1)&&(Xe=V(Xe,/s/g,"")),dt=Xe,ie&&"sticky"in Y&&(pt=!!Xe&&X(Xe,"y")>-1)&&je&&(Xe=V(Xe,/y/g,"")),D&&(Re=function(at){for(var ut,qe=at.length,ze=0,Fe="",tt=[],nt={},bt=!1,wt=!1,_t=0,st="";ze<=qe;ze++){if((ut=re(at,ze))==="\\")ut+=re(at,++ze);else if(ut==="]")bt=!1;else if(!bt)switch(!0){case ut==="[":bt=!0;break;case ut==="(":de(G,oe(at,ze+1))&&(ze+=2,wt=!0),Fe+=ut,_t++;continue;case(ut===">"&&wt):if(st===""||g(nt,st))throw new F("Invalid capture group name");nt[st]=!0,tt[tt.length]=[st,_t],wt=!1,st="";continue}wt?st+=ut:Fe+=ut}return[Fe,tt]}(Ve),Ve=Re[0],rt=Re[1]),_e=v(K(Ve,Xe),Je?this:J,Le),(yt||pt||rt.length)&&(Ne=y(_e),yt&&(Ne.dotAll=!0,Ne.raw=Le(function(at){for(var ut,qe=at.length,ze=0,Fe="",tt=!1;ze<=qe;ze++)(ut=re(at,ze))!=="\\"?tt||ut!=="."?(ut==="["?tt=!0:ut==="]"&&(tt=!1),Fe+=ut):Fe+="[\\s\\S]":Fe+=ut+re(at,++ze);return Fe}(Ve),dt)),pt&&(Ne.sticky=!0),rt.length&&(Ne.groups=rt)),Ve!==ht)try{x(_e,"source",ht===""?"(?:)":ht)}catch(at){}return _e},ke=w(K),Ze=0;ke.length>Ze;)m(Le,K,ke[Ze++]);J.constructor=Le,Le.prototype=J,a(c,"RegExp",Le,{constructor:!0})}_("RegExp")},4043:function(l,s,r){"use strict";var d=r(9989),c=r(6308);d({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},2826:function(l,s,r){"use strict";var d=r(1236).PROPER,c=r(1880),h=r(5027),f=r(4327),v=r(3689),x=r(3477),w="toString",b=RegExp.prototype[w],C=v(function(){return b.call({source:"a",flags:"b"})!=="/a/b"}),P=d&&b.name!==w;(C||P)&&c(RegExp.prototype,w,function(){var E=h(this);return"/"+f(E.source)+"/"+f(x(E))},{unsafe:!0})},7985:function(l,s,r){"use strict";r(319)("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},r(800))},9649:function(l,s,r){"use strict";r(7985)},2918:function(l,s,r){"use strict";var d,c=r(9989),h=r(6576),f=r(2474).f,v=r(3126),x=r(4327),w=r(2124),b=r(4684),C=r(7413),P=r(3931),E=h("".endsWith),T=h("".slice),m=Math.min,a=C("endsWith");c({target:"String",proto:!0,forced:!(!P&&!a&&(d=f(String.prototype,"endsWith"),d&&!d.writable)||a)},{endsWith:function(g){var y=x(b(this));w(g);var _=arguments.length>1?arguments[1]:void 0,j=y.length,R=_===void 0?j:m(v(_),j),D=x(g);return E?E(y,D,R):T(y,R-D.length,R)===D}})},3843:function(l,s,r){"use strict";var d=r(9989),c=r(8844),h=r(2124),f=r(4684),v=r(4327),x=r(7413),w=c("".indexOf);d({target:"String",proto:!0,forced:!x("includes")},{includes:function(C){return!!~w(v(f(this)),v(h(C)),arguments.length>1?arguments[1]:void 0)}})},1694:function(l,s,r){"use strict";var d=r(730).charAt,c=r(4327),h=r(618),f=r(1934),v=r(7807),x="String Iterator",w=h.set,b=h.getterFor(x);f(String,"String",function(C){w(this,{type:x,string:c(C),index:0})},function(){var C,P=b(this),E=P.string,T=P.index;return T>=E.length?v(void 0,!0):(C=d(E,T),P.index+=C.length,v(C,!1))})},2462:function(l,s,r){"use strict";var d=r(2615),c=r(8678),h=r(5027),f=r(981),v=r(3126),x=r(4327),w=r(4684),b=r(4849),C=r(727),P=r(6100);c("match",function(E,T,m){return[function(a){var p=w(this),g=f(a)?void 0:b(a,E);return g?d(g,a,p):new RegExp(a)[E](x(p))},function(a){var p=h(this),g=x(a),y=m(T,p,g);if(y.done)return y.value;if(!p.global)return P(p,g);var _=p.unicode;p.lastIndex=0;for(var j,R=[],D=0;(j=P(p,g))!==null;){var H=x(j[0]);R[D]=H,H===""&&(p.lastIndex=C(g,v(p.lastIndex),_)),D++}return D===0?null:R}]})},7267:function(l,s,r){"use strict";var d=r(1735),c=r(2615),h=r(8844),f=r(8678),v=r(3689),x=r(5027),w=r(9985),b=r(981),C=r(8700),P=r(3126),E=r(4327),T=r(4684),m=r(727),a=r(4849),p=r(7017),g=r(6100),y=r(4201)("replace"),_=Math.max,j=Math.min,R=h([].concat),D=h([].push),H=h("".indexOf),K=h("".slice),J="a".replace(/./,"$0")==="$0",F=!!/./[y]&&/./[y]("a","$0")==="";f("replace",function(de,re,V){var X=F?"$":"$0";return[function(oe,G){var Y=T(this),Z=b(oe)?void 0:a(oe,y);return Z?c(Z,oe,Y,G):c(re,E(Y),oe,G)},function(oe,G){var Y=x(this),Z=E(oe);if(typeof G=="string"&&H(G,X)===-1&&H(G,"$<")===-1){var ae=V(re,Y,Z,G);if(ae.done)return ae.value}var ie=w(G);ie||(G=E(G));var je,Le=Y.global;Le&&(je=Y.unicode,Y.lastIndex=0);for(var ke,Ze=[];(ke=g(Y,Z))!==null&&(D(Ze,ke),Le);)E(ke[0])===""&&(Y.lastIndex=m(Z,P(Y.lastIndex),je));for(var Ve,Xe="",dt=0,yt=0;yt<Ze.length;yt++){for(var pt,Re=E((ke=Ze[yt])[0]),_e=_(j(C(ke.index),Z.length),0),Ne=[],Je=1;Je<ke.length;Je++)D(Ne,(Ve=ke[Je])===void 0?Ve:String(Ve));var Ye=ke.groups;if(ie){var Te=R([Re],Ne,_e,Z);Ye!==void 0&&D(Te,Ye),pt=E(d(G,void 0,Te))}else pt=p(Re,Z,_e,Ne,Ye,G);_e>=dt&&(Xe+=K(Z,dt,_e)+pt,dt=_e+Re.length)}return Xe+K(Z,dt)}]},!!v(function(){var de=/./;return de.exec=function(){var re=[];return re.groups={a:"7"},re},"".replace(de,"$<a>")!=="7"})||!J||F)},1514:function(l,s,r){"use strict";var d=r(2615),c=r(8678),h=r(5027),f=r(981),v=r(4684),x=r(953),w=r(4327),b=r(4849),C=r(6100);c("search",function(P,E,T){return[function(m){var a=v(this),p=f(m)?void 0:b(m,P);return p?d(p,m,a):new RegExp(m)[P](w(a))},function(m){var a=h(this),p=w(m),g=T(E,a,p);if(g.done)return g.value;var y=a.lastIndex;x(y,0)||(a.lastIndex=0);var _=C(a,p);return x(a.lastIndex,y)||(a.lastIndex=y),_===null?-1:_.index}]})},9873:function(l,s,r){"use strict";var d=r(1735),c=r(2615),h=r(8844),f=r(8678),v=r(5027),x=r(981),w=r(1245),b=r(4684),C=r(6373),P=r(727),E=r(3126),T=r(4327),m=r(4849),a=r(9015),p=r(6100),g=r(6308),y=r(7901),_=r(3689),j=y.UNSUPPORTED_Y,R=4294967295,D=Math.min,H=[].push,K=h(/./.exec),J=h(H),F=h("".slice),de=!_(function(){var re=/(?:)/,V=re.exec;re.exec=function(){return V.apply(this,arguments)};var X="ab".split(re);return X.length!==2||X[0]!=="a"||X[1]!=="b"});f("split",function(re,V,X){var oe;return oe="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?function(Y,Z){var ae=T(b(this)),ie=Z===void 0?R:Z>>>0;if(ie===0)return[];if(Y===void 0)return[ae];if(!w(Y))return c(V,ae,Y,ie);for(var je,Le,ke,Ze=[],Ve=(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")+(Y.sticky?"y":""),Xe=0,dt=new RegExp(Y.source,Ve+"g");(je=c(g,dt,ae))&&!((Le=dt.lastIndex)>Xe&&(J(Ze,F(ae,Xe,je.index)),je.length>1&&je.index<ae.length&&d(H,Ze,a(je,1)),ke=je[0].length,Xe=Le,Ze.length>=ie));)dt.lastIndex===je.index&&dt.lastIndex++;return Xe===ae.length?!ke&&K(dt,"")||J(Ze,""):J(Ze,F(ae,Xe)),Ze.length>ie?a(Ze,0,ie):Ze}:"0".split(void 0,0).length?function(G,Y){return G===void 0&&Y===0?[]:c(V,this,G,Y)}:V,[function(G,Y){var Z=b(this),ae=x(G)?void 0:m(G,re);return ae?c(ae,G,Z,Y):c(oe,T(Z),G,Y)},function(G,Y){var Z=v(this),ae=T(G),ie=X(oe,Z,ae,Y,oe!==V);if(ie.done)return ie.value;var je=C(Z,RegExp),Le=Z.unicode,ke=(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(j?"g":"y"),Ze=new je(j?"^(?:"+Z.source+")":Z,ke),Ve=Y===void 0?R:Y>>>0;if(Ve===0)return[];if(ae.length===0)return p(Ze,ae)===null?[ae]:[];for(var Xe=0,dt=0,yt=[];dt<ae.length;){Ze.lastIndex=j?0:dt;var pt,Re=p(Ze,j?F(ae,dt):ae);if(Re===null||(pt=D(E(Ze.lastIndex+(j?dt:0)),ae.length))===Xe)dt=P(ae,dt,Le);else{if(J(yt,F(ae,Xe,dt)),yt.length===Ve)return yt;for(var _e=1;_e<=Re.length-1;_e++)if(J(yt,Re[_e]),yt.length===Ve)return yt;dt=Xe=pt}}return J(yt,F(ae,Xe)),yt}]},!de,j)},268:function(l,s,r){"use strict";var d,c=r(9989),h=r(6576),f=r(2474).f,v=r(3126),x=r(4327),w=r(2124),b=r(4684),C=r(7413),P=r(3931),E=h("".startsWith),T=h("".slice),m=Math.min,a=C("startsWith");c({target:"String",proto:!0,forced:!(!P&&!a&&(d=f(String.prototype,"startsWith"),d&&!d.writable)||a)},{startsWith:function(g){var y=x(b(this));w(g);var _=v(m(arguments.length>1?arguments[1]:void 0,y.length)),j=x(g);return E?E(y,j,_):T(y,_,_+j.length)===j}})},8373:function(l,s,r){"use strict";r(5405)("asyncIterator")},7855:function(l,s,r){"use strict";var d=r(9989),c=r(9037),h=r(2615),f=r(8844),v=r(3931),x=r(7697),w=r(146),b=r(3689),C=r(6812),P=r(3622),E=r(5027),T=r(5290),m=r(8360),a=r(4327),p=r(5684),g=r(5391),y=r(300),_=r(2741),j=r(6062),R=r(7518),D=r(2474),H=r(2560),K=r(8920),J=r(9556),F=r(1880),de=r(2148),re=r(3430),V=r(2713),X=r(7248),oe=r(4630),G=r(4201),Y=r(6145),Z=r(5405),ae=r(3032),ie=r(5997),je=r(618),Le=r(2960).forEach,ke=V("hidden"),Ze="Symbol",Ve="prototype",Xe=je.set,dt=je.getterFor(Ze),yt=Object[Ve],pt=c.Symbol,Re=pt&&pt[Ve],_e=c.RangeError,Ne=c.TypeError,Je=c.QObject,Ye=D.f,Te=H.f,rt=j.f,ht=J.f,at=f([].push),ut=re("symbols"),qe=re("op-symbols"),ze=re("wks"),Fe=!Je||!Je[Ve]||!Je[Ve].findChild,tt=function(et,L,ue){var ce=Ye(yt,L);ce&&delete yt[L],Te(et,L,ue),ce&&et!==yt&&Te(yt,L,ce)},nt=x&&b(function(){return g(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a!==7})?tt:Te,bt=function(et,L){var ue=ut[et]=g(Re);return Xe(ue,{type:Ze,tag:et,description:L}),x||(ue.description=L),ue},wt=function(Ie,et,L){Ie===yt&&wt(qe,et,L),E(Ie);var ue=m(et);return E(L),C(ut,ue)?(L.enumerable?(C(Ie,ke)&&Ie[ke][ue]&&(Ie[ke][ue]=!1),L=g(L,{enumerable:p(0,!1)})):(C(Ie,ke)||Te(Ie,ke,p(1,{})),Ie[ke][ue]=!0),nt(Ie,ue,L)):Te(Ie,ue,L)},_t=function(et,L){E(et);var ue=T(L),ce=y(ue).concat(We(ue));return Le(ce,function(pe){x&&!h(st,ue,pe)||wt(et,pe,ue[pe])}),et},st=function(et){var L=m(et),ue=h(ht,this,L);return!(this===yt&&C(ut,L)&&!C(qe,L))&&(!(ue||!C(this,L)||!C(ut,L)||C(this,ke)&&this[ke][L])||ue)},ye=function(et,L){var ue=T(et),ce=m(L);if(ue!==yt||!C(ut,ce)||C(qe,ce)){var pe=Ye(ue,ce);return!pe||!C(ut,ce)||C(ue,ke)&&ue[ke][ce]||(pe.enumerable=!0),pe}},N=function(et){var L=rt(T(et)),ue=[];return Le(L,function(ce){C(ut,ce)||C(X,ce)||at(ue,ce)}),ue},We=function(et){var L=et===yt,ue=rt(L?qe:T(et)),ce=[];return Le(ue,function(pe){!C(ut,pe)||L&&!C(yt,pe)||at(ce,ut[pe])}),ce};w||(pt=function(){if(P(Re,this))throw new Ne("Symbol is not a constructor");var et=arguments.length&&arguments[0]!==void 0?a(arguments[0]):void 0,L=oe(et),ue=function(ce){var pe=this===void 0?c:this;pe===yt&&h(ue,qe,ce),C(pe,ke)&&C(pe[ke],L)&&(pe[ke][L]=!1);var he=p(1,ce);try{nt(pe,L,he)}catch(Q){if(!_instanceof(Q,_e))throw Q;tt(pe,L,he)}};return x&&Fe&&nt(yt,L,{configurable:!0,set:ue}),bt(L,et)},F(Re=pt[Ve],"toString",function(){return dt(this).tag}),F(pt,"withoutSetter",function(Ie){return bt(oe(Ie),Ie)}),J.f=st,H.f=wt,K.f=_t,D.f=ye,_.f=j.f=N,R.f=We,Y.f=function(Ie){return bt(G(Ie),Ie)},x&&(de(Re,"description",{configurable:!0,get:function(){return dt(this).description}}),v||F(yt,"propertyIsEnumerable",st,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:pt}),Le(y(ze),function(Ie){Z(Ie)}),d({target:Ze,stat:!0,forced:!w},{useSetter:function(){Fe=!0},useSimple:function(){Fe=!1}}),d({target:"Object",stat:!0,forced:!w,sham:!x},{create:function(et,L){return L===void 0?g(et):_t(g(et),L)},defineProperty:wt,defineProperties:_t,getOwnPropertyDescriptor:ye}),d({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:N}),ae(),ie(pt,Ze),X[ke]=!0},6544:function(l,s,r){"use strict";var d=r(9989),c=r(7697),h=r(9037),f=r(8844),v=r(6812),x=r(9985),w=r(3622),b=r(4327),C=r(2148),P=r(8758),E=h.Symbol,T=E&&E.prototype;if(c&&x(E)&&(!("description"in T)||E().description!==void 0)){var m={},a=function(){var H=arguments.length<1||arguments[0]===void 0?void 0:b(arguments[0]),K=w(T,this)?new E(H):H===void 0?E():E(H);return H===""&&(m[K]=!0),K};P(a,E),a.prototype=T,T.constructor=a;var p=String(E("description detection"))==="Symbol(description detection)",g=f(T.valueOf),y=f(T.toString),_=/^Symbol\((.*)\)[^)]+$/,j=f("".replace),R=f("".slice);C(T,"description",{configurable:!0,get:function(){var H=g(this);if(v(m,H))return"";var K=y(H),J=p?R(K,7,-1):j(K,_,"$1");return J===""?void 0:J}}),d({global:!0,constructor:!0,forced:!0},{Symbol:a})}},3975:function(l,s,r){"use strict";var d=r(9989),c=r(6058),h=r(6812),f=r(4327),v=r(3430),x=r(6549),w=v("string-to-symbol-registry"),b=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{for:function(P){var E=f(P);if(h(w,E))return w[E];var T=c("Symbol")(E);return w[E]=T,b[T]=E,T}})},4254:function(l,s,r){"use strict";r(5405)("iterator")},9749:function(l,s,r){"use strict";r(7855),r(3975),r(1445),r(8324),r(9434)},1445:function(l,s,r){"use strict";var d=r(9989),c=r(6812),h=r(734),f=r(3691),v=r(3430),x=r(6549),w=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{keyFor:function(C){if(!h(C))throw new TypeError(f(C)+" is not a symbol");if(c(w,C))return w[C]}})},9373:function(l,s,r){"use strict";var d=r(5405),c=r(3032);d("toPrimitive"),c()},6793:function(l,s,r){"use strict";var d=r(6058),c=r(5405),h=r(5997);c("toStringTag"),h(d("Symbol"),"Symbol")},5164:function(l,s,r){"use strict";var d,c=r(1594),h=r(9037),f=r(8844),v=r(6045),x=r(5375),w=r(319),b=r(637),C=r(8999),P=r(618).enforce,E=r(3689),T=r(9834),m=Object,a=Array.isArray,p=m.isExtensible,g=m.isFrozen,y=m.isSealed,_=m.freeze,j=m.seal,R={},D={},H=!h.ActiveXObject&&"ActiveXObject"in h,K=function(G){return function(){return G(this,arguments.length?arguments[0]:void 0)}},J=w("WeakMap",K,b),F=J.prototype,de=f(F.set);if(T)if(H){d=b.getConstructor(K,"WeakMap",!0),x.enable();var re=f(F.delete),V=f(F.has),X=f(F.get);v(F,{delete:function(G){if(C(G)&&!p(G)){var Y=P(this);return Y.frozen||(Y.frozen=new d),re(this,G)||Y.frozen.delete(G)}return re(this,G)},has:function(G){if(C(G)&&!p(G)){var Y=P(this);return Y.frozen||(Y.frozen=new d),V(this,G)||Y.frozen.has(G)}return V(this,G)},get:function(G){if(C(G)&&!p(G)){var Y=P(this);return Y.frozen||(Y.frozen=new d),V(this,G)?X(this,G):Y.frozen.get(G)}return X(this,G)},set:function(G,Y){if(C(G)&&!p(G)){var Z=P(this);Z.frozen||(Z.frozen=new d),V(this,G)?de(this,G,Y):Z.frozen.set(G,Y)}else de(this,G,Y);return this}})}else c&&E(function(){var oe=_([]);return de(new J,oe,1),!g(oe)})&&v(F,{set:function(G,Y){var Z;return a(G)&&(g(G)?Z=R:y(G)&&(Z=D)),de(this,G,Y),Z===R&&_(G),Z===D&&j(G),this}})},1090:function(l,s,r){"use strict";r(5164)},8832:function(l,s,r){"use strict";r(5398)},7522:function(l,s,r){"use strict";var d=r(9037),c=r(6338),h=r(3265),f=r(7612),v=r(5773),x=function(C){if(C&&C.forEach!==f)try{v(C,"forEach",f)}catch(P){C.forEach=f}};for(var w in c)c[w]&&x(d[w]&&d[w].prototype);x(h)},6265:function(l,s,r){"use strict";var d=r(9037),c=r(6338),h=r(3265),f=r(752),v=r(5773),x=r(4201),w=x("iterator"),b=x("toStringTag"),C=f.values,P=function(m,a){if(m){if(m[w]!==C)try{v(m,w,C)}catch(g){m[w]=C}if(m[b]||v(m,b,a),c[a]){for(var p in f)if(m[p]!==f[p])try{v(m,p,f[p])}catch(g){m[p]=f[p]}}}};for(var E in c)P(d[E]&&d[E].prototype,E);P(h,"DOMTokenList")},2625:function(l,s,r){"use strict";r(752);var d=r(9989),c=r(9037),h=r(2615),f=r(8844),v=r(7697),x=r(6837),w=r(1880),b=r(2148),C=r(6045),P=r(5997),E=r(974),T=r(618),m=r(767),a=r(9985),p=r(6812),g=r(4071),y=r(926),_=r(5027),j=r(8999),R=r(4327),D=r(5391),H=r(5684),K=r(5185),J=r(1664),F=r(7807),de=r(1500),re=r(4201),V=r(382),X=re("iterator"),oe="URLSearchParams",G=oe+"Iterator",Y=T.set,Z=T.getterFor(oe),ae=T.getterFor(G),ie=Object.getOwnPropertyDescriptor,je=function(pe){if(!v)return c[pe];var he=ie(c,pe);return he&&he.value},Le=je("fetch"),ke=je("Request"),Ze=je("Headers"),Ve=ke&&ke.prototype,Xe=Ze&&Ze.prototype,dt=c.RegExp,yt=c.TypeError,pt=c.decodeURIComponent,Re=c.encodeURIComponent,_e=f("".charAt),Ne=f([].join),Je=f([].push),Ye=f("".replace),Te=f([].shift),rt=f([].splice),ht=f("".split),at=f("".slice),ut=/\+/g,qe=Array(4),ze=function(pe){return qe[pe-1]||(qe[pe-1]=dt("((?:%[\\da-f]{2}){"+pe+"})","gi"))},Fe=function(pe){try{return pt(pe)}catch(he){return pe}},tt=function(pe){var he=Ye(pe,ut," "),Q=4;try{return pt(he)}catch(be){for(;Q;)he=Ye(he,ze(Q--),Fe);return he}},nt=/[!'()~]|%20/g,bt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},wt=function(pe){return bt[pe]},_t=function(pe){return Ye(Re(pe),nt,wt)},st=E(function(ce,pe){Y(this,{type:G,target:Z(ce).entries,index:0,kind:pe})},oe,function(){var ce=ae(this),pe=ce.target,he=ce.index++;if(!pe||he>=pe.length)return ce.target=void 0,F(void 0,!0);var Q=pe[he];switch(ce.kind){case"keys":return F(Q.key,!1);case"values":return F(Q.value,!1)}return F([Q.key,Q.value],!1)},!0),ye=function(pe){this.entries=[],this.url=null,pe!==void 0&&(j(pe)?this.parseObject(pe):this.parseQuery(typeof pe=="string"?_e(pe,0)==="?"?at(pe,1):pe:R(pe)))};ye.prototype={type:oe,bindURL:function(pe){this.url=pe,this.update()},parseObject:function(pe){var he,Q,be,Ce,xe,Ge,Be,Ke=this.entries,Pt=J(pe);if(Pt)for(Q=(he=K(pe,Pt)).next;!(be=h(Q,he)).done;){if(xe=(Ce=K(_(be.value))).next,(Ge=h(xe,Ce)).done||(Be=h(xe,Ce)).done||!h(xe,Ce).done)throw new yt("Expected sequence with length 2");Je(Ke,{key:R(Ge.value),value:R(Be.value)})}else for(var At in pe)p(pe,At)&&Je(Ke,{key:At,value:R(pe[At])})},parseQuery:function(pe){if(pe)for(var he,Q,be=this.entries,Ce=ht(pe,"&"),xe=0;xe<Ce.length;)(he=Ce[xe++]).length&&(Q=ht(he,"="),Je(be,{key:tt(Te(Q)),value:tt(Ne(Q,"="))}))},serialize:function(){for(var pe,he=this.entries,Q=[],be=0;be<he.length;)pe=he[be++],Je(Q,_t(pe.key)+"="+_t(pe.value));return Ne(Q,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var N=function(){m(this,We);var pe=Y(this,new ye(arguments.length>0?arguments[0]:void 0));v||(this.size=pe.entries.length)},We=N.prototype;if(C(We,{append:function(pe,he){var Q=Z(this);de(arguments.length,2),Je(Q.entries,{key:R(pe),value:R(he)}),v||this.length++,Q.updateURL()},delete:function(pe){for(var he=Z(this),Q=de(arguments.length,1),be=he.entries,Ce=R(pe),xe=Q<2?void 0:arguments[1],Ge=xe===void 0?xe:R(xe),Be=0;Be<be.length;){var Ke=be[Be];if(Ke.key!==Ce||Ge!==void 0&&Ke.value!==Ge)Be++;else if(rt(be,Be,1),Ge!==void 0)break}v||(this.size=be.length),he.updateURL()},get:function(pe){var he=Z(this).entries;de(arguments.length,1);for(var Q=R(pe),be=0;be<he.length;be++)if(he[be].key===Q)return he[be].value;return null},getAll:function(pe){var he=Z(this).entries;de(arguments.length,1);for(var Q=R(pe),be=[],Ce=0;Ce<he.length;Ce++)he[Ce].key===Q&&Je(be,he[Ce].value);return be},has:function(pe){for(var he=Z(this).entries,Q=de(arguments.length,1),be=R(pe),Ce=Q<2?void 0:arguments[1],xe=Ce===void 0?Ce:R(Ce),Ge=0;Ge<he.length;){var Be=he[Ge++];if(Be.key===be&&(xe===void 0||Be.value===xe))return!0}return!1},set:function(pe,he){var Q=Z(this);de(arguments.length,1);for(var be,Ce=Q.entries,xe=!1,Ge=R(pe),Be=R(he),Ke=0;Ke<Ce.length;Ke++)(be=Ce[Ke]).key===Ge&&(xe?rt(Ce,Ke--,1):(xe=!0,be.value=Be));xe||Je(Ce,{key:Ge,value:Be}),v||(this.size=Ce.length),Q.updateURL()},sort:function(){var pe=Z(this);V(pe.entries,function(he,Q){return he.key>Q.key?1:-1}),pe.updateURL()},forEach:function(pe){for(var he,Q=Z(this).entries,be=g(pe,arguments.length>1?arguments[1]:void 0),Ce=0;Ce<Q.length;)be((he=Q[Ce++]).value,he.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),w(We,X,We.entries,{name:"entries"}),w(We,"toString",function(){return Z(this).serialize()},{enumerable:!0}),v&&b(We,"size",{get:function(){return Z(this).entries.length},configurable:!0,enumerable:!0}),P(N,oe),d({global:!0,constructor:!0,forced:!x},{URLSearchParams:N}),!x&&a(Ze)){var Ie=f(Xe.has),et=f(Xe.set),L=function(pe){if(j(pe)){var he,Q=pe.body;if(y(Q)===oe)return he=pe.headers?new Ze(pe.headers):new Ze,Ie(he,"content-type")||et(he,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(pe,{body:H(0,R(Q)),headers:H(0,he)})}return pe};if(a(Le)&&d({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(pe){return Le(pe,arguments.length>1?L(arguments[1]):{})}}),a(ke)){var ue=function(pe){return m(this,Ve),new ke(pe,arguments.length>1?L(arguments[1]):{})};Ve.constructor=ue,ue.prototype=Ve,d({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ue})}}l.exports={URLSearchParams:N,getState:Z}},9307:function(l,s,r){"use strict";r(2625)},5756:function(l,s,r){"use strict";var d=function(b,C){(C==null||C>b.length)&&(C=b.length);for(var P=0,E=new Array(C);P<C;P++)E[P]=b[P];return E},c=function(b,C){for(var P=0;P<C.length;P++){var E=C[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,(T=function(m,a){if(h(m)!=="object"||m===null)return m;var p=m[Symbol.toPrimitive];if(p!==void 0){var g=p.call(m,"string");if(h(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(E.key),h(T)==="symbol"?T:String(T)),E)}var T};function h(w){return h=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(C){return typeof C=="undefined"?"undefined":_typeof(C)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b=="undefined"?"undefined":_typeof(b)},h(w)}r.d(s,{XM:function(){return v},Xe:function(){return x},pX:function(){return f}}),r(9373),r(9903),r(9749),r(6544),r(228),r(9288),r(4254),r(752),r(1694),r(6265),r(7049),r(9730),r(2826),r(4284),r(4043);var f={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},v=function(b){return function(){for(var C=arguments.length,P=new Array(C),E=0;E<C;E++)P[E]=arguments[E];return{_$litDirective$:b,values:P}}},x=function(){function w(P){(function(E,T){if(!_instanceof(E,T))throw new TypeError("Cannot call a class as a function")})(this,w)}var b,C;return b=w,C=[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(E,T,m){this._$Ct=E,this._$AM=T,this._$Ci=m}},{key:"_$AS",value:function(E,T){return this.update(E,T)}},{key:"update",value:function(E,T){return this.render.apply(this,function(a){if(Array.isArray(a))return d(a)}(m=T)||function(a){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(m)||function(a,p){if(a){if(typeof a=="string")return d(a,p);var g=Object.prototype.toString.call(a).slice(8,-1);return g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set"?Array.from(a):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?d(a,p):void 0}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var m}}],C&&c(b.prototype,C),Object.defineProperty(b,"prototype",{writable:!1}),w}()},4817:function(l,s,r){"use strict";var d=function(ze,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),Fe&&E(ze,Fe)},c=function(ze){var Fe=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(tt){return!1}}();return function(){var tt,nt=T(ze);if(Fe){var bt=T(this).constructor;tt=Reflect.construct(nt,arguments,bt)}else tt=nt.apply(this,arguments);return function(wt,_t){if(_t&&(m(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(st){if(st===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return st}(wt)}(this,tt)}},h=function(ze,Fe){var tt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ze[Symbol.iterator]||ze["@@iterator"];if(!tt){if(Array.isArray(ze)||(tt=f(ze))||Fe&&ze&&typeof ze.length=="number"){tt&&(ze=tt);var nt=0,bt=function(){};return{s:bt,n:function(){return nt>=ze.length?{done:!0}:{done:!1,value:ze[nt++]}},e:function(N){throw N},f:bt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var wt,_t=!0,st=!1;return{s:function(){tt=tt.call(ze)},n:function(){var N=tt.next();return _t=N.done,N},e:function(N){st=!0,wt=N},f:function(){try{_t||tt.return==null||tt.return()}finally{if(st)throw wt}}}},f=function(ze,Fe){if(ze){if(typeof ze=="string")return v(ze,Fe);var tt=Object.prototype.toString.call(ze).slice(8,-1);return tt==="Object"&&ze.constructor&&(tt=ze.constructor.name),tt==="Map"||tt==="Set"?Array.from(ze):tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt)?v(ze,Fe):void 0}},v=function(ze,Fe){(Fe==null||Fe>ze.length)&&(Fe=ze.length);for(var tt=0,nt=new Array(Fe);tt<Fe;tt++)nt[tt]=ze[tt];return nt},x=function(ze,Fe){if(!_instanceof(ze,Fe))throw new TypeError("Cannot call a class as a function")},w=function(ze,Fe){for(var tt=0;tt<Fe.length;tt++){var nt=Fe[tt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(ze,(bt=function(wt,_t){if(m(wt)!=="object"||wt===null)return wt;var st=wt[Symbol.toPrimitive];if(st!==void 0){var ye=st.call(wt,"string");if(m(ye)!=="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(wt)}(nt.key),m(bt)==="symbol"?bt:String(bt)),nt)}var bt},b=function(ze,Fe,tt){return Fe&&w(ze.prototype,Fe),tt&&w(ze,tt),Object.defineProperty(ze,"prototype",{writable:!1}),ze},C=function(ze,Fe){if(!Array.isArray(ze)||!ze.hasOwnProperty("raw"))throw Error("invalid template strings array");return g!==void 0?g.createHTML(Fe):Fe},P;function E(qe,ze){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,nt){return tt.__proto__=nt,tt},E(qe,ze)}function T(qe){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},T(qe)}function m(qe){return m=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Fe){return typeof Fe=="undefined"?"undefined":_typeof(Fe)}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze=="undefined"?"undefined":_typeof(ze)},m(qe)}r.d(s,{Al:function(){return ht},Jb:function(){return Le},Ld:function(){return ke},YP:function(){return je},dy:function(){return ie},sY:function(){return ut}}),r(9730),r(4254),r(752),r(228),r(1694),r(6265),r(9749),r(6544),r(2003),r(4043),r(2826),r(4338),r(1090),r(268),r(2918),r(9873),r(4284),r(7895),r(9373),r(9903),r(9288),r(7049),r(8052),r(50);var a=window,p=a.trustedTypes,g=p?p.createPolicy("lit-html",{createHTML:function(ze){return ze}}):void 0,y="$lit$",_="lit$".concat((Math.random()+"").slice(9),"$"),j="?"+_,R="<".concat(j,">"),D=document,H=function(){return D.createComment("")},K=function(ze){return ze===null||m(ze)!="object"&&typeof ze!="function"},J=Array.isArray,F=function(ze){return J(ze)||typeof(ze==null?void 0:ze[Symbol.iterator])=="function"},de="[ 	\n\f\r]",re=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,V=/-->/g,X=/>/g,oe=RegExp(">|".concat(de,"(?:([^\\s\"'>=/]+)(").concat(de,"*=").concat(de,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),G=/'/g,Y=/"/g,Z=/^(?:script|style|textarea|title)$/i,ae=function(ze){return function(Fe){for(var tt=arguments.length,nt=new Array(tt>1?tt-1:0),bt=1;bt<tt;bt++)nt[bt-1]=arguments[bt];return{_$litType$:ze,strings:Fe,values:nt}}},ie=ae(1),je=ae(2),Le=Symbol.for("lit-noChange"),ke=Symbol.for("lit-nothing"),Ze=new WeakMap,Ve=D.createTreeWalker(D,129,null,!1),Xe=function(ze,Fe){for(var tt,nt=ze.length-1,bt=[],wt=Fe===2?"<svg>":"",_t=re,st=0;st<nt;st++){for(var ye=ze[st],N=void 0,We=void 0,Ie=-1,et=0;et<ye.length&&(_t.lastIndex=et,(We=_t.exec(ye))!==null);)et=_t.lastIndex,_t===re?We[1]==="!--"?_t=V:We[1]!==void 0?_t=X:We[2]!==void 0?(Z.test(We[2])&&(tt=RegExp("</"+We[2],"g")),_t=oe):We[3]!==void 0&&(_t=oe):_t===oe?We[0]===">"?(_t=tt!=null?tt:re,Ie=-1):We[1]===void 0?Ie=-2:(Ie=_t.lastIndex-We[2].length,N=We[1],_t=We[3]===void 0?oe:We[3]==='"'?Y:G):_t===Y||_t===G?_t=oe:_t===V||_t===X?_t=re:(_t=oe,tt=void 0);var L=_t===oe&&ze[st+1].startsWith("/>")?" ":"";wt+=_t===re?ye+R:Ie>=0?(bt.push(N),ye.slice(0,Ie)+y+ye.slice(Ie)+_+L):ye+_+(Ie===-2?(bt.push(void 0),st):L)}return[C(ze,wt+(ze[nt]||"<?>")+(Fe===2?"</svg>":"")),bt]},dt=function(){function qe(ze,Fe){var tt,nt=ze.strings,bt=ze._$litType$;x(this,qe),this.parts=[];var wt,_t=0,st=0,ye=nt.length-1,N=this.parts,We=function(Dt,Ht){return function(Bt){if(Array.isArray(Bt))return Bt}(Dt)||function(Bt,qt){var Zt=Bt==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Bt[Symbol.iterator]||Bt["@@iterator"];if(Zt!=null){var un,Rt,rn,Qt,Tn=[],Nt=!0,Me=!1;try{if(rn=(Zt=Zt.call(Bt)).next,qt===0){if(Object(Zt)!==Zt)return;Nt=!1}else for(;!(Nt=(un=rn.call(Zt)).done)&&(Tn.push(un.value),Tn.length!==qt);Nt=!0);}catch(fe){Me=!0,Rt=fe}finally{try{if(!Nt&&Zt.return!=null&&(Qt=Zt.return(),Object(Qt)!==Qt))return}finally{if(Me)throw Rt}}return Tn}}(Dt,Ht)||f(Dt,Ht)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xe(nt,bt),2),Ie=We[0],et=We[1];if(this.el=qe.createElement(Ie,Fe),Ve.currentNode=this.el.content,bt===2){var L=this.el.content,ue=L.firstChild;ue.remove(),L.append.apply(L,function(Dt){if(Array.isArray(Dt))return v(Dt)}(wt=ue.childNodes)||function(Dt){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Dt[Symbol.iterator]!=null||Dt["@@iterator"]!=null)return Array.from(Dt)}(wt)||f(wt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}for(;(tt=Ve.nextNode())!==null&&N.length<ye;){if(tt.nodeType===1){if(tt.hasAttributes()){var ce,pe=[],he=h(tt.getAttributeNames());try{for(he.s();!(ce=he.n()).done;){var Q=ce.value;if(Q.endsWith(y)||Q.startsWith(_)){var be=et[st++];if(pe.push(Q),be!==void 0){var Ce=tt.getAttribute(be.toLowerCase()+y).split(_),xe=/([.?@])?(.*)/.exec(be);N.push({type:1,index:_t,name:xe[2],strings:Ce,ctor:xe[1]==="."?Ne:xe[1]==="?"?Ye:xe[1]==="@"?Te:_e})}else N.push({type:6,index:_t})}}}catch(Dt){he.e(Dt)}finally{he.f()}for(var Ge=0,Be=pe;Ge<Be.length;Ge++){var Ke=Be[Ge];tt.removeAttribute(Ke)}}if(Z.test(tt.tagName)){var Pt=tt.textContent.split(_),At=Pt.length-1;if(At>0){tt.textContent=p?p.emptyScript:"";for(var Et=0;Et<At;Et++)tt.append(Pt[Et],H()),Ve.nextNode(),N.push({type:2,index:++_t});tt.append(Pt[At],H())}}}else if(tt.nodeType===8)if(tt.data===j)N.push({type:2,index:_t});else for(var Jt=-1;(Jt=tt.data.indexOf(_,Jt+1))!==-1;)N.push({type:7,index:_t}),Jt+=_.length-1;_t++}}return b(qe,null,[{key:"createElement",value:function(Fe,tt){var nt=D.createElement("template");return nt.innerHTML=Fe,nt}}]),qe}();function yt(qe,ze){var Fe,tt,nt,bt,wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qe,_t=arguments.length>3?arguments[3]:void 0;if(ze===Le)return ze;var st=_t!==void 0?(Fe=wt._$Co)===null||Fe===void 0?void 0:Fe[_t]:wt._$Cl,ye=K(ze)?void 0:ze._$litDirective$;return(st==null?void 0:st.constructor)!==ye&&((tt=st==null?void 0:st._$AO)===null||tt===void 0||tt.call(st,!1),ye===void 0?st=void 0:(st=new ye(qe))._$AT(qe,wt,_t),_t!==void 0?((nt=(bt=wt)._$Co)!==null&&nt!==void 0?nt:bt._$Co=[])[_t]=st:wt._$Cl=st),st!==void 0&&(ze=yt(qe,st._$AS(qe,ze.values),st,_t)),ze}var pt=function(){function qe(ze,Fe){x(this,qe),this._$AV=[],this._$AN=void 0,this._$AD=ze,this._$AM=Fe}return b(qe,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(Fe){var tt,nt=this._$AD,bt=nt.el.content,wt=nt.parts,_t=((tt=Fe==null?void 0:Fe.creationScope)!==null&&tt!==void 0?tt:D).importNode(bt,!0);Ve.currentNode=_t;for(var st=Ve.nextNode(),ye=0,N=0,We=wt[0];We!==void 0;){if(ye===We.index){var Ie=void 0;We.type===2?Ie=new Re(st,st.nextSibling,this,Fe):We.type===1?Ie=new We.ctor(st,We.name,We.strings,this,Fe):We.type===6&&(Ie=new rt(st,this,Fe)),this._$AV.push(Ie),We=wt[++N]}ye!==(We==null?void 0:We.index)&&(st=Ve.nextNode(),ye++)}return Ve.currentNode=D,_t}},{key:"v",value:function(Fe){var tt,nt=0,bt=h(this._$AV);try{for(bt.s();!(tt=bt.n()).done;){var wt=tt.value;wt!==void 0&&(wt.strings!==void 0?(wt._$AI(Fe,wt,nt),nt+=wt.strings.length-2):wt._$AI(Fe[nt])),nt++}}catch(_t){bt.e(_t)}finally{bt.f()}}}]),qe}(),Re=function(){function qe(ze,Fe,tt,nt){var bt;x(this,qe),this.type=2,this._$AH=ke,this._$AN=void 0,this._$AA=ze,this._$AB=Fe,this._$AM=tt,this.options=nt,this._$Cp=(bt=nt==null?void 0:nt.isConnected)===null||bt===void 0||bt}return b(qe,[{key:"_$AU",get:function(){var Fe,tt;return(tt=(Fe=this._$AM)===null||Fe===void 0?void 0:Fe._$AU)!==null&&tt!==void 0?tt:this._$Cp}},{key:"parentNode",get:function(){var Fe=this._$AA.parentNode,tt=this._$AM;return tt!==void 0&&(Fe==null?void 0:Fe.nodeType)===11&&(Fe=tt.parentNode),Fe}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(Fe){Fe=yt(this,Fe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),K(Fe)?Fe===ke||Fe==null||Fe===""?(this._$AH!==ke&&this._$AR(),this._$AH=ke):Fe!==this._$AH&&Fe!==Le&&this._(Fe):Fe._$litType$!==void 0?this.g(Fe):Fe.nodeType!==void 0?this.$(Fe):F(Fe)?this.T(Fe):this._(Fe)}},{key:"k",value:function(Fe){return this._$AA.parentNode.insertBefore(Fe,this._$AB)}},{key:"$",value:function(Fe){this._$AH!==Fe&&(this._$AR(),this._$AH=this.k(Fe))}},{key:"_",value:function(Fe){this._$AH!==ke&&K(this._$AH)?this._$AA.nextSibling.data=Fe:this.$(D.createTextNode(Fe)),this._$AH=Fe}},{key:"g",value:function(Fe){var tt,nt=Fe.values,bt=Fe._$litType$,wt=typeof bt=="number"?this._$AC(Fe):(bt.el===void 0&&(bt.el=dt.createElement(C(bt.h,bt.h[0]),this.options)),bt);if(((tt=this._$AH)===null||tt===void 0?void 0:tt._$AD)===wt)this._$AH.v(nt);else{var _t=new pt(wt,this),st=_t.u(this.options);_t.v(nt),this.$(st),this._$AH=_t}}},{key:"_$AC",value:function(Fe){var tt=Ze.get(Fe.strings);return tt===void 0&&Ze.set(Fe.strings,tt=new dt(Fe)),tt}},{key:"T",value:function(Fe){J(this._$AH)||(this._$AH=[],this._$AR());var tt,nt,bt=this._$AH,wt=0,_t=h(Fe);try{for(_t.s();!(nt=_t.n()).done;){var st=nt.value;wt===bt.length?bt.push(tt=new qe(this.k(H()),this.k(H()),this,this.options)):tt=bt[wt],tt._$AI(st),wt++}}catch(ye){_t.e(ye)}finally{_t.f()}wt<bt.length&&(this._$AR(tt&&tt._$AB.nextSibling,wt),bt.length=wt)}},{key:"_$AR",value:function(){var Fe,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,nt=arguments.length>1?arguments[1]:void 0;for((Fe=this._$AP)===null||Fe===void 0||Fe.call(this,!1,!0,nt);tt&&tt!==this._$AB;){var bt=tt.nextSibling;tt.remove(),tt=bt}}},{key:"setConnected",value:function(Fe){var tt;this._$AM===void 0&&(this._$Cp=Fe,(tt=this._$AP)===null||tt===void 0||tt.call(this,Fe))}}]),qe}(),_e=function(){function qe(ze,Fe,tt,nt,bt){x(this,qe),this.type=1,this._$AH=ke,this._$AN=void 0,this.element=ze,this.name=Fe,this._$AM=nt,this.options=bt,tt.length>2||tt[0]!==""||tt[1]!==""?(this._$AH=Array(tt.length-1).fill(new String),this.strings=tt):this._$AH=ke}return b(qe,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(Fe){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,nt=arguments.length>2?arguments[2]:void 0,bt=arguments.length>3?arguments[3]:void 0,wt=this.strings,_t=!1;if(wt===void 0)Fe=yt(this,Fe,tt,0),(_t=!K(Fe)||Fe!==this._$AH&&Fe!==Le)&&(this._$AH=Fe);else{var st,ye,N=Fe;for(Fe=wt[0],st=0;st<wt.length-1;st++)(ye=yt(this,N[nt+st],tt,st))===Le&&(ye=this._$AH[st]),_t||(_t=!K(ye)||ye!==this._$AH[st]),ye===ke?Fe=ke:Fe!==ke&&(Fe+=(ye!=null?ye:"")+wt[st+1]),this._$AH[st]=ye}_t&&!bt&&this.j(Fe)}},{key:"j",value:function(Fe){Fe===ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Fe!=null?Fe:"")}}]),qe}(),Ne=function(qe){d(Fe,qe);var ze=c(Fe);function Fe(){var tt;return x(this,Fe),(tt=ze.apply(this,arguments)).type=3,tt}return b(Fe,[{key:"j",value:function(nt){this.element[this.name]=nt===ke?void 0:nt}}]),Fe}(_e),Je=p?p.emptyScript:"",Ye=function(qe){d(Fe,qe);var ze=c(Fe);function Fe(){var tt;return x(this,Fe),(tt=ze.apply(this,arguments)).type=4,tt}return b(Fe,[{key:"j",value:function(nt){nt&&nt!==ke?this.element.setAttribute(this.name,Je):this.element.removeAttribute(this.name)}}]),Fe}(_e),Te=function(qe){d(Fe,qe);var ze=c(Fe);function Fe(tt,nt,bt,wt,_t){var st;return x(this,Fe),(st=ze.call(this,tt,nt,bt,wt,_t)).type=5,st}return b(Fe,[{key:"_$AI",value:function(nt){var bt;if((nt=(bt=yt(this,nt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&bt!==void 0?bt:ke)!==Le){var wt=this._$AH,_t=nt===ke&&wt!==ke||nt.capture!==wt.capture||nt.once!==wt.once||nt.passive!==wt.passive,st=nt!==ke&&(wt===ke||_t);_t&&this.element.removeEventListener(this.name,this,wt),st&&this.element.addEventListener(this.name,this,nt),this._$AH=nt}}},{key:"handleEvent",value:function(nt){var bt,wt;typeof this._$AH=="function"?this._$AH.call((wt=(bt=this.options)===null||bt===void 0?void 0:bt.host)!==null&&wt!==void 0?wt:this.element,nt):this._$AH.handleEvent(nt)}}]),Fe}(_e),rt=function(){function qe(ze,Fe,tt){x(this,qe),this.element=ze,this.type=6,this._$AN=void 0,this._$AM=Fe,this.options=tt}return b(qe,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(Fe){yt(this,Fe)}}]),qe}(),ht={O:y,P:_,A:j,C:1,M:Xe,L:pt,R:F,D:yt,I:Re,V:_e,H:Ye,N:Te,U:Ne,F:rt},at=a.litHtmlPolyfillSupport;at==null||at(dt,Re),((P=a.litHtmlVersions)!==null&&P!==void 0?P:a.litHtmlVersions=[]).push("2.8.0");var ut=function(ze,Fe,tt){var nt,bt,wt=(nt=tt==null?void 0:tt.renderBefore)!==null&&nt!==void 0?nt:Fe,_t=wt._$litPart$;if(_t===void 0){var st=(bt=tt==null?void 0:tt.renderBefore)!==null&&bt!==void 0?bt:null;wt._$litPart$=_t=new Re(Fe.insertBefore(H(),st),st,void 0,tt!=null?tt:{})}return _t._$AI(ze),_t}},9089:function(l,s,r){"use strict";var d=function(R,D){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(R);D&&(K=K.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,K)}return H},c=function(R){for(var D=arguments,H=function(J){var F=D[J]!=null?D[J]:{};J%2?d(Object(F),!0).forEach(function(de){var re,V,X;re=R,V=de,X=F[de],(V=function(oe){var G=function(Y,Z){if(E(Y)!=="object"||Y===null)return Y;var ae=Y[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(Y,"string");if(E(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(oe);return E(G)==="symbol"?G:String(G)}(V))in re?Object.defineProperty(re,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):re[V]=X}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):d(Object(F)).forEach(function(de){Object.defineProperty(R,de,Object.getOwnPropertyDescriptor(F,de))})},K=1;K<arguments.length;K++)H(K);return R},h=function(R){return function(D,H){return H!==void 0?m(R,D,H):T(R,D)}},f=function(R,D){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(R);D&&(K=K.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,K)}return H},v=function(R){for(var D=arguments,H=function(J){var F=D[J]!=null?D[J]:{};J%2?f(Object(F),!0).forEach(function(de){var re,V,X;re=R,V=de,X=F[de],(V=function(oe){var G=function(Y,Z){if(a(Y)!=="object"||Y===null)return Y;var ae=Y[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(Y,"string");if(a(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(oe);return a(G)==="symbol"?G:String(G)}(V))in re?Object.defineProperty(re,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):re[V]=X}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):f(Object(F)).forEach(function(de){Object.defineProperty(R,de,Object.getOwnPropertyDescriptor(F,de))})},K=1;K<arguments.length;K++)H(K);return R},x=function(R){return h(v(v({},R),{},{state:!0}))},w=function(R,D){var H=Object.keys(R);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(R);D&&(K=K.filter(function(J){return Object.getOwnPropertyDescriptor(R,J).enumerable})),H.push.apply(H,K)}return H},b=function(R){for(var D=arguments,H=function(J){var F=D[J]!=null?D[J]:{};J%2?w(Object(F),!0).forEach(function(de){var re,V,X;re=R,V=de,X=F[de],(V=function(oe){var G=function(Y,Z){if(p(Y)!=="object"||Y===null)return Y;var ae=Y[Symbol.toPrimitive];if(ae!==void 0){var ie=ae.call(Y,"string");if(p(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(oe);return p(G)==="symbol"?G:String(G)}(V))in re?Object.defineProperty(re,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):re[V]=X}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):w(Object(F)).forEach(function(de){Object.defineProperty(R,de,Object.getOwnPropertyDescriptor(F,de))})},K=1;K<arguments.length;K++)H(K);return R},C=function(R,D){return y({descriptor:function(K){var J={get:function(){var re,V;return(V=(re=this.renderRoot)===null||re===void 0?void 0:re.querySelector(R))!==null&&V!==void 0?V:null},enumerable:!0,configurable:!0};if(D){var F=_(K)=="symbol"?Symbol():"__"+K;J.get=function(){var de,re;return this[F]===void 0&&(this[F]=(re=(de=this.renderRoot)===null||de===void 0?void 0:de.querySelector(R))!==null&&re!==void 0?re:null),this[F]}}return J}})};r.d(s,{Mo:function(){return P},Cb:function(){return h},IO:function(){return C},SB:function(){return x}});var P=function(R){return function(D){return typeof D=="function"?function(H,K){return customElements.define(H,K),K}(R,D):function(H,K){return{kind:K.kind,elements:K.elements,finisher:function(F){customElements.define(H,F)}}}(R,D)}};function E(j){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},E(j)}r(9749),r(6544),r(228),r(9373),r(9903),r(9288),r(9358),r(8077),r(1919),r(7522),r(9474),r(4254),r(752),r(1694),r(6265);var T=function(R,D){return D.kind==="method"&&D.descriptor&&!("value"in D.descriptor)?c(c({},D),{},{finisher:function(K){K.createProperty(D.key,R)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:D.key,initializer:function(){typeof D.initializer=="function"&&(this[D.key]=D.initializer.call(this))},finisher:function(K){K.createProperty(D.key,R)}}},m=function(R,D,H){D.constructor.createProperty(H,R)};function a(j){return a=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},a(j)}function p(j){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},p(j)}r(429);var g,y=function(R){var D=R.finisher,H=R.descriptor;return function(K,J){var F;if(J===void 0){var de=(F=K.originalKey)!==null&&F!==void 0?F:K.key,re=H!=null?{kind:"method",placement:"prototype",key:de,descriptor:H(K.key)}:b(b({},K),{},{key:de});return D!=null&&(re.finisher=function(X){D(X,de)}),re}var V=K.constructor;H!==void 0&&Object.defineProperty(K,J,H(J)),D==null||D(V,J)}};function _(j){return _=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(D){return typeof D=="undefined"?"undefined":_typeof(D)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},_(j)}r(3964),r(8373),r(6793),r(7629),r(7509),r(8052),r(4284),r(3374),r(9730),(g=window.HTMLSlotElement)===null||g===void 0||g.prototype.assignedElements},1312:function(l,s,r){"use strict";var d=function(m,a){(a==null||a>m.length)&&(a=m.length);for(var p=0,g=new Array(a);p<a;p++)g[p]=m[p];return g},c=function(m,a){for(var p=0;p<a.length;p++){var g=a[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,(y=function(_,j){if(x(_)!=="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var D=R.call(_,"string");if(x(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}(g.key),x(y)==="symbol"?y:String(y)),g)}var y},h=function(m,a){if(a&&(x(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(m)};r.d(s,{V:function(){return E}}),r(4284),r(278),r(228),r(9358),r(4338),r(6801),r(3843),r(4043),r(7267),r(752),r(9649),r(1694),r(6265),r(7522),r(2918),r(9730),r(8052),r(50),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(2826),r(7049);var f=r(4817),v=r(5756);function x(T){return x=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(a){return typeof a=="undefined"?"undefined":_typeof(a)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m=="undefined"?"undefined":_typeof(m)},x(T)}function w(T,m){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,g){return p.__proto__=g,p},w(T,m)}function b(T){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},b(T)}var C="important",P=" !"+C,E=(0,v.XM)(function(T){(function(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),R&&w(j,R)})(_,T);var m,a,p,g,y=(p=_,g=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}(),function(){var R,D=b(p);if(g){var H=b(this).constructor;R=Reflect.construct(D,arguments,H)}else R=D.apply(this,arguments);return h(this,R)});function _(j){var R,D;if(function(H,K){if(!_instanceof(H,K))throw new TypeError("Cannot call a class as a function")}(this,_),R=y.call(this,j),j.type!==v.pX.ATTRIBUTE||j.name!=="style"||((D=j.strings)===null||D===void 0?void 0:D.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return h(R)}return m=_,(a=[{key:"render",value:function(R){return Object.keys(R).reduce(function(D,H){var K=R[H];return K==null?D:D+"".concat(H=H.includes("-")?H:H.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(K,";")},"")}},{key:"update",value:function(R,D){var H=this,K=function(X,oe){return function(G){if(Array.isArray(G))return G}(X)||function(G,Y){var Z=G==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&G[Symbol.iterator]||G["@@iterator"];if(Z!=null){var ae,ie,je,Le,ke=[],Ze=!0,Ve=!1;try{if(je=(Z=Z.call(G)).next,Y===0){if(Object(Z)!==Z)return;Ze=!1}else for(;!(Ze=(ae=je.call(Z)).done)&&(ke.push(ae.value),ke.length!==Y);Ze=!0);}catch(Xe){Ve=!0,ie=Xe}finally{try{if(!Ze&&Z.return!=null&&(Le=Z.return(),Object(Le)!==Le))return}finally{if(Ve)throw ie}}return ke}}(X,oe)||function(G,Y){if(G){if(typeof G=="string")return d(G,Y);var Z=Object.prototype.toString.call(G).slice(8,-1);return Z==="Object"&&G.constructor&&(Z=G.constructor.name),Z==="Map"||Z==="Set"?Array.from(G):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?d(G,Y):void 0}}(X,oe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(D,1)[0],J=R.element.style;if(this.ht===void 0){for(var F in this.ht=new Set,K)this.ht.add(F);return this.render(K)}for(var de in this.ht.forEach(function(X){K[X]==null&&(H.ht.delete(X),X.includes("-")?J.removeProperty(X):J[X]="")}),K){var re=K[de];if(re!=null){this.ht.add(de);var V=typeof re=="string"&&re.endsWith(P);de.includes("-")||V?J.setProperty(de,V?re.slice(0,-11):re,V?C:""):J[de]=re}}return f.Jb}}])&&c(m.prototype,a),Object.defineProperty(m,"prototype",{writable:!1}),_}(v.Xe))},8318:function(l,s,r){"use strict";var d=function(_e,Ne){(Ne==null||Ne>_e.length)&&(Ne=_e.length);for(var Je=0,Ye=new Array(Ne);Je<Ne;Je++)Ye[Je]=_e[Je];return Ye},c=function(_e,Ne){for(var Je=0;Je<Ne.length;Je++){var Ye=Ne[Je];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_e,(Te=function(rt,ht){if(T(rt)!=="object"||rt===null)return rt;var at=rt[Symbol.toPrimitive];if(at!==void 0){var ut=at.call(rt,"string");if(T(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rt)}(Ye.key),T(Te)==="symbol"?Te:String(Te)),Ye)}var Te},h=function(_e,Ne){var Je=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(!Je){if(Array.isArray(_e)||(Je=v(_e))||Ne&&_e&&typeof _e.length=="number"){Je&&(_e=Je);var Ye=0,Te=function(){};return{s:Te,n:function(){return Ye>=_e.length?{done:!0}:{done:!1,value:_e[Ye++]}},e:function(qe){throw qe},f:Te}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rt,ht=!0,at=!1;return{s:function(){Je=Je.call(_e)},n:function(){var qe=Je.next();return ht=qe.done,qe},e:function(qe){at=!0,rt=qe},f:function(){try{ht||Je.return==null||Je.return()}finally{if(at)throw rt}}}},f=function(_e){return function(Ne){if(Array.isArray(Ne))return x(Ne)}(_e)||function(Ne){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ne[Symbol.iterator]!=null||Ne["@@iterator"]!=null)return Array.from(Ne)}(_e)||v(_e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},v=function(_e,Ne){if(_e){if(typeof _e=="string")return x(_e,Ne);var Je=Object.prototype.toString.call(_e).slice(8,-1);return Je==="Object"&&_e.constructor&&(Je=_e.constructor.name),Je==="Map"||Je==="Set"?Array.from(_e):Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je)?x(_e,Ne):void 0}},x=function(_e,Ne){(Ne==null||Ne>_e.length)&&(Ne=_e.length);for(var Je=0,Ye=new Array(Ne);Je<Ne;Je++)Ye[Je]=_e[Je];return Ye},w=function(_e,Ne,Je,Ye,Te,rt,ht){try{var at=_e[rt](ht),ut=at.value}catch(qe){return void Je(qe)}at.done?Ne(ut):Promise.resolve(ut).then(Ye,Te)},b=function(_e,Ne){for(var Je=0;Je<Ne.length;Je++){var Ye=Ne[Je];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_e,(Te=function(rt,ht){if(D(rt)!=="object"||rt===null)return rt;var at=rt[Symbol.toPrimitive];if(at!==void 0){var ut=at.call(rt,"string");if(D(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rt)}(Ye.key),D(Te)==="symbol"?Te:String(Te)),Ye)}var Te},C=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_e){return!1}},P=function(_e,Ne){for(var Je=0;Je<Ne.length;Je++){var Ye=Ne[Je];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_e,(Te=function(rt,ht){if(Ze(rt)!=="object"||rt===null)return rt;var at=rt[Symbol.toPrimitive];if(at!==void 0){var ut=at.call(rt,"string");if(Ze(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(rt)}(Ye.key),Ze(Te)==="symbol"?Te:String(Te)),Ye)}var Te},E=function(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e};function T(Re){return T=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},T(Re)}r.d(s,{oi:function(){return yt},iv:function(){return j},dy:function(){return ke.dy},Ld:function(){return ke.Ld},sY:function(){return ke.sY},YP:function(){return ke.YP}}),r(9288),r(9358),r(752),r(6646),r(228),r(1694),r(6265),r(3964),r(7522),r(2506),r(9749),r(6544),r(8052),r(4338),r(9997),r(9649),r(3374),r(2795),r(3383),r(2826),r(50),r(9373),r(9903),r(4254),r(8373),r(6793),r(7629),r(7509),r(4284),r(9730),r(7049),r(4043),r(1090),r(278),r(886);var m,a=window,p=a.ShadowRoot&&(a.ShadyCSS===void 0||a.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g=Symbol(),y=new WeakMap,_=function(){function Re(Je,Ye,Te){if(function(rt,ht){if(!_instanceof(rt,ht))throw new TypeError("Cannot call a class as a function")}(this,Re),this._$cssResult$=!0,Te!==g)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Je,this.t=Ye}var _e,Ne;return _e=Re,Ne=[{key:"styleSheet",get:function(){var Ye=this.o,Te=this.t;if(p&&Ye===void 0){var rt=Te!==void 0&&Te.length===1;rt&&(Ye=y.get(Te)),Ye===void 0&&((this.o=Ye=new CSSStyleSheet).replaceSync(this.cssText),rt&&y.set(Te,Ye))}return Ye}},{key:"toString",value:function(){return this.cssText}}],Ne&&c(_e.prototype,Ne),Object.defineProperty(_e,"prototype",{writable:!1}),Re}(),j=function(_e){for(var Ne=arguments.length,Je=new Array(Ne>1?Ne-1:0),Ye=1;Ye<Ne;Ye++)Je[Ye-1]=arguments[Ye];var Te=_e.length===1?_e[0]:Je.reduce(function(rt,ht,at){return rt+function(ut){if(ut._$cssResult$===!0)return ut.cssText;if(typeof ut=="number")return ut;throw Error("Value passed to 'css' function must be a 'css' function result: "+ut+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(ht)+_e[at+1]},_e[0]);return new _(Te,_e,g)},R=p?function(_e){return _e}:function(Re){return _instanceof(Re,CSSStyleSheet)?function(_e){var Ne,Je="",Ye=function(Te,rt){var ht=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(!ht){if(Array.isArray(Te)||(ht=function(tt,nt){if(tt){if(typeof tt=="string")return d(tt,nt);var bt=Object.prototype.toString.call(tt).slice(8,-1);return bt==="Object"&&tt.constructor&&(bt=tt.constructor.name),bt==="Map"||bt==="Set"?Array.from(tt):bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt)?d(tt,nt):void 0}}(Te))||rt&&Te&&typeof Te.length=="number"){ht&&(Te=ht);var at=0,ut=function(){};return{s:ut,n:function(){return at>=Te.length?{done:!0}:{done:!1,value:Te[at++]}},e:function(nt){throw nt},f:ut}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var qe,ze=!0,Fe=!1;return{s:function(){ht=ht.call(Te)},n:function(){var nt=ht.next();return ze=nt.done,nt},e:function(nt){Fe=!0,qe=nt},f:function(){try{ze||ht.return==null||ht.return()}finally{if(Fe)throw qe}}}}(_e.cssRules);try{for(Ye.s();!(Ne=Ye.n()).done;)Je+=Ne.value.cssText}catch(Te){Ye.e(Te)}finally{Ye.f()}return function(Te){return new _(typeof Te=="string"?Te:Te+"",void 0,g)}(Je)}(Re):Re};function D(Re){return D=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},D(Re)}function H(){H=function(){return _e};var Re,_e={},Ne=Object.prototype,Je=Ne.hasOwnProperty,Ye=Object.defineProperty||function(xe,Ge,Be){xe[Ge]=Be.value},Te=typeof Symbol=="function"?Symbol:{},rt=Te.iterator||"@@iterator",ht=Te.asyncIterator||"@@asyncIterator",at=Te.toStringTag||"@@toStringTag";function ut(xe,Ge,Be){return Object.defineProperty(xe,Ge,{value:Be,enumerable:!0,configurable:!0,writable:!0}),xe[Ge]}try{ut({},"")}catch(xe){ut=function(Be,Ke,Pt){return Be[Ke]=Pt}}function qe(xe,Ge,Be,Ke){var Pt=Ge&&_instanceof(Ge.prototype,_t)?Ge:_t,At=Object.create(Pt.prototype),Et=new be(Ke||[]);return Ye(At,"_invoke",{value:ce(xe,Be,Et)}),At}function ze(xe,Ge,Be){try{return{type:"normal",arg:xe.call(Ge,Be)}}catch(Ke){return{type:"throw",arg:Ke}}}_e.wrap=qe;var Fe="suspendedStart",tt="suspendedYield",nt="executing",bt="completed",wt={};function _t(){}function st(){}function ye(){}var N={};ut(N,rt,function(){return this});var We=Object.getPrototypeOf,Ie=We&&We(We(Ce([])));Ie&&Ie!==Ne&&Je.call(Ie,rt)&&(N=Ie);var et=ye.prototype=_t.prototype=Object.create(N);function L(xe){["next","throw","return"].forEach(function(Ge){ut(xe,Ge,function(Be){return this._invoke(Ge,Be)})})}function ue(xe,Ge){function Be(Pt,At,Et,Jt){var Dt=ze(xe[Pt],xe,At);if(Dt.type!=="throw"){var Ht=Dt.arg,Bt=Ht.value;return Bt&&D(Bt)=="object"&&Je.call(Bt,"__await")?Ge.resolve(Bt.__await).then(function(qt){Be("next",qt,Et,Jt)},function(qt){Be("throw",qt,Et,Jt)}):Ge.resolve(Bt).then(function(qt){Ht.value=qt,Et(Ht)},function(qt){return Be("throw",qt,Et,Jt)})}Jt(Dt.arg)}var Ke;Ye(this,"_invoke",{value:function(At,Et){function Jt(){return new Ge(function(Dt,Ht){Be(At,Et,Dt,Ht)})}return Ke=Ke?Ke.then(Jt,Jt):Jt()}})}function ce(xe,Ge,Be){var Ke=Fe;return function(Pt,At){if(Ke===nt)throw new Error("Generator is already running");if(Ke===bt){if(Pt==="throw")throw At;return{value:Re,done:!0}}for(Be.method=Pt,Be.arg=At;;){var Et=Be.delegate;if(Et){var Jt=pe(Et,Be);if(Jt){if(Jt===wt)continue;return Jt}}if(Be.method==="next")Be.sent=Be._sent=Be.arg;else if(Be.method==="throw"){if(Ke===Fe)throw Ke=bt,Be.arg;Be.dispatchException(Be.arg)}else Be.method==="return"&&Be.abrupt("return",Be.arg);Ke=nt;var Dt=ze(xe,Ge,Be);if(Dt.type==="normal"){if(Ke=Be.done?bt:tt,Dt.arg===wt)continue;return{value:Dt.arg,done:Be.done}}Dt.type==="throw"&&(Ke=bt,Be.method="throw",Be.arg=Dt.arg)}}}function pe(xe,Ge){var Be=Ge.method,Ke=xe.iterator[Be];if(Ke===Re)return Ge.delegate=null,Be==="throw"&&xe.iterator.return&&(Ge.method="return",Ge.arg=Re,pe(xe,Ge),Ge.method==="throw")||Be!=="return"&&(Ge.method="throw",Ge.arg=new TypeError("The iterator does not provide a '"+Be+"' method")),wt;var Pt=ze(Ke,xe.iterator,Ge.arg);if(Pt.type==="throw")return Ge.method="throw",Ge.arg=Pt.arg,Ge.delegate=null,wt;var At=Pt.arg;return At?At.done?(Ge[xe.resultName]=At.value,Ge.next=xe.nextLoc,Ge.method!=="return"&&(Ge.method="next",Ge.arg=Re),Ge.delegate=null,wt):At:(Ge.method="throw",Ge.arg=new TypeError("iterator result is not an object"),Ge.delegate=null,wt)}function he(xe){var Ge={tryLoc:xe[0]};1 in xe&&(Ge.catchLoc=xe[1]),2 in xe&&(Ge.finallyLoc=xe[2],Ge.afterLoc=xe[3]),this.tryEntries.push(Ge)}function Q(xe){var Ge=xe.completion||{};Ge.type="normal",delete Ge.arg,xe.completion=Ge}function be(xe){this.tryEntries=[{tryLoc:"root"}],xe.forEach(he,this),this.reset(!0)}function Ce(xe){if(xe||xe===""){var Ge=xe[rt];if(Ge)return Ge.call(xe);if(typeof xe.next=="function")return xe;if(!isNaN(xe.length)){var Be=-1,Ke=function Pt(){for(;++Be<xe.length;)if(Je.call(xe,Be))return Pt.value=xe[Be],Pt.done=!1,Pt;return Pt.value=Re,Pt.done=!0,Pt};return Ke.next=Ke}}throw new TypeError(D(xe)+" is not iterable")}return st.prototype=ye,Ye(et,"constructor",{value:ye,configurable:!0}),Ye(ye,"constructor",{value:st,configurable:!0}),st.displayName=ut(ye,at,"GeneratorFunction"),_e.isGeneratorFunction=function(xe){var Ge=typeof xe=="function"&&xe.constructor;return!!Ge&&(Ge===st||(Ge.displayName||Ge.name)==="GeneratorFunction")},_e.mark=function(xe){return Object.setPrototypeOf?Object.setPrototypeOf(xe,ye):(xe.__proto__=ye,ut(xe,at,"GeneratorFunction")),xe.prototype=Object.create(et),xe},_e.awrap=function(xe){return{__await:xe}},L(ue.prototype),ut(ue.prototype,ht,function(){return this}),_e.AsyncIterator=ue,_e.async=function(xe,Ge,Be,Ke,Pt){Pt===void 0&&(Pt=Promise);var At=new ue(qe(xe,Ge,Be,Ke),Pt);return _e.isGeneratorFunction(Ge)?At:At.next().then(function(Et){return Et.done?Et.value:At.next()})},L(et),ut(et,at,"Generator"),ut(et,rt,function(){return this}),ut(et,"toString",function(){return"[object Generator]"}),_e.keys=function(xe){var Ge=Object(xe),Be=[];for(var Ke in Ge)Be.push(Ke);return Be.reverse(),function Pt(){for(;Be.length;){var At=Be.pop();if(At in Ge)return Pt.value=At,Pt.done=!1,Pt}return Pt.done=!0,Pt}},_e.values=Ce,be.prototype={constructor:be,reset:function(Ge){if(this.prev=0,this.next=0,this.sent=this._sent=Re,this.done=!1,this.delegate=null,this.method="next",this.arg=Re,this.tryEntries.forEach(Q),!Ge)for(var Be in this)Be.charAt(0)==="t"&&Je.call(this,Be)&&!isNaN(+Be.slice(1))&&(this[Be]=Re)},stop:function(){this.done=!0;var Ge=this.tryEntries[0].completion;if(Ge.type==="throw")throw Ge.arg;return this.rval},dispatchException:function(Ge){if(this.done)throw Ge;var Be=this;function Ke(Ht,Bt){return Et.type="throw",Et.arg=Ge,Be.next=Ht,Bt&&(Be.method="next",Be.arg=Re),!!Bt}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var At=this.tryEntries[Pt],Et=At.completion;if(At.tryLoc==="root")return Ke("end");if(At.tryLoc<=this.prev){var Jt=Je.call(At,"catchLoc"),Dt=Je.call(At,"finallyLoc");if(Jt&&Dt){if(this.prev<At.catchLoc)return Ke(At.catchLoc,!0);if(this.prev<At.finallyLoc)return Ke(At.finallyLoc)}else if(Jt){if(this.prev<At.catchLoc)return Ke(At.catchLoc,!0)}else{if(!Dt)throw new Error("try statement without catch or finally");if(this.prev<At.finallyLoc)return Ke(At.finallyLoc)}}}},abrupt:function(Ge,Be){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var Pt=this.tryEntries[Ke];if(Pt.tryLoc<=this.prev&&Je.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var At=Pt;break}}At&&(Ge==="break"||Ge==="continue")&&At.tryLoc<=Be&&Be<=At.finallyLoc&&(At=null);var Et=At?At.completion:{};return Et.type=Ge,Et.arg=Be,At?(this.method="next",this.next=At.finallyLoc,wt):this.complete(Et)},complete:function(Ge,Be){if(Ge.type==="throw")throw Ge.arg;return Ge.type==="break"||Ge.type==="continue"?this.next=Ge.arg:Ge.type==="return"?(this.rval=this.arg=Ge.arg,this.method="return",this.next="end"):Ge.type==="normal"&&Be&&(this.next=Be),wt},finish:function(Ge){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Ke=this.tryEntries[Be];if(Ke.finallyLoc===Ge)return this.complete(Ke.completion,Ke.afterLoc),Q(Ke),wt}},catch:function(Ge){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Ke=this.tryEntries[Be];if(Ke.tryLoc===Ge){var Pt=Ke.completion;if(Pt.type==="throw"){var At=Pt.arg;Q(Ke)}return At}}throw new Error("illegal catch attempt")},delegateYield:function(Ge,Be,Ke){return this.delegate={iterator:Ce(Ge),resultName:Be,nextLoc:Ke},this.method==="next"&&(this.arg=Re),wt}},_e}function K(Re){var _e=typeof Map=="function"?new Map:void 0;return K=function(Je){if(Je===null||!function(Te){try{return Function.toString.call(Te).indexOf("[native code]")!==-1}catch(rt){return typeof Te=="function"}}(Je))return Je;if(typeof Je!="function")throw new TypeError("Super expression must either be null or a function");if(_e!==void 0){if(_e.has(Je))return _e.get(Je);_e.set(Je,Ye)}function Ye(){return J(Je,arguments,de(this).constructor)}return Ye.prototype=Object.create(Je.prototype,{constructor:{value:Ye,enumerable:!1,writable:!0,configurable:!0}}),F(Ye,Je)},K(Re)}function J(Re,_e,Ne){return J=C()?Reflect.construct.bind():function(Ye,Te,rt){var ht=[null];ht.push.apply(ht,Te);var at=new(Function.bind.apply(Ye,ht));return rt&&F(at,rt.prototype),at},J.apply(null,arguments)}function F(Re,_e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Ye){return Je.__proto__=Ye,Je},F(Re,_e)}function de(Re){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},de(Re)}var re=window,V=re.trustedTypes,X=V?V.emptyScript:"",oe=re.reactiveElementPolyfillSupport,G={toAttribute:function(_e,Ne){switch(Ne){case Boolean:_e=_e?X:null;break;case Object:case Array:_e=_e==null?_e:JSON.stringify(_e)}return _e},fromAttribute:function(_e,Ne){var Je=_e;switch(Ne){case Boolean:Je=_e!==null;break;case Number:Je=_e===null?null:Number(_e);break;case Object:case Array:try{Je=JSON.parse(_e)}catch(Ye){Je=null}}return Je}},Y=function(_e,Ne){return Ne!==_e&&(Ne==Ne||_e==_e)},Z={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:Y},ae="finalized",ie=function(Re){(function(qe,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");qe.prototype=Object.create(ze&&ze.prototype,{constructor:{value:qe,writable:!0,configurable:!0}}),Object.defineProperty(qe,"prototype",{writable:!1}),ze&&F(qe,ze)})(ut,Re);var _e,Ne,Je,Ye,Te,rt,ht,at=(rt=ut,ht=C(),function(){var ze,Fe=de(rt);if(ht){var tt=de(this).constructor;ze=Reflect.construct(Fe,arguments,tt)}else ze=Fe.apply(this,arguments);return function(nt,bt){if(bt&&(D(bt)==="object"||typeof bt=="function"))return bt;if(bt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(nt)}(this,ze)});function ut(){var qe;return function(ze,Fe){if(!_instanceof(ze,Fe))throw new TypeError("Cannot call a class as a function")}(this,ut),(qe=at.call(this))._$Ei=new Map,qe.isUpdatePending=!1,qe.hasUpdated=!1,qe._$El=null,qe._$Eu(),qe}return _e=ut,Ne=[{key:"_$Eu",value:function(){var ze,Fe=this;this._$E_=new Promise(function(tt){return Fe.enableUpdating=tt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(ze=this.constructor.h)===null||ze===void 0||ze.forEach(function(tt){return tt(Fe)})}},{key:"addController",value:function(ze){var Fe,tt;((Fe=this._$ES)!==null&&Fe!==void 0?Fe:this._$ES=[]).push(ze),this.renderRoot!==void 0&&this.isConnected&&((tt=ze.hostConnected)===null||tt===void 0||tt.call(ze))}},{key:"removeController",value:function(ze){var Fe;(Fe=this._$ES)===null||Fe===void 0||Fe.splice(this._$ES.indexOf(ze)>>>0,1)}},{key:"_$Eg",value:function(){var ze=this;this.constructor.elementProperties.forEach(function(Fe,tt){ze.hasOwnProperty(tt)&&(ze._$Ei.set(tt,ze[tt]),delete ze[tt])})}},{key:"createRenderRoot",value:function(){var ze,Fe=(ze=this.shadowRoot)!==null&&ze!==void 0?ze:this.attachShadow(this.constructor.shadowRootOptions);return function(tt,nt){p?tt.adoptedStyleSheets=nt.map(function(bt){return _instanceof(bt,CSSStyleSheet)?bt:bt.styleSheet}):nt.forEach(function(bt){var wt=document.createElement("style"),_t=a.litNonce;_t!==void 0&&wt.setAttribute("nonce",_t),wt.textContent=bt.cssText,tt.appendChild(wt)})}(Fe,this.constructor.elementStyles),Fe}},{key:"connectedCallback",value:function(){var ze;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(ze=this._$ES)===null||ze===void 0||ze.forEach(function(Fe){var tt;return(tt=Fe.hostConnected)===null||tt===void 0?void 0:tt.call(Fe)})}},{key:"enableUpdating",value:function(ze){}},{key:"disconnectedCallback",value:function(){var ze;(ze=this._$ES)===null||ze===void 0||ze.forEach(function(Fe){var tt;return(tt=Fe.hostDisconnected)===null||tt===void 0?void 0:tt.call(Fe)})}},{key:"attributeChangedCallback",value:function(ze,Fe,tt){this._$AK(ze,tt)}},{key:"_$EO",value:function(ze,Fe){var tt,nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z,bt=this.constructor._$Ep(ze,nt);if(bt!==void 0&&nt.reflect===!0){var wt=(((tt=nt.converter)===null||tt===void 0?void 0:tt.toAttribute)!==void 0?nt.converter:G).toAttribute(Fe,nt.type);this._$El=ze,wt==null?this.removeAttribute(bt):this.setAttribute(bt,wt),this._$El=null}}},{key:"_$AK",value:function(ze,Fe){var tt,nt=this.constructor,bt=nt._$Ev.get(ze);if(bt!==void 0&&this._$El!==bt){var wt=nt.getPropertyOptions(bt),_t=typeof wt.converter=="function"?{fromAttribute:wt.converter}:((tt=wt.converter)===null||tt===void 0?void 0:tt.fromAttribute)!==void 0?wt.converter:G;this._$El=bt,this[bt]=_t.fromAttribute(Fe,wt.type),this._$El=null}}},{key:"requestUpdate",value:function(ze,Fe,tt){var nt=!0;ze!==void 0&&(((tt=tt||this.constructor.getPropertyOptions(ze)).hasChanged||Y)(this[ze],Fe)?(this._$AL.has(ze)||this._$AL.set(ze,Fe),tt.reflect===!0&&this._$El!==ze&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(ze,tt))):nt=!1),!this.isUpdatePending&&nt&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(Ye=H().mark(function qe(){var ze;return H().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return this.isUpdatePending=!0,Fe.prev=1,Fe.next=4,this._$E_;case 4:Fe.next=9;break;case 6:Fe.prev=6,Fe.t0=Fe.catch(1),Promise.reject(Fe.t0);case 9:if(ze=this.scheduleUpdate(),Fe.t1=ze!=null,!Fe.t1){Fe.next=14;break}return Fe.next=14,ze;case 14:return Fe.abrupt("return",!this.isUpdatePending);case 15:case"end":return Fe.stop()}},qe,this,[[1,6]])}),Te=function(){var ze=this,Fe=arguments;return new Promise(function(tt,nt){var bt=Ye.apply(ze,Fe);function wt(st){w(bt,tt,nt,wt,_t,"next",st)}function _t(st){w(bt,tt,nt,wt,_t,"throw",st)}wt(void 0)})},function(){return Te.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var ze,Fe=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(bt,wt){return Fe[wt]=bt}),this._$Ei=void 0);var tt=!1,nt=this._$AL;try{(tt=this.shouldUpdate(nt))?(this.willUpdate(nt),(ze=this._$ES)===null||ze===void 0||ze.forEach(function(bt){var wt;return(wt=bt.hostUpdate)===null||wt===void 0?void 0:wt.call(bt)}),this.update(nt)):this._$Ek()}catch(bt){throw tt=!1,this._$Ek(),bt}tt&&this._$AE(nt)}}},{key:"willUpdate",value:function(ze){}},{key:"_$AE",value:function(ze){var Fe;(Fe=this._$ES)===null||Fe===void 0||Fe.forEach(function(tt){var nt;return(nt=tt.hostUpdated)===null||nt===void 0?void 0:nt.call(tt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(ze)),this.updated(ze)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(ze){return!0}},{key:"update",value:function(ze){var Fe=this;this._$EC!==void 0&&(this._$EC.forEach(function(tt,nt){return Fe._$EO(nt,Fe[nt],tt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(ze){}},{key:"firstUpdated",value:function(ze){}}],Je=[{key:"addInitializer",value:function(ze){var Fe;this.finalize(),((Fe=this.h)!==null&&Fe!==void 0?Fe:this.h=[]).push(ze)}},{key:"observedAttributes",get:function(){var ze=this;this.finalize();var Fe=[];return this.elementProperties.forEach(function(tt,nt){var bt=ze._$Ep(nt,tt);bt!==void 0&&(ze._$Ev.set(bt,nt),Fe.push(bt))}),Fe}},{key:"createProperty",value:function(ze){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z;if(Fe.state&&(Fe.attribute=!1),this.finalize(),this.elementProperties.set(ze,Fe),!Fe.noAccessor&&!this.prototype.hasOwnProperty(ze)){var tt=D(ze)=="symbol"?Symbol():"__"+ze,nt=this.getPropertyDescriptor(ze,tt,Fe);nt!==void 0&&Object.defineProperty(this.prototype,ze,nt)}}},{key:"getPropertyDescriptor",value:function(ze,Fe,tt){return{get:function(){return this[Fe]},set:function(bt){var wt=this[ze];this[Fe]=bt,this.requestUpdate(ze,wt,tt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(ze){return this.elementProperties.get(ze)||Z}},{key:"finalize",value:function(){if(this.hasOwnProperty(ae))return!1;this[ae]=!0;var ze=Object.getPrototypeOf(this);if(ze.finalize(),ze.h!==void 0&&(this.h=f(ze.h)),this.elementProperties=new Map(ze.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var Fe,tt=this.properties,nt=h([].concat(f(Object.getOwnPropertyNames(tt)),f(Object.getOwnPropertySymbols(tt))));try{for(nt.s();!(Fe=nt.n()).done;){var bt=Fe.value;this.createProperty(bt,tt[bt])}}catch(wt){nt.e(wt)}finally{nt.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(ze){var Fe=[];if(Array.isArray(ze)){var tt,nt=h(new Set(ze.flat(1/0).reverse()));try{for(nt.s();!(tt=nt.n()).done;){var bt=tt.value;Fe.unshift(R(bt))}}catch(wt){nt.e(wt)}finally{nt.f()}}else ze!==void 0&&Fe.push(R(ze));return Fe}},{key:"_$Ep",value:function(ze,Fe){var tt=Fe.attribute;return tt===!1?void 0:typeof tt=="string"?tt:typeof ze=="string"?ze.toLowerCase():void 0}}],Ne&&b(_e.prototype,Ne),Je&&b(_e,Je),Object.defineProperty(_e,"prototype",{writable:!1}),ut}(K(HTMLElement));ie[ae]=!0,ie.elementProperties=new Map,ie.elementStyles=[],ie.shadowRootOptions={mode:"open"},oe==null||oe({ReactiveElement:ie}),((m=re.reactiveElementVersions)!==null&&m!==void 0?m:re.reactiveElementVersions=[]).push("1.6.3");var je,Le,ke=r(4817);function Ze(Re){return Ze=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ne){return typeof Ne=="undefined"?"undefined":_typeof(Ne)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e=="undefined"?"undefined":_typeof(_e)},Ze(Re)}function Ve(){return Ve=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(_e,Ne,Je){var Ye=function(rt,ht){for(;!Object.prototype.hasOwnProperty.call(rt,ht)&&(rt=dt(rt))!==null;);return rt}(_e,Ne);if(Ye){var Te=Object.getOwnPropertyDescriptor(Ye,Ne);return Te.get?Te.get.call(arguments.length<3?_e:Je):Te.value}},Ve.apply(this,arguments)}function Xe(Re,_e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Je,Ye){return Je.__proto__=Ye,Je},Xe(Re,_e)}function dt(Re){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ne){return Ne.__proto__||Object.getPrototypeOf(Ne)},dt(Re)}r(8832),r(2349),r(1919);var yt=function(Re){(function(ht,at){if(typeof at!="function"&&at!==null)throw new TypeError("Super expression must either be null or a function");ht.prototype=Object.create(at&&at.prototype,{constructor:{value:ht,writable:!0,configurable:!0}}),Object.defineProperty(ht,"prototype",{writable:!1}),at&&Xe(ht,at)})(rt,Re);var _e,Ne,Je,Ye,Te=(Je=rt,Ye=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ht){return!1}}(),function(){var at,ut=dt(Je);if(Ye){var qe=dt(this).constructor;at=Reflect.construct(ut,arguments,qe)}else at=ut.apply(this,arguments);return function(ze,Fe){if(Fe&&(Ze(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(ze)}(this,at)});function rt(){var ht;return function(at,ut){if(!_instanceof(at,ut))throw new TypeError("Cannot call a class as a function")}(this,rt),(ht=Te.apply(this,arguments)).renderOptions={host:E(ht)},ht._$Do=void 0,ht}return _e=rt,Ne=[{key:"createRenderRoot",value:function(){var at,ut,qe=Ve(dt(rt.prototype),"createRenderRoot",this).call(this);return(at=(ut=this.renderOptions).renderBefore)!==null&&at!==void 0||(ut.renderBefore=qe.firstChild),qe}},{key:"update",value:function(at){var ut=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),Ve(dt(rt.prototype),"update",this).call(this,at),this._$Do=(0,ke.sY)(ut,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var at;Ve(dt(rt.prototype),"connectedCallback",this).call(this),(at=this._$Do)===null||at===void 0||at.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var at;Ve(dt(rt.prototype),"disconnectedCallback",this).call(this),(at=this._$Do)===null||at===void 0||at.setConnected(!1)}},{key:"render",value:function(){return ke.Jb}}],Ne&&P(_e.prototype,Ne),Object.defineProperty(_e,"prototype",{writable:!1}),rt}(ie);yt.finalized=!0,yt._$litElement$=!0,(je=globalThis.litElementHydrateSupport)===null||je===void 0||je.call(globalThis,{LitElement:yt});var pt=globalThis.litElementPolyfillSupport;pt==null||pt({LitElement:yt}),((Le=globalThis.litElementVersions)!==null&&Le!==void 0?Le:globalThis.litElementVersions=[]).push("3.3.3")}},n={};function o(l){var s=n[l];if(s!==void 0)return s.exports;var r=n[l]={id:l,loaded:!1,exports:{}};return e[l].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,t=[],o.O=function(l,s,r,d){if(!s){var c=1/0;for(w=0;w<t.length;w++){var h=function(b,C){(!1&d||c>=d)&&Object.keys(o.O).every(function(P){return o.O[P](s[C])})?s.splice(C--,1):(b=!1,d<c&&(c=d)),v=C,f=b};s=t[w][0],r=t[w][1],d=t[w][2];for(var f=!0,v=0;v<s.length;v++)h(f,v);if(f){t.splice(w--,1);var x=r();x!==void 0&&(l=x)}}return l}d=d||0;for(var w=t.length;w>0&&t[w-1][2]>d;w--)t[w]=t[w-1];t[w]=[s,r,d]},o.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(s,{a:s}),s},o.d=function(l,s){for(var r in s)o.o(s,r)&&!o.o(l,r)&&Object.defineProperty(l,r,{enumerable:!0,get:s[r]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(l){if(typeof window=="object")return window}}(),o.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},o.r=function(l){(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.nmd=function(l){return l.paths=[],l.children||(l.children=[]),l},function(){var l={898:0};o.O.j=function(d){return l[d]===0};var s=function(c,h){var f,v,x=h[0],w=h[1],b=h[2],C=0;if(x.some(function(E){return l[E]!==0})){for(f in w)o.o(w,f)&&(o.m[f]=w[f]);if(b)var P=b(o)}for(c&&c(h);C<x.length;C++)v=x[C],o.o(l,v)&&l[v]&&l[v][0](),l[v]=0;return o.O(P)},r=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var u={};(function(){"use strict";var l=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(Be(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(Be(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),Be(W)==="symbol"?W:String(W)),M)}var W},s=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}},r=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},d=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(Zt(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(Zt(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),Zt(W)==="symbol"?W:String(W)),M)}var W},c=function(k,O,I,M){var W=window.screenLeft!=null?window.screenLeft:screen.left,U=window.screenTop!=null?window.screenTop:screen.top,le=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-O/2+W,Oe=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-I/2+U,we="status=1,width=".concat(O,",height=").concat(I,",top=").concat(Oe,",left=").concat(le);window.open(k,M,we)},h=function(k,O){var I=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!I){if(Array.isArray(k)||(I=function(we,lt){if(we){if(typeof we=="string")return f(we,lt);var St=Object.prototype.toString.call(we).slice(8,-1);return St==="Object"&&we.constructor&&(St=we.constructor.name),St==="Map"||St==="Set"?Array.from(we):St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St)?f(we,lt):void 0}}(k))||O&&k&&typeof k.length=="number"){I&&(k=I);var M=0,W=function(){};return{s:W,n:function(){return M>=k.length?{done:!0}:{done:!1,value:k[M++]}},e:function(lt){throw lt},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U,le=!0,Oe=!1;return{s:function(){I=I.call(k)},n:function(){var lt=I.next();return le=lt.done,lt},e:function(lt){Oe=!0,U=lt},f:function(){try{le||I.return==null||I.return()}finally{if(Oe)throw U}}}},f=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},v=function(k,O){if(!_instanceof(k,O))throw new TypeError("Cannot call a class as a function")},x=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(Rt(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(Rt(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),Rt(W)==="symbol"?W:String(W)),M)}var W},w=function(k,O,I){return O&&x(k.prototype,O),I&&x(k,I),Object.defineProperty(k,"prototype",{writable:!1}),k},b=function(k,O,I,M,W,U,le){try{var Oe=k[U](le),we=Oe.value}catch(lt){return void I(lt)}Oe.done?O(we):Promise.resolve(we).then(M,W)},C=function(k){return function(){var O=this,I=arguments;return new Promise(function(M,W){var U=k.apply(O,I);function le(we){b(U,M,W,le,Oe,"next",we)}function Oe(we){b(U,M,W,le,Oe,"throw",we)}le(void 0)})}},P=function(k,O){if(!_instanceof(k,O))throw new TypeError("Cannot call a class as a function")},E=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,a(M.key),M)}},T=function(k,O,I){return O&&E(k.prototype,O),I&&E(k,I),Object.defineProperty(k,"prototype",{writable:!1}),k},m=function(k,O,I){return(O=a(O))in k?Object.defineProperty(k,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[O]=I,k},a=function(k){var O=function(I,M){if(ct(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(ct(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return ct(O)==="symbol"?O:String(O)},p=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,y(M.key),M)}},g=function(k,O,I){return(O=y(O))in k?Object.defineProperty(k,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[O]=I,k},y=function(k){var O=function(I,M){if(Ut(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(Ut(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return Ut(O)==="symbol"?O:String(O)},_=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,j(M.key),M)}},j=function(k){var O=function(I,M){if(Mn(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(Mn(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return Mn(O)==="symbol"?O:String(O)},R=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,K(M.key),M)}},D=function(k,O,I){return O&&R(k.prototype,O),I&&R(k,I),Object.defineProperty(k,"prototype",{writable:!1}),k},H=function(k,O,I){return(O=K(O))in k?Object.defineProperty(k,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[O]=I,k},K=function(k){var O=function(I,M){if(Cr(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(Cr(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return Cr(O)==="symbol"?O:String(O)},J=function(k){return function(O){if(Array.isArray(O))return Z(O)}(k)||ae(k)||Y(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},F=function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k},de=function(k){var O,I=G(k.key);k.kind==="method"?O={value:k.value,writable:!0,configurable:!0,enumerable:!1}:k.kind==="get"?O={get:k.value,configurable:!0,enumerable:!1}:k.kind==="set"?O={set:k.value,configurable:!0,enumerable:!1}:k.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var M={kind:k.kind==="field"?"field":"method",key:I,placement:k.static?"static":k.kind==="field"?"own":"prototype",descriptor:O};return k.decorators&&(M.decorators=k.decorators),k.kind==="field"&&(M.initializer=k.value),M},re=function(k,O){k.descriptor.get!==void 0?O.descriptor.get=k.descriptor.get:O.descriptor.set=k.descriptor.set},V=function(k){return k.decorators&&k.decorators.length},X=function(k){return k!==void 0&&!(k.value===void 0&&k.writable===void 0)},oe=function(k,O){var I=k[O];if(I!==void 0&&typeof I!="function")throw new TypeError("Expected '"+O+"' to be a function");return I},G=function(k){var O=function(I,M){if(zi(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(zi(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return zi(O)==="symbol"?O:String(O)},Y=function(k,O){if(k){if(typeof k=="string")return Z(k,O);var I=Object.prototype.toString.call(k).slice(8,-1);return I==="Object"&&k.constructor&&(I=k.constructor.name),I==="Map"||I==="Set"?Array.from(k):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?Z(k,O):void 0}},Z=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},ae=function(k){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)},ie=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,Le(M.key),M)}},je=function(k,O,I){return(O=Le(O))in k?Object.defineProperty(k,O,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[O]=I,k},Le=function(k){var O=function(I,M){if(ft(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if(ft(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return ft(O)==="symbol"?O:String(O)},ke=function(k,O){return k.split(" ").map(function(I){return I+O}).join(" ")},Ze=function(k){var O,I;return k.clientX!==void 0?(O=k.clientX,I=k.clientY):k.screenX!==void 0?(O=k.screenX,I=k.screenY):k.targetTouches!==void 0?(O=k.targetTouches[0].pageX,I=k.targetTouches[0].pageY):k.originalEvent===void 0?console.error("don't understand x and y for "+k.type,k):k.originalEvent.clientX!==void 0?(O=k.originalEvent.clientX,I=k.originalEvent.clientY):k.originalEvent.screenX!==void 0?(O=k.originalEvent.screenX,I=k.originalEvent.screenY):k.originalEvent.targetTouches!==void 0&&(O=k.originalEvent.targetTouches[0].pageX,I=k.originalEvent.targetTouches[0].pageY),{left:O,top:I}},Ve=function(k,O,I,M,W,U,le){try{var Oe=k[U](le),we=Oe.value}catch(lt){return void I(lt)}Oe.done?O(we):Promise.resolve(we).then(M,W)},Xe=function(k){return function(){var O=this,I=arguments;return new Promise(function(M,W){var U=k.apply(O,I);function le(we){Ve(U,M,W,le,Oe,"next",we)}function Oe(we){Ve(U,M,W,le,Oe,"throw",we)}le(void 0)})}},dt=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(tn(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(tn(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),tn(W)==="symbol"?W:String(W)),M)}var W},yt=function(k,O){return O||(O=k.slice(0)),Object.freeze(Object.defineProperties(k,{raw:{value:Object.freeze(O)}}))},pt=function(k,O,I,M,W,U,le){try{var Oe=k[U](le),we=Oe.value}catch(lt){return void I(lt)}Oe.done?O(we):Promise.resolve(we).then(M,W)},Re=function(k){return function(){var O=this,I=arguments;return new Promise(function(M,W){var U=k.apply(O,I);function le(we){pt(U,M,W,le,Oe,"next",we)}function Oe(we){pt(U,M,W,le,Oe,"throw",we)}le(void 0)})}},_e=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,tt(M.key),M)}},Ne=function(k,O,I){return O&&_e(k.prototype,O),I&&_e(k,I),Object.defineProperty(k,"prototype",{writable:!1}),k},Je=function(k,O){if(!_instanceof(k,O))throw new TypeError("Cannot call a class as a function")},Ye=function(k,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),O&&sn(k,O)},Te=function(k){var O=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}();return function(){var I,M=nr(k);if(O){var W=nr(this).constructor;I=Reflect.construct(M,arguments,W)}else I=M.apply(this,arguments);return function(U,le){if(le&&($r(le)==="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(U)}(this,I)}},rt=function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k},ht=function(k,O,I,M){var W=cn();if(M)for(var U=0;U<M.length;U++)W=M[U](W);var le=O(function(we){W.initializeInstanceElements(we,Oe.elements)},I),Oe=W.decorateClass(function(we){for(var lt=[],St=function(ln){return ln.kind==="method"&&ln.key===jt.key&&ln.placement===jt.placement},zt=0;zt<we.length;zt++){var Vt,jt=we[zt];if(jt.kind==="method"&&(Vt=lt.find(St)))if(ze(jt.descriptor)||ze(Vt.descriptor)){if(qe(jt)||qe(Vt))throw new ReferenceError("Duplicated methods ("+jt.key+") can't be decorated.");Vt.descriptor=jt.descriptor}else{if(qe(jt)){if(qe(Vt))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+jt.key+").");Vt.decorators=jt.decorators}ut(jt,Vt)}else lt.push(jt)}return lt}(le.d.map(at)),k);return W.initializeClassElements(le.F,Oe.elements),W.runClassFinishers(le.F,Oe.finishers)},at=function(k){var O,I=tt(k.key);k.kind==="method"?O={value:k.value,writable:!0,configurable:!0,enumerable:!1}:k.kind==="get"?O={get:k.value,configurable:!0,enumerable:!1}:k.kind==="set"?O={set:k.value,configurable:!0,enumerable:!1}:k.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var M={kind:k.kind==="field"?"field":"method",key:I,placement:k.static?"static":k.kind==="field"?"own":"prototype",descriptor:O};return k.decorators&&(M.decorators=k.decorators),k.kind==="field"&&(M.initializer=k.value),M},ut=function(k,O){k.descriptor.get!==void 0?O.descriptor.get=k.descriptor.get:O.descriptor.set=k.descriptor.set},qe=function(k){return k.decorators&&k.decorators.length},ze=function(k){return k!==void 0&&!(k.value===void 0&&k.writable===void 0)},Fe=function(k,O){var I=k[O];if(I!==void 0&&typeof I!="function")throw new TypeError("Expected '"+O+"' to be a function");return I},tt=function(k){var O=function(I,M){if($r(I)!=="object"||I===null)return I;var W=I[Symbol.toPrimitive];if(W!==void 0){var U=W.call(I,"string");if($r(U)!=="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(k);return $r(O)==="symbol"?O:String(O)},nt=function(k,O){if(k){if(typeof k=="string")return bt(k,O);var I=Object.prototype.toString.call(k).slice(8,-1);return I==="Object"&&k.constructor&&(I=k.constructor.name),I==="Map"||I==="Set"?Array.from(k):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?bt(k,O):void 0}},bt=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},wt=function(k){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)},_t=function(k,O,I,M,W,U,le){try{var Oe=k[U](le),we=Oe.value}catch(lt){return void I(lt)}Oe.done?O(we):Promise.resolve(we).then(M,W)},st=function(k){return function(){var O=this,I=arguments;return new Promise(function(M,W){var U=k.apply(O,I);function le(we){_t(U,M,W,le,Oe,"next",we)}function Oe(we){_t(U,M,W,le,Oe,"throw",we)}le(void 0)})}},ye=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(Ui(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(Ui(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),Ui(W)==="symbol"?W:String(W)),M)}var W},N=function(k,O){var I=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&k[Symbol.iterator]||k["@@iterator"];if(!I){if(Array.isArray(k)||(I=function(we,lt){if(we){if(typeof we=="string")return We(we,lt);var St=Object.prototype.toString.call(we).slice(8,-1);return St==="Object"&&we.constructor&&(St=we.constructor.name),St==="Map"||St==="Set"?Array.from(we):St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St)?We(we,lt):void 0}}(k))||O&&k&&typeof k.length=="number"){I&&(k=I);var M=0,W=function(){};return{s:W,n:function(){return M>=k.length?{done:!0}:{done:!1,value:k[M++]}},e:function(lt){throw lt},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U,le=!0,Oe=!1;return{s:function(){I=I.call(k)},n:function(){var lt=I.next();return le=lt.done,lt},e:function(lt){Oe=!0,U=lt},f:function(){try{le||I.return==null||I.return()}finally{if(Oe)throw U}}}},We=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},Ie=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(ho(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(ho(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),ho(W)==="symbol"?W:String(W)),M)}var W},et=function(k){return function(O){if(Array.isArray(O))return L(O)}(k)||function(O){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}(k)||function(O,I){if(O){if(typeof O=="string")return L(O,I);var M=Object.prototype.toString.call(O).slice(8,-1);return M==="Object"&&O.constructor&&(M=O.constructor.name),M==="Map"||M==="Set"?Array.from(O):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?L(O,I):void 0}}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},L=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},ue=function(k,O){for(var I=0;I<O.length;I++){var M=O[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,(W=function(U,le){if(Io(U)!=="object"||U===null)return U;var Oe=U[Symbol.toPrimitive];if(Oe!==void 0){var we=Oe.call(U,"string");if(Io(we)!=="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(U)}(M.key),Io(W)==="symbol"?W:String(W)),M)}var W},ce=function(k,O,I,M,W,U,le){try{var Oe=k[U](le),we=Oe.value}catch(lt){return void I(lt)}Oe.done?O(we):Promise.resolve(we).then(M,W)},pe=function(k){return function(){var O=this,I=arguments;return new Promise(function(M,W){var U=k.apply(O,I);function le(we){ce(U,M,W,le,Oe,"next",we)}function Oe(we){ce(U,M,W,le,Oe,"throw",we)}le(void 0)})}},he=function(k,O){(O==null||O>k.length)&&(O=k.length);for(var I=0,M=new Array(O);I<O;I++)M[I]=k[I];return M},Q=function(k,O,I){var M,W,U,le,Oe,we,lt,St;W=I,U=function(Vt){return Vt.br},le=wn,Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,we=function(Vt){return Vt._overrideable[O]},lt=(M=k).prototype[W],St=function(){return lt.apply(we(this),arguments)},Object.defineProperty(le.prototype,Oe,{get:function(){return St},set:function(Vt){M.prototype[W]=function(){var jt=_instanceof(this,M)?U(this):this;return Vt.apply(jt,arguments)},St=Vt}})};o(278),o(228),o(4338),o(886),o(6466),o(3964),o(8077),o(9358),o(4043),o(752),o(1694),o(6265),o(9307),o(1514),o(9730),o(7522),o(5728),o(6801),o(3843),o(2320),o(6203),o(2826),o(9749),o(6544),o(4254),o(7049),o(4284),o(8373),o(6793),o(7629),o(7509),o(8052),o(3374),o(6891),o(6177),o(5557);var be=JSON.parse('{"i8":"5.0.0-78-alpha23"}'),Ce=o(5685);o(9373),o(9903),o(9288),o(6227);var xe={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"},Ge=o(5311);function Be(z){return Be=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Be(z)}var Ke=function(){function z(I){(function(M,W){if(!_instanceof(M,W))throw new TypeError("Cannot call a class as a function")})(this,z),this.br=I,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,Ce.throttle)(this.updateNavIndex.bind(this),250,!1)}var k,O;return k=z,(O=[{key:"controlFor",value:function(M){var W=this.br.options.controls[M];return W.visible?W.template?"<li>".concat(W.template(this.br),"</li>"):'<li>\n      <button class="BRicon '.concat(W.className,'" title="').concat(W.label,'">\n        <div class="icon icon-').concat(W.iconClassName,'"></div>\n        <span class="BRtooltip">').concat(W.label,"</span>\n      </button>\n    </li>"):""}},{key:"_renderControls",value:function(){var M=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(W){return M.controlFor(W)}).join("")}},{key:"_bindViewModeButton",value:function(){var M=this,W=this.br,U=W.options.controls.viewmode,le=[{mode:W.constMode1up,className:"onepg",title:"One-page view"},{mode:W.constMode2up,className:"twopg",title:"Two-page view"},{mode:W.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(St){return!U.excludedModes.includes(St.mode)}),Oe=le.map(function(St){return St.mode});U.excludedModes.includes(W.mode)&&W.switchMode(Oe[0]);for(var we=Oe.indexOf(W.mode),lt=0;lt<=we;lt++)Oe.push(Oe.shift());le.length<2&&this.$nav.find(".".concat(U.className)).remove(),this.br.bind(xe.PostInit,function(){var St=M.$nav.find(".".concat(U.className)).off(".bindNavigationHandlers").on("click",function(Vt){var jt=Oe.shift(),fn=le.find(function(yn){return yn.mode===jt}),ln=le.find(function(yn){return yn.mode===Oe[0]});Oe.push(jt),W.viewModeOrder=Oe,M.updateViewModeButton(Ge(Vt.currentTarget),ln.className,ln.title),W.switchMode(fn.mode)}),zt=le.find(function(Vt){return Vt.mode===Oe[0]});M.updateViewModeButton(St,zt.className,zt.title)})}},{key:"updateViewModeButton",value:function(M,W,U){M.attr("title",U).find(".icon").removeClass().addClass("icon icon-".concat(W)).end().find(".BRtooltip").text(U)}},{key:"switchNavbarControls",value:function(){this.br.options.bookType!=="linerNotes"&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMinimumNavbarControls():this.showMaximumNavbarControls())}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(M){var W=document.querySelector(".controls .".concat(M));W&&W.classList.remove("hide")}),this.maximumControls.forEach(function(M){var W=document.querySelector(".controls .".concat(M));W&&W.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(M){var W=document.querySelector(".controls .".concat(M));W&&W.classList.remove("hide")}),this.minimumControls.forEach(function(M){var W=document.querySelector(".controls .".concat(M));W&&W.classList.add("hide")})}},{key:"init",value:function(){var M=this,W=this.br,U=W.options.navbarTitle,le=W.pageProgression==="rl",Oe=le?"book_flip_next":"book_flip_prev",we=le?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(Oe),this.br.options.controls.bookRight.className="book_right ".concat(we),W.refs.$BRfooter=this.$root=Ge('<div class="BRfooter"></div>'),W.refs.$BRnav=this.$nav=Ge('<div class="BRnav BRnavDesktop">\n          '.concat(U?'<div class="BRnavTitle">'.concat(U,"</div>"):"",'\n          <nav class="BRcontrols">\n            <ul class="controls">\n              <li class="scrubber">\n                <div class="BRnavpos">\n                  <div class="BRpager"></div>\n                  <div class="BRnavline"></div>\n                </div>\n                <p><span class=\'BRcurrentpage\'></span></p>\n              </li>\n              ').concat(this._renderControls(),"\n            </ul>\n          </nav>\n        </div>")),this.$root.append(this.$nav),W.refs.$br.append(this.$root);var lt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:W.book.getNumLeafs()-1,value:W.currentIndex(),range:"min"});return lt.on("slide",function(St,zt){return M.updateNavPageNum(zt.value),!0}),lt.on("slidechange",function(St,zt){return M.updateNavPageNum(zt.value),lt.data("swallowchange")?lt.data("swallowchange",!1):W.jumpToIndex(zt.value),!0}),W.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(W.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(M){var W=this.br,U=W.book.getPageNum(M),le=(W.book.getPageProp(M,"pageType"),W.book.getNumLeafs());if(!this.maxPageNum){for(var Oe,we=0,lt=0;lt<le;lt++)Oe=W.book.getPageNum(lt),!isNaN(Oe)&&Oe>we&&(we=Oe);this.maxPageNum=we}return function(St,zt,Vt,jt,fn){if(Vt[0]=="n")return"(".concat(St+1," of ").concat(zt,")");var ln=fn?" of ".concat(fn):"";return"".concat(Vt).concat(ln)}(M,le,U,0,this.maxPageNum)}},{key:"updateNavPageNum",value:function(M){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(M))}},{key:"updateNavIndex",value:function(M){M=M!==void 0?M:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",M)}}])&&l(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}();function Pt(z){return Pt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Pt(z)}function At(z){var k=typeof Map=="function"?new Map:void 0;return At=function(I){if(I===null||!function(W){try{return Function.toString.call(W).indexOf("[native code]")!==-1}catch(U){return typeof W=="function"}}(I))return I;if(typeof I!="function")throw new TypeError("Super expression must either be null or a function");if(k!==void 0){if(k.has(I))return k.get(I);k.set(I,M)}function M(){return Et(I,arguments,Dt(this).constructor)}return M.prototype=Object.create(I.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),Jt(M,I)},At(z)}function Et(z,k,O){return Et=s()?Reflect.construct.bind():function(M,W,U){var le=[null];le.push.apply(le,W);var Oe=new(Function.bind.apply(M,le));return U&&Jt(Oe,U.prototype),Oe},Et.apply(null,arguments)}function Jt(z,k){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,M){return I.__proto__=M,I},Jt(z,k)}function Dt(z){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Dt(z)}o(50),o(6646);var Ht={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{textSelection:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1},Bt=function(z){(function(U,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(le&&le.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),le&&Jt(U,le)})(W,z);var k,O,I,M=(O=W,I=s(),function(){var le,Oe=Dt(O);if(I){var we=Dt(this).constructor;le=Reflect.construct(Oe,arguments,we)}else le=Oe.apply(this,arguments);return function(lt,St){if(St&&(Pt(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(zt){if(zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt}(lt)}(this,le)});function W(){return function(U,le){if(!_instanceof(U,le))throw new TypeError("Cannot call a class as a function")}(this,W),M.apply(this,arguments)}return k=W,Object.defineProperty(k,"prototype",{writable:!1}),k}(At(Error)),qt=(o(7267),o(4581),o(5311));function Zt(z){return Zt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Zt(z)}var un=function(){function z(I){(function(M,W){if(!_instanceof(M,W))throw new TypeError("Cannot call a class as a function")})(this,z),this.br=I}var k,O;return k=z,(O=[{key:"buildToolbarElement",value:function(){var M=this.br,W=M.showLogo?'\n      <span class="BRtoolbarSection BRtoolbarSectionLogo">\n        <a class="logo" href="'.concat(M.logoURL,'"></a>\n      </span>'):"";M.refs.$BRtoolbar=qt('\n      <div class="BRtoolbar header">\n        <div class="BRtoolbarbuttons">\n          <div class="BRtoolbarLeft">\n            '.concat(W,'\n            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>\n          </div>\n          <div class="BRtoolbarRight">\n            <span class="BRtoolbarSection BRtoolbarSectionInfo">\n              <button class="BRpill info js-tooltip">Info</button>\n              <button class="BRpill share js-tooltip">Share</button>\n            </span>\n          </div>\n        </div>\n      </div>'));var U=M.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");return M.bookUrl&&M.options.enableBookTitleLink?U.append(qt("<a>").attr({href:M.bookUrl,title:M.bookUrlTitle}).addClass("BRreturn").html(M.bookUrlText||M.bookTitle)):M.bookTitle&&U.append(M.bookUrlText||M.bookTitle),M.refs.$BRtoolbar}},{key:"initToolbar",value:function(M,W){var U=this.br;U.refs.$br.append(this.buildToolbarElement()),U.$(".BRnavCntl").addClass("BRup"),U.$(".pause").hide(),U.refs.$BRtoolbar.append(),U.canSwitchToMode(U.constMode2up)||U.$(".two_page_mode, .play, .pause").hide(),U.canSwitchToMode(U.constModeThumb)||U.$(".thumbnail_mode").hide(),U.canSwitchToMode(U.constMode2up)||U.canSwitchToMode(U.constModeThumb)||U.$(".one_page_mode").hide(),qt('<div style="display: none;"></div>').append(qt('\n    <div class="BRfloat BRshare">\n      <div class="BRfloatHead">\n        Share\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n    </div>')).append(qt('\n    <div class="BRfloat BRinfo">\n      <div class="BRfloatHead">About this book\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n      <div class="BRfloatBody">\n        <div class="BRfloatCover"></div>\n        <div class="BRfloatMeta">\n          <div class="BRfloatTitle">\n            <h2><a /></h2>\n          </div>\n        </div>\n      </div>\n      <div class="BRfloatFoot">\n        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>\n      </div>\n    </div>')).appendTo(U.refs.$br),U.$(".BRinfo .BRfloatTitle a").attr({href:U.bookUrl}).text(U.bookTitle).addClass("title"),this.buildInfoDiv(U.$(".BRinfo")),this.buildShareDiv(U.$(".BRshare")),U.$(".share").colorbox({inline:!0,opacity:"0.5",href:U.$(".BRshare"),onLoad:function(){U.trigger(xe.stop),U.$(".BRpageviewValue").val(window.location.href)}}),U.$(".info").colorbox({inline:!0,opacity:"0.5",href:U.$(".BRinfo"),onLoad:function(){U.trigger(xe.stop)}})}},{key:"buildShareDiv",value:function(M){var W=this,U=this.br,le=document.location+"",Oe=(le+"").replace(/#.*/,""),we=U.getEmbedCode?'\n      <div class="share-embed">\n        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>\n        <form method="post" action="">\n          <fieldset class="fieldset-share-pageview">\n            <label for="pageview">Link to this page view</label>\n            <input type="text" name="pageview" class="BRpageviewValue" value="'.concat(le,'"/>\n          </fieldset>\n          <fieldset class="fieldset-share-book-link">\n            <label for="booklink">Link to the book</label>\n            <input type="text" name="booklink" class="booklink" value="').concat(Oe,'"/>\n          </fieldset>\n          <fieldset class="fieldset-embed">\n            <label for="iframe">Embed a mini Book Reader</label>\n            <fieldset class="sub">\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(U.constMode1up,'" checked="checked"/>\n                1 page\n              </label>\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(U.constMode2up,'"/>\n                2 pages\n              </label>\n              <label class="sub">\n                <input type="checkbox" name="thispage" value="thispage"/>\n                Open to this page?\n              </label>\n            </fieldset>\n            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>\n          </fieldset>\n        </form>\n      </div>'):"",lt=qt('\n      <div class="share-title">Share this book</div>\n      <div class="share-social">\n        <label class="sub open-to-this-page">\n          <input class="thispage-social" type="checkbox" />\n          Open to this page?\n        </label>\n        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>\n        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>\n        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>\n      </div>\n      '.concat(we,'\n      <div class="BRfloatFoot">\n        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>\n      </div>'));lt.appendTo(M),lt.find(".fieldset-embed input").on("change",function(St){var zt=qt(St.target).parents("form").first(),Vt={};Vt.mode=qt(zt.find(".fieldset-embed input[name=pages]:checked")).val(),zt.find(".fieldset-embed input[name=thispage]").prop("checked")&&(Vt.page=U.book.getPageNum(U.currentIndex())),U.getEmbedCode&&zt.find(".BRframeEmbed").val(U.getEmbedCode("480px","430px",Vt))}),lt.find("input, textarea").on("focus",function(St){return St.target.select()}),lt.find(".facebook-share-button").on("click",function(){c("https://www.facebook.com/sharer.php?"+qt.param({u:W._getSocialShareUrl()}),600,400,"Share")}),lt.find(".twitter-share-button").on("click",function(){c("https://twitter.com/intent/tweet?"+qt.param({url:W._getSocialShareUrl(),text:U.bookTitle}),600,400,"Share")}),lt.find(".email-share-button").on("click",function(){var St="".concat(U.bookTitle,"\n\n").concat(W._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(U.bookTitle),"&body=").concat(encodeURI(St))}),lt.find("input[name=thispage]").trigger("change"),lt.appendTo(M)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(M){var W=this.br;M.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var U=qt('<div class="BRinfoLeftCol"></div>');W.thumbnail&&U.append(qt('\n        <div class="BRimageW">\n          <img src="'.concat(W.thumbnail,'" alt="').concat((0,Ce.escapeHTML)(W.bookTitle),'" />\n        </div>')));var le,Oe=qt('<div class="BRinfoRightCol">'),we=function(kn,zn){var jn=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&kn[Symbol.iterator]||kn["@@iterator"];if(!jn){if(Array.isArray(kn)||(jn=function(or,yr){if(or){if(typeof or=="string")return r(or,yr);var tr=Object.prototype.toString.call(or).slice(8,-1);return tr==="Object"&&or.constructor&&(tr=or.constructor.name),tr==="Map"||tr==="Set"?Array.from(or):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?r(or,yr):void 0}}(kn))||zn&&kn&&typeof kn.length=="number"){jn&&(kn=jn);var Zn=0,Pn=function(){};return{s:Pn,n:function(){return Zn>=kn.length?{done:!0}:{done:!1,value:kn[Zn++]}},e:function(yr){throw yr},f:Pn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ar,Hn=!0,ir=!1;return{s:function(){jn=jn.call(kn)},n:function(){var yr=jn.next();return Hn=yr.done,yr},e:function(yr){ir=!0,ar=yr},f:function(){try{Hn||jn.return==null||jn.return()}finally{if(ir)throw ar}}}}(W.metadata);try{for(we.s();!(le=we.n()).done;){var lt=le.value,St=lt.extraValueClass,zt=St===void 0?"":St,Vt=lt.label,jt=lt.value,fn=Vt==="Title"?(0,Ce.escapeHTML)(jt):jt;Oe.append(qt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoLabel">'.concat(Vt,'</div>\n          <div class="BRinfoValue ').concat(zt,'">').concat(fn,"</div>\n        </div>")))}}catch(kn){we.e(kn)}finally{we.f()}var ln=W.bookUrlMoreInfo?W.bookUrlMoreInfo:W.bookTitle;ln&&W.bookUrl&&Oe.append(qt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoMoreInfoWrapper">\n            <a class="BRinfoMoreInfo" href="'.concat(W.bookUrl,'">\n              ').concat((0,Ce.escapeHTML)(ln),"\n            </a>\n          </div>\n        </div>")));var yn=qt('<div class="BRfloatFoot BRinfoFooter"></div>'),qn=qt('<div class="BRinfoW mv20-lg">').append([U,Oe,qt('<br style="clear:both"/>')]);M.append(qn,yn).addClass("wide")}},{key:"getToolBarHeight",value:function(){var M=this.br.refs.$BRtoolbar;return M&&M.css("display")==="block"?M.outerHeight()+parseInt(M.css("top")):0}}])&&d(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}();function Rt(z){return Rt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Rt(z)}function rn(){rn=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&Rt(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError(Rt($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}o(5137),o(9772),o(4564),o(385);var Qt=function(){function z(k){var O,I,M,W;v(this,z),this.br=k,this.reduceSet=k.reduceSet,this.ppi=(O=(I=k.options)===null||I===void 0?void 0:I.ppi)!==null&&O!==void 0?O:Ht.ppi,this.pageProgression=(M=(W=k.options)===null||W===void 0?void 0:W.pageProgression)!==null&&M!==void 0?M:Ht.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null}return w(z,[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var O,I=[],M=[],W=h(this.pagesIterator());try{for(W.s();!(O=W.n()).done;){var U=O.value;I.push(U.widthInches),M.push(U.heightInches)}}catch(le){W.e(le)}finally{W.f()}return I.sort(function(le,Oe){return le-Oe}),M.sort(function(le,Oe){return le-Oe}),this._medianPageSize={width:I[Math.floor(I.length/2)],height:M[Math.floor(M.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(O){return O=(0,Ce.clamp)(O,0,this.getNumLeafs()-1),this.getPageWidth(O)}},{key:"_getPageHeight",value:function(O){var I=(0,Ce.clamp)(O,0,this.getNumLeafs()-1);return this.getPageHeight(I)}},{key:"getPageIndex",value:function(O){var I=this.getPageIndices(O);return I.length?I[I.length-1]:void 0}},{key:"getPageIndices",value:function(O){var I=[];if(O.slice(0,1)=="n")try{var M=O.slice(1,O.length),W=parseInt(M);return I.push(W),I}catch(le){}for(var U=0;U<this.getNumLeafs();U++)this.getPageNum(U)==O&&I.push(U);return I}},{key:"getPageName",value:function(O){return"Page "+this.getPageNum(O)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(O){return this.getPageProp(O,"width")}},{key:"getPageHeight",value:function(O){return this.getPageProp(O,"height")}},{key:"getPageURI",value:function(O,I,M){return this.getPageProp(O,"viewable",!0)?this.getPageProp(O,"uri"):"/bookreader/static/preview-default.png"}},{key:"getPageSide",value:function(O){return this.getPageProp(O,"pageSide")||(O%2==0?"R":"L")}},{key:"getPageNum",value:function(O){var I=this.getPageProp(O,"pageNum");return I===void 0?"n".concat(O):I}},{key:"getPageProp",value:function(O,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(O,I,M)}},{key:"getSpreadIndices",value:function(O){return this.pageProgression=="rl"?this.getPageSide(O)=="R"?[O+1,O]:[O,O-1]:this.getPageSide(O)=="L"?[O,O+1]:[O-1,O]}},{key:"leafNumToIndex",value:function(O){var I=this._getDataFlattened().findIndex(function(M){return M.leafNum==O});return I>-1?I:O}},{key:"parsePageString",value:function(O){var I,M=/^leaf(\d+)/.exec(O);return M?(I=this.leafNumToIndex(parseInt(M[1],10)))===null&&(I=void 0):I=this.getPageIndex(O),I}},{key:"getPage",value:function(O){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],M=this.getNumLeafs();if(I||!(O<0||O>=M))return O<0&&O>=-M&&(O+=M),new Tn(this,O%=M)}},{key:"pagesIterator",value:function(){var O=this,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=I.start,W=M===void 0?0:M,U=I.end,le=U===void 0?1/0:U,Oe=I.combineConsecutiveUnviewables,we=Oe!==void 0&&Oe;return rn().mark(function lt(){var St,zt;return rn().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:W=Math.max(0,W),le=Math.min(le,O.getNumLeafs()),St=W;case 3:if(!(St<le)){Vt.next=12;break}if(zt=O.getPage(St),!we||!zt.isConsecutiveUnviewable){Vt.next=7;break}return Vt.abrupt("continue",9);case 7:return Vt.next=9,zt;case 9:St++,Vt.next=3;break;case 12:case"end":return Vt.stop()}},lt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var O=null,I=null,M=0,W=this.br.data.flatMap(function(U){return U.map(function(le){return le.pageSide||(le.pageSide=O===null?U.length===2?"L":"R":O==="L"?"R":"L"),O=le.pageSide,le.viewable===!1?le.unviewablesStart=I===null?I=M:I:I=null,M++,le})});return this._getDataFlattenedCached=[W,this.br.data.length],W}},{key:"_getDataProp",value:function(O,I){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this._getDataFlattened();return isNaN(O)||O<0||O>=W.length||W[O][I]===void 0?M:W[O][I]}}]),z}(),Tn=function(){function z(k,O){v(this,z);var I=k._getDataProp(O,"ppi",k.ppi);this.ppi=Math.max(I<10?k.ppi:I,10),this.book=k,this.index=O,this.width=k.getPageWidth(O),this.widthInches=this.width/this.ppi,this.height=k.getPageHeight(O),this.heightInches=this.height/this.ppi,this.pageSide=k.getPageSide(O),this.leafNum=k._getDataProp(O,"leafNum",this.index),this.isViewable=k._getDataProp(O,"viewable",!0),this.unviewablesStart=k._getDataProp(O,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return w(z,[{key:"makeViewable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=O)if(O){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var I,M=h(this.book.pagesIterator({start:this.index+1}));try{for(M.s();!(I=M.n()).done;){var W=I.value;if(W.isViewable)break;W._rawData.unviewablesStart=this.index+1}}catch(we){M.e(we)}finally{M.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var U,le=h(this.book.pagesIterator({start:this.index+1}));try{for(le.s();!(U=le.n()).done;){var Oe=U.value;if(!Oe.isViewable)break;Oe._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(we){le.e(we)}finally{le.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(O){var I=this.book.pageProgression==="lr"?this.index-O:this.index+O;return this.book.getPage(I)}},{key:"goRight",value:function(O){var I=this.book.pageProgression==="lr"?this.index+O:this.index-O;return this.book.getPage(I)}},{key:"getURI",value:function(O,I){return this.book.getPageURI(this.index,O,I)}},{key:"getURISrcSet",value:function(O){for(var I=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=this.book.reduceSet,U=W.floor(O),le=[],Oe=W.decr(U);Oe>=1;Oe=W.decr(Oe))le.push(Oe);return le.map(function(we){return"".concat(I.getURI(we,M)," ").concat(U/we,"x")}).join(", ")}},{key:"findNext",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,I=O!==void 0&&O;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:I}).next().value}},{key:"findPrev",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,I=O!==void 0&&O;if(this.index!=0){if(I){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var M=new z(this.book,this.index-1);return M.isViewable?M:M.findPrev({combineConsecutiveUnviewables:I})}return new z(this.book,this.index-1)}}},{key:"findLeft",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,I=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:I}):this.findNext({combineConsecutiveUnviewables:I})}},{key:"findRight",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,I=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:I}):this.findPrev({combineConsecutiveUnviewables:I})}}]),z}(),Nt=(o(2349),o(1919),o(2506),o(429),o(1830),o(9089)),Me=o(8318),fe=o(1312),Se=(o(6976),o(8496)),De=o.n(Se),it=o(7775);function ct(z){return ct=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},ct(z)}function It(){It=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&ct(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError(ct($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}var gn=function(){function z(k){var O=this;P(this,z),m(this,"scaleCenter",{x:.5,y:.5}),m(this,"_preventEvent",function(I){return I.preventDefault(),!1}),m(this,"_pinchStart",C(It().mark(function I(){var M,W;return It().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!O.pinching){U.next=2;break}return U.abrupt("return");case 2:if(!(0,it.gn)()){U.next=7;break}return U.next=5,(0,Ce.sleep)(0);case 5:if(!(O.touchesMonitor.touches<2)){U.next=7;break}return U.abrupt("return");case 7:O.pinching=!0,O.oldScale=1,O.mode.$visibleWorld.classList.add("BRsmooth-zooming"),O.mode.$visibleWorld.style.willChange="transform",O.mode.autoFit="none",O.detachCtrlZoom(),(M=(W=O.mode).detachScrollListeners)===null||M===void 0||M.call(W),O.interact.gesturable({listeners:{start:O._pinchStart,move:O._pinchMove,end:O._pinchEnd}});case 15:case"end":return U.stop()}},I)}))),m(this,"_pinchMove",function(){var I=C(It().mark(function M(W){return It().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O.pinching){U.next=2;break}return U.abrupt("return");case 2:O.lastEvent={scale:W.scale,clientX:W.clientX,clientY:W.clientY},O.pinchMoveFrame||(O.pinchMoveFrame=O.bufferFn(O._drawPinchZoomFrame));case 4:case"end":return U.stop()}},M)}));return function(M){return I.apply(this,arguments)}}()),m(this,"_pinchEnd",C(It().mark(function I(){var M,W;return It().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O.pinching){U.next=2;break}return U.abrupt("return");case 2:return O.pinching=!1,O.interact.gesturable({listeners:{start:O._pinchStart,end:O._pinchEnd}}),U.next=6,O.pinchMoveFramePromise;case 6:O.scaleCenter={x:.5,y:.5},O.oldScale=1,O.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),O.mode.$visibleWorld.style.willChange="auto",O.attachCtrlZoom(),(M=(W=O.mode).attachScrollListeners)===null||M===void 0||M.call(W);case 12:case"end":return U.stop()}},I)}))),m(this,"_drawPinchZoomFrame",C(It().mark(function I(){var M,W;return It().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O.pinching){U.next=3;break}return O.pinchMoveFrame=null,U.abrupt("return");case 3:if(O.mode.$container.style.overflow="hidden",O.pinchMoveFramePromiseRes=null,O.pinchMoveFramePromise=new Promise(function(le){return O.pinchMoveFramePromiseRes=le}),O.updateScaleCenter({clientX:O.lastEvent.clientX,clientY:O.lastEvent.clientY}),M=O.mode.scale,W=M*O.lastEvent.scale/O.oldScale,M==W){U.next=13;break}return O.mode.scale=W,U.next=13,O.pinchMoveFramePromise;case 13:O.mode.$container.style.overflow="auto",O.oldScale=O.lastEvent.scale,O.pinchMoveFrame=null;case 16:case"end":return U.stop()}},I)}))),m(this,"_dragMove",function(){var I=C(It().mark(function M(W){return It().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!O.pinching){U.next=3;break}return U.next=3,O._pinchEnd();case 3:O.mode.$container.scrollTop-=W.dy,O.mode.$container.scrollLeft-=W.dx;case 5:case"end":return U.stop()}},M)}));return function(M){return I.apply(this,arguments)}}()),m(this,"_handleCtrlWheel",function(I){if(I.ctrlKey){I.preventDefault();var M=/Mac/i.test(navigator.platform)?.045:.03;O.updateScaleCenter(I),O.mode.autoFit="none",O.mode.scale*=1-Math.sign(I.deltaY)*M}}),this.mode=k,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)}return T(z,[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,it.gn)()&&(this.touchesMonitor=new mn(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=De()(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,it.Tv)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var O,I;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(O=this.touchesMonitor)===null||O===void 0||(I=O.detach)===null||I===void 0||I.call(O),this.interact.unset(),De().removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(O){var I=O.clientX,M=O.clientY,W=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(I-W.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(M-W.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(O,I){var M,W=this.mode.$container,U=W.scrollTop,le=W.scrollLeft,Oe=this.mode.htmlDimensionsCacher.clientWidth,we=this.mode.htmlDimensionsCacher.clientHeight,lt=O/I,St=this.scaleCenter.x,zt=this.scaleCenter.y,Vt=lt*(le+St*Oe),jt=lt*(U+zt*we);W.scrollTop=jt-zt*we,W.scrollLeft=Vt-St*Oe,(M=this.pinchMoveFramePromiseRes)===null||M===void 0||M.call(this)}}]),z}(),mn=function(){function z(k){var O=this;P(this,z),m(this,"_updateTouchCount",function(I){O.touches=I.touches.length}),this.container=k,this.touches=0}return T(z,[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}]),z}();function Ut(z){return Ut=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Ut(z)}var $n=function(){function z(I){var M=this;(function(W,U){if(!_instanceof(W,U))throw new TypeError("Cannot call a class as a function")})(this,z),g(this,"clientWidth",100),g(this,"clientHeight",100),g(this,"boundingClientRect",{top:0,left:0}),g(this,"updateClientSizes",function(){var W=M.element.getBoundingClientRect();M.clientWidth=M.element.clientWidth,M.clientHeight=M.element.clientHeight,M.boundingClientRect.top=W.top,M.boundingClientRect.left=W.left}),g(this,"debouncedUpdateClientSizes",(0,Ce.debounce)(this.updateClientSizes,150,!1)),this.element=I}var k,O;return k=z,O=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],O&&p(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}();function Mn(z){return Mn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Mn(z)}var yi=function(){function z(I,M){var W,U,le,Oe=this;(function(we,lt){if(!_instanceof(we,lt))throw new TypeError("Cannot call a class as a function")})(this,z),W=this,le=function(){Oe.element.classList.add(Oe.className),clearTimeout(Oe.timeout),Oe.timeout=setTimeout(function(){Oe.element.classList.remove(Oe.className)},600)},(U=j(U="onScroll"))in W?Object.defineProperty(W,U,{value:le,enumerable:!0,configurable:!0,writable:!0}):W[U]=le,this.element=I,this.className=M,this.timeout=null}var k,O;return k=z,(O=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&_(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}();function Cr(z){return Cr=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Cr(z)}var Ti,Zi=D(function z(k){var O=this;(function(I,M){if(!_instanceof(I,M))throw new TypeError("Cannot call a class as a function")})(this,z),H(this,"screenDPI",(0,Ce.calcScreenDPI)()),H(this,"worldUnitsToRenderedPixels",function(I){return I*O.screenDPI}),H(this,"renderedPixelsToWorldUnits",function(I){return I/O.screenDPI}),H(this,"renderedPixelsToVisiblePixels",function(I){return I*O.mode.scale}),H(this,"visiblePixelsToRenderedPixels",function(I){return I/O.mode.scale}),H(this,"worldUnitsToVisiblePixels",function(I){return O.renderedPixelsToVisiblePixels(O.worldUnitsToRenderedPixels(I))}),H(this,"visiblePixelsToWorldUnits",function(I){return O.renderedPixelsToWorldUnits(O.visiblePixelsToRenderedPixels(I))}),this.mode=k});function zi(z){return zi=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},zi(z)}function Ur(z,k){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,M){return I.__proto__=M,I},Ur(z,k)}function bi(){bi=function(){return z};var z={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,I){["method","field"].forEach(function(M){I.forEach(function(W){W.kind===M&&W.placement==="own"&&this.defineClassElement(O,W)},this)},this)},initializeClassElements:function(O,I){var M=O.prototype;["method","field"].forEach(function(W){I.forEach(function(U){var le=U.placement;if(U.kind===W&&(le==="static"||le==="prototype")){var Oe=le==="static"?O:M;this.defineClassElement(Oe,U)}},this)},this)},defineClassElement:function(O,I){var M=I.descriptor;if(I.kind==="field"){var W=I.initializer;M={enumerable:M.enumerable,writable:M.writable,configurable:M.configurable,value:W===void 0?void 0:W.call(O)}}Object.defineProperty(O,I.key,M)},decorateClass:function(O,I){var M=[],W=[],U={static:[],prototype:[],own:[]};if(O.forEach(function(Oe){this.addElementPlacement(Oe,U)},this),O.forEach(function(Oe){if(!V(Oe))return M.push(Oe);var we=this.decorateElement(Oe,U);M.push(we.element),M.push.apply(M,we.extras),W.push.apply(W,we.finishers)},this),!I)return{elements:M,finishers:W};var le=this.decorateConstructor(M,I);return W.push.apply(W,le.finishers),le.finishers=W,le},addElementPlacement:function(O,I,M){var W=I[O.placement];if(!M&&W.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");W.push(O.key)},decorateElement:function(O,I){for(var M=[],W=[],U=O.decorators,le=U.length-1;le>=0;le--){var Oe=I[O.placement];Oe.splice(Oe.indexOf(O.key),1);var we=this.fromElementDescriptor(O),lt=this.toElementFinisherExtras((0,U[le])(we)||we);O=lt.element,this.addElementPlacement(O,I),lt.finisher&&W.push(lt.finisher);var St=lt.extras;if(St){for(var zt=0;zt<St.length;zt++)this.addElementPlacement(St[zt],I);M.push.apply(M,St)}}return{element:O,finishers:W,extras:M}},decorateConstructor:function(O,I){for(var M=[],W=I.length-1;W>=0;W--){var U=this.fromClassDescriptor(O),le=this.toClassDescriptor((0,I[W])(U)||U);if(le.finisher!==void 0&&M.push(le.finisher),le.elements!==void 0){O=le.elements;for(var Oe=0;Oe<O.length-1;Oe++)for(var we=Oe+1;we<O.length;we++)if(O[Oe].key===O[we].key&&O[Oe].placement===O[we].placement)throw new TypeError("Duplicated element ("+O[Oe].key+")")}}return{elements:O,finishers:M}},fromElementDescriptor:function(O){var I={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(I,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(I.initializer=O.initializer),I},toElementDescriptors:function(O){var I;if(O!==void 0)return(I=O,function(M){if(Array.isArray(M))return M}(I)||ae(I)||Y(I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(M){var W=this.toElementDescriptor(M);return this.disallowProperty(M,"finisher","An element descriptor"),this.disallowProperty(M,"extras","An element descriptor"),W},this)},toElementDescriptor:function(O){var I=String(O.kind);if(I!=="method"&&I!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+I+'"');var M=G(O.key),W=String(O.placement);if(W!=="static"&&W!=="prototype"&&W!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+W+'"');var U=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var le={kind:I,key:M,placement:W,descriptor:Object.assign({},U)};return I!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(U,"get","The property descriptor of a field descriptor"),this.disallowProperty(U,"set","The property descriptor of a field descriptor"),this.disallowProperty(U,"value","The property descriptor of a field descriptor"),le.initializer=O.initializer),le},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:oe(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var I={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(I,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),I},toClassDescriptor:function(O){var I=String(O.kind);if(I!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+I+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var M=oe(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:M}},runClassFinishers:function(O,I){for(var M=0;M<I.length;M++){var W=(0,I[M])(O);if(W!==void 0){if(typeof W!="function")throw new TypeError("Finishers must return a constructor.");O=W}}return O},disallowProperty:function(O,I,M){if(O[I]!==void 0)throw new TypeError(M+" can't have a ."+I+" property.")}};return z}function uo(){return uo=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(k,O,I){var M=function(U,le){for(;!Object.prototype.hasOwnProperty.call(U,le)&&(U=Vr(U))!==null;);return U}(k,O);if(M){var W=Object.getOwnPropertyDescriptor(M,O);return W.get?W.get.call(arguments.length<3?k:I):W.value}},uo.apply(this,arguments)}function Vr(z){return Vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Vr(z)}var si=function(z,k,O,I){var M=bi(),W=k(function(le){M.initializeInstanceElements(le,U.elements)},O),U=M.decorateClass(function(le){for(var Oe=[],we=function(jt){return jt.kind==="method"&&jt.key===zt.key&&jt.placement===zt.placement},lt=0;lt<le.length;lt++){var St,zt=le[lt];if(zt.kind==="method"&&(St=Oe.find(we)))if(X(zt.descriptor)||X(St.descriptor)){if(V(zt)||V(St))throw new ReferenceError("Duplicated methods ("+zt.key+") can't be decorated.");St.descriptor=zt.descriptor}else{if(V(zt)){if(V(St))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+zt.key+").");St.decorators=zt.decorators}re(zt,St)}else Oe.push(zt)}return Oe}(W.d.map(de)),z);return M.initializeClassElements(W.F,U.elements),M.runClassFinishers(W.F,U.finishers)}([(0,Nt.Mo)("br-mode-1up")],function(z,k){var O=function(I){(function(we,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(lt&&lt.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),lt&&Ur(we,lt)})(Oe,I);var M,W,U,le=(W=Oe,U=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(we){return!1}}(),function(){var lt,St=Vr(W);if(U){var zt=Vr(this).constructor;lt=Reflect.construct(St,arguments,zt)}else lt=St.apply(this,arguments);return function(Vt,jt){if(jt&&(zi(jt)==="object"||typeof jt=="function"))return jt;if(jt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(Vt)}(this,lt)});function Oe(we,lt){var St;return function(zt,Vt){if(!_instanceof(zt,Vt))throw new TypeError("Cannot call a class as a function")}(this,Oe),St=le.call(this),z(F(St)),St.book=we,St.br=lt,St}return M=Oe,Object.defineProperty(M,"prototype",{writable:!1}),M}(k);return{F:O,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,Nt.Cb)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,Nt.Cb)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,Nt.Cb)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new Zi(this)}},{kind:"field",decorators:[(0,Nt.Cb)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,Nt.Cb)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,Nt.Cb)({type:Array,hasChanged:Ce.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,Nt.Cb)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,Nt.IO)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var M=this.coordSpace.worldUnitsToRenderedPixels;return{width:M(this.worldDimensions.width)+"px",height:M(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,Nt.IO)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new $n(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new gn(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new yi(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(M){var W=this,U=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,le=U!==void 0&&U;le&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[M]-this.SPACING_IN/2),le&&setTimeout(function(){return W.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(M){uo(Vr(O.prototype),"firstUpdated",this).call(this,M),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(M){var W=this.book.getPage(M);this.scale=this.computeDefaultScale(W)}},{kind:"method",key:"updated",value:function(M){if(M.has("book")&&this.updatePages(),M.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),M.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),M.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(U){return U.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),M.has("scale")){var W=M.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,W),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,Ce.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){uo(Vr(O.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),uo(Vr(O.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var M,W,U=this;return(0,Me.dy)(Ti||(M=['\n      <div class="br-mode-1up__world" style=','></div>\n      <div class="br-mode-1up__visible-world">\n        ',"\n      </div>"],W||(W=M.slice(0)),Ti=Object.freeze(Object.defineProperties(M,{raw:{value:Object.freeze(W)}}))),(0,fe.V)(this.worldStyle),this.renderedPages.map(function(le){return U.renderPage(le)}))}},{kind:"field",key:"createPageContainer",value:function(){var M=this;return function(W){return M.pageContainerCache[W.index]||(M.pageContainerCache[W.index]=M.br._createPageContainer(W.index))}}},{kind:"field",key:"renderPage",value:function(){var M=this;return function(W){var U=M.coordSpace.worldUnitsToRenderedPixels,le=M.coordSpace.worldUnitsToVisiblePixels,Oe=M.coordSpace.visiblePixelsToWorldUnits(M.htmlDimensionsCacher.clientWidth),we=U(W.widthInches),lt=U(W.heightInches),St=Math.max(M.SPACING_IN,(Oe-W.widthInches)/2),zt=M.pageTops[W.index],Vt="translate(".concat(U(St),"px, ").concat(U(zt),"px)"),jt=M.createPageContainer(W).update({dimensions:{width:we,height:lt,top:0,left:0},reduce:W.width/le(W.widthInches)}).$container[0];return jt.style.transform=Vt,jt.classList.toggle("BRpage-visible",M.visiblePages.includes(W)),jt}}},{kind:"field",key:"updateVisibleRegion",value:function(){var M=this;return function(){var W=M.scrollTop,U=M.scrollLeft,le=M.htmlDimensionsCacher.clientWidth,Oe=M.htmlDimensionsCacher.clientHeight,we=M.coordSpace.visiblePixelsToWorldUnits;M.visibleRegion={top:we(W),height:we(Oe),left:we(U),width:we(le)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var M,W;return[(M=this.visiblePages[0])===null||M===void 0?void 0:M.prev].concat(J(this.visiblePages),[(W=this.visiblePages[this.visiblePages.length-1])===null||W===void 0?void 0:W.next]).filter(function(U){return U}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var M=this;return(0,Ce.throttle)(function(){M.renderedPages=M.computeRenderedPages(),M.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(M,W){var U,le={},Oe=W,we=function(St,zt){var Vt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&St[Symbol.iterator]||St["@@iterator"];if(!Vt){if(Array.isArray(St)||(Vt=Y(St))){Vt&&(St=Vt);var jt=0,fn=function(){};return{s:fn,n:function(){return jt>=St.length?{done:!0}:{done:!1,value:St[jt++]}},e:function(zn){throw zn},f:fn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ln,yn=!0,qn=!1;return{s:function(){Vt=Vt.call(St)},n:function(){var zn=Vt.next();return yn=zn.done,zn},e:function(zn){qn=!0,ln=zn},f:function(){try{yn||Vt.return==null||Vt.return()}finally{if(qn)throw ln}}}}(M);try{for(we.s();!(U=we.n()).done;){var lt=U.value;le[lt.index]=Oe,Oe+=lt.heightInches+W}}catch(St){we.e(St)}finally{we.f()}return le}},{kind:"method",key:"computeDefaultScale",value:function(M){var W=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,W/(M.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,J(this.pages.map(function(M){return M.widthInches})))+2*this.SPACING_IN,height:(0,Ce.sum)(this.pages.map(function(M){return M.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var M=this;return this.pages.filter(function(W){var U=M.pageTops[W.index],le=U+W.heightInches,Oe=M.visibleRegion.top;return U<=Oe+M.visibleRegion.height&&le>=Oe})}},{kind:"field",key:"attachScrollListeners",value:function(){var M=this;return function(){M.addEventListener("scroll",M.updateVisibleRegion),M.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var M=this;return function(){M.removeEventListener("scroll",M.updateVisibleRegion),M.scrollClassAdder.detach()}}}]}},Me.oi),ni=o(5311);function ft(z){return ft=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},ft(z)}var Qe={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},gt=function(){function z(I){var M=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(U,le){if(!_instanceof(U,le))throw new TypeError("Cannot call a class as a function")})(this,z),je(this,"_dragStartHandler",function(U){return!!M._shouldAbort()||!(U.which>1||!M.settings.acceptPropagatedEvent&&U.target!=M.handling_element[0])&&(M.lastCoord=M.firstCoord=Ze(U),M.handling_element.on(M.settings.dragcontinue,M._dragContinueHandler),M.settings.dragend.split(" ").forEach(function(le){M.handling_element[0].addEventListener(le,M._dragEndHandler,!0)}),M.settings.preventDefault?(U.preventDefault(),!1):void 0)}),je(this,"_dragContinueHandler",function(U){if(M._shouldAbort())return!0;var le=Ze(U),Oe=le.left-M.lastCoord.left,we=le.top-M.lastCoord.top,lt=M.settings.scrollWindow?ni(window):M.handling_element;return lt.scrollLeft(lt.scrollLeft()-Oe),lt.scrollTop(lt.scrollTop()-we),M.lastCoord=le,M.settings.preventDefault?(U.preventDefault(),!1):void 0}),je(this,"_dragEndHandler",function(U){if(M._shouldAbort())return!0;M.handling_element.off(M.settings.dragcontinue).off(M.settings.dragend),M.settings.dragend.split(" ").forEach(function(we){M.handling_element[0].removeEventListener(we,M._dragEndHandler,!0)});var le={left:Math.abs(M.lastCoord.left-M.firstCoord.left),top:Math.abs(M.lastCoord.top-M.firstCoord.top)},Oe=Math.max(le.left,le.top);return M.settings.preventDefault&&Oe>M.settings.dragMinDistance?(U.preventDefault(),U.stopImmediatePropagation(),U.stopPropagation(),!1):void 0}),this.handling_element=ni(I),this.settings=ni.extend({},Qe,W||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=ke(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=ke(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)}var k,O;return k=z,(O=[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])&&ie(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}(),en=o(5311);function tn(z){return tn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},tn(z)}function En(){En=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&tn(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError(tn($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}var Gn,sr,Sn,Wr,Nr,mr,me,Fi,Dr=function(){function z(I,M){(function(W,U){if(!_instanceof(W,U))throw new TypeError("Cannot call a class as a function")})(this,z),this.br=I,this.book=M,this.mode1UpLit=new si(M,I),this.$el=en(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1}var k,O;return k=z,(O=[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var M=this,W=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(Xe(En().mark(function U(){return En().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(M.everShown){le.next=7;break}return M.mode1UpLit.initFirstRender(W),M.everShown=!0,M.mode1UpLit.requestUpdate(),le.next=6,M.mode1UpLit.updateComplete;case 6:new gt(M.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:M.mode1UpLit.jumpToIndex(W),setTimeout(function(){M.mode1UpLit.updateVisibleRegion()});case 9:case"end":return le.stop()}},U)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(M,W,U,le){var Oe=Math.abs(this.br.currentIndex()-M),we=!le&&Oe>0&&Oe<=4;this.mode1UpLit.jumpToIndex(M,{smooth:we})}},{key:"zoom",value:function(M){switch(M){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(M))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])&&dt(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}(),Ri=(o(2462),o(5311));function $r(z){return $r=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},$r(z)}function on(){on=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&$r(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError($r($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}function sn(z,k){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,M){return I.__proto__=M,I},sn(z,k)}function cn(){cn=function(){return z};var z={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,I){["method","field"].forEach(function(M){I.forEach(function(W){W.kind===M&&W.placement==="own"&&this.defineClassElement(O,W)},this)},this)},initializeClassElements:function(O,I){var M=O.prototype;["method","field"].forEach(function(W){I.forEach(function(U){var le=U.placement;if(U.kind===W&&(le==="static"||le==="prototype")){var Oe=le==="static"?O:M;this.defineClassElement(Oe,U)}},this)},this)},defineClassElement:function(O,I){var M=I.descriptor;if(I.kind==="field"){var W=I.initializer;M={enumerable:M.enumerable,writable:M.writable,configurable:M.configurable,value:W===void 0?void 0:W.call(O)}}Object.defineProperty(O,I.key,M)},decorateClass:function(O,I){var M=[],W=[],U={static:[],prototype:[],own:[]};if(O.forEach(function(Oe){this.addElementPlacement(Oe,U)},this),O.forEach(function(Oe){if(!qe(Oe))return M.push(Oe);var we=this.decorateElement(Oe,U);M.push(we.element),M.push.apply(M,we.extras),W.push.apply(W,we.finishers)},this),!I)return{elements:M,finishers:W};var le=this.decorateConstructor(M,I);return W.push.apply(W,le.finishers),le.finishers=W,le},addElementPlacement:function(O,I,M){var W=I[O.placement];if(!M&&W.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");W.push(O.key)},decorateElement:function(O,I){for(var M=[],W=[],U=O.decorators,le=U.length-1;le>=0;le--){var Oe=I[O.placement];Oe.splice(Oe.indexOf(O.key),1);var we=this.fromElementDescriptor(O),lt=this.toElementFinisherExtras((0,U[le])(we)||we);O=lt.element,this.addElementPlacement(O,I),lt.finisher&&W.push(lt.finisher);var St=lt.extras;if(St){for(var zt=0;zt<St.length;zt++)this.addElementPlacement(St[zt],I);M.push.apply(M,St)}}return{element:O,finishers:W,extras:M}},decorateConstructor:function(O,I){for(var M=[],W=I.length-1;W>=0;W--){var U=this.fromClassDescriptor(O),le=this.toClassDescriptor((0,I[W])(U)||U);if(le.finisher!==void 0&&M.push(le.finisher),le.elements!==void 0){O=le.elements;for(var Oe=0;Oe<O.length-1;Oe++)for(var we=Oe+1;we<O.length;we++)if(O[Oe].key===O[we].key&&O[Oe].placement===O[we].placement)throw new TypeError("Duplicated element ("+O[Oe].key+")")}}return{elements:O,finishers:M}},fromElementDescriptor:function(O){var I={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(I,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(I.initializer=O.initializer),I},toElementDescriptors:function(O){var I;if(O!==void 0)return(I=O,function(M){if(Array.isArray(M))return M}(I)||wt(I)||nt(I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(M){var W=this.toElementDescriptor(M);return this.disallowProperty(M,"finisher","An element descriptor"),this.disallowProperty(M,"extras","An element descriptor"),W},this)},toElementDescriptor:function(O){var I=String(O.kind);if(I!=="method"&&I!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+I+'"');var M=tt(O.key),W=String(O.placement);if(W!=="static"&&W!=="prototype"&&W!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+W+'"');var U=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var le={kind:I,key:M,placement:W,descriptor:Object.assign({},U)};return I!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(U,"get","The property descriptor of a field descriptor"),this.disallowProperty(U,"set","The property descriptor of a field descriptor"),this.disallowProperty(U,"value","The property descriptor of a field descriptor"),le.initializer=O.initializer),le},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:Fe(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var I={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(I,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),I},toClassDescriptor:function(O){var I=String(O.kind);if(I!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+I+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var M=Fe(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:M}},runClassFinishers:function(O,I){for(var M=0;M<I.length;M++){var W=(0,I[M])(O);if(W!==void 0){if(typeof W!="function")throw new TypeError("Finishers must return a constructor.");O=W}}return O},disallowProperty:function(O,I,M){if(O[I]!==void 0)throw new TypeError(M+" can't have a ."+I+" property.")}};return z}function Fn(){return Fn=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(k,O,I){var M=function(U,le){for(;!Object.prototype.hasOwnProperty.call(U,le)&&(U=nr(U))!==null;);return U}(k,O);if(M){var W=Object.getOwnPropertyDescriptor(M,O);return W.get?W.get.call(arguments.length<3?k:I):W.value}},Fn.apply(this,arguments)}function nr(z){return nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},nr(z)}var Br=ht([(0,Nt.Mo)("br-mode-2up")],function(z,k){var O,I,M=function(W){Ye(le,W);var U=Te(le);function le(Oe,we){var lt;return Je(this,le),lt=U.call(this),z(rt(lt)),lt.book=Oe,lt.br=we,lt}return Ne(le)}(k);return{F:M,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,Nt.Cb)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new Zi(this)}},{kind:"field",decorators:[(0,Nt.Cb)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,Nt.Cb)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,Nt.IO)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,Nt.Cb)({type:Array,hasChanged:Ce.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(U){return U.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(U){return U.pageSide=="R"})}},{kind:"field",decorators:[(0,Nt.Cb)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,Nt.IO)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(U){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(U){return U.widthInches*this.computePageHeight(U)/U.heightInches}},{kind:"method",key:"computePositions",value:function(U,le){var Oe,we,lt,St,zt=this.computePageWidth.bind(this),Vt=this.book.getNumLeafs(),jt=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,fn=this.book.pageProgression=="lr"?(Oe=U==null?void 0:U.index)!==null&&Oe!==void 0?Oe:0:U?Vt-U.index:0,ln=this._leftCoverWidth+fn*this.PAGE_THICKNESS_IN,yn=ln,qn=zt(U||le.right),kn=ln-qn,zn=kn,jn=((we=this.activeFlip)===null||we===void 0?void 0:we.direction)!="left"?0:jt,Zn=Math.ceil(fn/2)*this.PAGE_THICKNESS_IN-jn,Pn=jn+Zn,ar=zn-jn,Hn=ar-Zn,ir=ln,or=le?zt(le):0,yr=ir+or,tr=this.book.pageProgression=="lr"?le?Vt-le.index:0:(lt=le==null?void 0:le.index)!==null&&lt!==void 0?lt:0,Kn=yr,In=((St=this.activeFlip)===null||St===void 0?void 0:St.direction)!="right"?0:jt,$e=Kn+In,ge=Math.ceil(tr/2)*this.PAGE_THICKNESS_IN-In,Pe=Kn+ge+In;return{leafEdgesLeftStart:Hn,leafEdgesLeftMainWidth:Zn,leafEdgesLeftMovingStart:ar,leafEdgesLeftMovingWidth:jn,leafEdgesLeftEnd:zn,leafEdgesLeftFullWidth:Pn,pageLeftStart:kn,pageLeftWidth:qn,pageLeftEnd:yn,gutter:ln,pageRightStart:ir,pageRightWidth:or,pageRightEnd:yr,leafEdgesRightStart:Kn,leafEdgesRightMovingWidth:In,leafEdgesRightMainStart:$e,leafEdgesRightMainWidth:ge,leafEdgesRightEnd:Pe,leafEdgesRightFullWidth:In+ge,spreadWidth:yr-kn,bookWidth:Pe-Hn}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new $n(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new gn(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(I=Re(on().mark(function W(U){var le,Oe,we=arguments;return on().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return le=(we.length>1&&we[1]!==void 0?we[1]:{}).smooth,Oe=le===void 0||le,lt.next=3,this.flipAnimation(U,{animate:Oe});case 3:case"end":return lt.stop()}},W,this)})),function(W){return I.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(U){Fn(nr(M.prototype),"firstUpdated",this).call(this,U),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Fn(nr(M.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Fn(nr(M.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"updated",value:function(U){if(U.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),U.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Oe){return Oe.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),U.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),U.has("scale")){var le=U.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,le)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var U=this;return(0,Me.dy)(Gn||(Gn=yt(['\n      <div class="br-mode-2up__book" @mouseup=',">\n        ","\n        ","\n        ","\n      </div>"])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(le){return U.renderPage(le)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var U=this;return function(le){return U.pageContainerCache[le.index]||(U.pageContainerCache[le.index]=U.br._createPageContainer(le.index))}}},{kind:"method",key:"initFirstRender",value:function(U){var le=this.book.getPage(U),Oe=le.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Oe.left,Oe.right]:[Oe.right,Oe.left]).filter(function(we){return we}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(le),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var U=this;return function(le){var Oe=U.coordSpace.worldUnitsToRenderedPixels,we=U.coordSpace.worldUnitsToVisiblePixels,lt=Oe(U.computePageWidth(le)),St=Oe(U.computePageHeight(le)),zt=U.visiblePages.map(function(fn){return fn.index}).includes(le.index),Vt=U.computePositions(le.spread.left,le.spread.right),jt=U.createPageContainer(le).update({dimensions:{width:lt,height:St,top:0,left:Oe(le.pageSide=="L"?Vt.pageLeftStart:Vt.pageLeftEnd)},reduce:le.width/we(U.computePageWidth(le))}).$container[0];return jt.classList.toggle("BRpage-visible",zt),jt}}},{kind:"field",key:"renderLeafEdges",value:function(){var U=this;return function(le){var Oe;if(!U.visiblePages.length)return(0,Me.dy)(sr||(sr=yt([""])));if(!(le=="left"?U.positions.leafEdgesLeftFullWidth:U.positions.leafEdgesRightFullWidth))return(0,Me.dy)(Sn||(Sn=yt([""])));var we=U.coordSpace.worldUnitsToRenderedPixels,lt=we(U.computePageHeight(U.visiblePages[0])),St=((Oe=U.activeFlip)===null||Oe===void 0?void 0:Oe.direction)==le,zt=U.book.getPage(U.book.pageProgression=="lr"?0:U.book.getNumLeafs()-1),Vt=U.book.getPage(U.book.pageProgression=="lr"?U.book.getNumLeafs()-1:0),jt=St?U.activeFlip.pagesFlippingCount:0,fn=le=="left"?[zt.index,U.pageLeft.goLeft(jt).index]:[U.pageRight.goRight(jt).index,Vt.index],ln={width:"".concat(we(le=="left"?U.positions.leafEdgesLeftMainWidth:U.positions.leafEdgesRightMainWidth),"px"),height:"".concat(lt,"px"),left:"".concat(we(le=="left"?U.positions.leafEdgesLeftStart:U.positions.leafEdgesRightMainStart),"px")},yn=(0,Me.dy)(Wr||(Wr=yt(["\n      <br-leaf-edges\n        leftIndex=","\n        rightIndex=","\n        .book=","\n        .pageClickHandler=","\n        side=",'\n        class="br-mode-2up__leafs br-mode-2up__leafs--','"\n        style=',"\n      ></br-leaf-edges>\n    "])),fn[0],fn[1],U.book,function(jn){return U.br.jumpToIndex(jn)},le,le,(0,fe.V)(ln));if(St){var qn=we(le=="left"?U.positions.leafEdgesLeftMovingWidth:U.positions.leafEdgesRightMovingWidth),kn={width:"".concat(qn,"px"),height:"".concat(lt,"px"),left:"".concat(we(le=="left"?U.positions.leafEdgesLeftMovingStart:U.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(we(le=="left"?U.positions.pageLeftWidth:-U.positions.pageRightWidth)+qn/2,"px 0")},zn=(0,Me.dy)(Nr||(Nr=yt(["\n        <br-leaf-edges\n          leftIndex=","\n          rightIndex=","\n          .book=","\n          side=",'\n          class="br-mode-2up__leafs br-mode-2up__leafs--',' br-mode-2up__leafs--flipping"\n          style=',"\n        ></br-leaf-edges>\n      "])),U.activeFlip.pagesFlipping[0],U.activeFlip.pagesFlipping[1],U.book,le,le,(0,fe.V)(kn));return le=="left"?(0,Me.dy)(mr||(mr=yt(["","",""])),yn,zn):(0,Me.dy)(me||(me=yt(["","",""])),zn,yn)}return yn}}},{kind:"method",key:"resizeViaAutofit",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(U,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],le=this.computeTranslate(U,this.scale);this.$book.style.transform="translateX(".concat(le.x,"px) translateY(").concat(le.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var U,le,Oe,we,lt;return[(U=this.visiblePages[0])===null||U===void 0||(U=U.prev)===null||U===void 0?void 0:U.prev,(le=this.visiblePages[0])===null||le===void 0?void 0:le.prev].concat((lt=this.visiblePages,function(St){if(Array.isArray(St))return bt(St)}(lt)||wt(lt)||nt(lt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(Oe=this.visiblePages[this.visiblePages.length-1])===null||Oe===void 0?void 0:Oe.next,(we=this.visiblePages[this.visiblePages.length-1])===null||we===void 0||(we=we.next)===null||we===void 0?void 0:we.next]).filter(function(St){return St}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(U,le){if(!U)return 1;var Oe=U.spread,we=this.computePositions(Oe.left,Oe.right).bookWidth,lt=this.computePageHeight(Oe.left||Oe.right),St=this.scale;this.scale=1;var zt=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/we,Vt=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/lt;this.scale=St;var jt=1;if(le=="width")jt=zt;else if(le=="height")jt=Vt;else if(le=="auto")jt=Math.min(zt,Vt);else{if(le!="none")throw new Error("Invalid autoFit value: ".concat(le));jt=this.scale}return jt}},{kind:"method",key:"computeTranslate",value:function(U){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!U)return{x:0,y:0};var Oe=U.spread,we=this.computePositions(Oe.left,Oe.right),lt=we.bookWidth,St=this.computePageHeight(Oe.left||Oe.right),zt=this.coordSpace.worldUnitsToRenderedPixels(lt)*le,Vt=this.coordSpace.worldUnitsToRenderedPixels(St)*le,jt=this.coordSpace.worldUnitsToRenderedPixels(-we.leafEdgesLeftStart)*le,fn=(this.htmlDimensionsCacher.clientWidth-zt)/2+jt,ln=(this.htmlDimensionsCacher.clientHeight-Vt)/2;return{x:Math.max(jt,fn),y:Math.max(0,ln)}}},{kind:"method",key:"flipAnimation",value:(O=Re(on().mark(function W(U){var le,Oe,we,lt,St,zt,Vt,jt,fn,ln,yn,qn,kn,zn,jn,Zn,Pn,ar,Hn,ir,or,yr,tr,Kn,In,$e,ge,Pe,mt,Ct=this,kt=arguments;return on().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(zt=(kt.length>1&&kt[1]!==void 0?kt[1]:{}).animate,Vt=zt===void 0||zt,jt=(le=this.pageLeft||this.pageRight)===null||le===void 0?void 0:le.spread){Gt.next=4;break}return Gt.abrupt("return");case 4:if(U=this.parseNextSpread(U),!this.activeFlip&&U){Gt.next=7;break}return Gt.abrupt("return");case 7:if(fn=this.book.pageProgression,ln=(Oe=(we=jt.left)===null||we===void 0?void 0:we.index)!==null&&Oe!==void 0?Oe:fn=="lr"?-1:this.book.getNumLeafs(),yn=(lt=(St=U.left)===null||St===void 0?void 0:St.index)!==null&&lt!==void 0?lt:fn=="lr"?-1:this.book.getNumLeafs(),ln!=yn){Gt.next=12;break}return Gt.abrupt("return");case 12:qn=this.renderedPages.map(function(vn){return vn.index}),kn=[],zn=0,jn=[U.left,U.right];case 15:if(!(zn<jn.length)){Gt.next=24;break}if(Zn=jn[zn]){Gt.next=19;break}return Gt.abrupt("continue",21);case 19:kn.push(this.createPageContainer(Zn)),qn.includes(Zn.index)||this.renderedPages.push(Zn);case 21:zn++,Gt.next=15;break;case 24:if(Pn=this.computeTranslate(jt.left||jt.right,this.scale),ar=this.computeTranslate(U.left||U.right,this.scale),Hn=Math.sqrt(Math.pow(ar.x-Pn.x,2)+Math.pow(ar.y-Pn.y,2)),ir="translate(".concat(ar.x,"px, ").concat(ar.y,"px)"),Hn<50&&(yr=(or=this.$book.style.transform.match(/translate\([^)]+\)/))===null||or===void 0?void 0:or[0])&&(ir=yr),tr="".concat(ir," scale(").concat(this.scale,")"),!Vt||!("animate"in Element.prototype)){Gt.next=57;break}return Kn=fn=="lr"?yn>ln?"right":"left":yn>ln?"left":"right",this.activeFlip={direction:Kn,pagesFlipping:[ln,yn],pagesFlippingCount:Math.abs(yn-ln)},this.classList.add("br-mode-2up--flipping-".concat(Kn)),this.classList.add("BRpageFlipping"),this.requestUpdate(),Gt.next=38,this.updateComplete;case 38:return this.visiblePages.map(function(vn){return Ct.pageContainerCache[vn.index].$container}).forEach(function(vn){return vn.addClass("BRpage-exiting")}),kn.forEach(function(vn){return vn.$container.addClass("BRpage-entering")}),In={duration:this.flipSpeed+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},$e=this.$book.animate([{transform:tr}],In),ge=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:Kn=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],In),Pe=Kn=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],In):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],In),mt=Kn=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],In):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],In),$e.play(),ge.play(),Pe.play(),mt.play(),kn.forEach(function(vn){return vn.$container.addClass("BRpage-visible")}),Gt.next=52,Promise.race([(0,Ce.promisifyEvent)($e,"finish"),(0,Ce.promisifyEvent)(ge,"finish"),(0,Ce.promisifyEvent)(Pe,"finish"),(0,Ce.promisifyEvent)(mt,"finish")]);case 52:this.classList.remove("br-mode-2up--flipping-".concat(Kn)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(vn){return Ct.pageContainerCache[vn.index].$container}).forEach(function(vn){return vn.removeClass("BRpage-exiting BRpage-visible")}),kn.forEach(function(vn){return vn.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 57:this.$book.style.transform=tr,this.visiblePages=(fn=="lr"?[U.left,U.right]:[U.right,U.left]).filter(function(vn){return vn});case 59:case"end":return Gt.stop()}},W,this)})),function(W){return O.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(U){U=="next"?U=this.book.pageProgression=="lr"?"right":"left":U=="prev"&&(U=this.book.pageProgression=="lr"?"left":"right");var le,Oe=(this.pageLeft||this.pageRight).spread;if(U=="left")U=(le=Oe.left)===null||le===void 0||(le=le.findLeft({combineConsecutiveUnviewables:!0}))===null||le===void 0?void 0:le.spread;else if(U=="right"){var we;U=(we=Oe.right)===null||we===void 0||(we=we.findRight({combineConsecutiveUnviewables:!0}))===null||we===void 0?void 0:we.spread}return typeof U=="number"&&(U=this.book.getPage(U).spread),_instanceof(U,Tn)&&(U=U.spread),U}},{kind:"field",key:"handlePageClick",value:function(){var U=this;return function(le){if(le.which==3&&U.br.protected)return!1;if(le.which==1){var Oe=Ri(le.target).closest(".BRpagecontainer");Oe.length&&(Oe.data("side")=="L"?U.flipAnimation("left"):Oe.data("side")=="R"&&U.flipAnimation("right"))}}}}]}},Me.oi),wi=(ht([(0,Nt.Mo)("br-leaf-edges")],function(z,k){var O=function(I){Ye(W,I);var M=Te(W);function W(){var U;Je(this,W);for(var le=arguments.length,Oe=new Array(le),we=0;we<le;we++)Oe[we]=arguments[we];return U=M.call.apply(M,[this].concat(Oe)),z(rt(U)),U}return Ne(W)}(k);return{F:O,d:[{kind:"field",decorators:[(0,Nt.Cb)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,Nt.Cb)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,Nt.Cb)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,Nt.Cb)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,Nt.Cb)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,Nt.IO)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,Nt.IO)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,Me.dy)(Fi||(Fi=yt(['\n      <div\n        class="br-leaf-edges__bar"\n        style="','"\n      ></div>\n      <div class="br-leaf-edges__label">Page</div>'])),(0,fe.V)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Fn(nr(O.prototype),"connectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Fn(nr(O.prototype),"disconnectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var M=this;return function(W){M.addEventListener("mousemove",M.onMouseMove),M.$hoverBar.style.display="block",M.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var M=this;return function(W){M.$hoverBar.style.left="".concat(W.offsetX,"px"),M.side=="right"?M.$hoverLabel.style.left="".concat(W.offsetX,"px"):M.$hoverLabel.style.right="".concat(M.offsetWidth-W.offsetX,"px"),M.$hoverLabel.style.top="".concat(W.offsetY,"px");var U=M.mouseEventToPageIndex(W);M.$hoverLabel.textContent=M.book.getPageName(U)}}},{kind:"field",key:"onMouseLeave",value:function(){var M=this;return function(W){M.removeEventListener("mousemove",M.onMouseMove),M.$hoverBar.style.display="none",M.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var M=this;return function(W){M.pageClickHandler(M.mouseEventToPageIndex(W))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(M){return Math.floor(this.leftIndex+M.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},Me.oi),o(5311));function Ui(z){return Ui=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Ui(z)}function co(){co=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&Ui(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError(Ui($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}var Vi=function(){function z(I,M){(function(W,U){if(!_instanceof(W,U))throw new TypeError("Cannot call a class as a function")})(this,z),this.br=I,this.book=M,this.mode2UpLit=new Br(M,I),this.mode2UpLit.flipSpeed=I.flipSpeed,this.$el=wi(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1}var k,O;return k=z,(O=[{key:"prepare",value:function(){var M=this,W=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(st(co().mark(function U(){return co().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(M.everShown){le.next=9;break}return M.mode2UpLit.initFirstRender(W),M.everShown=!0,M.mode2UpLit.requestUpdate(),le.next=6,M.mode2UpLit.updateComplete;case 6:new gt(M.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),le.next=12;break;case 9:return le.next=11,M.mode2UpLit.jumpToIndex(W,{smooth:!1});case 11:M.resizePageView();case 12:M.mode2UpLit.style.opacity="1";case 13:case"end":return le.stop()}},U)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(M,W,U,le){this.mode2UpLit.jumpToIndex(M)}},{key:"zoom",value:function(M){switch(M){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(M))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])&&ye(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}(),To=o(5311);function ho(z){return ho=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},ho(z)}var Jc=function(){function z(I,M){(function(W,U){if(!_instanceof(W,U))throw new TypeError("Cannot call a class as a function")})(this,z),this.br=I,this.book=M}var k,O;return k=z,(O=[{key:"drawLeafs",value:function(M){var W,U,le,Oe=this,we=Math.floor,lt=this.book,St=this.br.refs.$brContainer.prop("scrollWidth")-20,zt=0,Vt=0,jt=0,fn=0,ln=0,yn=[],qn=N(lt.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(qn.s();!(le=qn.n()).done;){var kn=le.value,zn=this.br.thumbWidth;zt+(zn+this.br.thumbPadding)>St&&(fn++,zt=0,ln=0),yn[fn]||(yn[fn]={}),yn[fn].leafs||(yn[fn].leafs=[],yn[fn].height=0,yn[fn].top=0),yn[fn].leafs[ln]={num:kn.index,left:zt},(W=we(kn.height*this.br.thumbWidth/kn.width))>yn[fn].height&&(yn[fn].height=W),ln===0&&(Vt+=this.br.thumbPadding+yn[fn].height),(zt+=zn+this.br.thumbPadding)>jt&&(jt=zt),ln++,kn.index==M&&(U=Vt-this.br.thumbPadding-yn[fn].height)}}catch(Li){qn.e(Li)}finally{qn.f()}this.br.refs.$brPageViewEl.height(Vt);var jn=we((this.br.refs.$brContainer.prop("scrollWidth")-jt)/2)-14;U!==void 0&&this.br.refs.$brContainer.scrollTop(U);for(var Zn=this.br.refs.$brContainer.prop("scrollTop"),Pn=Zn+this.br.refs.$brContainer.height(),ar=0,Hn=0,ir=[],or=[],yr=lt.getNumLeafs()-1,tr=0,Kn=0;Kn<yn.length;Kn++)yn[Kn]&&(Hn+=this.br.thumbPadding+yn[Kn].height,(ar>=Zn&&ar<=Pn||Hn>=Zn&&Hn<=Pn||ar<=Zn&&Hn>=Pn)&&(ir.push(Kn),yn[Kn].leafs[0].num<yr&&(yr=yn[Kn].leafs[0].num),yn[Kn].leafs[yn[Kn].leafs.length-1].num>tr&&(tr=yn[Kn].leafs[yn[Kn].leafs.length-1].num)),ar>yn[Kn].top&&(yn[Kn].top=ar),ar=Hn);for(var In=ir[0],$e=ir[ir.length-1],ge=1;ge<this.br.thumbRowBuffer+1;ge++)$e+ge<yn.length&&ir.push($e+ge);for(var Pe=1;Pe<this.br.thumbRowBuffer;Pe++)In-Pe>=0&&ir.push(In-Pe);ir.sort(function(Li,Yi){return Li-Yi});for(var mt=0,Ct=ir;mt<Ct.length;mt++){var kt=Ct[mt];if((0,Ce.notInArray)(kt,this.br.displayedRows)){if(!yn[kt])continue;var Gt,vn=N(yn[kt].leafs);try{var An=function(){var Yi=Gt.value,ko=Yi.num,no=Yi.left,Ro=Oe.br.thumbWidth,Mr=we(lt.getPageHeight(ko)*Oe.br.thumbWidth/lt.getPageWidth(ko)),ro=yn[kt].top,Lo=no+jn;Oe.br.pageProgression=="rl"&&(Lo=St-Ro-Lo),Lo+=Oe.br.thumbPadding,or.push(ko);var Ca=we(lt.getPageWidth(ko)/Oe.br.thumbWidth),_s=2*Math.round(Ca/2),Do=Oe.br._createPageContainer(ko).update({dimensions:{width:Ro,height:Mr,top:ro,left:Lo},reduce:_s});Do.$container.data("leaf",ko).on("mouseup",function(Qc){Oe.br.updateFirstIndex(ko,{suppressFragmentChange:!0}),Oe.br.switchMode(Oe.br.constMode1up,{suppressFragmentChange:!0});var Ou=Oe.br.viewModeOrder.shift();Oe.br.viewModeOrder.push(Ou),Oe.br._components.navbar.updateViewModeButton(To(".viewmode"),"twopg","Two-page view"),Oe.br.trigger(xe.fragmentChange),Qc.stopPropagation()}),Oe.br.refs.$brPageViewEl.append(Do.$container)};for(vn.s();!(Gt=vn.n()).done;)An()}catch(Li){vn.e(Li)}finally{vn.f()}}}var dr,Jn=N(this.br.displayedRows);try{for(Jn.s();!(dr=Jn.n()).done;){var ur=dr.value;if((0,Ce.notInArray)(ur,ir)){var _o,Mo,po=N((_o=yn[ur])===null||_o===void 0?void 0:_o.leafs);try{for(po.s();!(Mo=po.n()).done;){var hl,Gi=Mo.value.num;or!=null&&or.includes(Gi)||(hl=this.br.$(".pagediv".concat(Gi)))===null||hl===void 0||hl.remove()}}catch(Li){po.e(Li)}finally{po.f()}}}}catch(Li){Jn.e(Li)}finally{Jn.f()}var Cu=this.br.currentIndex();Cu<yr?this.br.updateFirstIndex(yr):Cu>tr&&this.br.updateFirstIndex(tr),this.br.displayedRows=ir.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(M){var W=To(M).data("leaf"),U=To(M).data("reduce"),le=this.br.imageCache.image(W,U),Oe=To(M).parent();To(Oe).append(le),To(M).remove()}},{key:"zoom",value:function(M){var W=this.br.thumbColumns;switch(M){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(M))}this.br.thumbColumns=(0,Ce.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=W&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(M){var W=(M+1)*this.br.thumbPadding,U=(this.br.refs.$brPageViewEl.width()-W)/(M+.5),le=Math.floor(U);return le>0?le:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=To("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new gt(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(M){for(var W=this,U=Math.floor,le=this.book,Oe=this.br.refs.$brContainer.prop("scrollWidth")-20,we=this.br.thumbWidth,lt=0,St=0,zt=0,Vt=0,jt=0,fn=0;fn<=M;fn++){St+(we+this.br.thumbPadding)>Oe&&(St=0,Vt=0,jt=0);var ln=U(le.getPageHeight(jt)*this.br.thumbWidth/le.getPageWidth(jt));ln>Vt&&(Vt=ln),jt==0&&(lt=zt,zt+=this.br.thumbPadding+Vt),St+=we+this.br.thumbPadding,jt++}this.br.updateFirstIndex(M),this.br.refs.$brContainer.prop("scrollTop")==lt?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:lt},"fast",function(){W.br.animating=!1}))}}])&&Ie(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}(),Wi=(o(8813),{floor:Math.floor,decr:function(k){return k-1}}),qi={floor:function(k){return Math.pow(2,Math.floor(Math.log2(Math.max(1,k))))},decr:function(k){return Math.pow(2,Math.log2(k)-1)}},eo={pow2:qi,integer:Wi},dl=o(5311);function Io(z){return Io=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},Io(z)}var fo=function(){function z(I){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=M.useSrcSet,U=W!==void 0&&W,le=M.reduceSet,Oe=le===void 0?qi:le;(function(we,lt){if(!_instanceof(we,lt))throw new TypeError("Cannot call a class as a function")})(this,z),this.book=I,this.useSrcSet=U,this.reduceSet=Oe,this.cache={},this.defaultScale=8}var k,O;return k=z,O=[{key:"image",value:function(M,W){var U=(this.cache[M]||[]).filter(function(Oe){return Oe.loaded&&Oe.reduce<=W});if(U.length){var le=Math.max.apply(Math,et(U.map(function(Oe){return Oe.reduce})));return this._serveImageElement(M,le)}return this._serveImageElement(M,W)}},{key:"imageLoaded",value:function(M,W){var U,le,Oe=(U=this.cache[M])===null||U===void 0?void 0:U.find(function(we){return we.reduce<=W});return(le=Oe==null?void 0:Oe.loaded)!==null&&le!==void 0&&le}},{key:"getBestLoadedReduce",value:function(M){var W,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,le=((W=this.cache[M])===null||W===void 0?void 0:W.filter(function(lt){return lt.loaded}))||[];if(!le.length)return null;var Oe=le.filter(function(lt){return lt.reduce>=U});if(Oe.length)return Math.min.apply(Math,et(Oe.map(function(lt){return lt.reduce})));var we=le.filter(function(lt){return lt.reduce<U});return Math.max.apply(Math,et(we.map(function(lt){return lt.reduce})))}},{key:"_serveImageElement",value:function(M,W){var U,le=this.reduceSet.floor(W),Oe=(U=this.cache[M])===null||U===void 0?void 0:U.find(function(St){return St.reduce==le});Oe||(Oe={reduce:le,loaded:!1},(this.cache[M]||(this.cache[M]=[])).push(Oe));var we=this.book.getPage(M),lt=dl("<img />",{class:"BRpageimage",alt:"Book page image",src:we.getURI(le,0)}).data("reduce",le);return this.useSrcSet&&lt.attr("srcset",we.getURISrcSet(le)),Oe.loaded||lt.one("load",function(){return Oe.loaded=!0}),lt}}],O&&ue(k.prototype,O),Object.defineProperty(k,"prototype",{writable:!1}),z}(),lr=o(9860),Au=o(5311),jr=o(5311);function _i(z){return _i=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(O){return typeof O=="undefined"?"undefined":_typeof(O)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k=="undefined"?"undefined":_typeof(k)},_i(z)}function to(){to=function(){return k};var z,k={},O=Object.prototype,I=O.hasOwnProperty,M=Object.defineProperty||function($e,ge,Pe){$e[ge]=Pe.value},W=typeof Symbol=="function"?Symbol:{},U=W.iterator||"@@iterator",le=W.asyncIterator||"@@asyncIterator",Oe=W.toStringTag||"@@toStringTag";function we($e,ge,Pe){return Object.defineProperty($e,ge,{value:Pe,enumerable:!0,configurable:!0,writable:!0}),$e[ge]}try{we({},"")}catch($e){we=function(Pe,mt,Ct){return Pe[mt]=Ct}}function lt($e,ge,Pe,mt){var Ct=ge&&_instanceof(ge.prototype,yn)?ge:yn,kt=Object.create(Ct.prototype),Gt=new Kn(mt||[]);return M(kt,"_invoke",{value:ir($e,Pe,Gt)}),kt}function St($e,ge,Pe){try{return{type:"normal",arg:$e.call(ge,Pe)}}catch(mt){return{type:"throw",arg:mt}}}k.wrap=lt;var zt="suspendedStart",Vt="suspendedYield",jt="executing",fn="completed",ln={};function yn(){}function qn(){}function kn(){}var zn={};we(zn,U,function(){return this});var jn=Object.getPrototypeOf,Zn=jn&&jn(jn(In([])));Zn&&Zn!==O&&I.call(Zn,U)&&(zn=Zn);var Pn=kn.prototype=yn.prototype=Object.create(zn);function ar($e){["next","throw","return"].forEach(function(ge){we($e,ge,function(Pe){return this._invoke(ge,Pe)})})}function Hn($e,ge){function Pe(Ct,kt,Gt,vn){var An=St($e[Ct],$e,kt);if(An.type!=="throw"){var dr=An.arg,Jn=dr.value;return Jn&&_i(Jn)=="object"&&I.call(Jn,"__await")?ge.resolve(Jn.__await).then(function(ur){Pe("next",ur,Gt,vn)},function(ur){Pe("throw",ur,Gt,vn)}):ge.resolve(Jn).then(function(ur){dr.value=ur,Gt(dr)},function(ur){return Pe("throw",ur,Gt,vn)})}vn(An.arg)}var mt;M(this,"_invoke",{value:function(kt,Gt){function vn(){return new ge(function(An,dr){Pe(kt,Gt,An,dr)})}return mt=mt?mt.then(vn,vn):vn()}})}function ir($e,ge,Pe){var mt=zt;return function(Ct,kt){if(mt===jt)throw new Error("Generator is already running");if(mt===fn){if(Ct==="throw")throw kt;return{value:z,done:!0}}for(Pe.method=Ct,Pe.arg=kt;;){var Gt=Pe.delegate;if(Gt){var vn=or(Gt,Pe);if(vn){if(vn===ln)continue;return vn}}if(Pe.method==="next")Pe.sent=Pe._sent=Pe.arg;else if(Pe.method==="throw"){if(mt===zt)throw mt=fn,Pe.arg;Pe.dispatchException(Pe.arg)}else Pe.method==="return"&&Pe.abrupt("return",Pe.arg);mt=jt;var An=St($e,ge,Pe);if(An.type==="normal"){if(mt=Pe.done?fn:Vt,An.arg===ln)continue;return{value:An.arg,done:Pe.done}}An.type==="throw"&&(mt=fn,Pe.method="throw",Pe.arg=An.arg)}}}function or($e,ge){var Pe=ge.method,mt=$e.iterator[Pe];if(mt===z)return ge.delegate=null,Pe==="throw"&&$e.iterator.return&&(ge.method="return",ge.arg=z,or($e,ge),ge.method==="throw")||Pe!=="return"&&(ge.method="throw",ge.arg=new TypeError("The iterator does not provide a '"+Pe+"' method")),ln;var Ct=St(mt,$e.iterator,ge.arg);if(Ct.type==="throw")return ge.method="throw",ge.arg=Ct.arg,ge.delegate=null,ln;var kt=Ct.arg;return kt?kt.done?(ge[$e.resultName]=kt.value,ge.next=$e.nextLoc,ge.method!=="return"&&(ge.method="next",ge.arg=z),ge.delegate=null,ln):kt:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ln)}function yr($e){var ge={tryLoc:$e[0]};1 in $e&&(ge.catchLoc=$e[1]),2 in $e&&(ge.finallyLoc=$e[2],ge.afterLoc=$e[3]),this.tryEntries.push(ge)}function tr($e){var ge=$e.completion||{};ge.type="normal",delete ge.arg,$e.completion=ge}function Kn($e){this.tryEntries=[{tryLoc:"root"}],$e.forEach(yr,this),this.reset(!0)}function In($e){if($e||$e===""){var ge=$e[U];if(ge)return ge.call($e);if(typeof $e.next=="function")return $e;if(!isNaN($e.length)){var Pe=-1,mt=function Ct(){for(;++Pe<$e.length;)if(I.call($e,Pe))return Ct.value=$e[Pe],Ct.done=!1,Ct;return Ct.value=z,Ct.done=!0,Ct};return mt.next=mt}}throw new TypeError(_i($e)+" is not iterable")}return qn.prototype=kn,M(Pn,"constructor",{value:kn,configurable:!0}),M(kn,"constructor",{value:qn,configurable:!0}),qn.displayName=we(kn,Oe,"GeneratorFunction"),k.isGeneratorFunction=function($e){var ge=typeof $e=="function"&&$e.constructor;return!!ge&&(ge===qn||(ge.displayName||ge.name)==="GeneratorFunction")},k.mark=function($e){return Object.setPrototypeOf?Object.setPrototypeOf($e,kn):($e.__proto__=kn,we($e,Oe,"GeneratorFunction")),$e.prototype=Object.create(Pn),$e},k.awrap=function($e){return{__await:$e}},ar(Hn.prototype),we(Hn.prototype,le,function(){return this}),k.AsyncIterator=Hn,k.async=function($e,ge,Pe,mt,Ct){Ct===void 0&&(Ct=Promise);var kt=new Hn(lt($e,ge,Pe,mt),Ct);return k.isGeneratorFunction(ge)?kt:kt.next().then(function(Gt){return Gt.done?Gt.value:kt.next()})},ar(Pn),we(Pn,Oe,"Generator"),we(Pn,U,function(){return this}),we(Pn,"toString",function(){return"[object Generator]"}),k.keys=function($e){var ge=Object($e),Pe=[];for(var mt in ge)Pe.push(mt);return Pe.reverse(),function Ct(){for(;Pe.length;){var kt=Pe.pop();if(kt in ge)return Ct.value=kt,Ct.done=!1,Ct}return Ct.done=!0,Ct}},k.values=In,Kn.prototype={constructor:Kn,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(tr),!ge)for(var Pe in this)Pe.charAt(0)==="t"&&I.call(this,Pe)&&!isNaN(+Pe.slice(1))&&(this[Pe]=z)},stop:function(){this.done=!0;var ge=this.tryEntries[0].completion;if(ge.type==="throw")throw ge.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var Pe=this;function mt(dr,Jn){return Gt.type="throw",Gt.arg=ge,Pe.next=dr,Jn&&(Pe.method="next",Pe.arg=z),!!Jn}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var kt=this.tryEntries[Ct],Gt=kt.completion;if(kt.tryLoc==="root")return mt("end");if(kt.tryLoc<=this.prev){var vn=I.call(kt,"catchLoc"),An=I.call(kt,"finallyLoc");if(vn&&An){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}else if(vn){if(this.prev<kt.catchLoc)return mt(kt.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return mt(kt.finallyLoc)}}}},abrupt:function(ge,Pe){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var Ct=this.tryEntries[mt];if(Ct.tryLoc<=this.prev&&I.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var kt=Ct;break}}kt&&(ge==="break"||ge==="continue")&&kt.tryLoc<=Pe&&Pe<=kt.finallyLoc&&(kt=null);var Gt=kt?kt.completion:{};return Gt.type=ge,Gt.arg=Pe,kt?(this.method="next",this.next=kt.finallyLoc,ln):this.complete(Gt)},complete:function(ge,Pe){if(ge.type==="throw")throw ge.arg;return ge.type==="break"||ge.type==="continue"?this.next=ge.arg:ge.type==="return"?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):ge.type==="normal"&&Pe&&(this.next=Pe),ln},finish:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.finallyLoc===ge)return this.complete(mt.completion,mt.afterLoc),tr(mt),ln}},catch:function(ge){for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var mt=this.tryEntries[Pe];if(mt.tryLoc===ge){var Ct=mt.completion;if(Ct.type==="throw"){var kt=Ct.arg;tr(mt)}return kt}}throw new Error("illegal catch attempt")},delegateYield:function(ge,Pe,mt){return this.delegate={iterator:In(ge),resultName:Pe,nextLoc:mt},this.method==="next"&&(this.arg=z),ln}},k}function wn(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=Au.extend(!0,{},wn.defaultOptions,z,wn.optionOverrides);this.setup(k)}wn.version=be.i8,wn.constMode1up=1,wn.constMode2up=2,wn.constModeThumb=3,wn.imageCache=null,wn.constNavAnimationDuration=300,wn.constResizeAnimationDuration=100,wn.eventNames=xe,wn.defaultOptions=Ht,wn.optionOverrides={},wn.prototype.setup=function(z){this.options=z,this.numLeafs=void 0,this.enableSearch=!1,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=wn.constMode1up,this.constMode2up=wn.constMode2up,this.constModeThumb=wn.constModeThumb,this.reduce=8,this.defaults=z.defaults,this.padding=z.padding,this.reduceSet=eo[z.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(z.reduceSet,". Ignoring.")),this.reduceSet=eo[Ht.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=z.ui,this.uiAutoHide=z.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=z.thumbRowBuffer,this.thumbColumns=z.thumbColumns,this.thumbMaxLoading=z.thumbMaxLoading,this.thumbPadding=z.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=typeof z.flipSpeed=="number"?z.flipSpeed:{fast:200,slow:600}[z.flipSpeed]||400,this.flipDelay=z.flipDelay,this.firstIndex=null,this.isFullscreenActive=z.startFullscreen||!1,this.lastScroll=null,this.showLogo=z.showLogo,this.logoURL=z.logoURL,this.imagesBaseURL=z.imagesBaseURL,this.reductionFactors=z.reductionFactors,this.onePage=z.onePage,this.twoPage=z.twoPage,this.onePageMinBreakpoint=z.onePageMinBreakpoint,this.bookTitle=z.bookTitle,this.bookUrl=z.bookUrl,this.bookUrlText=z.bookUrlText,this.bookUrlTitle=z.bookUrlTitle,this.titleLeaf=z.titleLeaf,this.metadata=z.metadata,this.thumbnail=z.thumbnail,this.bookUrlMoreInfo=z.bookUrlMoreInfo,this.enableExperimentalControls=z.enableExperimentalControls,this.el=z.el,this.pageProgression=z.pageProgression,this.protected=z.protected,this.getEmbedCode=z.getEmbedCode,this.popup=null,this.data=z.data,this.refs={},this.book=new Qt(this),z.getNumLeafs&&(this.book.getNumLeafs=z.getNumLeafs.bind(this)),z.getPageWidth&&(this.book.getPageWidth=z.getPageWidth.bind(this)),z.getPageHeight&&(this.book.getPageHeight=z.getPageHeight.bind(this)),z.getPageURI&&(this.book.getPageURI=z.getPageURI.bind(this)),z.getPageSide&&(this.book.getPageSide=z.getPageSide.bind(this)),z.getPageNum&&(this.book.getPageNum=z.getPageNum.bind(this)),z.getPageProp&&(this.book.getPageProp=z.getPageProp.bind(this)),z.getSpreadIndices&&(this.book.getSpreadIndices=z.getSpreadIndices.bind(this)),z.leafNumToIndex&&(this.book.leafNumToIndex=z.leafNumToIndex.bind(this)),this._components={navbar:new Ke(this),toolbar:new un(this)},this._modes={mode1Up:new Dr(this,this.book),mode2Up:new Vi(this,this.book),modeThumb:new Jc(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new fo(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet}),this.hasKeyFocus=!0},wn.prototype.getActivePageContainerElements=function(){var z=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(k){return k.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(k){return k.$container[0]}));return this.mode==this.constModeThumb&&(z=z.concat(this.$(".BRpagecontainer").toArray())),z},wn.prototype.getActivePageContainerElementsForIndex=function(z){var k,O,I;return[(k=this._modes.mode2Up.mode2UpLit.pageContainerCache[z])===null||k===void 0||(k=k.$container)===null||k===void 0?void 0:k[0],(O=this._modes.mode1Up.mode1UpLit.pageContainerCache[z])===null||O===void 0||(O=O.$container)===null||O===void 0?void 0:O[0]].concat((I=this.mode==this.constModeThumb?this.$(".pagediv".concat(z)).toArray():[],function(M){if(Array.isArray(M))return he(M)}(I)||function(M){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(I)||function(M,W){if(M){if(typeof M=="string")return he(M,W);var U=Object.prototype.toString.call(M).slice(8,-1);return U==="Object"&&M.constructor&&(U=M.constructor.name),U==="Map"||U==="Set"?Array.from(M):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?he(M,W):void 0}}(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter(function(M){return M})},Object.defineProperty(wn.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),wn.util=Ce,wn.prototype.extendParams=function(z,k){var O=jr.extend({},k);if(O.page!==void 0){var I=this.book.parsePageString(O.page);isNaN(I)||(O.index=I),delete O.page}jr.extend(z,O)},wn.prototype.initParams=function(){var z={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?z.index=this.book.leafNumToIndex(this.titleLeaf):z.index=0,this.defaults){var k=this.paramsFromFragment(this.defaults);k.page!==void 0&&(z.pageFound=!0),this.extendParams(z,k)}if(this.options.enablePageResume){var O=this.getResumeValue();O!==null&&(z.index!==O&&(z.fragmentChange=!0),z.index=O)}if(this.options.enableUrlPlugin){var I=this.paramsFromFragment(this.urlReadFragment());!Object.keys(I).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(I=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(I).length&&(I.page!==void 0&&(z.pageFound=!0),this.extendParams(z,I),z.fragmentChange=!0)}if(this.options.enableSearch&&(this.options.goToFirstResult=!z.pageFound,!this.options.initialSearchTerm))if(z.search)this.options.initialSearchTerm=z.search,this.searchTerm=z.search;else{var M=new URLSearchParams(this.readQueryString()).get("q");M&&(this.options.initialSearchTerm=Ce.decodeURIComponentPlus(M))}return this.suppressFragmentChange=!z.fragmentChange,z},wn.prototype.getLocationSearch=function(){return window.location.search},wn.prototype.getLocationHash=function(){return window.location.hash},wn.prototype.readQueryString=function(){var z=this.getLocationSearch();if(z)return z;var k=this.getLocationHash(),O=k.search(/\?\w+=/);return O>-1?k.slice(O):""},wn.prototype.getInitialMode=function(z){var k,O=jr(window).width(),I=O&&O<=this.onePageMinBreakpoint;if(k=z.mode?z.mode:I?this.constMode1up:this.constMode2up,this.canSwitchToMode(k)||(k=this.constMode1up),this.options.defaults)try{k=function(M){var W={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(M in W))throw new Bt("Invalid mode string: ".concat(M));return W[M]}(this.options.defaults)}catch(M){}return k},wn.prototype.init=function(){this.init.initComplete=!1,this.pageScale=this.reduce;var z=this.initParams();this.firstIndex=z.index?z.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=jr(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=jr("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),z.mode=this.getInitialMode(z),this.mode=z.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar&&this.initNavbar(),this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(z),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(k){k.data.lastScroll=new Date().getTime(),k.data.constModeThumb==k.data.mode&&k.data.drawLeafsThrottled()}),this.options.autoResize&&(jr(window).on("resize",this,function(k){k.data.resize()}),jr(window).on("orientationchange",this,function(k){k.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),this.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0),this.init.initComplete=!0,this.trigger(wn.eventNames.PostInit)},wn.prototype.trigger=function(z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,O="BookReader:"+z;Ce.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(O,{bubbles:!0,composed:!0,detail:{props:k}})),jr(document).trigger(O,k)},wn.prototype.bind=function(z,k){jr(document).on("BookReader:"+z,k)},wn.prototype.unbind=function(z,k){jr(document).off("BookReader:"+z,k)},wn.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(wn.eventNames.resize))},wn.prototype.setupKeyListeners=function(){var z=this;window.IntersectionObserver&&new IntersectionObserver(function(k){k.forEach(function(O){O.intersectionRatio===0?z.hasKeyFocus=!1:z.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(k){if(z.hasKeyFocus&&!(k.getModifierState("Control")||k.getModifierState("Alt")||k.getModifierState("Meta")||k.getModifierState("Win")||Ce.isInputActive()))switch(k.key){case"Home":k.preventDefault(),z.first();break;case"End":k.preventDefault(),z.last();break;case"ArrowDown":case"PageDown":case"Down":z.constMode2up===z.mode&&(k.preventDefault(),z.next());break;case"ArrowUp":case"PageUp":case"Up":z.constMode2up===z.mode&&(k.preventDefault(),z.prev());break;case"ArrowLeft":case"Left":z.constModeThumb!=z.mode&&(k.preventDefault(),z.left());break;case"ArrowRight":case"Right":z.constModeThumb!=z.mode&&(k.preventDefault(),z.right());break;case"-":case"Subtract":k.preventDefault(),z.zoom(-1);break;case"+":case"=":case"Add":k.preventDefault(),z.zoom(1);break;case"F":case"f":k.preventDefault(),z.toggleFullscreen()}})},wn.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},wn.prototype._createPageContainer=function(z){return new lr._z(this.book.getPage(z,!1),{isProtected:this.protected,imageCache:this.imageCache,loadingImage:this.imagesBaseURL+"loading.gif"})},wn.prototype.bindGestures=function(z){var k=this,O=1;z.unbind("touchmove").bind("touchmove",function(I){I.originalEvent.cancelable&&(O=I.originalEvent.touches.length),I.stopPropagation()}),z.unbind("gesturechange").bind("gesturechange",function(I){I.preventDefault(),O!==2||new Date().getTime()-k.lastScroll<500||(I.originalEvent.scale>1.5?k.zoom(1):I.originalEvent.scale<.6&&k.zoom(-1))})},wn.prototype.drawLeafsThrottled=Ce.throttle(wn.prototype.drawLeafs,250),wn.prototype.zoom=function(z){var k;z==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(k=this.textSelectionPlugin)===null||k===void 0||k.stopPageFlip(this.refs.$brContainer)},wn.prototype.resizeBRcontainer=function(z){z?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},wn.prototype.centerPageView=function(){var z=this.refs.$brContainer.prop("scrollWidth"),k=this.refs.$brContainer.prop("clientWidth");z>k&&this.refs.$brContainer.prop("scrollLeft",(z-k)/2)},wn.prototype.quantizeReduce=function(z,k){for(var O=k[0].reduce,I=Math.abs(z-O),M=1;M<k.length;M++){var W=Math.abs(z-k[M].reduce);W<I&&(I=W,O=k[M].reduce)}return O},wn.prototype.nextReduce=function(z,k,O){if(k==="in"){for(var I=0,M=1;M<O.length;M++)O[M].reduce<z&&(I=M);return O[I]}if(k==="out"){for(var W=O.length-1,U=W,le=W;le>=0;le--)O[le].reduce>z&&(U=le);return O[U]}if(k==="auto"){var Oe=O.find(function(Vt){return Vt.autofit=="auto"});if(Oe)return Oe;for(var we=O.filter(function(Vt){var jt=Vt.autofit;return jt=="height"||jt=="width"}),lt=null,St=0;St<we.length;St++)(lt===null||lt.reduce<we[St].reduce)&&(lt=we[St]);if(lt)return lt}else if(k==="height"||k==="width"){var zt=O.find(function(Vt){return Vt.autofit==k});if(zt)return zt}return O[0]},wn.prototype._reduceSort=function(z,k){return z.reduce-k.reduce},wn.prototype.jumpToPage=function(z){var k=this.book.parsePageString(z);return k!==void 0&&(this.jumpToIndex(k),!0)},wn.prototype._isIndexDisplayed=function(z){return this.displayedIndices?this.displayedIndices.includes(z):this.currentIndex()==z},wn.prototype.jumpToIndex=function(z,k,O,I){var M=this.book.getPage(z);if(!M.isViewable&&M.unviewablesStart!=M.index){var W=this._isIndexDisplayed(M.unviewablesStart)?M.findNext({combineConsecutiveUnviewables:!0}).index:M.unviewablesStart;return this.jumpToIndex(W,k,O,I)}this.trigger(wn.eventNames.stop),this.activeMode.jumpToIndex(z,k,O,I)},wn.prototype.getPrevReadMode=function(z){return z===wn.constMode1up||z===wn.constMode2up?z:this.prevReadMode===null?wn.constMode1up:void 0},wn.prototype.switchMode=function(z){var k,O,I,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=M.suppressFragmentChange,U=W!==void 0&&W;if(M.init,M.pageFound,!(this.init.initComplete&&(z===this.mode||!this.canSwitchToMode(z)))){this.trigger(wn.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=z&&((O=(I=this.activeMode).unprepare)===null||O===void 0||O.call(I)),this.mode=z,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==z?this._modes.mode1Up.prepare():this.constModeThumb==z?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||U||this.trigger(wn.eventNames.fragmentChange);var le=z+"PageViewSelected";this.trigger(wn.eventNames[le]),(k=this.textSelectionPlugin)===null||k===void 0||k.stopPageFlip(this.refs.$brContainer)}},wn.prototype.updateBrClasses=function(){var z={};z[this.constMode1up]="BRmode1up",z[this.constMode2up]="BRmode2up",z[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(z[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),jr(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),jr(document.body).removeClass("BRfullscreenActive"))},wn.prototype.isFullscreen=function(){return this.isFullscreenActive},wn.prototype.toggleFullscreen=pe(to().mark(function z(){var k,O=arguments;return to().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(k=!(O.length>0&&O[0]!==void 0)||O[0],!this.isFullscreen()){I.next=6;break}return I.next=4,this.exitFullScreen();case 4:I.next=8;break;case 6:return I.next=8,this.enterFullscreen(k);case 8:case"end":return I.stop()}},z,this)})),wn.prototype.enterFullscreen=pe(to().mark(function z(){var k,O,I,M=this,W=arguments;return to().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O=!(W.length>0&&W[0]!==void 0)||W[0],this.refs.$br.addClass("BRfullscreenAnimation"),I=this.currentIndex(),O&&(this._fullscreenCloseHandler=function(le){le.keyCode===27&&M.toggleFullscreen()},jr(document).on("keyup",this._fullscreenCloseHandler)),jr(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!_instanceof(this.activeMode,Dr)){U.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(I)),this.activeMode.mode1UpLit.requestUpdate(),U.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(I),(k=this.textSelectionPlugin)===null||k===void 0||k.stopPageFlip(this.refs.$brContainer),this.trigger(wn.eventNames.fragmentChange),this.trigger(wn.eventNames.fullscreenToggled),U.next=19,new Promise(function(le){return setTimeout(le,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return U.stop()}},z,this)})),wn.prototype.exitFullScreen=pe(to().mark(function z(){var k,O;return to().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),jr(document).off("keyup",this._fullscreenCloseHandler),O=jr(window).width(),this.options.controls.twoPage.visible&&O<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(wn.eventNames.fullscreenToggled),this.updateBrClasses(),I.next=10,new Promise(function(M){return setTimeout(M,0)});case 10:if(this.resize(),!_instanceof(this.activeMode,Dr)){I.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),I.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(k=this.textSelectionPlugin)===null||k===void 0||k.stopPageFlip(this.refs.$brContainer),this.trigger(wn.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return I.stop()}},z,this)})),wn.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return Ce.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},wn.prototype.updateFirstIndex=function(z){var k=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,O=k!==void 0&&k;this.firstIndex!==z&&(this.firstIndex=z,this.suppressFragmentChange||O||this.trigger(wn.eventNames.fragmentChange),this.options.initialSearchTerm&&!O&&(this.suppressFragmentChange=!1),this.trigger(wn.eventNames.pageChanged),this.trigger(wn.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(z))},wn.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},wn.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},wn.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},wn.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},wn.prototype.next=function(){var z=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,k=z===void 0||z;this.constMode2up==this.mode?(k&&this.trigger(wn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("next")):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},wn.prototype.prev=function(){var z=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,k=z===void 0||z;this.firstIndex<1||(this.constMode2up==this.mode?(k&&this.trigger(wn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("prev")):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},wn.prototype.first=function(){this.jumpToIndex(0)},wn.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},wn.prototype.initNavbar=Ke.prototype.init,Q(Ke,"_components.navbar","init","initNavbar"),wn.prototype.buildToolbarElement=un.prototype.buildToolbarElement,Q(un,"_components.toolbar","buildToolbarElement"),wn.prototype.initToolbar=un.prototype.initToolbar,Q(un,"_components.toolbar","initToolbar"),wn.prototype.buildShareDiv=un.prototype.buildShareDiv,Q(un,"_components.toolbar","buildShareDiv"),wn.prototype.buildInfoDiv=un.prototype.buildInfoDiv,Q(un,"_components.toolbar","buildInfoDiv"),wn.prototype.getToolBarHeight=un.prototype.getToolBarHeight,Q(un,"_components.toolbar","getToolBarHeight"),wn.prototype.bindNavigationHandlers=function(){var z=this,k=this,O=this.$(".BRicon"),I={book_left:function(){z.trigger(wn.eventNames.stop),z.left()},book_right:function(){z.trigger(wn.eventNames.stop),z.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){z.switchMode(k.constMode1up)},thumb:function(){z.switchMode(k.constModeThumb)},twopg:function(){z.switchMode(k.constMode2up)},zoom_in:function(){z.trigger(wn.eventNames.stop),z.zoom(1),z.trigger(wn.eventNames.zoomIn)},zoom_out:function(){z.trigger(wn.eventNames.stop),z.zoom(-1),z.trigger(wn.eventNames.zoomOut)},full:function(){if(z.ui=="embed"){var we=z.$(".BRembedreturn a").attr("href");window.open(we)}else z.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){z.trigger(wn.eventNames.userAction)});var M=function(we){O.filter(".".concat(we)).on("click.bindNavigationHandlers",function(){return I[we](),!1})};for(var W in I)M(W);var U=this.$(".BRnavCntlBtm"),le=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var Oe=[];U.hasClass("BRdn")?(k.refs.$BRtoolbar&&Oe.push(k.refs.$BRtoolbar.animate({top:-1*k.getToolBarHeight()}).promise()),Oe.push(k.$(".BRfooter").animate({bottom:-1*k.getFooterHeight()}).promise()),U.addClass("BRup").removeClass("BRdn"),le.addClass("BRdn").removeClass("BRup"),k.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),k.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(k.refs.$BRtoolbar&&Oe.push(k.refs.$BRtoolbar.animate({top:0}).promise()),Oe.push(k.$(".BRfooter").animate({bottom:0}).promise()),U.addClass("BRdn").removeClass("BRup"),le.addClass("BRup").removeClass("BRdn"),k.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),k.$(".BRvavCntl").animate({opacity:1})),jr.when.apply(jr,Oe).done(function(){k.mode==k.constMode2up&&k.twoPage.autofit!=null&&k.twoPage.autofit!="none"||k.mode==k.constMode1up&&k.onePage.autofit!=null&&k.onePage.autofit!="none"?k.resize():k.resizeBRcontainer()})}),U.on("mouseover",function(){jr(this).hasClass("BRup")&&k.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){jr(this).hasClass("BRup")&&k.$(".BRnavCntl").animate({opacity:.75},250)}),le.on("mouseover",function(){jr(this).hasClass("BRdn")&&k.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){jr(this).hasClass("BRdn")&&k.$(".BRnavCntl").animate({opacity:.75},250)})},wn.prototype.getPageURI=Qt.prototype.getPageURI,Q(Qt,"book","getPageURI"),wn.prototype.updateFromParams=function(z){var k=z.mode,O=k===void 0?0:k,I=z.init,M=I!==void 0&&I,W=z.fragmentChange,U=W!==void 0&&W;O&&this.switchMode(O,{init:M,suppressFragmentChange:!U}),z.index!==void 0?z.index!=this.currentIndex()&&this.jumpToIndex(z.index):z.page!==void 0&&z.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(z.page),this.enableSearch&&z.search!==void 0&&this.searchTerm!==z.search&&this.$(".BRsearchInput").val(z.search),this.enableThemesPlugin&&z.theme!==void 0&&this.updateTheme(z.theme)},wn.prototype.canSwitchToMode=function(z){return z!=this.constMode2up&&z!=this.constModeThumb||!(this.book.getNumLeafs()<2)},wn.prototype._getPageURI=function(z,k,O){var I=this.book.getPage(z,!1);return I?(k===void 0&&(k=I.height/this.twoPage.height),I.getURI(k,O)):this.imagesBaseURL+"transparent.png"},wn.prototype.showProgressPopup=function(z,k){var O=this;if(!this.popup){if(this.popup=document.createElement("div"),jr(this.popup).prop("className","BRprogresspopup"),typeof k=="function"){var I=document.createElement("button");I.setAttribute("title","close"),I.setAttribute("class","close-popup");var M=document.createElement("span");M.setAttribute("class","icon icon-close-dark"),jr(I).append(M),I.addEventListener("click",function(){k(),O.removeProgressPopup()}),jr(this.popup).append(I)}var W=document.createElement("div");if(jr(W).css({height:"20px"}).prop("className","BRprogressbar"),jr(this.popup).append(W),z){var U=document.createElement("div");U.innerHTML=z,jr(this.popup).append(U)}jr(this.popup).appendTo(this.refs.$br)}},wn.prototype.removeProgressPopup=function(){jr(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},wn.prototype.initUIStrings=function(){var z={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var k in this.pageProgression=="rl"&&(z[".book_leftmost"]="Last page",z[".book_rightmost"]="First page"),z)this.$(k).prop("title",z[k])},wn.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(z,k){if(!k.complete||k.naturalHeight===0){var O=k.src;k.src="",setTimeout(function(){k.src=O},1e3)}})},wn.prototype.getFooterHeight=function(){var z=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(z&&this.refs.$BRfooter){var k=z.outerHeight(),O=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(k)&&!isNaN(O))return k+O}return 0},wn.prototype.paramsFromCurrent=function(){var z={},k=this.currentIndex(),O=this.book.getPageNum(k);return(O===0||O)&&(z.page=O),z.index=k,z.mode=this.mode,this.isFullscreenActive&&(z.view="theater"),this.enableSearch&&(z.search=this.searchTerm),z},wn.prototype.paramsFromFragment=function(z){var k={};z.substr(0,1)=="#"&&(z=z.substr(1));var O=parseInt(/^\d+$/.exec(z));if(!isNaN(O))return k.index=O,k;for(var I=z.split("/"),M={},W=0;W<I.length;W+=2)M[I[W]]=I[W+1];return M.mode=="1up"?k.mode=this.constMode1up:M.mode=="2up"?k.mode=this.constMode2up:M.mode=="thumb"&&(k.mode=this.constModeThumb),M.page!==void 0&&(k.page=decodeURIComponent(M.page)),M.search!=null&&(k.search=Ce.decodeURIComponentPlus(M.search)),M.theme!=null&&(k.theme=M.theme),k},wn.prototype.fragmentFromParams=function(z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",O=[];if(z.page!==void 0?O.push("page",encodeURIComponent(z.page)):z.index!==void 0&&O.push("page","n"+z.index),z.mode!==void 0)if(z.mode==this.constMode1up)O.push("mode","1up");else if(z.mode==this.constMode2up)O.push("mode","2up");else{if(z.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+z.mode;O.push("mode","thumb")}return z.search&&k==="hash"&&O.push("search",Ce.encodeURIComponentPlus(z.search)),O.join("/")},wn.prototype.queryStringFromParams=function(z,k){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",I=new URLSearchParams(k);z.view?I.set("view",z.view):I.delete("view"),z.search&&O==="history"&&I.set("q",z.search);var M=I.toString();return M?"?"+M:""},wn.prototype.$=function(z){return this.refs.$br.find(z)},window.BookReader=wn})(),u=o.O(u)})()}),_1=b1(w1());var S;Vn=_1,S=Vn,qp=S.default,k1=xi(Vn,["default"]),x1=qp!==void 0?qp:k1}}),A1={};qr(A1,{default:function(){return x1}});var H8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/BookReader.js":function(){S1(),S1()}}),C1,Gp,O1,j1,E1,P1,T1,I1,M1,R1,L1,Vn,Yp,D1,$1,B1=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.search.js":function(){C1=Object.create,Gp=Object.defineProperty,O1=Object.getOwnPropertyDescriptor,j1=Object.getOwnPropertyNames,E1=Object.getPrototypeOf,P1=Object.prototype.hasOwnProperty,T1=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},I1=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!P1.call(t,v)&&v!==n&&Gp(t,v,{get:function(){return e[v]},enumerable:!(o=O1(e,v))||o.enumerable})},d=j1(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},M1=function(t,e,n){return n=t!=null?C1(E1(t)):{},I1(e||!t||!t.__esModule?Gp(n,"default",{value:t,enumerable:!0}):n,t)},R1=T1(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[73],{2225:function(t,e,n){var o=function(_,j){for(var R=0;R<j.length;R++){var D=j[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,(H=function(K,J){if(C(K)!=="object"||K===null)return K;var F=K[Symbol.toPrimitive];if(F!==void 0){var de=F.call(K,"string");if(C(de)!=="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(D.key),C(H)==="symbol"?H:String(H)),D)}var H},u=function(_,j){var R=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!R){if(Array.isArray(_)||(R=l(_))||j&&_&&typeof _.length=="number"){R&&(_=R);var D=0,H=function(){};return{s:H,n:function(){return D>=_.length?{done:!0}:{done:!1,value:_[D++]}},e:function(re){throw re},f:H}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K,J=!0,F=!1;return{s:function(){R=R.call(_)},n:function(){var re=R.next();return J=re.done,re},e:function(re){F=!0,K=re},f:function(){try{J||R.return==null||R.return()}finally{if(F)throw K}}}},l=function(_,j){if(_){if(typeof _=="string")return s(_,j);var R=Object.prototype.toString.call(_).slice(8,-1);return R==="Object"&&_.constructor&&(R=_.constructor.name),R==="Map"||R==="Set"?Array.from(_):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?s(_,j):void 0}},s=function(_,j){(j==null||j>_.length)&&(j=_.length);for(var R=0,D=new Array(j);R<j;R++)D[R]=_[R];return D},r=function(_,j,R){var D=(0,x.escapeRegExp)((0,x.escapeHTML)(j)),H=(0,x.escapeRegExp)((0,x.escapeHTML)(R)),K=new RegExp("".concat(D,"([^]+?)").concat(H),"g");return(0,x.escapeHTML)(_).replace(K,"<mark>$1</mark>").replace(/(\b)- /g,"$1")},d=function(_,j){var R=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!R){if(Array.isArray(_)||(R=c(_))||j&&_&&typeof _.length=="number"){R&&(_=R);var D=0,H=function(){};return{s:H,n:function(){return D>=_.length?{done:!0}:{done:!1,value:_[D++]}},e:function(re){throw re},f:H}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var K,J=!0,F=!1;return{s:function(){R=R.call(_)},n:function(){var re=R.next();return J=re.done,re},e:function(re){F=!0,K=re},f:function(){try{J||R.return==null||R.return()}finally{if(F)throw K}}}},c=function(_,j){if(_){if(typeof _=="string")return h(_,j);var R=Object.prototype.toString.call(_).slice(8,-1);return R==="Object"&&_.constructor&&(R=_.constructor.name),R==="Map"||R==="Set"?Array.from(_):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?h(_,j):void 0}},h=function(_,j){(j==null||j>_.length)&&(j=_.length);for(var R=0,D=new Array(j);R<j;R++)D[R]=_[R];return D},f=function(_,j,R,D,H,K,J){try{var F=_[K](J),de=F.value}catch(re){return void R(re)}F.done?j(de):Promise.resolve(de).then(D,H)},v=function(_){return function(){var j=this,R=arguments;return new Promise(function(D,H){var K=_.apply(j,R);function J(de){f(K,D,H,J,F,"next",de)}function F(de){f(K,D,H,J,F,"throw",de)}J(void 0)})}};n(4043),n(1514),n(5728),n(228),n(886),n(7267),n(4338),n(429),n(3964),n(6585),n(939),n(752),n(1694),n(6265),n(9307),n(9749),n(6544),n(4254),n(8373),n(6793),n(7629),n(7509),n(8052),n(7522),n(4284),n(3374),n(9730),n(2826),n(7049);var x=n(5685),w=n(9860),b=(n(2320),n(9373),n(9903),n(9288),n(5311));function C(y){return C=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(j){return typeof j=="undefined"?"undefined":_typeof(j)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _=="undefined"?"undefined":_typeof(_)},C(y)}var P=function(){function y(R){var D=R.br,H=R.searchCancelledCallback,K=H===void 0?function(){}:H;(function(J,F){if(!_instanceof(J,F))throw new TypeError("Cannot call a class as a function")})(this,y),this.br=D,this.matches=[],this.cacheDOMElements(),this.bindEvents(),this.cancelSearch=K}var _,j;return _=y,j=[{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(D){this.br.$('[name="query"]').val(D)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var D=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),D&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var D="BRsearch-navigation";b(".BRnav").before('\n      <div class="'.concat(D,'">\n        <button class="toggle-sidebar">\n          <h4>\n            <span class="icon icon-search"></span> Results\n          </h4>\n        </button>\n        <div class="pagination">\n          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>\n          <span data-id="resultsCount">').concat(this.resultsPosition(),'</span>\n          <button class="next" title="Next result"><span class="icon icon-chevron"></button>\n        </div>\n        <button class="clear" title="Clear search results">\n          <span class="icon icon-close"></span>\n        </button>\n      </div>\n    ')),this.dom.searchNavigation=b(".".concat(D))}},{key:"resultsPosition",value:function(){var D="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(D="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),D}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var D="searchNavigation";this.dom.searchNavigation.on("click.".concat(D),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(D),".prev",this.showPrevResult.bind(this)).on("click.".concat(D),".next",this.showNextResult.bind(this)).on("click.".concat(D),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(D),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(D,H,K){return H[0]>K})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(D,H,K){return D[D.length-1]>K})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(D){var H=function K(J,F){if(J.length===1)return J[0];var de=J.slice(0,J.length/2),re=J.slice(J.length/2);return K(D(de,re,F)?de:re,F)}(this.matches.map(function(K){return K.par[0].page}),this.br.currentIndex()+1);return this.matches.indexOf(this.matches.find(function(K){return K.par[0].page===H}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=b(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var D;this.br.mode!==this.br.constModeThumb?(D=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(D)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var D=this;return this.matches.find(function(H){return D.br.currentIndex()===H.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var D=this;return this.matches.find(function(H){return D.br._isIndexDisplayed(H.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(D){var H=D?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:H})}},{key:"buildToolbarSearch",value:function(){var D=document.createElement("span");return D.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),D.innerHTML='\n      <form class="BRbooksearch desktop">\n        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>\n        <button type="submit" class="BRsearchSubmit">\n          <img src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </button>\n      </form>\n    '),D}},{key:"renderPins",value:function(D){var H=this;D.forEach(function(K){var J=H.br.book.leafNumToIndex(K.par[0].page),F=H.br.constructor.util.cssPercentage(J,H.br.book.getNumLeafs()-1),de=K.html;if(de.length>200){var re=Math.max(0,de.indexOf("<mark>")-100);re!=0&&(de="\u2026"+K.html.substring(re).replace(/^\S+/,""))}b("<div>").addClass("BRsearch").css({left:F}).attr("title","Search result").append('\n          <div class="BRquery">\n            <main>'.concat(de,"</main>\n            <footer>Page ").concat(K.displayPageNumber,"</footer>\n          </div>\n        ")).appendTo(H.br.$(".BRnavline")).on("mouseenter",function(V){var X=V.currentTarget,oe=X.querySelector(".BRquery"),G=oe.getBoundingClientRect(),Y=X.getBoundingClientRect(),Z=2*parseInt(getComputedStyle(oe).paddingLeft);G.x-Z<0&&oe.style.setProperty("transform","translateX(-".concat(Y.left-Z,"px)")),b(".BRsearch,.BRchapter").removeClass("front"),b(V.target).addClass("front")}).on("mouseleave",function(V){return b(V.target).removeClass("front")}).on("click",function(){H.br._searchPluginGoToResult(K.matchIndex)})})}},{key:"toggleSearchPending",value:function(D){var H=this;D?this.br.showProgressPopup("Search results will appear below...",function(){return H.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var D="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage("\n      Sorry, there was an error with your search.\n      <br />\n      ".concat(D,"\n    ")),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage("\n      <p>\n         This book hasn't been indexed for searching yet.\n         We've just started indexing it, so search should be available soon.\n         <br />\n         Please try again later. Thanks!\n      </p>\n    "),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(D){var H=document.createElement("div");H.classList.add("BRprogresspopup","search_modal"),H.innerHTML=D,document.querySelector(this.br.el).append(H)}},{key:"delayModalRemovalFor",value:function(D){setTimeout(this.br.removeProgressPopup.bind(this.br),D)}},{key:"submitHandler",value:function(D){D.preventDefault();var H=D.target.querySelector('[name="query"]').value;return!!H.length&&(this.br.search(H),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(D,H){var K=this,J=H.results,F=H.options;this.matches=J.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(J.matches),this.toggleSearchPending(!1),F.goToFirstResult?b(document).one("BookReader:pageChanged",function(){K.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var D,H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var K=H==null||(D=H.detail)===null||D===void 0||(D=D.props)===null||D===void 0||(D=D.results)===null||D===void 0?void 0:D.indexed;this.renderErrorModal(K)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var D="BookReader:";window.addEventListener("".concat(D,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),b(document).on("".concat(D,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(D,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(D,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(D,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(D,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],j&&o(_.prototype,j),Object.defineProperty(_,"prototype",{writable:!1}),y}(),E=P;n(2003);var T,m=n(5311),a=n(5311);function p(y){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(j){return typeof j=="undefined"?"undefined":_typeof(j)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _=="undefined"?"undefined":_typeof(_)},p(y)}function g(){g=function(){return _};var y,_={},j=Object.prototype,R=j.hasOwnProperty,D=Object.defineProperty||function(Ye,Te,rt){Ye[Te]=rt.value},H=typeof Symbol=="function"?Symbol:{},K=H.iterator||"@@iterator",J=H.asyncIterator||"@@asyncIterator",F=H.toStringTag||"@@toStringTag";function de(Ye,Te,rt){return Object.defineProperty(Ye,Te,{value:rt,enumerable:!0,configurable:!0,writable:!0}),Ye[Te]}try{de({},"")}catch(Ye){de=function(rt,ht,at){return rt[ht]=at}}function re(Ye,Te,rt,ht){var at=Te&&_instanceof(Te.prototype,ae)?Te:ae,ut=Object.create(at.prototype),qe=new Ne(ht||[]);return D(ut,"_invoke",{value:yt(Ye,rt,qe)}),ut}function V(Ye,Te,rt){try{return{type:"normal",arg:Ye.call(Te,rt)}}catch(ht){return{type:"throw",arg:ht}}}_.wrap=re;var X="suspendedStart",oe="suspendedYield",G="executing",Y="completed",Z={};function ae(){}function ie(){}function je(){}var Le={};de(Le,K,function(){return this});var ke=Object.getPrototypeOf,Ze=ke&&ke(ke(Je([])));Ze&&Ze!==j&&R.call(Ze,K)&&(Le=Ze);var Ve=je.prototype=ae.prototype=Object.create(Le);function Xe(Ye){["next","throw","return"].forEach(function(Te){de(Ye,Te,function(rt){return this._invoke(Te,rt)})})}function dt(Ye,Te){function rt(at,ut,qe,ze){var Fe=V(Ye[at],Ye,ut);if(Fe.type!=="throw"){var tt=Fe.arg,nt=tt.value;return nt&&p(nt)=="object"&&R.call(nt,"__await")?Te.resolve(nt.__await).then(function(bt){rt("next",bt,qe,ze)},function(bt){rt("throw",bt,qe,ze)}):Te.resolve(nt).then(function(bt){tt.value=bt,qe(tt)},function(bt){return rt("throw",bt,qe,ze)})}ze(Fe.arg)}var ht;D(this,"_invoke",{value:function(ut,qe){function ze(){return new Te(function(Fe,tt){rt(ut,qe,Fe,tt)})}return ht=ht?ht.then(ze,ze):ze()}})}function yt(Ye,Te,rt){var ht=X;return function(at,ut){if(ht===G)throw new Error("Generator is already running");if(ht===Y){if(at==="throw")throw ut;return{value:y,done:!0}}for(rt.method=at,rt.arg=ut;;){var qe=rt.delegate;if(qe){var ze=pt(qe,rt);if(ze){if(ze===Z)continue;return ze}}if(rt.method==="next")rt.sent=rt._sent=rt.arg;else if(rt.method==="throw"){if(ht===X)throw ht=Y,rt.arg;rt.dispatchException(rt.arg)}else rt.method==="return"&&rt.abrupt("return",rt.arg);ht=G;var Fe=V(Ye,Te,rt);if(Fe.type==="normal"){if(ht=rt.done?Y:oe,Fe.arg===Z)continue;return{value:Fe.arg,done:rt.done}}Fe.type==="throw"&&(ht=Y,rt.method="throw",rt.arg=Fe.arg)}}}function pt(Ye,Te){var rt=Te.method,ht=Ye.iterator[rt];if(ht===y)return Te.delegate=null,rt==="throw"&&Ye.iterator.return&&(Te.method="return",Te.arg=y,pt(Ye,Te),Te.method==="throw")||rt!=="return"&&(Te.method="throw",Te.arg=new TypeError("The iterator does not provide a '"+rt+"' method")),Z;var at=V(ht,Ye.iterator,Te.arg);if(at.type==="throw")return Te.method="throw",Te.arg=at.arg,Te.delegate=null,Z;var ut=at.arg;return ut?ut.done?(Te[Ye.resultName]=ut.value,Te.next=Ye.nextLoc,Te.method!=="return"&&(Te.method="next",Te.arg=y),Te.delegate=null,Z):ut:(Te.method="throw",Te.arg=new TypeError("iterator result is not an object"),Te.delegate=null,Z)}function Re(Ye){var Te={tryLoc:Ye[0]};1 in Ye&&(Te.catchLoc=Ye[1]),2 in Ye&&(Te.finallyLoc=Ye[2],Te.afterLoc=Ye[3]),this.tryEntries.push(Te)}function _e(Ye){var Te=Ye.completion||{};Te.type="normal",delete Te.arg,Ye.completion=Te}function Ne(Ye){this.tryEntries=[{tryLoc:"root"}],Ye.forEach(Re,this),this.reset(!0)}function Je(Ye){if(Ye||Ye===""){var Te=Ye[K];if(Te)return Te.call(Ye);if(typeof Ye.next=="function")return Ye;if(!isNaN(Ye.length)){var rt=-1,ht=function at(){for(;++rt<Ye.length;)if(R.call(Ye,rt))return at.value=Ye[rt],at.done=!1,at;return at.value=y,at.done=!0,at};return ht.next=ht}}throw new TypeError(p(Ye)+" is not iterable")}return ie.prototype=je,D(Ve,"constructor",{value:je,configurable:!0}),D(je,"constructor",{value:ie,configurable:!0}),ie.displayName=de(je,F,"GeneratorFunction"),_.isGeneratorFunction=function(Ye){var Te=typeof Ye=="function"&&Ye.constructor;return!!Te&&(Te===ie||(Te.displayName||Te.name)==="GeneratorFunction")},_.mark=function(Ye){return Object.setPrototypeOf?Object.setPrototypeOf(Ye,je):(Ye.__proto__=je,de(Ye,F,"GeneratorFunction")),Ye.prototype=Object.create(Ve),Ye},_.awrap=function(Ye){return{__await:Ye}},Xe(dt.prototype),de(dt.prototype,J,function(){return this}),_.AsyncIterator=dt,_.async=function(Ye,Te,rt,ht,at){at===void 0&&(at=Promise);var ut=new dt(re(Ye,Te,rt,ht),at);return _.isGeneratorFunction(Te)?ut:ut.next().then(function(qe){return qe.done?qe.value:ut.next()})},Xe(Ve),de(Ve,F,"Generator"),de(Ve,K,function(){return this}),de(Ve,"toString",function(){return"[object Generator]"}),_.keys=function(Ye){var Te=Object(Ye),rt=[];for(var ht in Te)rt.push(ht);return rt.reverse(),function at(){for(;rt.length;){var ut=rt.pop();if(ut in Te)return at.value=ut,at.done=!1,at}return at.done=!0,at}},_.values=Je,Ne.prototype={constructor:Ne,reset:function(Te){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(_e),!Te)for(var rt in this)rt.charAt(0)==="t"&&R.call(this,rt)&&!isNaN(+rt.slice(1))&&(this[rt]=y)},stop:function(){this.done=!0;var Te=this.tryEntries[0].completion;if(Te.type==="throw")throw Te.arg;return this.rval},dispatchException:function(Te){if(this.done)throw Te;var rt=this;function ht(tt,nt){return qe.type="throw",qe.arg=Te,rt.next=tt,nt&&(rt.method="next",rt.arg=y),!!nt}for(var at=this.tryEntries.length-1;at>=0;--at){var ut=this.tryEntries[at],qe=ut.completion;if(ut.tryLoc==="root")return ht("end");if(ut.tryLoc<=this.prev){var ze=R.call(ut,"catchLoc"),Fe=R.call(ut,"finallyLoc");if(ze&&Fe){if(this.prev<ut.catchLoc)return ht(ut.catchLoc,!0);if(this.prev<ut.finallyLoc)return ht(ut.finallyLoc)}else if(ze){if(this.prev<ut.catchLoc)return ht(ut.catchLoc,!0)}else{if(!Fe)throw new Error("try statement without catch or finally");if(this.prev<ut.finallyLoc)return ht(ut.finallyLoc)}}}},abrupt:function(Te,rt){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var at=this.tryEntries[ht];if(at.tryLoc<=this.prev&&R.call(at,"finallyLoc")&&this.prev<at.finallyLoc){var ut=at;break}}ut&&(Te==="break"||Te==="continue")&&ut.tryLoc<=rt&&rt<=ut.finallyLoc&&(ut=null);var qe=ut?ut.completion:{};return qe.type=Te,qe.arg=rt,ut?(this.method="next",this.next=ut.finallyLoc,Z):this.complete(qe)},complete:function(Te,rt){if(Te.type==="throw")throw Te.arg;return Te.type==="break"||Te.type==="continue"?this.next=Te.arg:Te.type==="return"?(this.rval=this.arg=Te.arg,this.method="return",this.next="end"):Te.type==="normal"&&rt&&(this.next=rt),Z},finish:function(Te){for(var rt=this.tryEntries.length-1;rt>=0;--rt){var ht=this.tryEntries[rt];if(ht.finallyLoc===Te)return this.complete(ht.completion,ht.afterLoc),_e(ht),Z}},catch:function(Te){for(var rt=this.tryEntries.length-1;rt>=0;--rt){var ht=this.tryEntries[rt];if(ht.tryLoc===Te){var at=ht.completion;if(at.type==="throw"){var ut=at.arg;_e(ht)}return ut}}throw new Error("illegal catch attempt")},delegateYield:function(Te,rt,ht){return this.delegate={iterator:Je(Te),resultName:rt,nextLoc:ht},this.method==="next"&&(this.arg=y),Z}},_}m.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookId:"",subPrefix:"",bookPath:"",enableSearch:!0,searchInsideProtocol:"https",searchInsideUrl:"/fulltext/inside.php",searchInsidePreTag:"{{{",searchInsidePostTag:"}}}",initialSearchTerm:null}),BookReader.prototype.setup=(T=BookReader.prototype.setup,function(y){T.call(this,y),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=y.searchInsideUrl,this.enableSearch=y.enableSearch,this.bookId=y.bookId,this.server=y.server,this.subPrefix=y.subPrefix,this.bookPath=y.bookPath,this.searchXHR=null,this._cancelSearch.bind(this),this.cancelSearchRequest.bind(this),this._searchBoxesByIndex={},this.searchView=void 0}),BookReader.prototype.init=function(y){return function(){var _=this;y.call(this),this.searchView=new E({br:this,searchCancelledCallback:function(){_._cancelSearch(),_.trigger("SearchCanceled",{term:_.searchTerm,instance:_})}}),this.options.enableSearch&&this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1})}}(BookReader.prototype.init),BookReader.prototype.buildToolbarElement=function(y){return function(){var _=y.call(this);if(this.enableSearch)return this.searchView.dom.toolbarSearch&&_.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),_}}(BookReader.prototype.buildToolbarElement),BookReader.prototype._createPageContainer=function(y){return function(_){var j=y.call(this,_);if(this.enableSearch&&j.page&&_ in this._searchBoxesByIndex){var R=j.page.index,D=this._searchBoxesByIndex[R];(0,w.Tm)("searchHiliteLayer",D,j.page,j.$container[0],D.map(function(H){return"match-index-".concat(H.matchIndex)}))}return j}}(BookReader.prototype._createPageContainer),BookReader.prototype.search=v(g().mark(function y(){var _,j,R,D,H,K,J,F,de,re,V,X,oe=this,G=arguments;return g().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return _=G.length>0&&G[0]!==void 0?G[0]:"",j=G.length>1&&G[1]!==void 0?G[1]:{},R={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},D=m.extend({},R,j),this.suppressFragmentChange=D.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=_.replace(/\//g," "),D.suppressFragmentChange||this.trigger(BookReader.eventNames.fragmentChange),H=this.server.replace(/:.+/,""),K="".concat(this.options.searchInsideProtocol,"://").concat(H).concat(this.searchInsideUrl,"?"),J=this.bookPath,F="/".concat(this.subPrefix),this.bookPath.length-this.bookPath.lastIndexOf(F)==F.length&&(J=this.bookPath.substr(0,this.bookPath.length-F.length)),de={item_id:this.bookId,doc:this.subPrefix,path:J,q:_,pre_tag:this.options.searchInsidePreTag,post_tag:this.options.searchInsidePostTag},re=a.param(de).replace(/%2F/g,"/"),V="".concat(K).concat(re),X=function(ae){if(!oe.searchCancelled){var ie=ae.error||!ae.matches.length,je=typeof D.error=="function",Le=typeof D.success=="function";ie?(console.error("Search Inside Response Error",ae.error||"matches.length == 0"),je?D.error.call(oe,ae,D):oe.BRSearchCallbackError(ae,D)):Le?D.success.call(oe,ae,D):oe.BRSearchCallback(ae,D)}},this.trigger("SearchStarted",{term:this.searchTerm,instance:this}),Y.t0=X,Y.next=21,a.ajax({url:V,dataType:"jsonp",cache:!0,beforeSend:function(ae){oe.searchXHR=ae}});case 21:Y.t1=Y.sent,(0,Y.t0)(Y.t1);case 23:case"end":return Y.stop()}},y,this)})),BookReader.prototype._cancelSearch=function(){var y;(y=this.searchXHR)===null||y===void 0||y.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=[]},BookReader.prototype.cancelSearchRequest=function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.trigger("SearchCanceled",{term:this.searchTerm,instance:this}))},BookReader.prototype.BRSearchCallback=function(y,_){var j=this;(function(R,D,H,K){var J,F,de,re,V=u(R.matches.entries());try{for(V.s();!(J=V.n()).done;){var X=(de=J.value,re=2,function(je){if(Array.isArray(je))return je}(de)||function(je,Le){var ke=je==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&je[Symbol.iterator]||je["@@iterator"];if(ke!=null){var Ze,Ve,Xe,dt,yt=[],pt=!0,Re=!1;try{if(Xe=(ke=ke.call(je)).next,Le===0){if(Object(ke)!==ke)return;pt=!1}else for(;!(pt=(Ze=Xe.call(ke)).done)&&(yt.push(Ze.value),yt.length!==Le);pt=!0);}catch(_e){Re=!0,Ve=_e}finally{try{if(!pt&&ke.return!=null&&(dt=ke.return(),Object(dt)!==dt))return}finally{if(Re)throw Ve}}return yt}}(de,re)||l(de,re)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),oe=X[0],G=X[1];G.matchIndex=oe,G.displayPageNumber=(F=G.par[0].page,j.book.getPageNum(j.book.leafNumToIndex(F))),G.html=r(G.text,H,K);var Y,Z=u(G.par);try{for(Z.s();!(Y=Z.n()).done;){var ae,ie=u(Y.value.boxes);try{for(ie.s();!(ae=ie.n()).done;)ae.value.matchIndex=oe}catch(je){ie.e(je)}finally{ie.f()}}}catch(je){Z.e(je)}finally{Z.f()}}}catch(je){V.e(je)}finally{V.f()}})(y,0,this.options.searchInsidePreTag,this.options.searchInsidePostTag),this.searchResults=y||[],this.updateSearchHilites(),this.removeProgressPopup(),_.goToFirstResult&&this._searchPluginGoToResult(0),this.trigger("SearchCallback",{results:y,options:_,instance:this})},BookReader.prototype.BRSearchCallbackError=function(y){this._BRSearchCallbackError(y)},BookReader.prototype._BRSearchCallbackError=function(y){this.searchResults=y;var _={term:this.searchTerm,instance:this};if(y.error){var j=Object.assign({},_,{results:y});this.trigger("SearchCallbackError",j)}else if(y.matches.length==0){if(y.indexed===!1)return void this.trigger("SearchCallbackBookNotIndexed",_);this.trigger("SearchCallbackEmpty",_)}},BookReader.prototype.updateSearchHilites=function(){var y,_=((y=this.searchResults)===null||y===void 0?void 0:y.matches)||[],j={};this.removeSearchHilites();var R,D,H,K=d(_);try{for(K.s();!(R=K.n()).done;){var J,F=d(R.value.par[0].boxes);try{for(F.s();!(J=F.n()).done;){var de=J.value,re=this.book.leafNumToIndex(de.page);(j[re]||(j[re]=[])).push(de)}}catch(ke){F.e(ke)}finally{F.f()}}}catch(ke){K.e(ke)}finally{K.f()}for(var V=0,X=Object.entries(j);V<X.length;V++){var oe,G=(D=X[V],H=2,function(ke){if(Array.isArray(ke))return ke}(D)||function(ke,Ze){var Ve=ke==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(Ve!=null){var Xe,dt,yt,pt,Re=[],_e=!0,Ne=!1;try{if(yt=(Ve=Ve.call(ke)).next,Ze===0){if(Object(Ve)!==Ve)return;_e=!1}else for(;!(_e=(Xe=yt.call(Ve)).done)&&(Re.push(Xe.value),Re.length!==Ze);_e=!0);}catch(Je){Ne=!0,dt=Je}finally{try{if(!_e&&Ve.return!=null&&(pt=Ve.return(),Object(pt)!==pt))return}finally{if(Ne)throw dt}}return Re}}(D,H)||c(D,H)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Y=G[0],Z=G[1],ae=parseFloat(Y),ie=this.book.getPage(ae),je=d(this.getActivePageContainerElementsForIndex(ae));try{var Le=function(ke,Ze){var Ve=oe.value;(0,w.Tm)("searchHiliteLayer",Z,ie,Ve,Z.map(function(Xe){return"match-index-".concat(Xe.matchIndex)}))};for(je.s();!(oe=je.n()).done;)Le(V,X)}catch(ke){je.e(ke)}finally{je.f()}}this._searchBoxesByIndex=j},BookReader.prototype.removeSearchHilites=function(){a(this.getActivePageContainerElements()).find(".searchHiliteLayer").remove()},BookReader.prototype._searchPluginGoToResult=function(){var y=v(g().mark(function _(j){var R,D,H,K,J,F,de,re,V,X,oe,G;return g().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(D=(R=this.searchResults)===null||R===void 0?void 0:R.matches[j],H=this.book,K=H.leafNumToIndex(D.par[0].page),J=H.getPage(K),F=Math.abs(this.currentIndex()-K)<3,de=!1,J.isViewable){Y.next=17;break}return Y.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.options.bookId,subprefix:this.options.subPrefix,leafNum:J.leafNum})).then(function(Z){return Z.json()});case 9:re=Y.sent,V=d(re.value);try{for(V.s();!(X=V.n()).done;)oe=X.value,H.getPage(H.leafNumToIndex(oe)).makeViewable()}catch(Z){V.e(Z)}finally{V.f()}if(re.value.length||(H.getPage(K).makeViewable(),de=!0),this._modes.mode1Up.mode1UpLit.updatePages(),this.activeMode!=this._modes.mode1Up){Y.next=17;break}return Y.next=17,this._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this._isIndexDisplayed(K)||(this.suppressFragmentChange=!1,this.jumpToIndex(K)),de&&H.getPage(K).makeViewable(!1),Y.next=21,(0,x.poll)(function(){return a("rect.match-index-".concat(D.matchIndex))},{until:function(ae){return ae.length>0}});case 21:if(!(G=Y.sent).length){Y.next=28;break}return G.css("animation","none"),G[0].scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:F?"smooth":"auto"}),Y.next=27,new Promise(function(Z){return setTimeout(Z,100)});case 27:G.removeAttr("style");case 28:case"end":return Y.stop()}},_,this)}));return function(_){return y.apply(this,arguments)}}(),BookReader.prototype.removeSearchResults=function(){var y=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,y||this.trigger(BookReader.eventNames.fragmentChange)},BookReader.prototype.searchHighlightVisible=function(){var y=this,_=this.searchResults,j=[];if(_==null)return!1;if(this.constMode2up==this.mode)j=[this.twoPage.currentIndexL,this.twoPage.currentIndexR];else{if(this.constMode1up!=this.mode)return!1;j=[this.currentIndex()]}return _.matches.some(function(R){return R.par[0].boxes.some(function(D){var H=y.book.leafNumToIndex(D.page);if(m.inArray(H,j)>=0)return!0})}),!1}},4818:function(t,e,n){var o=n(9037),u=n(3689),l=n(8844),s=n(4327),r=n(1435).trim,d=n(6350),c=l("".charAt),h=o.parseFloat,f=o.Symbol,v=f&&f.iterator,x=1/h(d+"-0")!=-1/0||v&&!u(function(){h(Object(v))});t.exports=x?function(w){var b=r(s(w)),C=h(b);return C===0&&c(b,0)==="-"?-0:C}:h},6585:function(t,e,n){var o=n(9989),u=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return u(s)}})},939:function(t,e,n){var o=n(9989),u=n(4818);o({global:!0,forced:parseFloat!==u},{parseFloat:u})}},function(t){t(t.s=2225)}])}),L1=M1(R1());var S;Vn=L1,S=Vn,Yp=S.default,D1=xi(Vn,["default"]),$1=Yp!==void 0?Yp:D1}}),N1={};qr(N1,{default:function(){return $1}});var F8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.search.js":function(){B1(),B1()}}),z1,Xp,H1,F1,U1,V1,W1,q1,G1,Y1,X1,Vn,Kp,K1,J1,Q1=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.tts.js":function(){z1=Object.create,Xp=Object.defineProperty,H1=Object.getOwnPropertyDescriptor,F1=Object.getOwnPropertyNames,U1=Object.getPrototypeOf,V1=Object.prototype.hasOwnProperty,W1=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},q1=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!V1.call(t,v)&&v!==n&&Xp(t,v,{get:function(){return e[v]},enumerable:!(o=H1(e,v))||o.enumerable})},d=F1(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},G1=function(t,e,n){return n=t!=null?z1(U1(t)):{},q1(e||!t||!t.__esModule?Xp(n,"default",{value:t,enumerable:!0}):n,t)},Y1=W1(function(){(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[34],{2862:function(t,e,n){"use strict";var o=function(N,We){return function(Ie){if(Array.isArray(Ie))return Ie}(N)||function(Ie,et){var L=Ie==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(L!=null){var ue,ce,pe,he,Q=[],be=!0,Ce=!1;try{if(pe=(L=L.call(Ie)).next,et===0){if(Object(L)!==L)return;be=!1}else for(;!(be=(ue=pe.call(L)).done)&&(Q.push(ue.value),Q.length!==et);be=!0);}catch(xe){Ce=!0,ce=xe}finally{try{if(!be&&L.return!=null&&(he=L.return(),Object(he)!==he))return}finally{if(Ce)throw ce}}return Q}}(N,We)||function(Ie,et){if(Ie){if(typeof Ie=="string")return u(Ie,et);var L=Object.prototype.toString.call(Ie).slice(8,-1);return L==="Object"&&Ie.constructor&&(L=Ie.constructor.name),L==="Map"||L==="Set"?Array.from(Ie):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?u(Ie,et):void 0}}(N,We)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},u=function(N,We){(We==null||We>N.length)&&(We=N.length);for(var Ie=0,et=new Array(We);Ie<We;Ie++)et[Ie]=N[Ie];return et},l=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},s=function(N,We){for(var Ie=0;Ie<We.length;Ie++){var et=We[Ie];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(N,(L=function(ue,ce){if(F(ue)!=="object"||ue===null)return ue;var pe=ue[Symbol.toPrimitive];if(pe!==void 0){var he=pe.call(ue,"string");if(F(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}(et.key),F(L)==="symbol"?L:String(L)),et)}var L},r=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},d=function(N,We){for(var Ie=0;Ie<We.length;Ie++){var et=We[Ie];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(N,(L=function(ue,ce){if(V(ue)!=="object"||ue===null)return ue;var pe=ue[Symbol.toPrimitive];if(pe!==void 0){var he=pe.call(ue,"string");if(V(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}(et.key),V(L)==="symbol"?L:String(L)),et)}var L},c=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(N)},h=function(N,We){for(var Ie=0;Ie<Y.Z.length;Ie++)for(var et=0;et<We.length;et++){var L=We[et];if(Y.Z[Ie][Z[L]].split(", ").map(function(ue){return ue.toLowerCase()}).indexOf(N)!=-1)return Y.Z[Ie][Z["ISO 639-1"]]}return null},f=function(){try{return!!window.localStorage}catch(N){return!1}},v=function(N,We){(We==null||We>N.length)&&(We=N.length);for(var Ie=0,et=new Array(We);Ie<We;Ie++)et[Ie]=N[Ie];return et},x=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},w=function(N){return function(){var We=this,Ie=arguments;return new Promise(function(et,L){var ue=N.apply(We,Ie);function ce(he){x(ue,et,L,ce,pe,"next",he)}function pe(he){x(ue,et,L,ce,pe,"throw",he)}ce(void 0)})}},b=function(N,We){for(var Ie=0;Ie<We.length;Ie++){var et=We[Ie];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(N,C(et.key),et)}},C=function(N){var We=function(Ie,et){if(ie(Ie)!=="object"||Ie===null)return Ie;var L=Ie[Symbol.toPrimitive];if(L!==void 0){var ue=L.call(Ie,"string");if(ie(ue)!=="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ie)}(N);return ie(We)==="symbol"?We:String(We)},P=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},E=function(N){return function(){var We=this,Ie=arguments;return new Promise(function(et,L){var ue=N.apply(We,Ie);function ce(he){P(ue,et,L,ce,pe,"next",he)}function pe(he){P(ue,et,L,ce,pe,"throw",he)}ce(void 0)})}},T=function(N,We){if(!_instanceof(N,We))throw new TypeError("Cannot call a class as a function")},m=function(N,We){for(var Ie=0;Ie<We.length;Ie++){var et=We[Ie];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(N,(L=function(ue,ce){if(Ve(ue)!=="object"||ue===null)return ue;var pe=ue[Symbol.toPrimitive];if(pe!==void 0){var he=pe.call(ue,"string");if(Ve(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}(et.key),Ve(L)==="symbol"?L:String(L)),et)}var L},a=function(N,We,Ie){return We&&m(N.prototype,We),Ie&&m(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),N},p=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},g=function(N){return function(){var We=this,Ie=arguments;return new Promise(function(et,L){var ue=N.apply(We,Ie);function ce(he){p(ue,et,L,ce,pe,"next",he)}function pe(he){p(ue,et,L,ce,pe,"throw",he)}ce(void 0)})}},y=function(N,We){if(!_instanceof(N,We))throw new TypeError("Cannot call a class as a function")},_=function(N,We){for(var Ie=0;Ie<We.length;Ie++){var et=We[Ie];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(N,(L=function(ue,ce){if(Ye(ue)!=="object"||ue===null)return ue;var pe=ue[Symbol.toPrimitive];if(pe!==void 0){var he=pe.call(ue,"string");if(Ye(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ue)}(et.key),Ye(L)==="symbol"?L:String(L)),et)}var L},j=function(N,We,Ie){return We&&_(N.prototype,We),Ie&&_(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),N},R=function(N,We){return function(Ie){if(Array.isArray(Ie))return Ie}(N)||function(Ie,et){var L=Ie==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(L!=null){var ue,ce,pe,he,Q=[],be=!0,Ce=!1;try{if(pe=(L=L.call(Ie)).next,et===0){if(Object(L)!==L)return;be=!1}else for(;!(be=(ue=pe.call(L)).done)&&(Q.push(ue.value),Q.length!==et);be=!0);}catch(xe){Ce=!0,ce=xe}finally{try{if(!be&&L.return!=null&&(he=L.return(),Object(he)!==he))return}finally{if(Ce)throw ce}}return Q}}(N,We)||function(Ie,et){if(Ie){if(typeof Ie=="string")return D(Ie,et);var L=Object.prototype.toString.call(Ie).slice(8,-1);return L==="Object"&&Ie.constructor&&(L=Ie.constructor.name),L==="Map"||L==="Set"?Array.from(Ie):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?D(Ie,et):void 0}}(N,We)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},D=function(N,We){(We==null||We>N.length)&&(We=N.length);for(var Ie=0,et=new Array(We);Ie<We;Ie++)et[Ie]=N[Ie];return et},H=function(N,We,Ie,et,L,ue,ce){try{var pe=N[ue](ce),he=pe.value}catch(Q){return void Ie(Q)}pe.done?We(he):Promise.resolve(he).then(et,L)},K=function(N){return function(){var We=this,Ie=arguments;return new Promise(function(et,L){var ue=N.apply(We,Ie);function ce(he){H(ue,et,L,ce,pe,"next",he)}function pe(he){H(ue,et,L,ce,pe,"throw",he)}ce(void 0)})}};n(4043),n(228),n(2826),n(2462),n(5728),n(4338),n(6203),n(886),n(4284),n(5137),n(8077),n(268),n(939),n(6585),n(7522),n(3964),n(9749),n(6544),n(4254),n(752),n(1694),n(6265),n(8373),n(6793),n(7629),n(7509),n(8052),n(3374),n(9730),n(7049),n(9373),n(9903),n(9288),n(50),n(2349),n(1919),n(7267),n(429);var J=n(5311);function F(ye){return F=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},F(ye)}function de(){de=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&F($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(F(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}var re=function(){function ye(L,ue,ce,pe){(function(he,Q){if(!_instanceof(he,Q))throw new TypeError("Cannot call a class as a function")})(this,ye),this.leafIndex=L,this.chunkIndex=ue,this.text=ce,this.lineRects=pe}var N,We,Ie,et;return N=ye,We=[{key:"fetch",value:(Ie=de().mark(function L(ue,ce,pe){var he;return de().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,J.ajax({type:"GET",url:"https://".concat(ue,"/BookReader/BookReaderGetTextWrapper.php"),dataType:"jsonp",cache:!0,data:{path:"".concat(ce,"_djvu.xml"),page:pe}});case 2:return he=Q.sent,Q.abrupt("return",ye._fromTextWrapperResponse(pe,he));case 4:case"end":return Q.stop()}},L)}),et=function(){var ue=this,ce=arguments;return new Promise(function(pe,he){var Q=Ie.apply(ue,ce);function be(xe){l(Q,pe,he,be,Ce,"next",xe)}function Ce(xe){l(Q,pe,he,be,Ce,"throw",xe)}be(void 0)})},function(L,ue,ce){return et.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(ue,ce){return ce.map(function(pe,he){var Q=ye._fixChunkRects(pe.slice(1)),be=ye._removeDanglingHyphens(pe[0]);return new ye(ue,he,be,Q)})}},{key:"_fixChunkRects",value:function(ue){if(ue.length<2)return ue;var ce=o(ue,2),pe=ce[0],he=ce[1],Q=o(pe,3),be=Q[0],Ce=Q[1],xe=Q[2]-be,Ge=he[1]-he[3],Be=he[2]-he[0],Ke=he[2];return xe>30*Be&&(pe[2]=Ke,pe[3]=Ce-Ge),ue}},{key:"_removeDanglingHyphens",value:function(ue){return ue.replace(/[-]\s+/g,"")}}],We&&s(N,We),Object.defineProperty(N,"prototype",{writable:!1}),ye}();function V(ye){return V=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},V(ye)}function X(){X=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&V($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(V(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}var oe=function(){function ye(L,ue,ce){(function(pe,he){if(!_instanceof(pe,he))throw new TypeError("Cannot call a class as a function")})(this,ye),this.pageCount=L,this.opts=Object.assign({},G,ce),this._cursor={page:ue,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}var N,We,Ie,et;return N=ye,We=[{key:"next",value:function(){var ue=this;return this._cursorLock=this._cursorLock.then(function(){return ue._nextUncontrolled()})}},{key:"decrement",value:function(){var ue=this;return this._cursorLock=this._cursorLock.then(function(){return ue._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(Ie=X().mark(function L(){var ue;return X().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(this._cursor.page!=this.pageCount){ce.next=2;break}return ce.abrupt("return",Promise.resolve(ye.AT_END));case 2:return this._recenterBuffer(this._cursor.page),ce.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(ue=ce.sent,this._cursor.chunk!=ue.length){ce.next=10;break}return this._cursor.page++,this._cursor.chunk=0,ce.abrupt("return",this._nextUncontrolled());case 10:return ce.abrupt("return",ue[this._cursor.chunk++]);case 11:case"end":return ce.stop()}},L,this)}),et=function(){var ue=this,ce=arguments;return new Promise(function(pe,he){var Q=Ie.apply(ue,ce);function be(xe){r(Q,pe,he,be,Ce,"next",xe)}function Ce(xe){r(Q,pe,he,be,Ce,"throw",xe)}be(void 0)})},function(){return et.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var ue=this,ce=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,ce=this._fetchPageChunks(this._cursor.page).then(function(pe){if(pe.length==0)return ue._decrementUncontrolled();ue._cursor.chunk=pe.length-1})),ce.then(function(){return ue._fetchPageChunks(ue._cursor.page)})}},{key:"_recenterBuffer",value:function(ue){for(var ce=Math.max(0,ue-this.opts.pageBufferSize),pe=Math.min(this.pageCount,ue+this.opts.pageBufferSize+1),he=ce;he<pe;he++)this._fetchPageChunks(he);this._removePageFromBuffer(ce-1),this._removePageFromBuffer(pe+1)}},{key:"_removePageFromBuffer",value:function(ue){delete this._bufferingPages[ue],delete this._bufferedPages[ue]}},{key:"_fetchPageChunks",value:function(ue){var ce=this;return ue in this._bufferingPages?this._bufferingPages[ue]:ue in this._bufferedPages?Promise.resolve(this._bufferedPages[ue]):(this._bufferingPages[ue]=this._fetchPageChunksDirect(ue).then(function(pe){return delete ce._bufferingPages[ue],ce._bufferedPages[ue]=pe,pe}),this._bufferingPages[ue])}},{key:"_fetchPageChunksDirect",value:function(ue){return re.fetch(this.opts.server,this.opts.bookPath,ue)}}],We&&d(N.prototype,We),Object.defineProperty(N,"prototype",{writable:!1}),ye}();oe.AT_END="__PageChunkIterator.AT_END__";var G={server:null,bookPath:null,pageBufferSize:2},Y=n(1030),Z={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4},ae=n(5311);function ie(ye){return ie=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},ie(ye)}function je(){je=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&ie($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(ie(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}var Le=function(){function ye(ue){var ce,pe,he,Q=this;(function(be,Ce){if(!_instanceof(be,Ce))throw new TypeError("Cannot call a class as a function")})(this,ye),ce=this,he=function(){Q.voice=ye.getBestBookVoice(Q.getVoices(),Q.opts.bookLanguage)},(pe=C(pe="updateBestVoice"))in ce?Object.defineProperty(ce,pe,{value:he,enumerable:!0,configurable:!0,writable:!0}):ce[pe]=he,this.playing=!1,this.paused=!1,this.opts=ue,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=ae({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}var N,We,Ie,et,L;return N=ye,We=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(ce,pe){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new oe(pe,ce,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var ce=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),ce&&this.events.trigger("pause")}},{key:"resume",value:function(){var ce=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),ce&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(L=w(je().mark(function ue(){var ce=this;return je().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return ce._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return pe.stop()}},ue,this)})),function(){return L.apply(this,arguments)})},{key:"setVoice",value:function(ce){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(pe){return pe.voiceURI===ce}),this.opts.bookLanguage&&f()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(ce){this.playbackRate=ce,this.activeSound&&this.activeSound.setPlaybackRate(ce)}},{key:"step",value:(et=w(je().mark(function ue(){var ce,pe,he,Q=this;return je().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.next=2,this._chunkIterator.next();case 2:if((ce=be.sent)!=oe.AT_END){be.next=7;break}return this.stop(),this.opts.onDone(),be.abrupt("return");case 7:return this.opts.onLoadingStart(),(pe=this.createSound(ce)).chunk=ce,pe.rate=this.playbackRate,pe.voice=this.voice,pe.load(function(){return Q.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),be.next=16,this.opts.beforeChunkPlay(ce);case 16:if(this.playing){be.next=18;break}return be.abrupt("return");case 18:return be.next=20,this.playSound(pe).then(function(){return Q.opts.afterChunkPlay(pe.chunk)});case 20:return he=be.sent,this.paused&&this.pause(),be.next=24,he;case 24:if(!this.playing){be.next=26;break}return be.abrupt("return",this.step());case 26:case"end":return be.stop()}},ue,this)})),function(){return et.apply(this,arguments)})},{key:"createSound",value:function(ce){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(ce){return this.activeSound=ce,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return ye.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],Ie=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(ce,pe){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,Q=ce.filter(function(Ce){return Ce.lang.startsWith(pe)}),be=(he=he||(navigator.language?[navigator.language]:[])).filter(function(Ce){return Ce.startsWith(pe)});return ye.getMatchingStoredVoice(Q,pe)||ye.getMatchingVoice(be,Q)||Q.find(function(Ce){return Ce.default})||Q[0]||ye.getMatchingVoice(he,ce)||ce.find(function(Ce){return Ce.default})||ce[0]}},{key:"getMatchingStoredVoice",value:function(ce,pe){var he=f()&&localStorage.getItem("BRtts-voice-".concat(pe));return he?ce.find(function(Q){return Q.voiceURI===he}):void 0}},{key:"getMatchingVoice",value:function(ce,pe){var he,Q=function(xe,Ge){var Be=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(!Be){if(Array.isArray(xe)||(Be=function(Dt,Ht){if(Dt){if(typeof Dt=="string")return v(Dt,Ht);var Bt=Object.prototype.toString.call(Dt).slice(8,-1);return Bt==="Object"&&Dt.constructor&&(Bt=Dt.constructor.name),Bt==="Map"||Bt==="Set"?Array.from(Dt):Bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Bt)?v(Dt,Ht):void 0}}(xe))||Ge&&xe&&typeof xe.length=="number"){Be&&(xe=Be);var Ke=0,Pt=function(){};return{s:Pt,n:function(){return Ke>=xe.length?{done:!0}:{done:!1,value:xe[Ke++]}},e:function(Ht){throw Ht},f:Pt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var At,Et=!0,Jt=!1;return{s:function(){Be=Be.call(xe)},n:function(){var Ht=Be.next();return Et=Ht.done,Ht},e:function(Ht){Jt=!0,At=Ht},f:function(){try{Et||Be.return==null||Be.return()}finally{if(Jt)throw At}}}}(ce);try{var be,Ce=function(){var Ge=he.value,Be=pe.filter(function(Ke){return Ke.lang.replace("_","-").startsWith(Ge)});if(Be.length)return{v:Be.find(function(Ke){return Ke.default})||Be[0]}};for(Q.s();!(he=Q.n()).done;)if(be=Ce())return be.v}catch(xe){Q.e(xe)}finally{Q.f()}}}],We&&b(N.prototype,We),Ie&&b(N,Ie),Object.defineProperty(N,"prototype",{writable:!1}),ye}(),ke=n(5685),Ze=(n(5529),n(4371),n(5311));function Ve(ye){return Ve=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},Ve(ye)}function Xe(){Xe=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&Ve($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(Ve(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}function dt(){return dt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(N,We,Ie){var et=function(ue,ce){for(;!Object.prototype.hasOwnProperty.call(ue,ce)&&(ue=pt(ue))!==null;);return ue}(N,We);if(et){var L=Object.getOwnPropertyDescriptor(et,We);return L.get?L.get.call(arguments.length<3?N:Ie):L.value}},dt.apply(this,arguments)}function yt(ye,N){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,et){return Ie.__proto__=et,Ie},yt(ye,N)}function pt(ye){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},pt(ye)}var Re=function(ye){(function(ue,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(ce&&ce.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Object.defineProperty(ue,"prototype",{writable:!1}),ce&&yt(ue,ce)})(L,ye);var N,We,Ie,et=(We=L,Ie=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ue){return!1}}(),function(){var ce,pe=pt(We);if(Ie){var he=pt(this).constructor;ce=Reflect.construct(pe,arguments,he)}else ce=pe.apply(this,arguments);return function(Q,be){if(be&&(Ve(be)==="object"||typeof be=="function"))return be;if(be!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ce){if(Ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce}(Q)}(this,ce)});function L(ue){var ce,pe;return T(this,L),(pe=et.call(this,ue)).audioFormat=(ce=Ze.browser)!==null&&ce!==void 0&&ce.mozilla?"ogg":"mp3",pe}return a(L,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(ce,pe){var he=this,Q=null;navigator.userAgent.match(/mobile/i)&&(Q=this.iOSCaptureUserIntentHack()),(Q=Q||Promise.resolve()).then(function(){return dt(pt(L.prototype),"start",he).call(he,ce,pe)})}},{key:"createSound",value:function(ce){return new _e(this.getSoundUrl(ce.text))}},{key:"getSoundUrl",value:function(ce){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(ce)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:(N=E(Xe().mark(function ue(){var ce;return Xe().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return ce=soundManager.createSound({url:Ne[this.audioFormat]}),pe.next=3,new Promise(function(he){return ce.play({onfinish:he})});case 3:ce.destruct();case 4:case"end":return pe.stop()}},ue,this)})),function(){return N.apply(this,arguments)})}],[{key:"isSupported",value:function(){return(typeof soundManager=="undefined"?"undefined":_typeof(soundManager))<"u"&&soundManager.supported()}}]),L}(Le),_e=function(){function ye(We){T(this,ye),this.soundUrl=We,this.sound=null,this.rate=1,this._finishResolver=null}var N;return a(ye,[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(Ie){var et,L=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){L.rate!=1&&L.sound.setPlaybackRate(L.rate),Ie()},onresume:(et=E(Xe().mark(function ue(){return Xe().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,(0,ke.sleep)(25);case 2:L.rate!=1&&L.sound.setPlaybackRate(L.rate);case 3:case"end":return ce.stop()}},ue)})),function(){return et.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(N=E(Xe().mark(function We(){var Ie=this;return Xe().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,new Promise(function(L){Ie._finishResolver=L,Ie.sound.play({onfinish:L})});case 2:this.sound.destruct();case 3:case"end":return et.stop()}},We,this)})),function(){return N.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(Ie){this.rate=Ie,this.sound.setPlaybackRate(Ie)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]),ye}(),Ne={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},Je=n(7775);function Ye(ye){return Ye=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},Ye(ye)}function Te(){Te=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&Ye($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(Ye(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}function rt(){return rt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(N,We,Ie){var et=function(ue,ce){for(;!Object.prototype.hasOwnProperty.call(ue,ce)&&(ue=at(ue))!==null;);return ue}(N,We);if(et){var L=Object.getOwnPropertyDescriptor(et,We);return L.get?L.get.call(arguments.length<3?N:Ie):L.value}},rt.apply(this,arguments)}function ht(ye,N){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,et){return Ie.__proto__=et,Ie},ht(ye,N)}function at(ye){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},at(ye)}var ut,qe=function(ye){(function(L,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(ue&&ue.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),ue&&ht(L,ue)})(et,ye);var N,We,Ie=(N=et,We=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(L){return!1}}(),function(){var ue,ce=at(N);if(We){var pe=at(this).constructor;ue=Reflect.construct(ce,arguments,pe)}else ue=ce.apply(this,arguments);return function(he,Q){if(Q&&(Ye(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be}(he)}(this,ue)});function et(L){var ue;return y(this,et),ue=Ie.call(this,L),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return ue.events.trigger("voiceschanged")}),ue}return j(et,[{key:"start",value:function(ue,ce){var pe=this;if("mediaSession"in navigator){var he=new Audio(Fe);he.loop=!0,this.events.on("pause",function(){return he.pause()}),this.events.on("resume",function(){return he.play()}),this.events.on("stop",function(){return he.src=""}),he.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(Q){return Q.label=="Author"}).map(function(Q){return Q.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",function(){he.play(),pe.resume()}),navigator.mediaSession.setActionHandler("pause",function(){he.pause(),pe.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return pe.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return pe.jumpForward()})})}return rt(at(et.prototype),"start",this).call(this,ue,ce)}},{key:"getVoices",value:function(){var ue=speechSynthesis.getVoices();return ue.filter(function(ce){return ce.default}).length!=1&&ue.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),ue}},{key:"createSound",value:function(ue){return new ze(ue.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0&&!/samsungbrowser/i.test(navigator.userAgent)}}]),et}(Le),ze=function(){function ye(ue){y(this,ye),this.text=ue,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null}var N,We,Ie,et,L;return j(ye,[{key:"load",value:function(ce){var pe,he=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((pe=this.voice)===null||pe===void 0?void 0:pe.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,location.toString().indexOf("_debugReadAloud=true")!=-1&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(){return console.log("error")}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(Q){return he._lastEvents.start=Q}),this.utterance.addEventListener("boundary",function(Q){return he._lastEvents.boundary=Q}),this.utterance.addEventListener("pause",function(Q){return he._lastEvents.pause=Q}),this.utterance.addEventListener("start",function(){he.started=!0,he.stopped=!1,he.paused=!1}),this.utterance.addEventListener("pause",function(){return he.paused=!0}),this.utterance.addEventListener("resume",function(){return he.paused=!1}),this.utterance.addEventListener("end",function(Q){he.paused||he.stopped||he.utterance.dispatchEvent(new CustomEvent("finish",Q))}),this.loaded=!0,ce&&ce()}},{key:"reload",value:(L=g(Te().mark(function ue(){var ce,pe;return Te().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return ce=this.paused,(pe=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(pe.target.text)+pe.charIndex),he.next=5,this.stop();case 5:this.load(),ce||this.play();case 7:case"end":return he.stop()}},ue,this)})),function(){return L.apply(this,arguments)})},{key:"play",value:function(){var ce=this;this._finishPromise=this._finishPromise||new Promise(function(he){return ce._finishResolver=he}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var pe=this.utterance.voice&&this.utterance.voice.localService;return(0,Je.i7)()&&!pe&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var ce=Promise.resolve();return this.stopped||(ce=Promise.race([(0,ke.promisifyEvent)(this.utterance,"end"),(0,ke.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),ce}},{key:"finish",value:(et=g(Te().mark(function ue(){return Te().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return ce.stop()}},ue,this)})),function(){return et.apply(this,arguments)})},{key:"pause",value:(Ie=g(Te().mark(function ue(){var ce,pe,he;return Te().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!this.paused){Q.next=2;break}return Q.abrupt("return");case 2:if(ce=(0,ke.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),pe=(0,Je.vU)()&&c(),!(0,Je.i7)()&&!pe){Q.next=15;break}return he=(0,ke.sleep)(100).then(function(){return"timeout"}),Q.next=10,Promise.race([ce,he]);case 10:if(Q.sent=="timeout"){Q.next=13;break}return Q.abrupt("return");case 13:this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),pe&&this.stop();case 15:case"end":return Q.stop()}},ue,this)})),function(){return Ie.apply(this,arguments)})},{key:"resume",value:(We=g(Te().mark(function ue(){var ce,pe,he;return Te().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(this.started){Q.next=3;break}return this.play(),Q.abrupt("return");case 3:if(this.paused){Q.next=5;break}return Q.abrupt("return");case 5:if(ce=(0,Je.i7)()&&c()||(0,Je.vU)()&&c(),pe=(0,Je.i7)()||ce,he=(0,ke.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),!pe){Q.next=20;break}return Q.next=12,Promise.race([he,(0,ke.sleep)(100).then(function(){return"timeout"})]);case 12:if(Q.sent=="timeout"){Q.next=15;break}return Q.abrupt("return");case 15:if(this.utterance.dispatchEvent(new CustomEvent("resume",{})),!ce){Q.next=20;break}return Q.next=19,this.reload();case 19:this.play();case 20:case"end":return Q.stop()}},ue,this)})),function(){return We.apply(this,arguments)})},{key:"setPlaybackRate",value:function(ce){this.rate=ce,this.reload()}},{key:"setVoice",value:function(ce){this.voice=ce,this.reload()}},{key:"_chromePausingBugFix",value:(N=g(Te().mark(function ue(){var ce,pe,he,Q;return Te().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ce=(0,ke.sleep)(14e3).then(function(){return"timeout"}),pe=(0,ke.promisifyEvent)(this.utterance,"pause").then(function(){return"paused"}),he=(0,ke.promisifyEvent)(this.utterance,"end").then(function(){return"ended"}),be.next=5,Promise.race([ce,pe,he]);case 5:Q=be.sent,location.toString().indexOf("_debugReadAloud=true")!=-1&&console.log("CHROME-PAUSE-HACK: ".concat(Q)),be.t0=Q,be.next=be.t0==="ended"?10:be.t0==="paused"?11:be.t0==="timeout"?15:21;break;case 10:return be.abrupt("break",21);case 11:return be.next=13,Promise.race([(0,ke.promisifyEvent)(this.utterance,"resume"),(0,ke.sleep)(14e3).then(function(){return"timeout"})]);case 13:return Q=="timeout"?this.reload():this._chromePausingBugFix(),be.abrupt("break",21);case 15:return speechSynthesis.pause(),be.next=18,(0,ke.sleep)(25);case 18:return speechSynthesis.resume(),this._chromePausingBugFix(),be.abrupt("break",21);case 21:case"end":return be.stop()}},ue,this)})),function(){return N.apply(this,arguments)})}]),ye}(),Fe="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",tt="Read this book aloud",nt=n(9860),bt=n(5311),wt=n(5311);function _t(ye){return _t=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(We){return typeof We=="undefined"?"undefined":_typeof(We)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N=="undefined"?"undefined":_typeof(N)},_t(ye)}function st(){st=function(){return N};var ye,N={},We=Object.prototype,Ie=We.hasOwnProperty,et=Object.defineProperty||function(Me,fe,Se){Me[fe]=Se.value},L=typeof Symbol=="function"?Symbol:{},ue=L.iterator||"@@iterator",ce=L.asyncIterator||"@@asyncIterator",pe=L.toStringTag||"@@toStringTag";function he(Me,fe,Se){return Object.defineProperty(Me,fe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),Me[fe]}try{he({},"")}catch(Me){he=function(Se,De,it){return Se[De]=it}}function Q(Me,fe,Se,De){var it=fe&&_instanceof(fe.prototype,Pt)?fe:Pt,ct=Object.create(it.prototype),It=new Tn(De||[]);return et(ct,"_invoke",{value:un(Me,Se,It)}),ct}function be(Me,fe,Se){try{return{type:"normal",arg:Me.call(fe,Se)}}catch(De){return{type:"throw",arg:De}}}N.wrap=Q;var Ce="suspendedStart",xe="suspendedYield",Ge="executing",Be="completed",Ke={};function Pt(){}function At(){}function Et(){}var Jt={};he(Jt,ue,function(){return this});var Dt=Object.getPrototypeOf,Ht=Dt&&Dt(Dt(Nt([])));Ht&&Ht!==We&&Ie.call(Ht,ue)&&(Jt=Ht);var Bt=Et.prototype=Pt.prototype=Object.create(Jt);function qt(Me){["next","throw","return"].forEach(function(fe){he(Me,fe,function(Se){return this._invoke(fe,Se)})})}function Zt(Me,fe){function Se(it,ct,It,gn){var mn=be(Me[it],Me,ct);if(mn.type!=="throw"){var Ut=mn.arg,$n=Ut.value;return $n&&_t($n)=="object"&&Ie.call($n,"__await")?fe.resolve($n.__await).then(function(Mn){Se("next",Mn,It,gn)},function(Mn){Se("throw",Mn,It,gn)}):fe.resolve($n).then(function(Mn){Ut.value=Mn,It(Ut)},function(Mn){return Se("throw",Mn,It,gn)})}gn(mn.arg)}var De;et(this,"_invoke",{value:function(ct,It){function gn(){return new fe(function(mn,Ut){Se(ct,It,mn,Ut)})}return De=De?De.then(gn,gn):gn()}})}function un(Me,fe,Se){var De=Ce;return function(it,ct){if(De===Ge)throw new Error("Generator is already running");if(De===Be){if(it==="throw")throw ct;return{value:ye,done:!0}}for(Se.method=it,Se.arg=ct;;){var It=Se.delegate;if(It){var gn=Rt(It,Se);if(gn){if(gn===Ke)continue;return gn}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(De===Ce)throw De=Be,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);De=Ge;var mn=be(Me,fe,Se);if(mn.type==="normal"){if(De=Se.done?Be:xe,mn.arg===Ke)continue;return{value:mn.arg,done:Se.done}}mn.type==="throw"&&(De=Be,Se.method="throw",Se.arg=mn.arg)}}}function Rt(Me,fe){var Se=fe.method,De=Me.iterator[Se];if(De===ye)return fe.delegate=null,Se==="throw"&&Me.iterator.return&&(fe.method="return",fe.arg=ye,Rt(Me,fe),fe.method==="throw")||Se!=="return"&&(fe.method="throw",fe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),Ke;var it=be(De,Me.iterator,fe.arg);if(it.type==="throw")return fe.method="throw",fe.arg=it.arg,fe.delegate=null,Ke;var ct=it.arg;return ct?ct.done?(fe[Me.resultName]=ct.value,fe.next=Me.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=ye),fe.delegate=null,Ke):ct:(fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,Ke)}function rn(Me){var fe={tryLoc:Me[0]};1 in Me&&(fe.catchLoc=Me[1]),2 in Me&&(fe.finallyLoc=Me[2],fe.afterLoc=Me[3]),this.tryEntries.push(fe)}function Qt(Me){var fe=Me.completion||{};fe.type="normal",delete fe.arg,Me.completion=fe}function Tn(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(rn,this),this.reset(!0)}function Nt(Me){if(Me||Me===""){var fe=Me[ue];if(fe)return fe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var Se=-1,De=function it(){for(;++Se<Me.length;)if(Ie.call(Me,Se))return it.value=Me[Se],it.done=!1,it;return it.value=ye,it.done=!0,it};return De.next=De}}throw new TypeError(_t(Me)+" is not iterable")}return At.prototype=Et,et(Bt,"constructor",{value:Et,configurable:!0}),et(Et,"constructor",{value:At,configurable:!0}),At.displayName=he(Et,pe,"GeneratorFunction"),N.isGeneratorFunction=function(Me){var fe=typeof Me=="function"&&Me.constructor;return!!fe&&(fe===At||(fe.displayName||fe.name)==="GeneratorFunction")},N.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Et):(Me.__proto__=Et,he(Me,pe,"GeneratorFunction")),Me.prototype=Object.create(Bt),Me},N.awrap=function(Me){return{__await:Me}},qt(Zt.prototype),he(Zt.prototype,ce,function(){return this}),N.AsyncIterator=Zt,N.async=function(Me,fe,Se,De,it){it===void 0&&(it=Promise);var ct=new Zt(Q(Me,fe,Se,De),it);return N.isGeneratorFunction(fe)?ct:ct.next().then(function(It){return It.done?It.value:ct.next()})},qt(Bt),he(Bt,pe,"Generator"),he(Bt,ue,function(){return this}),he(Bt,"toString",function(){return"[object Generator]"}),N.keys=function(Me){var fe=Object(Me),Se=[];for(var De in fe)Se.push(De);return Se.reverse(),function it(){for(;Se.length;){var ct=Se.pop();if(ct in fe)return it.value=ct,it.done=!1,it}return it.done=!0,it}},N.values=Nt,Tn.prototype={constructor:Tn,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=ye,this.done=!1,this.delegate=null,this.method="next",this.arg=ye,this.tryEntries.forEach(Qt),!fe)for(var Se in this)Se.charAt(0)==="t"&&Ie.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=ye)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if(fe.type==="throw")throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var Se=this;function De(Ut,$n){return It.type="throw",It.arg=fe,Se.next=Ut,$n&&(Se.method="next",Se.arg=ye),!!$n}for(var it=this.tryEntries.length-1;it>=0;--it){var ct=this.tryEntries[it],It=ct.completion;if(ct.tryLoc==="root")return De("end");if(ct.tryLoc<=this.prev){var gn=Ie.call(ct,"catchLoc"),mn=Ie.call(ct,"finallyLoc");if(gn&&mn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0);if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}else if(gn){if(this.prev<ct.catchLoc)return De(ct.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<ct.finallyLoc)return De(ct.finallyLoc)}}}},abrupt:function(fe,Se){for(var De=this.tryEntries.length-1;De>=0;--De){var it=this.tryEntries[De];if(it.tryLoc<=this.prev&&Ie.call(it,"finallyLoc")&&this.prev<it.finallyLoc){var ct=it;break}}ct&&(fe==="break"||fe==="continue")&&ct.tryLoc<=Se&&Se<=ct.finallyLoc&&(ct=null);var It=ct?ct.completion:{};return It.type=fe,It.arg=Se,ct?(this.method="next",this.next=ct.finallyLoc,Ke):this.complete(It)},complete:function(fe,Se){if(fe.type==="throw")throw fe.arg;return fe.type==="break"||fe.type==="continue"?this.next=fe.arg:fe.type==="return"?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):fe.type==="normal"&&Se&&(this.next=Se),Ke},finish:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.finallyLoc===fe)return this.complete(De.completion,De.afterLoc),Qt(De),Ke}},catch:function(fe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var De=this.tryEntries[Se];if(De.tryLoc===fe){var it=De.completion;if(it.type==="throw"){var ct=it.arg;Qt(De)}return ct}}throw new Error("illegal catch attempt")},delegateYield:function(fe,Se,De){return this.delegate={iterator:Nt(fe),resultName:Se,nextLoc:De},this.method==="next"&&(this.arg=ye),Ke}},N}bt.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(ut=BookReader.prototype.setup,function(ye){if(ut.call(this,ye),this.options.enableTtsPlugin){this._ttsBoxesByIndex={};var N=qe.isSupported()?qe:Re.isSupported()?Re:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var We=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];N={festival:Re,web:qe}[We]}N&&(this.ttsEngine=new N({server:ye.server,bookPath:ye.bookPath,bookLanguage:(Ie=ye.bookLanguage,Ie?h(Ie=Ie.toLowerCase(),["ISO 639-1"])||h(Ie,["ISO 639-2/B"])||h(Ie,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var Ie}),BookReader.prototype.init=function(ye){return function(){var N=this;this.options.enableTtsPlugin&&this.bind(BookReader.eventNames.PostInit,function(){N.$(".BRicon.read").click(function(){return N.ttsToggle(),!1}),N.ttsEngine&&(N.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&N.ttsStart(!1))}),ye.call(this)}}(BookReader.prototype.init),BookReader.prototype._createPageContainer=function(ye){return function(N){var We=ye.call(this,N);if(this.options.enableTtsPlugin&&We.page&&N in this._ttsBoxesByIndex){var Ie=We.page.index;(0,nt.Tm)("ttsHiliteLayer",this._ttsBoxesByIndex[Ie],We.page,We.$container[0])}return We}}(BookReader.prototype._createPageContainer),BookReader.prototype.buildMobileDrawerElement=function(ye){return function(){var N=ye.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&N.find(".BRmobileMenu__moreInfoRow").after(wt('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),N}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(ye){return function(){var N=this,We=ye.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=wt('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n          <li>\n            <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">\n            </select>\n          </li>\n        </ul>\n      ')),We.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar);var Ie=function(he){return he.map(function(Q){return'<option value="'.concat(Q.voiceURI,'">').concat(Q.lang," - ").concat(Q.name,"</option>")}).join("")},et=function(he,Q){return"".concat(he.lang," - ").concat(he.name).localeCompare("".concat(Q.lang," - ").concat(Q.name))},L=function(he){he.empty();var Q=N.ttsEngine.opts.bookLanguage,be=N.ttsEngine.getVoices().filter(function(xe){return xe.lang.startsWith(Q)}).sort(et),Ce=N.ttsEngine.getVoices().filter(function(xe){return!xe.lang.startsWith(Q)}).sort(et);N.ttsEngine.getVoices().length>1?(he.append(wt('<optgroup label="Book Language ('.concat(Q,')"> ').concat(Ie(be)," </optgroup>"))),he.append(wt('<optgroup label="Other Languages"> '.concat(Ie(Ce)," </optgroup>"))),he.val(N.ttsEngine.voice.voiceURI),he.show()):he.hide()},ue=this.refs.$BRReadAloudToolbar.find("[name=playback-voice]");L(ue),ue.on("change",function(pe){return N.ttsEngine.setVoice(ue.val())}),this.ttsEngine.events.on("pause resume start",function(){return N.ttsUpdateState()}),this.ttsEngine.events.on("voiceschanged",function(){return L(ue)}),this.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.ttsJumpBackward.bind(this));var ce=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');ce.on("change",function(pe){return N.ttsEngine.setPlaybackRate(parseFloat(ce.val()))}),wt('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(tt,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="BRtooltip">').concat(tt,"</span>\n          </button>\n        </li>")).insertBefore(We.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return We}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var ye=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),ye&&this.ttsEngine.start(this.currentIndex(),this.book.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var ye=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",ye)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState()):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(){var ye=K(st().mark(function N(We){return st().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,this.ttsMaybeFlipToIndex(We.leafIndex);case 2:this.ttsHighlightChunk(We),this.ttsScrollToChunk(We);case 4:case"end":return Ie.stop()}},N,this)}));return function(N){return ye.apply(this,arguments)}}(),BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(ye){var N;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(N=ye.text.match(/\S+/g))?N.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(){var ye=K(st().mark(function N(We){return st().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(this.constMode2up==this.mode){Ie.next=4;break}this.jumpToIndex(We),Ie.next=6;break;case 4:return Ie.next=6,this._modes.mode2Up.mode2UpLit.jumpToIndex(We);case 6:case"end":return Ie.stop()}},N,this)}));return function(N){return ye.apply(this,arguments)}}(),BookReader.prototype.ttsHighlightChunk=function(ye){var N,We,Ie,et=this,L=ye.leafIndex;this.ttsRemoveHilites(),this._ttsBoxesByIndex=(N={},We=L,Ie=ye.lineRects.map(function(he){var Q=R(he,4),be=Q[0],Ce=Q[1];return{l:be,r:Q[2],b:Ce,t:Q[3]}}),(We=function(he){var Q=function(be,Ce){if(_t(be)!=="object"||be===null)return be;var xe=be[Symbol.toPrimitive];if(xe!==void 0){var Ge=xe.call(be,"string");if(_t(Ge)!=="object")return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(be)}(he);return _t(Q)==="symbol"?Q:String(Q)}(We))in N?Object.defineProperty(N,We,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):N[We]=Ie,N);for(var ue=function(){var Q=R(pe[ce],2),be=Q[0],Ce=Q[1],xe=parseFloat(be),Ge=et.book.getPage(xe);et.getActivePageContainerElementsForIndex(xe).forEach(function(Be){return(0,nt.Tm)("ttsHiliteLayer",Ce,Ge,Be)})},ce=0,pe=Object.entries(this._ttsBoxesByIndex);ce<pe.length;ce++)ue()},BookReader.prototype.ttsScrollToChunk=function(ye){var N;this.constModeThumb!=this.mode&&((N=wt(".pagediv".concat(ye.leafIndex," .ttsHiliteLayer rect")).last())===null||N===void 0||(N=N[0])===null||N===void 0||N.scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))},BookReader.prototype.ttsRemoveHilites=function(){wt(this.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}},BookReader.prototype.ttsSendAnalyticsEvent=function(ye,N){if(this.archiveAnalyticsSendEvent){var We={},Ie=this.ttsEngine.opts.bookLanguage;Ie&&(We.mediaLanguage=Ie),this.archiveAnalyticsSendEvent("BRReadAloud",ye,N,We)}}},1030:function(t,e){"use strict";e.Z=void 0,e.Z=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},4371:function(t,e,n){var o,u;o=[n(5311)],(u=function(l){return function(s){"use strict";var r=function(c){c===void 0&&(c=window.navigator.userAgent),c=c.toLowerCase();var h=/(edge)\/([\w.]+)/.exec(c)||/(opr)[\/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(iemobile)[\/]([\w.]+)/.exec(c)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],f=/(ipad)/.exec(c)||/(ipod)/.exec(c)||/(windows phone)/.exec(c)||/(iphone)/.exec(c)||/(kindle)/.exec(c)||/(silk)/.exec(c)||/(android)/.exec(c)||/(win)/.exec(c)||/(mac)/.exec(c)||/(linux)/.exec(c)||/(cros)/.exec(c)||/(playbook)/.exec(c)||/(bb)/.exec(c)||/(blackberry)/.exec(c)||[],v={},x={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",versionNumber:h[4]||h[2]||"0",platform:f[0]||""};if(x.browser&&(v[x.browser]=!0,v.version=x.version,v.versionNumber=parseInt(x.versionNumber,10)),x.platform&&(v[x.platform]=!0),(v.android||v.bb||v.blackberry||v.ipad||v.iphone||v.ipod||v.kindle||v.playbook||v.silk||v["windows phone"])&&(v.mobile=!0),(v.cros||v.mac||v.linux||v.win)&&(v.desktop=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){var w="msie";x.browser=w,v[w]=!0}if(v.edge){delete v.edge;var b="msedge";x.browser=b,v[b]=!0}if(v.safari&&v.blackberry){var C="blackberry";x.browser=C,v[C]=!0}if(v.safari&&v.playbook){var P="playbook";x.browser=P,v[P]=!0}if(v.bb){var E="blackberry";x.browser=E,v[E]=!0}if(v.opr){var T="opera";x.browser=T,v[T]=!0}if(v.safari&&v.android){var m="android";x.browser=m,v[m]=!0}if(v.safari&&v.kindle){var a="kindle";x.browser=a,v[a]=!0}if(v.safari&&v.silk){var p="silk";x.browser=p,v[p]=!0}return v.name=x.browser,v.platform=x.platform,v};return window.jQBrowser=r(window.navigator.userAgent),window.jQBrowser.uaMatch=r,s&&(s.browser=window.jQBrowser),window.jQBrowser}(l)}.apply(e,o))===void 0||(t.exports=u)},5529:function(t,e,n){var o;t=n.nmd(t),function(u,l){"use strict";var s=function(c,h){this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=h||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var f,v,x,w,b,C,P,E,T,m,a,p,g,y,_,j,R,D,H,K,J,F,de,re,V,X,oe,G,Y,Z,ae,ie,je,Le,ke,Ze,Ve,Xe,dt,yt,pt,Re,_e,Ne,Je,Ye,Te,rt,ht,at,ut,qe,ze,Fe,tt,nt,bt,wt,_t,st,ye,N,We,Ie,et,L=this,ue=null,ce=null,pe="soundManager",he=pe+": ",Q=navigator.userAgent,be=u.location.href.toString(),Ce=document,xe=[],Ge=!0,Be=!1,Ke=!1,Pt=!1,At=!1,Et=!1,Jt=0,Dt=["log","info","warn","error"],Ht=null,Bt=null,qt=!1,Zt=!1,un=0,Rt=null,rn=[],Qt=null,Tn=Array.prototype.slice,Nt=!1,Me=0,fe=1e3,Se=Q.match(/(ipad|iphone|ipod)/i),De=Q.match(/android/i),it=Q.match(/msie|trident/i),ct=Q.match(/webkit/i),It=Q.match(/safari/i)&&!Q.match(/chrome/i),gn=Q.match(/opera/i),mn=Q.match(/(mobile|pre\/|xoom)/i)||Se||De,Ut=!be.match(/usehtml5audio/i)&&!be.match(/sm2-ignorebadua/i)&&It&&!Q.match(/silk/i)&&Q.match(/OS\sX\s10_6_([3-7])/i),$n=u.console!==l&&console.log!==l,Mn=Ce.hasFocus!==l?Ce.hasFocus():null,yi=It&&(Ce.hasFocus===l||!Ce.hasFocus()),Cr=!yi,Ti=/(mp3|mp4|mpa|m4a|m4b)/i,Zi="about:blank",zi=Ce.location?Ce.location.protocol.match(/http/i):null,Ur=zi?"":"//",bi=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,uo=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Vr=new RegExp("\\.("+uo.join("|")+")(\\?.*)?$","i");function si(ft){return L.preferFlash&&wt&&!L.ignoreFlash&&L.flash[ft]!==l&&L.flash[ft]}function ni(ft){return function(Qe){var gt,en=this._s;return en&&en._a?gt=ft.call(this,Qe):(en&&en.id?L._wD(en.id+": Ignoring "+Qe.type):L._wD("HTML5::Ignoring "+Qe.type),gt=null),gt}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!zi,Ve={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ut=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==l&&(gn&&opera!==l&&opera.version()<10?new Audio(null):new Audio).canPlayType!==l}catch(ft){return!1}}(),this.setup=function(ft){var Qe=!L.url;return ft!==l&&Pt&&Qt&&L.ok()&&(ft.flashVersion!==l||ft.url!==l||ft.html5Test!==l)&&pt(Le("setupLate")),a(ft),Nt||(mn?L.setupOptions.ignoreMobileRestrictions&&!L.setupOptions.forceUseGlobalHTML5Audio||(rn.push(J.globalHTML5),Nt=!0):L.setupOptions.forceUseGlobalHTML5Audio&&(rn.push(J.globalHTML5),Nt=!0)),!et&&mn&&(L.setupOptions.ignoreMobileRestrictions?rn.push(J.ignoreMobile):(L.setupOptions.useHTML5Audio&&!L.setupOptions.preferFlash||L._wD(J.mobileUA),L.setupOptions.useHTML5Audio=!0,L.setupOptions.preferFlash=!1,Se?L.ignoreFlash=!0:(De&&!Q.match(/android\s2\.3/i)||!De)&&(L._wD(J.globalHTML5),Nt=!0))),ft&&(Qe&&V&&ft.url!==l&&L.beginDelayedInit(),V||ft.url===l||Ce.readyState!=="complete"||setTimeout(de,1)),et=!0,L},this.ok=function(){return Qt?Pt&&!At:L.useHTML5Audio&&L.hasHTML5},this.supported=this.ok,this.getMovie=function(ft){return v(ft)||Ce[ft]||u[ft]},this.createSound=function(ft,Qe){var gt,en,tn,En=null;if(en=(gt=pe+".createSound(): ")+Le(Pt?"notOK":"notReady"),!Pt||!L.ok())return pt(en),!1;if(Qe!==l&&(ft={id:ft,url:Qe}),(tn=m(ft)).url=Ye(tn.url),tn.id===l&&(tn.id=L.setupOptions.idPrefix+Me++),tn.id.toString().charAt(0).match(/^[0-9]$/)&&L._wD(gt+Le("badID",tn.id),2),L._wD(gt+tn.id+(tn.url?" ("+tn.url+")":""),1),Re(tn.id,!0))return L._wD(gt+tn.id+" exists",1),L.sounds[tn.id];function Gn(){return tn=dt(tn),L.sounds[tn.id]=new f(tn),L.soundIDs.push(tn.id),L.sounds[tn.id]}if(ht(tn))En=Gn(),L.html5Only||L._wD(tn.id+": Using HTML5"),En._setup_html5(tn);else{if(L.html5Only)return L._wD(tn.id+": No HTML5 support for this sound, and no Flash. Exiting."),Gn();if(L.html5.usingFlash&&tn.url&&tn.url.match(/data:/i))return L._wD(tn.id+": data: URIs not supported via Flash. Exiting."),Gn();C>8&&(tn.isMovieStar===null&&(tn.isMovieStar=!!(tn.serverURL||tn.type&&tn.type.match(bi)||tn.url&&tn.url.match(Vr))),tn.isMovieStar&&(L._wD(gt+"using MovieStar handling"),tn.loops>1&&E("noNSLoop"))),tn=yt(tn,gt),En=Gn(),C===8?ce._createSound(tn.id,tn.loops||1,tn.usePolicyFile):(ce._createSound(tn.id,tn.url,tn.usePeakData,tn.useWaveformData,tn.useEQData,tn.isMovieStar,!!tn.isMovieStar&&tn.bufferTime,tn.loops||1,tn.serverURL,tn.duration||null,tn.autoPlay,!0,tn.autoLoad,tn.usePolicyFile),tn.serverURL||(En.connected=!0,tn.onconnect&&tn.onconnect.apply(En))),tn.serverURL||!tn.autoLoad&&!tn.autoPlay||En.load(tn)}return!tn.serverURL&&tn.autoPlay&&En.play(),En},this.destroySound=function(ft,Qe){if(!Re(ft))return!1;var gt,en=L.sounds[ft];for(en.stop(),en._iO={},en.unload(),gt=0;gt<L.soundIDs.length;gt++)if(L.soundIDs[gt]===ft){L.soundIDs.splice(gt,1);break}return Qe||en.destruct(!0),en=null,delete L.sounds[ft],!0},this.load=function(ft,Qe){return!!Re(ft)&&L.sounds[ft].load(Qe)},this.unload=function(ft){return!!Re(ft)&&L.sounds[ft].unload()},this.onPosition=function(ft,Qe,gt,en){return!!Re(ft)&&L.sounds[ft].onposition(Qe,gt,en)},this.onposition=this.onPosition,this.clearOnPosition=function(ft,Qe,gt){return!!Re(ft)&&L.sounds[ft].clearOnPosition(Qe,gt)},this.play=function(ft,Qe){var gt=null,en=Qe&&!_instanceof(Qe,Object);if(!Pt||!L.ok())return pt(pe+".play(): "+Le(Pt?"notOK":"notReady")),!1;if(Re(ft,en))en&&(Qe={url:Qe});else{if(!en)return!1;en&&(Qe={url:Qe}),Qe&&Qe.url&&(L._wD(pe+'.play(): Attempting to create "'+ft+'"',1),Qe.id=ft,gt=L.createSound(Qe).play())}return gt===null&&(gt=L.sounds[ft].play(Qe)),gt},this.start=this.play,this.setPlaybackRate=function(ft,Qe,gt){return!!Re(ft)&&L.sounds[ft].setPlaybackRate(Qe,gt)},this.setPosition=function(ft,Qe){return!!Re(ft)&&L.sounds[ft].setPosition(Qe)},this.stop=function(ft){return!!Re(ft)&&(L._wD(pe+".stop("+ft+")",1),L.sounds[ft].stop())},this.stopAll=function(){var ft;for(ft in L._wD(pe+".stopAll()",1),L.sounds)L.sounds.hasOwnProperty(ft)&&L.sounds[ft].stop()},this.pause=function(ft){return!!Re(ft)&&L.sounds[ft].pause()},this.pauseAll=function(){var ft;for(ft=L.soundIDs.length-1;ft>=0;ft--)L.sounds[L.soundIDs[ft]].pause()},this.resume=function(ft){return!!Re(ft)&&L.sounds[ft].resume()},this.resumeAll=function(){var ft;for(ft=L.soundIDs.length-1;ft>=0;ft--)L.sounds[L.soundIDs[ft]].resume()},this.togglePause=function(ft){return!!Re(ft)&&L.sounds[ft].togglePause()},this.setPan=function(ft,Qe){return!!Re(ft)&&L.sounds[ft].setPan(Qe)},this.setVolume=function(ft,Qe){var gt,en;if(ft!==l&&!isNaN(ft)&&Qe===l){for(gt=0,en=L.soundIDs.length;gt<en;gt++)L.sounds[L.soundIDs[gt]].setVolume(ft);return!1}return!!Re(ft)&&L.sounds[ft].setVolume(Qe)},this.mute=function(ft){var Qe=0;if(_instanceof(ft,String)&&(ft=null),ft)return!!Re(ft)&&(L._wD(pe+'.mute(): Muting "'+ft+'"'),L.sounds[ft].mute());for(L._wD(pe+".mute(): Muting all sounds"),Qe=L.soundIDs.length-1;Qe>=0;Qe--)L.sounds[L.soundIDs[Qe]].mute();return L.muted=!0,!0},this.muteAll=function(){L.mute()},this.unmute=function(ft){var Qe;if(_instanceof(ft,String)&&(ft=null),ft)return!!Re(ft)&&(L._wD(pe+'.unmute(): Unmuting "'+ft+'"'),L.sounds[ft].unmute());for(L._wD(pe+".unmute(): Unmuting all sounds"),Qe=L.soundIDs.length-1;Qe>=0;Qe--)L.sounds[L.soundIDs[Qe]].unmute();return L.muted=!1,!0},this.unmuteAll=function(){L.unmute()},this.toggleMute=function(ft){return!!Re(ft)&&L.sounds[ft].toggleMute()},this.getMemoryUse=function(){var ft=0;return ce&&C!==8&&(ft=parseInt(ce._getMemoryUse(),10)),ft},this.disable=function(ft){var Qe;if(ft===l&&(ft=!1),At)return!1;for(At=!0,E("shutdown",1),Qe=L.soundIDs.length-1;Qe>=0;Qe--)ae(L.sounds[L.soundIDs[Qe]]);return ae(L),T(ft),nt.remove(u,"load",_),!0},this.canPlayMIME=function(ft){var Qe;return L.hasHTML5&&(Qe=at({type:ft})),!Qe&&Qt&&(Qe=ft&&L.ok()?!!(C>8&&ft.match(bi)||ft.match(L.mimePattern)):null),Qe},this.canPlayURL=function(ft){var Qe;return L.hasHTML5&&(Qe=at({url:ft})),!Qe&&Qt&&(Qe=ft&&L.ok()?!!ft.match(L.filePattern):null),Qe},this.canPlayLink=function(ft){return!(ft.type===l||!ft.type||!L.canPlayMIME(ft.type))||L.canPlayURL(ft.href)},this.getSoundById=function(ft,Qe){if(!ft)return null;var gt=L.sounds[ft];return gt||Qe||L._wD(pe+'.getSoundById(): Sound "'+ft+'" not found.',2),gt},this.onready=function(ft,Qe){var gt="onready";if(typeof ft!="function")throw Le("needFunction",gt);return Pt&&L._wD(Le("queue",gt)),Qe||(Qe=u),g(gt,ft,Qe),y(),!0},this.ontimeout=function(ft,Qe){var gt="ontimeout";if(typeof ft!="function")throw Le("needFunction",gt);return Pt&&L._wD(Le("queue",gt)),Qe||(Qe=u),g(gt,ft,Qe),y({type:gt}),!0},this._writeDebug=function(ft,Qe){var gt,en;return!(!L.setupOptions.debugMode||!($n&&L.useConsole&&(Qe&&typeof Qe=="object"?console.log(ft,Qe):Dt[Qe]!==l?console[Dt[Qe]](ft):console.log(ft),L.consoleOnly))&&(!(gt=v("soundmanager-debug"))||(en=Ce.createElement("div"),++Jt%2==0&&(en.className="sm2-alt"),Qe=Qe===l?0:parseInt(Qe,10),en.appendChild(Ce.createTextNode(ft)),Qe&&(Qe>=2&&(en.style.fontWeight="bold"),Qe===3&&(en.style.color="#ff3333")),gt.insertBefore(en,gt.firstChild),gt=null,0)))},be.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(ft){u.alert(ft)}),this._wD=this._writeDebug,this._debug=function(){var ft,Qe;for(E("currentObj",1),ft=0,Qe=L.soundIDs.length;ft<Qe;ft++)L.sounds[L.soundIDs[ft]]._debug()},this.reboot=function(ft,Qe){var gt,en,tn;for(L.soundIDs.length&&L._wD("Destroying "+L.soundIDs.length+" SMSound object"+(L.soundIDs.length!==1?"s":"")+"..."),gt=L.soundIDs.length-1;gt>=0;gt--)L.sounds[L.soundIDs[gt]].destruct();if(ce)try{it&&(Bt=ce.innerHTML),Ht=ce.parentNode.removeChild(ce)}catch(En){E("badRemove",2)}if(Bt=Ht=Qt=ce=null,L.enabled=V=Pt=qt=Zt=Be=Ke=At=Nt=L.swfLoaded=!1,L.soundIDs=[],L.sounds={},Me=0,et=!1,ft)xe=[];else for(gt in xe)if(xe.hasOwnProperty(gt))for(en=0,tn=xe[gt].length;en<tn;en++)xe[gt][en].fired=!1;return Qe||L._wD(pe+": Rebooting..."),L.html5={usingFlash:null},L.flash={},L.html5Only=!1,L.ignoreFlash=!1,u.setTimeout(function(){Qe||L.beginDelayedInit()},20),L},this.reset=function(){return E("reset"),L.reboot(!0,!0)},this.getMoviePercent=function(){return ce&&"PercentLoaded"in ce?ce.PercentLoaded():null},this.beginDelayedInit=function(){Et=!0,de(),setTimeout(function(){return!Zt&&(oe(),F(),Zt=!0,!0)},20),j()},this.destruct=function(){L._wD(pe+".destruct()"),L.disable(!0)},f=function(Qe){var gt,en,tn,En,Gn,sr,Sn,Wr,Nr,mr,me=this,Fi=!1,Dr=[],Ri=0,$r=null;Nr={duration:null,time:null},this.id=Qe.id,this.sID=this.id,this.url=Qe.url,this.options=m(Qe),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,mr=!this.url,this.id3={},this._debug=function(){L._wD(me.id+": Merged options:",me.options)},this.load=function(on){var sn;if(on!==l?me._iO=m(on,me.options):(on=me.options,me._iO=on,$r&&$r!==me.url&&(E("manURL"),me._iO.url=me.url,me.url=null)),me._iO.url||(me._iO.url=me.url),me._iO.url=Ye(me._iO.url),me.instanceOptions=me._iO,sn=me._iO,L._wD(me.id+": load ("+sn.url+")"),!sn.url&&!me.url)return L._wD(me.id+": load(): url is unassigned. Exiting.",2),me;if(me.isHTML5||C!==8||me.url||sn.autoPlay||L._wD(me.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),sn.url===me.url&&me.readyState!==0&&me.readyState!==2)return E("onURL",1),me.readyState===3&&sn.onload&&Ie(me,function(){sn.onload.apply(me,[!!me.duration])}),me;if(me.loaded=!1,me.readyState=1,me.playState=0,me.id3={},ht(sn))me._setup_html5(sn)._called_load?L._wD(me.id+": Ignoring request to load again"):(me._html5_canplay=!1,me.url!==sn.url&&(L._wD(E("manURL")+": "+sn.url),me._a.src=sn.url,me.setPosition(0)),me._a.autobuffer="auto",me._a.preload="auto",me._a._called_load=!0);else{if(L.html5Only)return L._wD(me.id+": No flash support. Exiting."),me;if(me._iO.url&&me._iO.url.match(/data:/i))return L._wD(me.id+": data: URIs not supported via Flash. Exiting."),me;try{me.isHTML5=!1,me._iO=yt(dt(sn)),me._iO.autoPlay&&(me._iO.position||me._iO.from)&&(L._wD(me.id+": Disabling autoPlay because of non-zero offset case"),me._iO.autoPlay=!1),sn=me._iO,C===8?ce._load(me.id,sn.url,sn.stream,sn.autoPlay,sn.usePolicyFile):ce._load(me.id,sn.url,!!sn.stream,!!sn.autoPlay,sn.loops||1,!!sn.autoLoad,sn.usePolicyFile)}catch(cn){E("smError",2),P("onload",!1),G({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return me.url=sn.url,me},this.unload=function(){return me.readyState!==0&&(L._wD(me.id+": unload()"),me.isHTML5?(En(),me._a&&(me._a.pause(),$r=ze(me._a))):C===8?ce._unload(me.id,Zi):ce._unload(me.id),gt()),me},this.destruct=function(on){L._wD(me.id+": Destruct"),me.isHTML5?(En(),me._a&&(me._a.pause(),ze(me._a),Nt||tn(),me._a._s=null,me._a=null)):(me._iO.onfailure=null,ce._destroySound(me.id)),on||L.destroySound(me.id,!0)},this.play=function(on,sn){var cn,Fn,nr,Br,wi,Ui,co=!0;if(cn=me.id+": play(): ",sn=sn===l||sn,on||(on={}),me.url&&(me._iO.url=me.url),me._iO=m(me._iO,me.options),me._iO=m(on,me._iO),me._iO.url=Ye(me._iO.url),me.instanceOptions=me._iO,!me.isHTML5&&me._iO.serverURL&&!me.connected)return me.getAutoPlay()||(L._wD(cn+" Netstream not connected yet - setting autoPlay"),me.setAutoPlay(!0)),me;if(ht(me._iO)&&(me._setup_html5(me._iO),Gn()),me.playState===1&&!me.paused){if(!me._iO.multiShot)return L._wD(cn+"Already playing (one-shot)",1),me.isHTML5&&me.setPosition(me._iO.position),me;L._wD(cn+"Already playing (multi-shot)",1)}if(on.url&&on.url!==me.url&&(me.readyState||me.isHTML5||C!==8||!mr?me.load(me._iO):mr=!1),me.loaded)L._wD(cn.substr(0,cn.lastIndexOf(":")));else if(me.readyState===0){if(L._wD(cn+"Attempting to load"),me.isHTML5||L.html5Only){if(!me.isHTML5)return L._wD(cn+"Unsupported type. Exiting."),me;me.load(me._iO)}else me._iO.autoPlay=!0,me.load(me._iO);me.instanceOptions=me._iO}else{if(me.readyState===2)return L._wD(cn+"Could not load - exiting",2),me;L._wD(cn+"Loading - attempting to play...")}return!me.isHTML5&&C===9&&me.position>0&&me.position===me.duration&&(L._wD(cn+"Sound at end, resetting to position: 0"),on.position=0),me.paused&&me.position>=0&&(!me._iO.serverURL||me.position>0)?(L._wD(cn+"Resuming from paused state",1),me.resume()):(me._iO=m(on,me._iO),(!me.isHTML5&&me._iO.position!==null&&me._iO.position>0||me._iO.from!==null&&me._iO.from>0||me._iO.to!==null)&&me.instanceCount===0&&me.playState===0&&!me._iO.serverURL&&(nr=function(){me._iO=m(on,me._iO),me.play(me._iO)},me.isHTML5&&!me._html5_canplay?(L._wD(cn+"Beginning load for non-zero offset case"),me.load({_oncanplay:nr})):me.isHTML5||me.loaded||me.readyState&&me.readyState===2||(L._wD(cn+"Preloading for non-zero offset case"),me.load({onload:nr})),me._iO=Wr()),(!me.instanceCount||me._iO.multiShotEvents||me.isHTML5&&me._iO.multiShot&&!Nt||!me.isHTML5&&C>8&&!me.getAutoPlay())&&me.instanceCount++,me._iO.onposition&&me.playState===0&&sr(me),me.playState=1,me.paused=!1,me.position=me._iO.position===l||isNaN(me._iO.position)?0:me._iO.position,me.isHTML5||(me._iO=yt(dt(me._iO))),me._iO.onplay&&sn&&(me._iO.onplay.apply(me),Fi=!0),me.setVolume(me._iO.volume,!0),me.setPan(me._iO.pan,!0),me._iO.playbackRate!==1&&me.setPlaybackRate(me._iO.playbackRate),me.isHTML5?me.instanceCount<2?(Gn(),Fn=me._setup_html5(),me.setPosition(me._iO.position),Fn.play()):(L._wD(me.id+": Cloning Audio() for instance #"+me.instanceCount+"..."),Br=new Audio(me._iO.url),wi=function(){nt.remove(Br,"ended",wi),me._onfinish(me),ze(Br),Br=null},Ui=function(){nt.remove(Br,"canplay",Ui);try{Br.currentTime=me._iO.position/fe}catch(Vi){pt(me.id+": multiShot play() failed to apply position of "+me._iO.position/fe)}Br.play()},nt.add(Br,"ended",wi),me._iO.volume!==l&&(Br.volume=Math.max(0,Math.min(1,me._iO.volume/100))),me.muted&&(Br.muted=!0),me._iO.position?nt.add(Br,"canplay",Ui):Br.play()):(co=ce._start(me.id,me._iO.loops||1,C===9?me.position:me.position/fe,me._iO.multiShot||!1),C!==9||co||(L._wD(cn+"No sound hardware, or 32-sound ceiling hit",2),me._iO.onplayerror&&me._iO.onplayerror.apply(me)))),me},this.start=this.play,this.stop=function(on){var sn,cn=me._iO;return me.playState===1&&(L._wD(me.id+": stop()"),me._onbufferchange(0),me._resetOnPosition(0),me.paused=!1,me.isHTML5||(me.playState=0),Sn(),cn.to&&me.clearOnPosition(cn.to),me.isHTML5?me._a&&(sn=me.position,me.setPosition(0),me.position=sn,me._a.pause(),me.playState=0,me._onTimer(),En()):(ce._stop(me.id,on),cn.serverURL&&me.unload()),me.instanceCount=0,me._iO={},cn.onstop&&cn.onstop.apply(me)),me},this.setAutoPlay=function(on){L._wD(me.id+": Autoplay turned "+(on?"on":"off")),me._iO.autoPlay=on,me.isHTML5||(ce._setAutoPlay(me.id,on),on&&(me.instanceCount||me.readyState!==1||(me.instanceCount++,L._wD(me.id+": Incremented instance count to "+me.instanceCount))))},this.getAutoPlay=function(){return me._iO.autoPlay},this.setPlaybackRate=function(on){var sn=Math.max(.5,Math.min(4,on));if(sn!==on&&L._wD(me.id+": setPlaybackRate("+on+"): limiting rate to "+sn,2),me.isHTML5)try{me._iO.playbackRate=sn,me._a.playbackRate=sn}catch(cn){L._wD(me.id+": setPlaybackRate("+sn+") failed: "+cn.message,2)}return me},this.setPosition=function(on){on===l&&(on=0);var sn,cn,Fn=me.isHTML5?Math.max(on,0):Math.min(me.duration||me._iO.duration,Math.max(on,0));if(me.position=Fn,cn=me.position/fe,me._resetOnPosition(me.position),me._iO.position=Fn,me.isHTML5){if(me._a){if(me._html5_canplay){if(me._a.currentTime.toFixed(3)!==cn.toFixed(3)){L._wD(me.id+": setPosition("+cn+")");try{me._a.currentTime=cn,(me.playState===0||me.paused)&&me._a.pause()}catch(nr){L._wD(me.id+": setPosition("+cn+") failed: "+nr.message,2)}}}else if(cn)return L._wD(me.id+": setPosition("+cn+"): Cannot seek yet, sound not ready",2),me;me.paused&&me._onTimer(!0)}}else sn=C===9?me.position:cn,me.readyState&&me.readyState!==2&&ce._setPosition(me.id,sn,me.paused||!me.playState,me._iO.multiShot);return me},this.pause=function(on){return me.paused||me.playState===0&&me.readyState!==1||(L._wD(me.id+": pause()"),me.paused=!0,me.isHTML5?(me._setup_html5().pause(),En()):(on||on===l)&&ce._pause(me.id,me._iO.multiShot),me._iO.onpause&&me._iO.onpause.apply(me)),me},this.resume=function(){var on=me._iO;return me.paused&&(L._wD(me.id+": resume()"),me.paused=!1,me.playState=1,me.isHTML5?(me._setup_html5().play(),Gn()):(on.isMovieStar&&!on.serverURL&&me.setPosition(me.position),ce._pause(me.id,on.multiShot)),!Fi&&on.onplay?(on.onplay.apply(me),Fi=!0):on.onresume&&on.onresume.apply(me)),me},this.togglePause=function(){return L._wD(me.id+": togglePause()"),me.playState===0?(me.play({position:C!==9||me.isHTML5?me.position/fe:me.position}),me):(me.paused?me.resume():me.pause(),me)},this.setPan=function(on,sn){return on===l&&(on=0),sn===l&&(sn=!1),me.isHTML5||ce._setPan(me.id,on),me._iO.pan=on,sn||(me.pan=on,me.options.pan=on),me},this.setVolume=function(on,sn){return on===l&&(on=100),sn===l&&(sn=!1),me.isHTML5?me._a&&(L.muted&&!me.muted&&(me.muted=!0,me._a.muted=!0),me._a.volume=Math.max(0,Math.min(1,on/100))):ce._setVolume(me.id,L.muted&&!me.muted||me.muted?0:on),me._iO.volume=on,sn||(me.volume=on,me.options.volume=on),me},this.mute=function(){return me.muted=!0,me.isHTML5?me._a&&(me._a.muted=!0):ce._setVolume(me.id,0),me},this.unmute=function(){me.muted=!1;var on=me._iO.volume!==l;return me.isHTML5?me._a&&(me._a.muted=!1):ce._setVolume(me.id,on?me._iO.volume:me.options.volume),me},this.toggleMute=function(){return me.muted?me.unmute():me.mute()},this.onPosition=function(on,sn,cn){return Dr.push({position:parseInt(on,10),method:sn,scope:cn!==l?cn:me,fired:!1}),me},this.onposition=this.onPosition,this.clearOnPosition=function(on,sn){var cn;if(on=parseInt(on,10),!isNaN(on))for(cn=0;cn<Dr.length;cn++)on===Dr[cn].position&&(sn&&sn!==Dr[cn].method||(Dr[cn].fired&&Ri--,Dr.splice(cn,1)))},this._processOnPosition=function(){var on,sn,cn=Dr.length;if(!cn||!me.playState||Ri>=cn)return!1;for(on=cn-1;on>=0;on--)!(sn=Dr[on]).fired&&me.position>=sn.position&&(sn.fired=!0,Ri++,sn.method.apply(sn.scope,[sn.position]),cn=Dr.length);return!0},this._resetOnPosition=function(on){var sn,cn,Fn=Dr.length;if(!Fn)return!1;for(sn=Fn-1;sn>=0;sn--)(cn=Dr[sn]).fired&&on<=cn.position&&(cn.fired=!1,Ri--);return!0},Wr=function(){var sn,cn,Fn=me._iO,nr=Fn.from,Br=Fn.to;return cn=function(){L._wD(me.id+': "To" time of '+Br+" reached."),me.clearOnPosition(Br,cn),me.stop()},sn=function(){L._wD(me.id+': Playing "from" '+nr),Br===null||isNaN(Br)||me.onPosition(Br,cn)},nr===null||isNaN(nr)||(Fn.position=nr,Fn.multiShot=!1,sn()),Fn},sr=function(){var sn,cn=me._iO.onposition;if(cn)for(sn in cn)cn.hasOwnProperty(sn)&&me.onPosition(parseInt(sn,10),cn[sn])},Sn=function(){var sn,cn=me._iO.onposition;if(cn)for(sn in cn)cn.hasOwnProperty(sn)&&me.clearOnPosition(parseInt(sn,10))},Gn=function(){me.isHTML5&&_e(me)},En=function(){me.isHTML5&&Ne(me)},(gt=function(sn){sn||(Dr=[],Ri=0),Fi=!1,me._hasTimer=null,me._a=null,me._html5_canplay=!1,me.bytesLoaded=null,me.bytesTotal=null,me.duration=me._iO&&me._iO.duration?me._iO.duration:null,me.durationEstimate=null,me.buffered=[],me.eqData=[],me.eqData.left=[],me.eqData.right=[],me.failures=0,me.isBuffering=!1,me.instanceOptions={},me.instanceCount=0,me.loaded=!1,me.metadata={},me.readyState=0,me.muted=!1,me.paused=!1,me.peakData={left:0,right:0},me.waveformData={left:[],right:[]},me.playState=0,me.position=null,me.id3={}})(),this._onTimer=function(on){var sn,cn,Fn=!1,nr={};return(me._hasTimer||on)&&me._a&&(on||(me.playState>0||me.readyState===1)&&!me.paused)&&((sn=me._get_html5_duration())!==Nr.duration&&(Nr.duration=sn,me.duration=sn,Fn=!0),me.durationEstimate=me.duration,(cn=me._a.currentTime*fe||0)!==Nr.time&&(Nr.time=cn,Fn=!0),(Fn||on)&&me._whileplaying(cn,nr,nr,nr,nr)),Fn},this._get_html5_duration=function(){var on=me._iO,sn=me._a&&me._a.duration?me._a.duration*fe:on&&on.duration?on.duration:null;return sn&&!isNaN(sn)&&sn!==1/0?sn:null},this._apply_loop=function(on,sn){!on.loop&&sn>1&&L._wD("Note: Native HTML5 looping is infinite.",1),on.loop=sn>1?"loop":""},this._setup_html5=function(on){var sn,cn=m(me._iO,on),Fn=Nt?ue:me._a,nr=decodeURI(cn.url);if(Nt?nr===decodeURI(bt)&&(sn=!0):nr===decodeURI($r)&&(sn=!0),Fn){if(Fn._s){if(Nt)Fn._s&&Fn._s.playState&&!sn&&Fn._s.stop();else if(!Nt&&nr===decodeURI($r))return me._apply_loop(Fn,cn.loops),Fn}sn||($r&&gt(!1),Fn.src=cn.url,me.url=cn.url,$r=cn.url,bt=cn.url,Fn._called_load=!1)}else cn.autoLoad||cn.autoPlay?(me._a=new Audio(cn.url),me._a.load()):me._a=gn&&opera.version()<10?new Audio(null):new Audio,(Fn=me._a)._called_load=!1,Nt&&(ue=Fn);return me.isHTML5=!0,me._a=Fn,Fn._s=me,en(),me._apply_loop(Fn,cn.loops),cn.autoLoad||cn.autoPlay?me.load():(Fn.autobuffer=!1,Fn.preload="auto"),Fn},en=function(){if(me._a._added_events)return!1;var sn,cn,Fn;for(sn in me._a._added_events=!0,ye)ye.hasOwnProperty(sn)&&(cn=sn,Fn=ye[sn],me._a&&me._a.addEventListener(cn,Fn,!1));return!0},tn=function(){var sn,cn,Fn;for(sn in L._wD(me.id+": Removing event listeners"),me._a._added_events=!1,ye)ye.hasOwnProperty(sn)&&(cn=sn,Fn=ye[sn],me._a&&me._a.removeEventListener(cn,Fn,!1))},this._onload=function(on){var sn,cn=!!on||!me.isHTML5&&C===8&&me.duration;return sn=me.id+": ",L._wD(sn+(cn?"onload()":"Failed to load / invalid sound?"+(me.duration?" -":" Zero-length duration reported.")+" ("+me.url+")"),cn?1:2),cn||me.isHTML5||(L.sandbox.noRemote===!0&&L._wD(sn+Le("noNet"),1),L.sandbox.noLocal===!0&&L._wD(sn+Le("noLocal"),1)),me.loaded=cn,me.readyState=cn?3:2,me._onbufferchange(0),cn||me.isHTML5||me._onerror(),me._iO.onload&&Ie(me,function(){me._iO.onload.apply(me,[cn])}),!0},this._onerror=function(on,sn){me._iO.onerror&&Ie(me,function(){me._iO.onerror.apply(me,[on,sn])})},this._onbufferchange=function(on){return!(me.playState===0||on&&me.isBuffering||!on&&!me.isBuffering||(me.isBuffering=on===1,me._iO.onbufferchange&&(L._wD(me.id+": Buffer state change: "+on),me._iO.onbufferchange.apply(me,[on])),0))},this._onsuspend=function(){return me._iO.onsuspend&&(L._wD(me.id+": Playback suspended"),me._iO.onsuspend.apply(me)),!0},this._onfailure=function(on,sn,cn){me.failures++,L._wD(me.id+": Failure ("+me.failures+"): "+on),me._iO.onfailure&&me.failures===1?me._iO.onfailure(on,sn,cn):L._wD(me.id+": Ignoring failure")},this._onwarning=function(on,sn,cn){me._iO.onwarning&&me._iO.onwarning(on,sn,cn)},this._onfinish=function(){var on=me._iO.onfinish;me._onbufferchange(0),me._resetOnPosition(0),me.instanceCount&&(me.instanceCount--,me.instanceCount||(Sn(),me.playState=0,me.paused=!1,me.instanceCount=0,me.instanceOptions={},me._iO={},En(),me.isHTML5&&(me.position=0)),me.instanceCount&&!me._iO.multiShotEvents||on&&(L._wD(me.id+": onfinish()"),Ie(me,function(){on.apply(me)})))},this._whileloading=function(on,sn,cn,Fn){var nr=me._iO;me.bytesLoaded=on,me.bytesTotal=sn,me.duration=Math.floor(cn),me.bufferLength=Fn,me.isHTML5||nr.isMovieStar?me.durationEstimate=me.duration:nr.duration?me.durationEstimate=me.duration>nr.duration?me.duration:nr.duration:me.durationEstimate=parseInt(me.bytesTotal/me.bytesLoaded*me.duration,10),me.isHTML5||(me.buffered=[{start:0,end:me.duration}]),(me.readyState!==3||me.isHTML5)&&nr.whileloading&&nr.whileloading.apply(me)},this._whileplaying=function(on,sn,cn,Fn,nr){var Br,wi=me._iO;return!isNaN(on)&&on!==null&&(me.position=Math.max(0,on),me._processOnPosition(),!me.isHTML5&&C>8&&(wi.usePeakData&&sn!==l&&sn&&(me.peakData={left:sn.leftPeak,right:sn.rightPeak}),wi.useWaveformData&&cn!==l&&cn&&(me.waveformData={left:cn.split(","),right:Fn.split(",")}),wi.useEQData&&nr!==l&&nr&&nr.leftEQ&&(Br=nr.leftEQ.split(","),me.eqData=Br,me.eqData.left=Br,nr.rightEQ!==l&&nr.rightEQ&&(me.eqData.right=nr.rightEQ.split(",")))),me.playState===1&&(me.isHTML5||C!==8||me.position||!me.isBuffering||me._onbufferchange(0),wi.whileplaying&&wi.whileplaying.apply(me)),!0)},this._oncaptiondata=function(on){L._wD(me.id+": Caption data received."),me.captiondata=on,me._iO.oncaptiondata&&me._iO.oncaptiondata.apply(me,[on])},this._onmetadata=function(on,sn){L._wD(me.id+": Metadata received.");var cn,Fn,nr={};for(cn=0,Fn=on.length;cn<Fn;cn++)nr[on[cn]]=sn[cn];me.metadata=nr,me._iO.onmetadata&&me._iO.onmetadata.call(me,me.metadata)},this._onid3=function(on,sn){L._wD(me.id+": ID3 data received.");var cn,Fn,nr=[];for(cn=0,Fn=on.length;cn<Fn;cn++)nr[on[cn]]=sn[cn];me.id3=m(me.id3,nr),me._iO.onid3&&me._iO.onid3.apply(me)},this._onconnect=function(on){on=on===1,L._wD(me.id+": "+(on?"Connected.":"Failed to connect? - "+me.url),on?1:2),me.connected=on,on&&(me.failures=0,Re(me.id)&&(me.getAutoPlay()?me.play(l,me.getAutoPlay()):me._iO.autoLoad&&me.load()),me._iO.onconnect&&me._iO.onconnect.apply(me,[on]))},this._ondataerror=function(on){me.playState>0&&(L._wD(me.id+": Data error: "+on),me._iO.ondataerror&&me._iO.ondataerror.apply(me))},this._debug()},X=function(){return Ce.body||Ce.getElementsByTagName("div")[0]},v=function(Qe){return Ce.getElementById(Qe)},m=function(ft,Qe){var gt,en,tn=ft||{};for(en in gt=Qe===l?L.defaultOptions:Qe)gt.hasOwnProperty(en)&&tn[en]===l&&(typeof gt[en]!="object"||gt[en]===null?tn[en]=gt[en]:tn[en]=m(tn[en],gt[en]));return tn},Ie=function(Qe,gt){Qe.isHTML5||C!==8?gt():u.setTimeout(gt,0)},p={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},a=function(ft,Qe){var gt,en=!0,tn=Qe!==l,En=L.setupOptions,Gn=p;if(ft===l){for(gt in en=[],En)En.hasOwnProperty(gt)&&en.push(gt);for(gt in Gn)Gn.hasOwnProperty(gt)&&(typeof L[gt]=="object"?en.push(gt+": {...}"):_instanceof(L[gt],Function)?en.push(gt+": function() {...}"):en.push(gt));return L._wD(Le("setup",en.join(", "))),!1}for(gt in ft)if(ft.hasOwnProperty(gt))if(typeof ft[gt]!="object"||ft[gt]===null||_instanceof(ft[gt],Array)||_instanceof(ft[gt],RegExp))tn&&Gn[Qe]!==l?L[Qe][gt]=ft[gt]:En[gt]!==l?(L.setupOptions[gt]=ft[gt],L[gt]=ft[gt]):Gn[gt]===l?(pt(Le(L[gt]===l?"setupUndef":"setupError",gt),2),en=!1):_instanceof(L[gt],Function)?L[gt].apply(L,_instanceof(ft[gt],Array)?ft[gt]:[ft[gt]]):L[gt]=ft[gt];else{if(Gn[gt]!==l)return a(ft[gt],gt);pt(Le(L[gt]===l?"setupUndef":"setupError",gt),2),en=!1}return en},nt=function(){var ft=u.attachEvent,Qe={add:ft?"attachEvent":"addEventListener",remove:ft?"detachEvent":"removeEventListener"};function gt(tn){var En=Tn.call(tn),Gn=En.length;return ft?(En[1]="on"+En[1],Gn>3&&En.pop()):Gn===3&&En.push(!1),En}function en(tn,En){var Gn=tn.shift(),sr=[Qe[En]];ft?Gn[sr](tn[0],tn[1]):Gn[sr].apply(Gn,tn)}return{add:function(){en(gt(arguments),"add")},remove:function(){en(gt(arguments),"remove")}}}(),ye={abort:ni(function(){L._wD(this._s.id+": abort")}),canplay:ni(function(){var ft,Qe=this._s;if(!Qe._html5_canplay){if(Qe._html5_canplay=!0,L._wD(Qe.id+": canplay"),Qe._onbufferchange(0),ft=Qe._iO.position===l||isNaN(Qe._iO.position)?null:Qe._iO.position/fe,this.currentTime!==ft){L._wD(Qe.id+": canplay: Setting position to "+ft);try{this.currentTime=ft}catch(gt){L._wD(Qe.id+": canplay: Setting position of "+ft+" failed: "+gt.message,2)}}Qe._iO._oncanplay&&Qe._iO._oncanplay()}}),canplaythrough:ni(function(){var ft=this._s;ft.loaded||(ft._onbufferchange(0),ft._whileloading(ft.bytesLoaded,ft.bytesTotal,ft._get_html5_duration()),ft._onload(!0))}),durationchange:ni(function(){var ft,Qe=this._s;ft=Qe._get_html5_duration(),isNaN(ft)||ft===Qe.duration||(L._wD(this._s.id+": durationchange ("+ft+")"+(Qe.duration?", previously "+Qe.duration:"")),Qe.durationEstimate=Qe.duration=ft)}),ended:ni(function(){var ft=this._s;L._wD(ft.id+": ended"),ft._onfinish()}),error:ni(function(){var ft=ut[this.error.code]||null;L._wD(this._s.id+": HTML5 error, code "+this.error.code+(ft?" ("+ft+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,ft)}),loadeddata:ni(function(){var ft=this._s;L._wD(ft.id+": loadeddata"),ft._loaded||It||(ft.duration=ft._get_html5_duration())}),loadedmetadata:ni(function(){L._wD(this._s.id+": loadedmetadata")}),loadstart:ni(function(){L._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ni(function(){this._s._onbufferchange(0)}),playing:ni(function(){L._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:ni(function(ft){var Qe,gt,en,tn=this._s,En=0,Gn=ft.type==="progress",sr=ft.target.buffered,Sn=ft.loaded||0,Wr=ft.total||1;if(tn.buffered=[],sr&&sr.length){for(Qe=0,gt=sr.length;Qe<gt;Qe++)tn.buffered.push({start:sr.start(Qe)*fe,end:sr.end(Qe)*fe});if(En=(sr.end(0)-sr.start(0))*fe,Sn=Math.min(1,En/(ft.target.duration*fe)),Gn&&sr.length>1){for(en=[],gt=sr.length,Qe=0;Qe<gt;Qe++)en.push(ft.target.buffered.start(Qe)*fe+"-"+ft.target.buffered.end(Qe)*fe);L._wD(this._s.id+": progress, timeRanges: "+en.join(", "))}Gn&&!isNaN(Sn)&&L._wD(this._s.id+": progress, "+Math.floor(100*Sn)+"% loaded")}isNaN(Sn)||(tn._whileloading(Sn,Wr,tn._get_html5_duration()),Sn&&Wr&&Sn===Wr&&ye.canplaythrough.call(this,ft))}),ratechange:ni(function(){L._wD(this._s.id+": ratechange")}),suspend:ni(function(ft){var Qe=this._s;L._wD(this._s.id+": suspend"),ye.progress.call(this,ft),Qe._onsuspend()}),stalled:ni(function(){L._wD(this._s.id+": stalled")}),timeupdate:ni(function(){this._s._onTimer()}),waiting:ni(function(){var ft=this._s;L._wD(this._s.id+": waiting"),ft._onbufferchange(1)})},ht=function(Qe){return!(!Qe||!(Qe.type||Qe.url||Qe.serverURL))&&!(Qe.serverURL||Qe.type&&si(Qe.type))&&(Qe.type?at({type:Qe.type}):at({url:Qe.url})||L.html5Only||Qe.url.match(/data:/i))},ze=function(Qe){var gt;return Qe&&(gt=It?Zi:L.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Zi,Qe.src=gt,Qe._called_unload!==l&&(Qe._called_load=!1)),Nt&&(bt=null),gt},at=function(Qe){if(!L.useHTML5Audio||!L.hasHTML5)return!1;var gt,en,tn,En,Gn=Qe.url||null,sr=Qe.type||null,Sn=L.audioFormats;if(sr&&L.html5[sr]!==l)return L.html5[sr]&&!si(sr);if(!qe){for(En in qe=[],Sn)Sn.hasOwnProperty(En)&&(qe.push(En),Sn[En].related&&(qe=qe.concat(Sn[En].related)));qe=new RegExp("\\.("+qe.join("|")+")(\\?.*)?$","i")}return(tn=Gn?Gn.toLowerCase().match(qe):null)&&tn.length?tn=tn[1]:sr?tn=((en=sr.indexOf(";"))!==-1?sr.substr(0,en):sr).substr(6):gt=!1,tn&&L.html5[tn]!==l?gt=L.html5[tn]&&!si(tn):(sr="audio/"+tn,gt=L.html5.canPlayType({type:sr}),L.html5[tn]=gt,gt=gt&&L.html5[sr]&&!si(sr)),gt},tt=function(){if(!L.useHTML5Audio||!L.hasHTML5)return L.html5.usingFlash=!0,Qt=!0,!1;var Qe,gt,en,tn,En=Audio!==l?gn&&opera.version()<10?new Audio(null):new Audio:null,Gn={};function sr(Sn){var Wr,Nr,mr=!1,me=!1;if(!En||typeof En.canPlayType!="function")return mr;if(_instanceof(Sn,Array)){for(tn=0,Nr=Sn.length;tn<Nr;tn++)(L.html5[Sn[tn]]||En.canPlayType(Sn[tn]).match(L.html5Test))&&(me=!0,L.html5[Sn[tn]]=!0,L.flash[Sn[tn]]=!!Sn[tn].match(Ti));mr=me}else mr=!(!(Wr=!(!En||typeof En.canPlayType!="function")&&En.canPlayType(Sn))||!Wr.match(L.html5Test));return mr}for(Qe in en=L.audioFormats)if(en.hasOwnProperty(Qe)&&(gt="audio/"+Qe,Gn[Qe]=sr(en[Qe].type),Gn[gt]=Gn[Qe],Qe.match(Ti)?(L.flash[Qe]=!0,L.flash[gt]=!0):(L.flash[Qe]=!1,L.flash[gt]=!1),en[Qe]&&en[Qe].related))for(tn=en[Qe].related.length-1;tn>=0;tn--)Gn["audio/"+en[Qe].related[tn]]=Gn[Qe],L.html5[en[Qe].related[tn]]=Gn[Qe],L.flash[en[Qe].related[tn]]=Gn[Qe];return Gn.canPlayType=En?sr:null,L.html5=m(L.html5,Gn),L.html5.usingFlash=rt(),Qt=L.html5.usingFlash,!0},J={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:pe+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:he+"Verify that %s is a valid path.",tryDebug:"Try "+pe+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:he+"Non-HTTP page ("+Ce.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:he+"Special case: Waiting for SWF to load with window focus...",waitForever:he+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:he+"Waiting for 100% SWF load...",needFunction:he+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:he+"_debug(): Current sound objects",waitOnload:he+"Waiting for window.onload()",docLoaded:he+"Document already loaded",onload:he+"initComplete(): calling soundManager.onload()",onloadOK:pe+".onload() complete",didInit:he+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:he+"Failed to remove Flash node.",shutdown:pe+".disable(): Shutting down",queue:he+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Ve.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:he+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:pe+".load(): current URL already assigned.",badFV:pe+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:he+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:he+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:pe+".setup(): allowed parameters: %s",setupError:pe+'.setup(): "%s" cannot be assigned with this method.',setupUndef:pe+'.setup(): Could not find option "%s"',setupLate:pe+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:he+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:pe+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},Le=function(){var Qe,gt,en,tn,En;if(tn=(Qe=Tn.call(arguments)).shift(),(En=J&&J[tn]?J[tn]:"")&&Qe&&Qe.length)for(gt=0,en=Qe.length;gt<en;gt++)En=En.replace("%s",Qe[gt]);return En},dt=function(Qe){return C===8&&Qe.loops>1&&Qe.stream&&(E("as2loop"),Qe.stream=!1),Qe},yt=function(Qe,gt){return Qe&&!Qe.usePolicyFile&&(Qe.onid3||Qe.usePeakData||Qe.useWaveformData||Qe.useEQData)&&(L._wD((gt||"")+Le("policy")),Qe.usePolicyFile=!0),Qe},pt=function(Qe){$n&&console.warn!==l?console.warn(Qe):L._wD(Qe)},x=function(){return!1},ae=function(Qe){var gt;for(gt in Qe)Qe.hasOwnProperty(gt)&&typeof Qe[gt]=="function"&&(Qe[gt]=x);gt=null},ie=function(Qe){Qe===l&&(Qe=!1),(At||Qe)&&L.disable(Qe)},je=function(Qe){var gt;if(Qe)if(Qe.match(/\.swf(\?.*)?$/i)){if(Qe.substr(Qe.toLowerCase().lastIndexOf(".swf?")+4))return Qe}else Qe.lastIndexOf("/")!==Qe.length-1&&(Qe+="/");return gt=(Qe&&Qe.lastIndexOf("/")!==-1?Qe.substr(0,Qe.lastIndexOf("/")+1):"./")+L.movieURL,L.noSWFCache&&(gt+="?ts="+new Date().getTime()),gt},H=function(){(C=parseInt(L.flashVersion,10))!==8&&C!==9&&(L._wD(Le("badFV",C,8)),L.flashVersion=C=8);var Qe=L.debugMode||L.debugFlash?"_debug.swf":".swf";L.useHTML5Audio&&!L.html5Only&&L.audioFormats.mp4.required&&C<9&&(L._wD(Le("needfl9")),L.flashVersion=C=9),L.version=L.versionNumber+(L.html5Only?" (HTML5-only mode)":C===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),C>8?(L.defaultOptions=m(L.defaultOptions,L.flash9Options),L.features.buffering=!0,L.defaultOptions=m(L.defaultOptions,L.movieStarOptions),L.filePatterns.flash9=new RegExp("\\.(mp3|"+uo.join("|")+")(\\?.*)?$","i"),L.features.movieStar=!0):L.features.movieStar=!1,L.filePattern=L.filePatterns[C!==8?"flash9":"flash8"],L.movieURL=(C===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",Qe),L.features.peakData=L.features.waveformData=L.features.eqData=C>8},Y=function(Qe,gt){ce&&ce._setPolling(Qe,gt)},Z=function(){if(L.debugURLParam.test(be)&&(L.setupOptions.debugMode=L.debugMode=!0),!v(L.debugID)){var Qe,gt,en,tn,En;if(L.debugMode&&!v(L.debugID)&&(!$n||!L.useConsole||!L.consoleOnly)){for(En in(Qe=Ce.createElement("div")).id=L.debugID+"-toggle",tn={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},Qe.appendChild(Ce.createTextNode("-")),Qe.onclick=Xe,Qe.title="Toggle SM2 debug console",Q.match(/msie 6/i)&&(Qe.style.position="absolute",Qe.style.cursor="hand"),tn)tn.hasOwnProperty(En)&&(Qe.style[En]=tn[En]);if((gt=Ce.createElement("div")).id=L.debugID,gt.style.display=L.debugMode?"block":"none",L.debugMode&&!v(Qe.id)){try{(en=X()).appendChild(Qe)}catch(Gn){throw new Error(Le("domError")+" \n"+Gn.toString())}en.appendChild(gt)}}en=null}},Re=this.getSoundById,E=function(Qe,gt){return Qe?L._wD(Le(Qe),gt):""},Xe=function(){var Qe=v(L.debugID),gt=v(L.debugID+"-toggle");Qe&&(Ge?(gt.innerHTML="+",Qe.style.display="none"):(gt.innerHTML="-",Qe.style.display="block"),Ge=!Ge)},P=function(Qe,gt,en){if(u.sm2Debugger!==l)try{sm2Debugger.handleEvent(Qe,gt,en)}catch(tn){return!1}return!0},Ze=function(){var Qe=[];return L.debugMode&&Qe.push(Ve.sm2Debug),L.debugFlash&&Qe.push(Ve.flashDebug),L.useHighPerformance&&Qe.push(Ve.highPerf),Qe.join(" ")},ke=function(){var Qe=Le("fbHandler"),gt=L.getMoviePercent(),en=Ve,tn={type:"FLASHBLOCK"};L.html5Only||(L.ok()?(L.didFlashBlock&&L._wD(Qe+": Unblocked"),L.oMC&&(L.oMC.className=[Ze(),en.swfDefault,en.swfLoaded+(L.didFlashBlock?" "+en.swfUnblocked:"")].join(" "))):(Qt&&(L.oMC.className=Ze()+" "+en.swfDefault+" "+(gt===null?en.swfTimedout:en.swfError),L._wD(Qe+": "+Le("fbTimeout")+(gt?" ("+Le("fbLoaded")+")":""))),L.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:tn}),G(tn)))},g=function(Qe,gt,en){xe[Qe]===l&&(xe[Qe]=[]),xe[Qe].push({method:gt,scope:en||null,fired:!1})},y=function(Qe){if(Qe||(Qe={type:L.ok()?"onready":"ontimeout"}),!Pt&&Qe&&!Qe.ignoreInit||Qe.type==="ontimeout"&&(L.ok()||At&&!Qe.ignoreInit))return!1;var gt,en,tn={success:Qe&&Qe.ignoreInit?L.ok():!At},En=Qe&&Qe.type&&xe[Qe.type]||[],Gn=[],sr=[tn],Sn=Qt&&!L.ok();for(Qe.error&&(sr[0].error=Qe.error),gt=0,en=En.length;gt<en;gt++)En[gt].fired!==!0&&Gn.push(En[gt]);if(Gn.length)for(gt=0,en=Gn.length;gt<en;gt++)Gn[gt].scope?Gn[gt].method.apply(Gn[gt].scope,sr):Gn[gt].method.apply(this,sr),Sn||(Gn[gt].fired=!0);return!0},_=function(){u.setTimeout(function(){L.useFlashBlock&&ke(),y(),typeof L.onload=="function"&&(E("onload",1),L.onload.apply(u),E("onloadOK",1)),L.waitForWindowLoad&&nt.add(u,"load",_)},1)},_t=function(){if(wt!==l)return wt;var Qe,gt,en,tn,En=!1,Gn=navigator,sr=u.ActiveXObject;try{tn=Gn.plugins}catch(Sn){tn=void 0}if(tn&&tn.length)gt="application/x-shockwave-flash",(en=Gn.mimeTypes)&&en[gt]&&en[gt].enabledPlugin&&en[gt].enabledPlugin.description&&(En=!0);else if(sr!==l&&!Q.match(/MSAppHost/i)){try{Qe=new sr("ShockwaveFlash.ShockwaveFlash")}catch(Sn){Qe=null}En=!!Qe,Qe=null}return wt=En,En},rt=function(){var Qe,gt,en=L.audioFormats;if(Se&&Q.match(/os (1|2|3_0|3_1)\s/i)?(L.hasHTML5=!1,L.html5Only=!0,L.oMC&&(L.oMC.style.display="none")):L.useHTML5Audio&&(L.html5&&L.html5.canPlayType||(L._wD("SoundManager: No HTML5 Audio() support detected."),L.hasHTML5=!1),Ut&&L._wD(he+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(wt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),L.useHTML5Audio&&L.hasHTML5)for(gt in Te=!0,en)en.hasOwnProperty(gt)&&en[gt].required&&(L.html5.canPlayType(en[gt].type)?L.preferFlash&&(L.flash[gt]||L.flash[en[gt].type])&&(Qe=!0):(Te=!1,Qe=!0));return L.ignoreFlash&&(Qe=!1,Te=!0),L.html5Only=L.hasHTML5&&L.useHTML5Audio&&!Qe,!L.html5Only},Ye=function(Qe){var gt,en,tn,En=0;if(_instanceof(Qe,Array)){for(gt=0,en=Qe.length;gt<en;gt++)if(_instanceof(Qe[gt],Object)){if(L.canPlayMIME(Qe[gt].type)){En=gt;break}}else if(L.canPlayURL(Qe[gt])){En=gt;break}Qe[En].url&&(Qe[En]=Qe[En].url),tn=Qe[En]}else tn=Qe;return tn},_e=function(Qe){Qe._hasTimer||(Qe._hasTimer=!0,!mn&&L.html5PollingInterval&&(Rt===null&&un===0&&(Rt=setInterval(Je,L.html5PollingInterval)),un++))},Ne=function(Qe){Qe._hasTimer&&(Qe._hasTimer=!1,!mn&&L.html5PollingInterval&&un--)},Je=function(){var Qe;if(Rt!==null&&!un)return clearInterval(Rt),void(Rt=null);for(Qe=L.soundIDs.length-1;Qe>=0;Qe--)L.sounds[L.soundIDs[Qe]].isHTML5&&L.sounds[L.soundIDs[Qe]]._hasTimer&&L.sounds[L.soundIDs[Qe]]._onTimer()},G=function(Qe){Qe=Qe!==l?Qe:{},typeof L.onerror=="function"&&L.onerror.apply(u,[{type:Qe.type!==l?Qe.type:null}]),Qe.fatal!==l&&Qe.fatal&&L.disable()},st=function(){if(Ut&&_t()){var Qe,gt,en=L.audioFormats;for(gt in en)if(en.hasOwnProperty(gt)&&(gt==="mp3"||gt==="mp4")&&(L._wD(pe+": Using flash fallback for "+gt+" format"),L.html5[gt]=!1,en[gt]&&en[gt].related))for(Qe=en[gt].related.length-1;Qe>=0;Qe--)L.html5[en[gt].related[Qe]]=!1}},this._setSandboxType=function(ft){var Qe=L.sandbox;Qe.type=ft,Qe.description=Qe.types[Qe.types[ft]!==l?ft:"unknown"],Qe.type==="localWithFile"?(Qe.noRemote=!0,Qe.noLocal=!1,E("secNote",2)):Qe.type==="localWithNetwork"?(Qe.noRemote=!1,Qe.noLocal=!0):Qe.type==="localTrusted"&&(Qe.noRemote=!1,Qe.noLocal=!1)},this._externalInterfaceOK=function(ft){if(!L.swfLoaded){var Qe;if(P("swf",!0),P("flashtojs",!0),L.swfLoaded=!0,yi=!1,Ut&&st(),!ft||ft.replace(/\+dev/i,"")!==L.versionNumber.replace(/\+dev/i,""))return Qe=pe+': Fatal: JavaScript file build "'+L.versionNumber+'" does not match Flash SWF build "'+ft+'" at '+L.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(Qe)},0);setTimeout(b,it?100:1)}},oe=function(Qe,gt){if(Be&&Ke)return!1;function en(){var cn,Fn=[],nr=[];cn="SoundManager "+L.version+(!L.html5Only&&L.useHTML5Audio?L.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),L.html5Only?L.html5PollingInterval&&Fn.push("html5PollingInterval ("+L.html5PollingInterval+"ms)"):(L.preferFlash&&Fn.push("preferFlash"),L.useHighPerformance&&Fn.push("useHighPerformance"),L.flashPollingInterval&&Fn.push("flashPollingInterval ("+L.flashPollingInterval+"ms)"),L.html5PollingInterval&&Fn.push("html5PollingInterval ("+L.html5PollingInterval+"ms)"),L.wmode&&Fn.push("wmode ("+L.wmode+")"),L.debugFlash&&Fn.push("debugFlash"),L.useFlashBlock&&Fn.push("flashBlock")),Fn.length&&(nr=nr.concat([Fn.join(" + ")])),L._wD(cn+(nr.length?" + "+nr.join(", "):""),1),N()}if(L.html5Only)return H(),en(),L.oMC=v(L.movieID),b(),Be=!0,Ke=!0,!1;var tn,En,Gn,sr,Sn,Wr,Nr,mr,me,Fi=gt||L.url,Dr=L.altURL||Fi,Ri=X(),$r=Ze(),on=Ce.getElementsByTagName("html")[0];function sn(cn,Fn){return'<param name="'+cn+'" value="'+Fn+'" />'}if(tn=on&&on.dir&&on.dir.match(/rtl/i),Qe=Qe===l?L.id:Qe,H(),L.url=je(zi?Fi:Dr),gt=L.url,L.wmode=!L.wmode&&L.useHighPerformance?"transparent":L.wmode,L.wmode!==null&&(Q.match(/msie 8/i)||!it&&!L.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(rn.push(J.spcWmode),L.wmode=null),En={name:Qe,id:Qe,src:gt,quality:"high",allowScriptAccess:L.allowScriptAccess,bgcolor:L.bgColor,pluginspage:Ur+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:L.wmode,hasPriority:"true"},L.debugFlash&&(En.FlashVars="debug=1"),L.wmode||delete En.wmode,it)Gn=Ce.createElement("div"),Sn=['<object id="'+Qe+'" data="'+gt+'" type="'+En.type+'" title="'+En.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',sn("movie",gt),sn("AllowScriptAccess",L.allowScriptAccess),sn("quality",En.quality),L.wmode?sn("wmode",L.wmode):"",sn("bgcolor",L.bgColor),sn("hasPriority","true"),L.debugFlash?sn("FlashVars",En.FlashVars):"","</object>"].join("");else for(sr in Gn=Ce.createElement("embed"),En)En.hasOwnProperty(sr)&&Gn.setAttribute(sr,En[sr]);if(Z(),$r=Ze(),Ri=X())if(L.oMC=v(L.movieID)||Ce.createElement("div"),L.oMC.id)me=L.oMC.className,L.oMC.className=(me?me+" ":Ve.swfDefault)+($r?" "+$r:""),L.oMC.appendChild(Gn),it&&((Wr=L.oMC.appendChild(Ce.createElement("div"))).className=Ve.swfBox,Wr.innerHTML=Sn),Ke=!0;else{if(L.oMC.id=L.movieID,L.oMC.className=Ve.swfDefault+" "+$r,Nr=null,Wr=null,L.useFlashBlock||(L.useHighPerformance?Nr={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(Nr={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},tn&&(Nr.left=Math.abs(parseInt(Nr.left,10))+"px"))),ct&&(L.oMC.style.zIndex=1e4),!L.debugFlash)for(mr in Nr)Nr.hasOwnProperty(mr)&&(L.oMC.style[mr]=Nr[mr]);try{it||L.oMC.appendChild(Gn),Ri.appendChild(L.oMC),it&&((Wr=L.oMC.appendChild(Ce.createElement("div"))).className=Ve.swfBox,Wr.innerHTML=Sn),Ke=!0}catch(cn){throw new Error(Le("domError")+" \n"+cn.toString())}}return Be=!0,en(),!0},F=function(){return L.html5Only?(oe(),!1):!ce&&(L.url?((ce=L.getMovie(L.id))||(Ht?(it?L.oMC.innerHTML=Bt:L.oMC.appendChild(Ht),Ht=null,Be=!0):oe(L.id,L.url),ce=L.getMovie(L.id)),typeof L.oninitmovie=="function"&&setTimeout(L.oninitmovie,1),We(),!0):(E("noURL"),!1))},j=function(){setTimeout(R,1e3)},D=function(){u.setTimeout(function(){pt(he+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),L.setup({preferFlash:!1}).reboot(),L.didFlashBlock=!0,L.beginDelayedInit()},1)},R=function(){var Qe,gt=!1;L.url&&(qt||(qt=!0,nt.remove(u,"load",j),wt&&yi&&!Mn?E("waitFocus"):(Pt||(Qe=L.getMoviePercent())>0&&Qe<100&&(gt=!0),setTimeout(function(){if(Qe=L.getMoviePercent(),gt)return qt=!1,L._wD(Le("waitSWF")),void u.setTimeout(j,1);Pt||(L._wD(pe+": No Flash response within expected time. Likely causes: "+(Qe===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(L.debugFlash?" "+Le("checkSWF"):""),2),!zi&&Qe&&(E("localFail",2),L.debugFlash||E("tryDebug",2)),Qe===0&&L._wD(Le("swf404",L.url),1),P("flashtojs",!1,": Timed out"+(zi?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Pt&&Cr&&(Qe===null?L.useFlashBlock||L.flashLoadTimeout===0?(L.useFlashBlock&&ke(),E("waitForever")):!L.useFlashBlock&&Te?D():(E("waitForever"),y({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):L.flashLoadTimeout===0?E("waitForever"):!L.useFlashBlock&&Te?D():ie(!0))},L.flashLoadTimeout))))},K=function(){function ft(){nt.remove(u,"focus",K)}return Mn||!yi?(ft(),!0):(Cr=!0,Mn=!0,E("gotFocus"),qt=!1,j(),ft(),!0)},We=function(){rn.length&&(L._wD("SoundManager 2: "+rn.join(" "),1),rn=[])},N=function(){We();var Qe,gt=[];if(L.useHTML5Audio&&L.hasHTML5){for(Qe in L.audioFormats)L.audioFormats.hasOwnProperty(Qe)&&gt.push(Qe+" = "+L.html5[Qe]+(!L.html5[Qe]&&Qt&&L.flash[Qe]?" (using flash)":L.preferFlash&&L.flash[Qe]&&Qt?" (preferring flash)":L.html5[Qe]?"":" ("+(L.audioFormats[Qe].required?"required, ":"")+"and no flash support)"));L._wD("SoundManager 2 HTML5 support: "+gt.join(", "),1)}},T=function(Qe){if(Pt)return!1;if(L.html5Only)return E("sm2Loaded",1),Pt=!0,_(),P("onload",!0),!0;var gt,en=!0;return L.useFlashBlock&&L.flashLoadTimeout&&!L.getMoviePercent()||(Pt=!0),gt={type:!wt&&Qt?"NO_FLASH":"INIT_TIMEOUT"},L._wD("SoundManager 2 "+(At?"failed to load":"loaded")+" ("+(At?"Flash security/load error":"OK")+") "+String.fromCharCode(At?10006:10003),At?2:1),At||Qe?(L.useFlashBlock&&L.oMC&&(L.oMC.className=Ze()+" "+(L.getMoviePercent()===null?Ve.swfTimedout:Ve.swfError)),y({type:"ontimeout",error:gt,ignoreInit:!0}),P("onload",!1),G(gt),en=!1):P("onload",!0),At||(L.waitForWindowLoad&&!Et?(E("waitOnload"),nt.add(u,"load",_)):(L.waitForWindowLoad&&Et&&E("docLoaded"),_())),en},w=function(){var Qe,gt=L.setupOptions;for(Qe in gt)gt.hasOwnProperty(Qe)&&(L[Qe]===l?L[Qe]=gt[Qe]:L[Qe]!==gt[Qe]&&(L.setupOptions[Qe]=L[Qe]))},b=function(){if(Pt)return E("didInit"),!1;function Qe(){nt.remove(u,"load",L.beginDelayedInit)}if(L.html5Only)return Pt||(Qe(),L.enabled=!0,T()),!0;F();try{ce._externalInterfaceTest(!1),Y(!0,L.flashPollingInterval||(L.useHighPerformance?10:50)),L.debugMode||ce._disableDebug(),L.enabled=!0,P("jstoflash",!0),L.html5Only||nt.add(u,"unload",x)}catch(gt){return L._wD("js/flash exception: "+gt.toString()),P("jstoflash",!1),G({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ie(!0),T(),!1}return T(),Qe(),!0},de=function(){return!V&&(V=!0,w(),Z(),!wt&&L.hasHTML5&&(L._wD("SoundManager 2: No Flash detected"+(L.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),L.setup({useHTML5Audio:!0,preferFlash:!1})),tt(),!wt&&Qt&&(rn.push(J.needFlash),L.setup({flashLoadTimeout:1})),Ce.removeEventListener&&Ce.removeEventListener("DOMContentLoaded",de,!1),F(),!0)},Fe=function(){return Ce.readyState==="complete"&&(de(),Ce.detachEvent("onreadystatechange",Fe)),!0},re=function(){Et=!0,de(),nt.remove(u,"load",re)},_t(),nt.add(u,"focus",K),nt.add(u,"load",j),nt.add(u,"load",re),Ce.addEventListener?Ce.addEventListener("DOMContentLoaded",de,!1):Ce.attachEvent?Ce.attachEvent("onreadystatechange",Fe):(P("onload",!1),G({type:"NO_DOM2_EVENTS",fatal:!0}))};if(!u||!u.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;u.SM2_DEFER!==l&&SM2_DEFER||(r=new s),t&&typeof t.exports=="object"?(t.exports.SoundManager=s,t.exports.soundManager=r):(o=function(){return{constructor:s,getInstance:function(c){if(!u.soundManager&&_instanceof(c,Function)){var h=c(s);_instanceof(h,s)&&(u.soundManager=h)}return u.soundManager}}}.call(e,n,e,t))===void 0||(t.exports=o),u.SoundManager=s,u.soundManager=r}(window)},4818:function(t,e,n){"use strict";var o=n(9037),u=n(3689),l=n(8844),s=n(4327),r=n(1435).trim,d=n(6350),c=l("".charAt),h=o.parseFloat,f=o.Symbol,v=f&&f.iterator,x=1/h(d+"-0")!=-1/0||v&&!u(function(){h(Object(v))});t.exports=x?function(w){var b=r(s(w)),C=h(b);return C===0&&c(b,0)==="-"?-0:C}:h},6585:function(t,e,n){"use strict";var o=n(9989),u=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return u(s)}})},939:function(t,e,n){"use strict";var o=n(9989),u=n(4818);o({global:!0,forced:parseFloat!==u},{parseFloat:u})}},function(t){t(t.s=2862)}])}),X1=G1(Y1());var S;Vn=X1,S=Vn,Kp=S.default,K1=xi(Vn,["default"]),J1=Kp!==void 0?Kp:K1}}),Z1={};qr(Z1,{default:function(){return J1}});var U8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.tts.js":function(){Q1(),Q1()}}),ek,Jp,tk,nk,rk,ik,ok,ak,sk,lk,uk,Vn,Qp,ck,dk,hk=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.url.js":function(){ek=Object.create,Jp=Object.defineProperty,tk=Object.getOwnPropertyDescriptor,nk=Object.getOwnPropertyNames,rk=Object.getPrototypeOf,ik=Object.prototype.hasOwnProperty,ok=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},ak=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ik.call(t,v)&&v!==n&&Jp(t,v,{get:function(){return e[v]},enumerable:!(o=tk(e,v))||o.enumerable})},d=nk(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},sk=function(t,e,n){return n=t!=null?ek(rk(t)):{},ak(e||!t||!t.__esModule?Jp(n,"default",{value:t,enumerable:!0}):n,t)},lk=ok(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[336],{1226:function(t,e,n){var o=function(b,C){(C==null||C>b.length)&&(C=b.length);for(var P=0,E=new Array(C);P<C;P++)E[P]=b[P];return E},u=function(b,C){for(var P=0;P<C.length;P++){var E=C[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,(T=function(m,a){if(s(m)!=="object"||m===null)return m;var p=m[Symbol.toPrimitive];if(p!==void 0){var g=p.call(m,"string");if(s(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(E.key),s(T)==="symbol"?T:String(T)),E)}var T},l=function(b,C){for(var P=0;P<C.length;P++){var E=C[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,(T=function(m,a){if(c(m)!=="object"||m===null)return m;var p=m[Symbol.toPrimitive];if(p!==void 0){var g=p.call(m,"string");if(c(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(E.key),c(T)==="symbol"?T:String(T)),E)}var T};function s(w){return s=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(C){return typeof C=="undefined"?"undefined":_typeof(C)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b=="undefined"?"undefined":_typeof(b)},s(w)}n(278),n(228),n(4043),n(7267),n(4338),n(752),n(1694),n(6265),n(9307),n(8052),n(50),n(2349),n(1919),n(9373),n(9903),n(9749),n(6544),n(9288),n(4254),n(7522),n(9358),n(5728),n(4284),n(6203),n(886),n(8077),n(2826),n(8730),n(5415),n(2462),n(6585),n(8436),n(1514),n(9730),n(7049);var r,d=function(){function w(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(E,T){if(!_instanceof(E,T))throw new TypeError("Cannot call a class as a function")})(this,w),this.bookReaderOptions=P,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}var b,C;return b=w,C=[{key:"urlStateToUrlString",value:function(E){var T=this,m=new URLSearchParams,a={};Object.keys(E).forEach(function(_){var j,R,D,H,K=T.urlSchema.find(function(J){return J.name===_});(j=K)!==null&&j!==void 0&&j.deprecated_for&&(K=T.urlSchema.find(function(J){return J.name===K.deprecated_for})),((R=K)===null||R===void 0?void 0:R.position)=="path"?a[(D=K)===null||D===void 0?void 0:D.name]=E[_]:m.append(((H=K)===null||H===void 0?void 0:H.name)||_,E[_])});var p=this.urlSchema.filter(function(_){return _.position=="path"}).map(function(_){return a[_.name]?"".concat(_.name,"/").concat(encodeURIComponent(a[_.name])):""}).join("/"),g="".concat(p.replace(/\/+/g,"/").replace(/\/+$/,"")),y="".concat(g,"?").concat(m.toString());return m.toString()?y:"".concat(g)}},{key:"urlStringToUrlState",value:function(E){var T={},m=new URL(E,"http://example.com"),a=Object.fromEntries(m.searchParams.entries()),p=m.pathname.match(/[^\\/]+\/[^\\/]+/g),g=p?Object.fromEntries(p.map(function(_){return _.split("/")})):{},y=function(j,R){return Object.keys(j).some(function(D){return D==R})};return this.urlSchema.filter(function(_){return _.position=="path"}).forEach(function(_){var j=y(g,_.name),R=y(_,"deprecated_for")&&j;if(j||R){var D=R?_.deprecated_for:_.name;T[D]=decodeURIComponent(g[_.name])}}),Object.entries(a).forEach(function(_){var j,R,D=(R=2,function(J){if(Array.isArray(J))return J}(j=_)||function(J,F){var de=J==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&J[Symbol.iterator]||J["@@iterator"];if(de!=null){var re,V,X,oe,G=[],Y=!0,Z=!1;try{if(X=(de=de.call(J)).next,F===0){if(Object(de)!==de)return;Y=!1}else for(;!(Y=(re=X.call(de)).done)&&(G.push(re.value),G.length!==F);Y=!0);}catch(ae){Z=!0,V=ae}finally{try{if(!Y&&de.return!=null&&(oe=de.return(),Object(oe)!==oe))return}finally{if(Z)throw V}}return G}}(j,R)||function(J,F){if(J){if(typeof J=="string")return o(J,F);var de=Object.prototype.toString.call(J).slice(8,-1);return de==="Object"&&J.constructor&&(de=J.constructor.name),de==="Map"||de==="Set"?Array.from(J):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?o(J,F):void 0}}(j,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),H=D[0],K=D[1];T[H]=K}),T}},{key:"setUrlParam",value:function(E,T){this.urlState[E]=T,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(E){delete this.urlState[E],this.pushToAddressBar()}},{key:"getUrlParam",value:function(E){return this.urlState[E]}},{key:"pushToAddressBar",value:function(){var E=this.urlStateToUrlString(this.urlState),T=E!=="/"?E:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var m="".concat(this.urlHistoryBasePath).concat(T).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,m)}catch(a){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+T),this.oldLocationHash=E}},{key:"listenForHashChanges",value:function(){var E=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var T=window.location.hash.substr(1);T!=E.oldLocationHash&&(E.urlState=E.urlStringToUrlState(T))},500)}},{key:"pullFromAddressBar",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,T=this.urlMode==="history"?E.pathname.substr(this.urlHistoryBasePath.length)+E.search:E.hash.substr(1);this.urlState=this.urlStringToUrlState(T)}}],C&&u(b.prototype,C),Object.defineProperty(b,"prototype",{writable:!1}),w}();function c(w){return c=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(C){return typeof C=="undefined"?"undefined":_typeof(C)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b=="undefined"?"undefined":_typeof(b)},c(w)}function h(){return h=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(b,C,P){var E=function(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=v(m))!==null;);return m}(b,C);if(E){var T=Object.getOwnPropertyDescriptor(E,C);return T.get?T.get.call(arguments.length<3?b:P):T.value}},h.apply(this,arguments)}function f(w,b){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,E){return P.__proto__=E,P},f(w,b)}function v(w){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},v(w)}n(5311).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(r=BookReader.prototype.setup,function(w){r.call(this,w),this.bookId=w.bookId,this.defaults=w.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(w){return function(){var b=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var C=b.options,P=C.updateWindowTitle,E=C.urlMode;P&&(document.title=b.shortTitle(b.bookTitle,50)),E==="hash"&&b.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),w.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(w){return this.bookTitle.length<w?this.bookTitle:"".concat(this.bookTitle.substr(0,w-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var w=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var b=w.urlReadFragment();if(b!=w.oldLocationHash&&b!=w.oldUserHash){var C=w.paramsFromFragment(b),P=function(){return w.updateFromParams(C)};w.trigger(BookReader.eventNames.stop),w.animating?(w.autoStop&&w.autoStop(),w.animationFinishedCallback=P):P(),w.oldUserHash=b}},500)},BookReader.prototype.urlUpdateFragment=function(){var w=this.paramsFromCurrent(),b=this.options,C=b.urlTrackIndex0,P=b.urlTrackedParams;C||w.index===void 0||w.index!==0||(delete w.index,delete w.page);var E=P.reduce(function(R,D){return D in w&&(R[D]=w[D]),R},{}),T=this.fragmentFromParams(E,this.options.urlMode),m=this.urlReadFragment(),a=this.getLocationSearch(),p=this.queryStringFromParams(E,a,this.options.urlMode);if(m!==T||a!==p){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var g=this.options.urlHistoryBasePath.replace(/\/+$/,""),y=T===""?"":"/".concat(T),_="".concat(g).concat(y).concat(p);try{window.history.replaceState({},null,_),this.oldLocationHash=T+p}catch(R){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var j=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+T+j),this.oldLocationHash=T+j}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(w){var b=new URLSearchParams(w);return b.has("q")?"?".concat(new URLSearchParams({q:b.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var w=this.options,b=w.urlMode,C=w.urlHistoryBasePath;return b==="history"?window.location.pathname.substr(C.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var x=function(w){(function(a,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(p&&p.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),p&&f(a,p)})(m,BookReader);var b,C,P,E,T=(P=m,E=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var p,g=v(P);if(E){var y=v(this).constructor;p=Reflect.construct(g,arguments,y)}else p=g.apply(this,arguments);return function(_,j){if(j&&(c(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(_)}(this,p)});function m(){return function(a,p){if(!_instanceof(a,p))throw new TypeError("Cannot call a class as a function")}(this,m),T.apply(this,arguments)}return b=m,(C=[{key:"init",value:function(){var p=this;this.options.enableUrlPlugin&&(this.urlPlugin=new d(this.options),this.bind(BookReader.eventNames.PostInit,function(){p.options.urlMode==="hash"&&p.urlPlugin.listenForHashChanges()})),h(v(m.prototype),"init",this).call(this)}}])&&l(b.prototype,C),Object.defineProperty(b,"prototype",{writable:!1}),m}();window.BookReader=x},6430:function(t,e,n){var o=n(8844),u=2147483647,l=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",d=RangeError,c=o(s.exec),h=Math.floor,f=String.fromCharCode,v=o("".charCodeAt),x=o([].join),w=o([].push),b=o("".replace),C=o("".split),P=o("".toLowerCase),E=function(p){return p+22+75*(p<26)},T=function(p,g,y){var _=0;for(p=y?h(p/700):p>>1,p+=h(p/g);p>455;)p=h(p/35),_+=36;return h(_+36*p/(p+38))},m=function(p){var g=[];p=function(Y){for(var Z=[],ae=0,ie=Y.length;ae<ie;){var je=v(Y,ae++);if(je>=55296&&je<=56319&&ae<ie){var Le=v(Y,ae++);(64512&Le)==56320?w(Z,((1023&je)<<10)+(1023&Le)+65536):(w(Z,je),ae--)}else w(Z,je)}return Z}(p);var y,_,j=p.length,R=128,D=0,H=72;for(y=0;y<p.length;y++)(_=p[y])<128&&w(g,f(_));var K=g.length,J=K;for(K&&w(g,"-");J<j;){var F=u;for(y=0;y<p.length;y++)(_=p[y])>=R&&_<F&&(F=_);var de=J+1;if(F-R>h((u-D)/de))throw new d(r);for(D+=(F-R)*de,R=F,y=0;y<p.length;y++){if((_=p[y])<R&&++D>u)throw new d(r);if(_===R){for(var re=D,V=36;;){var X=V<=H?1:V>=H+26?26:V-H;if(re<X)break;var oe=re-X,G=36-X;w(g,f(E(X+oe%G))),re=h(oe/G),V+=36}w(g,f(E(re))),H=T(D,de,J===K),D=0,J++}}D++,R++}return x(g,"")};t.exports=function(a){var p,g,y=[],_=C(b(P(a),s,"."),".");for(p=0;p<_.length;p++)g=_[p],w(y,c(l,g)?"xn--"+m(g):g);return x(y,".")}},5984:function(t,e,n){var o=n(1236).PROPER,u=n(3689),l=n(6350);t.exports=function(s){return u(function(){return!!l[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&l[s].name!==s})}},6585:function(t,e,n){var o=n(9989),u=n(9419).entries;o({target:"Object",stat:!0},{entries:function(s){return u(s)}})},5415:function(t,e,n){var o=n(9989),u=n(8734),l=n(6522);o({target:"Object",stat:!0},{fromEntries:function(r){var d={};return u(r,function(c,h){l(d,c,h)},{AS_ENTRIES:!0}),d}})},8436:function(t,e,n){var o=n(9989),u=n(1435).trim;o({target:"String",proto:!0,forced:n(5984)("trim")},{trim:function(){return u(this)}})},9391:function(t,e,n){n(1694);var o,u=n(9989),l=n(7697),s=n(6837),r=n(9037),d=n(4071),c=n(8844),h=n(1880),f=n(2148),v=n(767),x=n(6812),w=n(5394),b=n(1055),C=n(9015),P=n(730).codeAt,E=n(6430),T=n(4327),m=n(5997),a=n(1500),p=n(2625),g=n(618),y=g.set,_=g.getterFor("URL"),j=p.URLSearchParams,R=p.getState,D=r.URL,H=r.TypeError,K=r.parseInt,J=Math.floor,F=Math.pow,de=c("".charAt),re=c(/./.exec),V=c([].join),X=c(1 .toString),oe=c([].pop),G=c([].push),Y=c("".replace),Z=c([].shift),ae=c("".split),ie=c("".slice),je=c("".toLowerCase),Le=c([].unshift),ke="Invalid scheme",Ze="Invalid host",Ve="Invalid port",Xe=/[a-z]/i,dt=/[\d+-.a-z]/i,yt=/\d/,pt=/^0x/i,Re=/^[0-7]+$/,_e=/^\d+$/,Ne=/^[\da-f]+$/i,Je=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ye=/[\0\t\n\r #/:<>?@[\\\]^|]/,Te=/^[\u0000-\u0020]+/,rt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ht=/[\t\n\r]/g,at=function(Rt){var rn,Qt,Tn,Nt;if(typeof Rt=="number"){for(rn=[],Qt=0;Qt<4;Qt++)Le(rn,Rt%256),Rt=J(Rt/256);return V(rn,".")}if(typeof Rt=="object"){for(rn="",Tn=function(Me){for(var fe=null,Se=1,De=null,it=0,ct=0;ct<8;ct++)Me[ct]!==0?(it>Se&&(fe=De,Se=it),De=null,it=0):(De===null&&(De=ct),++it);return it>Se&&(fe=De,Se=it),fe}(Rt),Qt=0;Qt<8;Qt++)Nt&&Rt[Qt]===0||(Nt&&(Nt=!1),Tn===Qt?(rn+=Qt?":":"::",Nt=!0):(rn+=X(Rt[Qt],16),Qt<7&&(rn+=":")));return"["+rn+"]"}return Rt},ut={},qe=w({},ut,{" ":1,'"':1,"<":1,">":1,"`":1}),ze=w({},qe,{"#":1,"?":1,"{":1,"}":1}),Fe=w({},ze,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),tt=function(Rt,rn){var Qt=P(Rt,0);return Qt>32&&Qt<127&&!x(rn,Rt)?Rt:encodeURIComponent(Rt)},nt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},bt=function(Rt,rn){var Qt;return Rt.length===2&&re(Xe,de(Rt,0))&&((Qt=de(Rt,1))===":"||!rn&&Qt==="|")},wt=function(Rt){var rn;return Rt.length>1&&bt(ie(Rt,0,2))&&(Rt.length===2||(rn=de(Rt,2))==="/"||rn==="\\"||rn==="?"||rn==="#")},_t=function(Rt){return Rt==="."||je(Rt)==="%2e"},st={},ye={},N={},We={},Ie={},et={},L={},ue={},ce={},pe={},he={},Q={},be={},Ce={},xe={},Ge={},Be={},Ke={},Pt={},At={},Et={},Jt=function(un,Rt,rn){var Qt,Tn,Nt,Me=T(un);if(Rt){if(Tn=this.parse(Me))throw new H(Tn);this.searchParams=null}else{if(rn!==void 0&&(Qt=new Jt(rn,!0)),Tn=this.parse(Me,null,Qt))throw new H(Tn);(Nt=R(new j)).bindURL(this),this.searchParams=Nt}};Jt.prototype={type:"URL",parse:function(Rt,rn,Qt){var Tn,Nt,Me,fe,Se,De=this,it=rn||st,ct=0,It="",gn=!1,mn=!1,Ut=!1;for(Rt=T(Rt),rn||(De.scheme="",De.username="",De.password="",De.host=null,De.port=null,De.path=[],De.query=null,De.fragment=null,De.cannotBeABaseURL=!1,Rt=Y(Rt,Te,""),Rt=Y(Rt,rt,"$1")),Rt=Y(Rt,ht,""),Tn=b(Rt);ct<=Tn.length;){switch(Nt=Tn[ct],it){case st:if(!Nt||!re(Xe,Nt)){if(rn)return ke;it=N;continue}It+=je(Nt),it=ye;break;case ye:if(Nt&&(re(dt,Nt)||Nt==="+"||Nt==="-"||Nt==="."))It+=je(Nt);else{if(Nt!==":"){if(rn)return ke;It="",it=N,ct=0;continue}if(rn&&(De.isSpecial()!==x(nt,It)||It==="file"&&(De.includesCredentials()||De.port!==null)||De.scheme==="file"&&!De.host))return;if(De.scheme=It,rn)return void(De.isSpecial()&&nt[De.scheme]===De.port&&(De.port=null));It="",De.scheme==="file"?it=Ce:De.isSpecial()&&Qt&&Qt.scheme===De.scheme?it=We:De.isSpecial()?it=ue:Tn[ct+1]==="/"?(it=Ie,ct++):(De.cannotBeABaseURL=!0,G(De.path,""),it=Pt)}break;case N:if(!Qt||Qt.cannotBeABaseURL&&Nt!=="#")return ke;if(Qt.cannotBeABaseURL&&Nt==="#"){De.scheme=Qt.scheme,De.path=C(Qt.path),De.query=Qt.query,De.fragment="",De.cannotBeABaseURL=!0,it=Et;break}it=Qt.scheme==="file"?Ce:et;continue;case We:if(Nt!=="/"||Tn[ct+1]!=="/"){it=et;continue}it=ce,ct++;break;case Ie:if(Nt==="/"){it=pe;break}it=Ke;continue;case et:if(De.scheme=Qt.scheme,Nt===o)De.username=Qt.username,De.password=Qt.password,De.host=Qt.host,De.port=Qt.port,De.path=C(Qt.path),De.query=Qt.query;else if(Nt==="/"||Nt==="\\"&&De.isSpecial())it=L;else if(Nt==="?")De.username=Qt.username,De.password=Qt.password,De.host=Qt.host,De.port=Qt.port,De.path=C(Qt.path),De.query="",it=At;else{if(Nt!=="#"){De.username=Qt.username,De.password=Qt.password,De.host=Qt.host,De.port=Qt.port,De.path=C(Qt.path),De.path.length--,it=Ke;continue}De.username=Qt.username,De.password=Qt.password,De.host=Qt.host,De.port=Qt.port,De.path=C(Qt.path),De.query=Qt.query,De.fragment="",it=Et}break;case L:if(!De.isSpecial()||Nt!=="/"&&Nt!=="\\"){if(Nt!=="/"){De.username=Qt.username,De.password=Qt.password,De.host=Qt.host,De.port=Qt.port,it=Ke;continue}it=pe}else it=ce;break;case ue:if(it=ce,Nt!=="/"||de(It,ct+1)!=="/")continue;ct++;break;case ce:if(Nt!=="/"&&Nt!=="\\"){it=pe;continue}break;case pe:if(Nt==="@"){gn&&(It="%40"+It),gn=!0,Me=b(It);for(var $n=0;$n<Me.length;$n++){var Mn=Me[$n];if(Mn!==":"||Ut){var yi=tt(Mn,Fe);Ut?De.password+=yi:De.username+=yi}else Ut=!0}It=""}else if(Nt===o||Nt==="/"||Nt==="?"||Nt==="#"||Nt==="\\"&&De.isSpecial()){if(gn&&It==="")return"Invalid authority";ct-=b(It).length+1,It="",it=he}else It+=Nt;break;case he:case Q:if(rn&&De.scheme==="file"){it=Ge;continue}if(Nt!==":"||mn){if(Nt===o||Nt==="/"||Nt==="?"||Nt==="#"||Nt==="\\"&&De.isSpecial()){if(De.isSpecial()&&It==="")return Ze;if(rn&&It===""&&(De.includesCredentials()||De.port!==null))return;if(fe=De.parseHost(It))return fe;if(It="",it=Be,rn)return;continue}Nt==="["?mn=!0:Nt==="]"&&(mn=!1),It+=Nt}else{if(It==="")return Ze;if(fe=De.parseHost(It))return fe;if(It="",it=be,rn===Q)return}break;case be:if(!re(yt,Nt)){if(Nt===o||Nt==="/"||Nt==="?"||Nt==="#"||Nt==="\\"&&De.isSpecial()||rn){if(It!==""){var Cr=K(It,10);if(Cr>65535)return Ve;De.port=De.isSpecial()&&Cr===nt[De.scheme]?null:Cr,It=""}if(rn)return;it=Be;continue}return Ve}It+=Nt;break;case Ce:if(De.scheme="file",Nt==="/"||Nt==="\\")it=xe;else{if(!Qt||Qt.scheme!=="file"){it=Ke;continue}switch(Nt){case o:De.host=Qt.host,De.path=C(Qt.path),De.query=Qt.query;break;case"?":De.host=Qt.host,De.path=C(Qt.path),De.query="",it=At;break;case"#":De.host=Qt.host,De.path=C(Qt.path),De.query=Qt.query,De.fragment="",it=Et;break;default:wt(V(C(Tn,ct),""))||(De.host=Qt.host,De.path=C(Qt.path),De.shortenPath()),it=Ke;continue}}break;case xe:if(Nt==="/"||Nt==="\\"){it=Ge;break}Qt&&Qt.scheme==="file"&&!wt(V(C(Tn,ct),""))&&(bt(Qt.path[0],!0)?G(De.path,Qt.path[0]):De.host=Qt.host),it=Ke;continue;case Ge:if(Nt===o||Nt==="/"||Nt==="\\"||Nt==="?"||Nt==="#"){if(!rn&&bt(It))it=Ke;else if(It===""){if(De.host="",rn)return;it=Be}else{if(fe=De.parseHost(It))return fe;if(De.host==="localhost"&&(De.host=""),rn)return;It="",it=Be}continue}It+=Nt;break;case Be:if(De.isSpecial()){if(it=Ke,Nt!=="/"&&Nt!=="\\")continue}else if(rn||Nt!=="?")if(rn||Nt!=="#"){if(Nt!==o&&(it=Ke,Nt!=="/"))continue}else De.fragment="",it=Et;else De.query="",it=At;break;case Ke:if(Nt===o||Nt==="/"||Nt==="\\"&&De.isSpecial()||!rn&&(Nt==="?"||Nt==="#")){if((Se=je(Se=It))===".."||Se==="%2e."||Se===".%2e"||Se==="%2e%2e"?(De.shortenPath(),Nt==="/"||Nt==="\\"&&De.isSpecial()||G(De.path,"")):_t(It)?Nt==="/"||Nt==="\\"&&De.isSpecial()||G(De.path,""):(De.scheme==="file"&&!De.path.length&&bt(It)&&(De.host&&(De.host=""),It=de(It,0)+":"),G(De.path,It)),It="",De.scheme==="file"&&(Nt===o||Nt==="?"||Nt==="#"))for(;De.path.length>1&&De.path[0]==="";)Z(De.path);Nt==="?"?(De.query="",it=At):Nt==="#"&&(De.fragment="",it=Et)}else It+=tt(Nt,ze);break;case Pt:Nt==="?"?(De.query="",it=At):Nt==="#"?(De.fragment="",it=Et):Nt!==o&&(De.path[0]+=tt(Nt,ut));break;case At:rn||Nt!=="#"?Nt!==o&&(Nt==="'"&&De.isSpecial()?De.query+="%27":De.query+=Nt==="#"?"%23":tt(Nt,ut)):(De.fragment="",it=Et);break;case Et:Nt!==o&&(De.fragment+=tt(Nt,qe))}ct++}},parseHost:function(Rt){var rn,Qt,Tn;if(de(Rt,0)==="["){if(de(Rt,Rt.length-1)!=="]"||(rn=function(Nt){var Me,fe,Se,De,it,ct,It,gn=[0,0,0,0,0,0,0,0],mn=0,Ut=null,$n=0,Mn=function(){return de(Nt,$n)};if(Mn()===":"){if(de(Nt,1)!==":")return;$n+=2,Ut=++mn}for(;Mn();){if(mn===8)return;if(Mn()!==":"){for(Me=fe=0;fe<4&&re(Ne,Mn());)Me=16*Me+K(Mn(),16),$n++,fe++;if(Mn()==="."){if(fe===0||($n-=fe,mn>6))return;for(Se=0;Mn();){if(De=null,Se>0){if(!(Mn()==="."&&Se<4))return;$n++}if(!re(yt,Mn()))return;for(;re(yt,Mn());){if(it=K(Mn(),10),De===null)De=it;else{if(De===0)return;De=10*De+it}if(De>255)return;$n++}gn[mn]=256*gn[mn]+De,++Se!=2&&Se!==4||mn++}if(Se!==4)return;break}if(Mn()===":"){if($n++,!Mn())return}else if(Mn())return;gn[mn++]=Me}else{if(Ut!==null)return;$n++,Ut=++mn}}if(Ut!==null)for(ct=mn-Ut,mn=7;mn!==0&&ct>0;)It=gn[mn],gn[mn--]=gn[Ut+ct-1],gn[Ut+--ct]=It;else if(mn!==8)return;return gn}(ie(Rt,1,-1)),!rn))return Ze;this.host=rn}else if(this.isSpecial()){if(Rt=E(Rt),re(Je,Rt)||(rn=function(Nt){var Me,fe,Se,De,it,ct,It,gn=ae(Nt,".");if(gn.length&&gn[gn.length-1]===""&&gn.length--,(Me=gn.length)>4)return Nt;for(fe=[],Se=0;Se<Me;Se++){if((De=gn[Se])==="")return Nt;if(it=10,De.length>1&&de(De,0)==="0"&&(it=re(pt,De)?16:8,De=ie(De,it===8?1:2)),De==="")ct=0;else{if(!re(it===10?_e:it===8?Re:Ne,De))return Nt;ct=K(De,it)}G(fe,ct)}for(Se=0;Se<Me;Se++)if(ct=fe[Se],Se===Me-1){if(ct>=F(256,5-Me))return null}else if(ct>255)return null;for(It=oe(fe),Se=0;Se<fe.length;Se++)It+=fe[Se]*F(256,3-Se);return It}(Rt),rn===null))return Ze;this.host=rn}else{if(re(Ye,Rt))return Ze;for(rn="",Qt=b(Rt),Tn=0;Tn<Qt.length;Tn++)rn+=tt(Qt[Tn],ut);this.host=rn}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return x(nt,this.scheme)},shortenPath:function(){var Rt=this.path,rn=Rt.length;!rn||this.scheme==="file"&&rn===1&&bt(Rt[0],!0)||Rt.length--},serialize:function(){var Rt=this,rn=Rt.scheme,Qt=Rt.username,Tn=Rt.password,Nt=Rt.host,Me=Rt.port,fe=Rt.path,Se=Rt.query,De=Rt.fragment,it=rn+":";return Nt!==null?(it+="//",Rt.includesCredentials()&&(it+=Qt+(Tn?":"+Tn:"")+"@"),it+=at(Nt),Me!==null&&(it+=":"+Me)):rn==="file"&&(it+="//"),it+=Rt.cannotBeABaseURL?fe[0]:fe.length?"/"+V(fe,"/"):"",Se!==null&&(it+="?"+Se),De!==null&&(it+="#"+De),it},setHref:function(Rt){var rn=this.parse(Rt);if(rn)throw new H(rn);this.searchParams.update()},getOrigin:function(){var Rt=this.scheme,rn=this.port;if(Rt==="blob")try{return new Dt(Rt.path[0]).origin}catch(Qt){return"null"}return Rt!=="file"&&this.isSpecial()?Rt+"://"+at(this.host)+(rn!==null?":"+rn:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Rt){this.parse(T(Rt)+":",st)},getUsername:function(){return this.username},setUsername:function(Rt){var rn=b(T(Rt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Qt=0;Qt<rn.length;Qt++)this.username+=tt(rn[Qt],Fe)}},getPassword:function(){return this.password},setPassword:function(Rt){var rn=b(T(Rt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Qt=0;Qt<rn.length;Qt++)this.password+=tt(rn[Qt],Fe)}},getHost:function(){var Rt=this.host,rn=this.port;return Rt===null?"":rn===null?at(Rt):at(Rt)+":"+rn},setHost:function(Rt){this.cannotBeABaseURL||this.parse(Rt,he)},getHostname:function(){var Rt=this.host;return Rt===null?"":at(Rt)},setHostname:function(Rt){this.cannotBeABaseURL||this.parse(Rt,Q)},getPort:function(){var Rt=this.port;return Rt===null?"":T(Rt)},setPort:function(Rt){this.cannotHaveUsernamePasswordPort()||((Rt=T(Rt))===""?this.port=null:this.parse(Rt,be))},getPathname:function(){var Rt=this.path;return this.cannotBeABaseURL?Rt[0]:Rt.length?"/"+V(Rt,"/"):""},setPathname:function(Rt){this.cannotBeABaseURL||(this.path=[],this.parse(Rt,Be))},getSearch:function(){var Rt=this.query;return Rt?"?"+Rt:""},setSearch:function(Rt){(Rt=T(Rt))===""?this.query=null:(de(Rt,0)==="?"&&(Rt=ie(Rt,1)),this.query="",this.parse(Rt,At)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Rt=this.fragment;return Rt?"#"+Rt:""},setHash:function(Rt){(Rt=T(Rt))!==""?(de(Rt,0)==="#"&&(Rt=ie(Rt,1)),this.fragment="",this.parse(Rt,Et)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Dt=function(Rt){var rn=v(this,Ht),Qt=a(arguments.length,1)>1?arguments[1]:void 0,Tn=y(rn,new Jt(Rt,!1,Qt));l||(rn.href=Tn.serialize(),rn.origin=Tn.getOrigin(),rn.protocol=Tn.getProtocol(),rn.username=Tn.getUsername(),rn.password=Tn.getPassword(),rn.host=Tn.getHost(),rn.hostname=Tn.getHostname(),rn.port=Tn.getPort(),rn.pathname=Tn.getPathname(),rn.search=Tn.getSearch(),rn.searchParams=Tn.getSearchParams(),rn.hash=Tn.getHash())},Ht=Dt.prototype,Bt=function(Rt,rn){return{get:function(){return _(this)[Rt]()},set:rn&&function(Qt){return _(this)[rn](Qt)},configurable:!0,enumerable:!0}};if(l&&(f(Ht,"href",Bt("serialize","setHref")),f(Ht,"origin",Bt("getOrigin")),f(Ht,"protocol",Bt("getProtocol","setProtocol")),f(Ht,"username",Bt("getUsername","setUsername")),f(Ht,"password",Bt("getPassword","setPassword")),f(Ht,"host",Bt("getHost","setHost")),f(Ht,"hostname",Bt("getHostname","setHostname")),f(Ht,"port",Bt("getPort","setPort")),f(Ht,"pathname",Bt("getPathname","setPathname")),f(Ht,"search",Bt("getSearch","setSearch")),f(Ht,"searchParams",Bt("getSearchParams")),f(Ht,"hash",Bt("getHash","setHash"))),h(Ht,"toJSON",function(){return _(this).serialize()},{enumerable:!0}),h(Ht,"toString",function(){return _(this).serialize()},{enumerable:!0}),D){var qt=D.createObjectURL,Zt=D.revokeObjectURL;qt&&h(Dt,"createObjectURL",d(qt,D)),Zt&&h(Dt,"revokeObjectURL",d(Zt,D))}m(Dt,"URL"),u({global:!0,constructor:!0,forced:!s,sham:!l},{URL:Dt})},8730:function(t,e,n){n(9391)}},function(t){t(t.s=1226)}])}),uk=sk(lk());var S;Vn=uk,S=Vn,Qp=S.default,ck=xi(Vn,["default"]),dk=Qp!==void 0?Qp:ck}}),fk={};qr(fk,{default:function(){return dk}});var V8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.url.js":function(){hk(),hk()}}),pk,Zp,vk,gk,mk,yk,bk,wk,_k,kk,xk,Vn,ev,Sk,Ak,Ck=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.autoplay.js":function(){pk=Object.create,Zp=Object.defineProperty,vk=Object.getOwnPropertyDescriptor,gk=Object.getOwnPropertyNames,mk=Object.getPrototypeOf,yk=Object.prototype.hasOwnProperty,bk=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},wk=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!yk.call(t,v)&&v!==n&&Zp(t,v,{get:function(){return e[v]},enumerable:!(o=vk(e,v))||o.enumerable})},d=gk(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},_k=function(t,e,n){return n=t!=null?pk(mk(t)):{},wk(e||!t||!t.__esModule?Zp(n,"default",{value:t,enumerable:!0}):n,t)},kk=bk(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[320],{2024:function(t,e,n){n(8077),n(228);var o,u=n(5311),l=n(5311);u.extend(BookReader.defaultOptions,{enableAutoPlayPlugin:!0}),BookReader.prototype.setup=(o=BookReader.prototype.setup,function(s){o.call(this,s),this.auto=!1,this.autoTimer=null,this.flipDelay=5e3}),BookReader.prototype.init=function(s){return function(r){var d=this;s.call(this,r),this.options.enableAutoPlayPlugin&&this.bind(BookReader.eventNames.stop,function(){return d.autoStop()})}}(BookReader.prototype.init),BookReader.prototype.bindNavigationHandlers=function(s){return function(){var r=this;if(s.call(this),this.options.enableAutoPlayPlugin){var d=this.$(".BRicon");d.filter(".play").click(function(){return r.autoToggle(),!1}),d.filter(".pause").click(function(){return r.autoToggle(),!1})}}}(BookReader.prototype.bindNavigationHandlers),BookReader.prototype.autoToggle=function(s){var r=this;if(this.options.enableAutoPlayPlugin){var d=l.extend({flipSpeed:this.flipSpeed,flipDelay:this.flipDelay},s);this.flipSpeed=typeof d.flipSpeed=="number"?d.flipSpeed:this.flipSpeed,this.flipDelay=typeof d.flipDelay=="number"?d.flipDelay:this.flipDelay,this.trigger(BookReader.eventNames.stop);var c=!1;this.constMode2up!=this.mode&&(c=!0,this.switchMode(this.constMode2up)),this.autoTimer==null?(this.pageProgression=="rl"&&c||this.next({triggerStop:!1}),this.$(".play").hide(),this.$(".pause").show(),this.autoTimer=setInterval(function(){r.animating||(Math.max(r.twoPage.currentIndexL,r.twoPage.currentIndexR)>=r.book.getNumLeafs()-1?r.prev({triggerStop:!1}):r.next({triggerStop:!1}))},this.flipDelay)):this.autoStop()}},BookReader.prototype.autoStop=function(){this.options.enableAutoPlayPlugin&&this.autoTimer!=null&&(clearInterval(this.autoTimer),this.flipSpeed="fast",this.$(".pause").hide(),this.$(".play").show(),this.autoTimer=null)}}},function(t){t(t.s=2024)}])}),xk=_k(kk());var S;Vn=xk,S=Vn,ev=S.default,Sk=xi(Vn,["default"]),Ak=ev!==void 0?ev:Sk}}),Ok={};qr(Ok,{default:function(){return Ak}});var W8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.autoplay.js":function(){Ck(),Ck()}}),jk,tv,Ek,Pk,Tk,Ik,Mk,Rk,Lk,Dk,$k,Vn,nv,Bk,Nk,zk=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.resume.js":function(){jk=Object.create,tv=Object.defineProperty,Ek=Object.getOwnPropertyDescriptor,Pk=Object.getOwnPropertyNames,Tk=Object.getPrototypeOf,Ik=Object.prototype.hasOwnProperty,Mk=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Rk=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!Ik.call(t,v)&&v!==n&&tv(t,v,{get:function(){return e[v]},enumerable:!(o=Ek(e,v))||o.enumerable})},d=Pk(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},Lk=function(t,e,n){return n=t!=null?jk(Tk(t)):{},Rk(e||!t||!t.__esModule?tv(n,"default",{value:t,enumerable:!0}):n,t)},Dk=Mk(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[951],{5842:function(t,e,n){var o=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return v.cookie,!1}catch(x){return!0}},u=function(v){return d||!v?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(v).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},l=function(v,x,w,b,C,P){return!d&&(document.cookie=encodeURIComponent(v)+"="+encodeURIComponent(x)+(w?"; expires=".concat(w.toUTCString()):"")+(C?"; domain=".concat(C):"")+(b?"; path=".concat(b):"")+(P?"; secure":""),!0)},s=function(v,x,w){return!d&&!!hasItem(v)&&(document.cookie=encodeURIComponent(v)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(w?"; domain=".concat(w):"")+(x?"; path=".concat(x):""),!0)},r={};n.r(r),n.d(r,{areCookiesBlocked:function(){return o},getItem:function(){return u},removeItem:function(){return s},setItem:function(){return l}}),n(2320),n(4043),n(2462),n(7267),n(2003),n(2826);var d=o(),c,h=n(5311);BookReader.docCookies=r,h.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(c=BookReader.prototype.init,function(){var f=this;c.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,function(){var v=f.paramsFromCurrent();f.updateResumeValue(v.index)})}),BookReader.prototype.getResumeValue=function(){var f=BookReader.docCookies.getItem("br-resume");return f!==null?parseInt(f):null},BookReader.prototype.getCookiePath=function(f){return f.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(f,v){var x=new Date(+new Date+12096e5),w=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(v||"br-resume",f,x,w,null,!1)}}},function(t){t(t.s=5842)}])}),$k=Lk(Dk());var S;Vn=$k,S=Vn,nv=S.default,Bk=xi(Vn,["default"]),Nk=nv!==void 0?nv:Bk}}),Hk={};qr(Hk,{default:function(){return Nk}});var q8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.resume.js":function(){zk(),zk()}}),Fk,rv,Uk,Vk,Wk,qk,Gk,Yk,Xk,Kk,Jk,Vn,iv,Qk,Zk,ex=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.archive_analytics.js":function(){Fk=Object.create,rv=Object.defineProperty,Uk=Object.getOwnPropertyDescriptor,Vk=Object.getOwnPropertyNames,Wk=Object.getPrototypeOf,qk=Object.prototype.hasOwnProperty,Gk=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Yk=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!qk.call(t,v)&&v!==n&&rv(t,v,{get:function(){return e[v]},enumerable:!(o=Uk(e,v))||o.enumerable})},d=Vk(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},Xk=function(t,e,n){return n=t!=null?Fk(Wk(t)):{},Yk(e||!t||!t.__esModule?rv(n,"default",{value:t,enumerable:!0}):n,t)},Kk=Gk(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[810],{2815:function(t,e,n){var o;n(4043),n(2462),n(5311).extend(BookReader.defaultOptions,{enableArchiveAnalytics:!0,debugArchiveAnaltyics:!1}),BookReader.prototype.init=(o=BookReader.prototype.init,function(){var u=this;o.call(this),this.options.enableArchiveAnalytics&&this.bind(BookReader.eventNames.fragmentChange,function(){return u.archiveAnalyticsSendFragmentChange()})}),BookReader.prototype.archiveAnalyticsSendFragmentChange=function(){if(window.archive_analytics){var u=this.archiveAnalyticsSendFragmentChange.prevFragment,l=this.paramsFromCurrent(),s=this.fragmentFromParams(l);if(u!=s){var r={bookreader:"user_changed_view",itemid:this.bookId,cache_bust:Math.random(),offsite:1,details:0};try{r.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,r.details=!r.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(c){}window.archive_analytics.send_ping(r,null,"augment_for_ao_site");var d=this.options.lendingInfo&&this.options.lendingInfo.loanId?{loanId:this.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,d),this.archiveAnalyticsSendFragmentChange.prevFragment=s}}},BookReader.prototype.archiveAnalyticsSendEvent=function(u,l,s,r){this.options.enableArchiveAnalytics&&(this.options.debugArchiveAnaltyics&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(r=r||{},typeof s=="number"&&(r.ev=s),window.archive_analytics.send_event(u,l,null,r)))}}},function(t){t(t.s=2815)}])}),Jk=Xk(Kk());var S;Vn=Jk,S=Vn,iv=S.default,Qk=xi(Vn,["default"]),Zk=iv!==void 0?iv:Qk}}),tx={};qr(tx,{default:function(){return Zk}});var G8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.archive_analytics.js":function(){ex(),ex()}}),nx,ov,rx,ix,ox,ax,sx,lx,ux,cx,dx,Vn,av,hx,fx,px=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.chapters.js":function(){nx=Object.create,ov=Object.defineProperty,rx=Object.getOwnPropertyDescriptor,ix=Object.getOwnPropertyNames,ox=Object.getPrototypeOf,ax=Object.prototype.hasOwnProperty,sx=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},lx=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ax.call(t,v)&&v!==n&&ov(t,v,{get:function(){return e[v]},enumerable:!(o=rx(e,v))||o.enumerable})},d=ix(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},ux=function(t,e,n){return n=t!=null?nx(ox(t)):{},lx(e||!t||!t.__esModule?ov(n,"default",{value:t,enumerable:!0}):n,t)},cx=sx(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[529],{235:function(t,e,n){var o=function(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G},u=function(G){var Y,Z=c(G.key);G.kind==="method"?Y={value:G.value,writable:!0,configurable:!0,enumerable:!1}:G.kind==="get"?Y={get:G.value,configurable:!0,enumerable:!1}:G.kind==="set"?Y={set:G.value,configurable:!0,enumerable:!1}:G.kind==="field"&&(Y={configurable:!0,writable:!0,enumerable:!0});var ae={kind:G.kind==="field"?"field":"method",key:Z,placement:G.static?"static":G.kind==="field"?"own":"prototype",descriptor:Y};return G.decorators&&(ae.decorators=G.decorators),G.kind==="field"&&(ae.initializer=G.value),ae},l=function(G,Y){G.descriptor.get!==void 0?Y.descriptor.get=G.descriptor.get:Y.descriptor.set=G.descriptor.set},s=function(G){return G.decorators&&G.decorators.length},r=function(G){return G!==void 0&&!(G.value===void 0&&G.writable===void 0)},d=function(G,Y){var Z=G[Y];if(Z!==void 0&&typeof Z!="function")throw new TypeError("Expected '"+Y+"' to be a function");return Z},c=function(G){var Y=function(Z,ae){if(J(Z)!=="object"||Z===null)return Z;var ie=Z[Symbol.toPrimitive];if(ie!==void 0){var je=ie.call(Z,"string");if(J(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return J(Y)==="symbol"?Y:String(Y)},h=function(G,Y){if(G){if(typeof G=="string")return v(G,Y);var Z=Object.prototype.toString.call(G).slice(8,-1);return Z==="Object"&&G.constructor&&(Z=G.constructor.name),Z==="Map"||Z==="Set"?Array.from(G):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?v(G,Y):void 0}},f=function(G){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)},v=function(G,Y){(Y==null||Y>G.length)&&(Y=G.length);for(var Z=0,ae=new Array(Y);Z<Y;Z++)ae[Z]=G[Z];return ae},x=function(G,Y){return Y||(Y=G.slice(0)),Object.freeze(Object.defineProperties(G,{raw:{value:Object.freeze(Y)}}))},w=function(G,Y,Z,ae,ie,je,Le){try{var ke=G[je](Le),Ze=ke.value}catch(Ve){return void Z(Ve)}ke.done?Y(Ze):Promise.resolve(Ze).then(ae,ie)},b=function(G){return function(){var Y=this,Z=arguments;return new Promise(function(ae,ie){var je=G.apply(Y,Z);function Le(Ze){w(je,ae,ie,Le,ke,"next",Ze)}function ke(Ze){w(je,ae,ie,Le,ke,"throw",Ze)}Le(void 0)})}};n(9749),n(6544),n(4254),n(752),n(1694),n(6265),n(8373),n(6793),n(7629),n(7509),n(8052),n(4284),n(9730),n(1830),n(7049),n(2826),n(4043),n(2349),n(1919),n(9373),n(9903),n(9288),n(2506),n(5728),n(50),n(886),n(429),n(228),n(7522),n(6203),n(8077),n(2320),n(4338),n(3374),n(9772),n(3964);var C=n(8318),P=n(9089),E=n(9407),T=n(1312),m=C.dy(_templateObject96()),a=function(oe){_inherits(Y,oe);var G=_createSuper(Y);function Y(){return _classCallCheck(this,Y),G.apply(this,arguments)}return _createClass(Y,[{key:"render",value:function(){return m}}],[{key:"styles",get:function(){return C.iv(_templateObject97())}}]),Y}(C.oi);customElements.define("ia-icon-toc",a);var p,g,y,_,j,R,D,H=n(5311),K=n(5311);function J(oe){return J=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Y){return typeof Y=="undefined"?"undefined":_typeof(Y)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},J(oe)}function F(oe,G){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,ae){return Z.__proto__=ae,Z},F(oe,G)}function de(){de=function(){return oe};var oe={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(Y,Z){["method","field"].forEach(function(ae){Z.forEach(function(ie){ie.kind===ae&&ie.placement==="own"&&this.defineClassElement(Y,ie)},this)},this)},initializeClassElements:function(Y,Z){var ae=Y.prototype;["method","field"].forEach(function(ie){Z.forEach(function(je){var Le=je.placement;if(je.kind===ie&&(Le==="static"||Le==="prototype")){var ke=Le==="static"?Y:ae;this.defineClassElement(ke,je)}},this)},this)},defineClassElement:function(Y,Z){var ae=Z.descriptor;if(Z.kind==="field"){var ie=Z.initializer;ae={enumerable:ae.enumerable,writable:ae.writable,configurable:ae.configurable,value:ie===void 0?void 0:ie.call(Y)}}Object.defineProperty(Y,Z.key,ae)},decorateClass:function(Y,Z){var ae=[],ie=[],je={static:[],prototype:[],own:[]};if(Y.forEach(function(ke){this.addElementPlacement(ke,je)},this),Y.forEach(function(ke){if(!s(ke))return ae.push(ke);var Ze=this.decorateElement(ke,je);ae.push(Ze.element),ae.push.apply(ae,Ze.extras),ie.push.apply(ie,Ze.finishers)},this),!Z)return{elements:ae,finishers:ie};var Le=this.decorateConstructor(ae,Z);return ie.push.apply(ie,Le.finishers),Le.finishers=ie,Le},addElementPlacement:function(Y,Z,ae){var ie=Z[Y.placement];if(!ae&&ie.indexOf(Y.key)!==-1)throw new TypeError("Duplicated element ("+Y.key+")");ie.push(Y.key)},decorateElement:function(Y,Z){for(var ae=[],ie=[],je=Y.decorators,Le=je.length-1;Le>=0;Le--){var ke=Z[Y.placement];ke.splice(ke.indexOf(Y.key),1);var Ze=this.fromElementDescriptor(Y),Ve=this.toElementFinisherExtras((0,je[Le])(Ze)||Ze);Y=Ve.element,this.addElementPlacement(Y,Z),Ve.finisher&&ie.push(Ve.finisher);var Xe=Ve.extras;if(Xe){for(var dt=0;dt<Xe.length;dt++)this.addElementPlacement(Xe[dt],Z);ae.push.apply(ae,Xe)}}return{element:Y,finishers:ie,extras:ae}},decorateConstructor:function(Y,Z){for(var ae=[],ie=Z.length-1;ie>=0;ie--){var je=this.fromClassDescriptor(Y),Le=this.toClassDescriptor((0,Z[ie])(je)||je);if(Le.finisher!==void 0&&ae.push(Le.finisher),Le.elements!==void 0){Y=Le.elements;for(var ke=0;ke<Y.length-1;ke++)for(var Ze=ke+1;Ze<Y.length;Ze++)if(Y[ke].key===Y[Ze].key&&Y[ke].placement===Y[Ze].placement)throw new TypeError("Duplicated element ("+Y[ke].key+")")}}return{elements:Y,finishers:ae}},fromElementDescriptor:function(Y){var Z={kind:Y.kind,key:Y.key,placement:Y.placement,descriptor:Y.descriptor};return Object.defineProperty(Z,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Y.kind==="field"&&(Z.initializer=Y.initializer),Z},toElementDescriptors:function(Y){var Z;if(Y!==void 0)return(Z=Y,function(ae){if(Array.isArray(ae))return ae}(Z)||f(Z)||h(Z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(ae){var ie=this.toElementDescriptor(ae);return this.disallowProperty(ae,"finisher","An element descriptor"),this.disallowProperty(ae,"extras","An element descriptor"),ie},this)},toElementDescriptor:function(Y){var Z=String(Y.kind);if(Z!=="method"&&Z!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+Z+'"');var ae=c(Y.key),ie=String(Y.placement);if(ie!=="static"&&ie!=="prototype"&&ie!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+ie+'"');var je=Y.descriptor;this.disallowProperty(Y,"elements","An element descriptor");var Le={kind:Z,key:ae,placement:ie,descriptor:Object.assign({},je)};return Z!=="field"?this.disallowProperty(Y,"initializer","A method descriptor"):(this.disallowProperty(je,"get","The property descriptor of a field descriptor"),this.disallowProperty(je,"set","The property descriptor of a field descriptor"),this.disallowProperty(je,"value","The property descriptor of a field descriptor"),Le.initializer=Y.initializer),Le},toElementFinisherExtras:function(Y){return{element:this.toElementDescriptor(Y),finisher:d(Y,"finisher"),extras:this.toElementDescriptors(Y.extras)}},fromClassDescriptor:function(Y){var Z={kind:"class",elements:Y.map(this.fromElementDescriptor,this)};return Object.defineProperty(Z,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Z},toClassDescriptor:function(Y){var Z=String(Y.kind);if(Z!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+Z+'"');this.disallowProperty(Y,"key","A class descriptor"),this.disallowProperty(Y,"placement","A class descriptor"),this.disallowProperty(Y,"descriptor","A class descriptor"),this.disallowProperty(Y,"initializer","A class descriptor"),this.disallowProperty(Y,"extras","A class descriptor");var ae=d(Y,"finisher");return{elements:this.toElementDescriptors(Y.elements),finisher:ae}},runClassFinishers:function(Y,Z){for(var ae=0;ae<Z.length;ae++){var ie=(0,Z[ae])(Y);if(ie!==void 0){if(typeof ie!="function")throw new TypeError("Finishers must return a constructor.");Y=ie}}return Y},disallowProperty:function(Y,Z,ae){if(Y[Z]!==void 0)throw new TypeError(ae+" can't have a ."+Z+" property.")}};return oe}function re(){return re=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(G,Y,Z){var ae=function(je,Le){for(;!Object.prototype.hasOwnProperty.call(je,Le)&&(je=V(je))!==null;);return je}(G,Y);if(ae){var ie=Object.getOwnPropertyDescriptor(ae,Y);return ie.get?ie.get.call(arguments.length<3?G:Z):ie.value}},re.apply(this,arguments)}function V(oe){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},V(oe)}function X(){X=function(){return G};var oe,G={},Y=Object.prototype,Z=Y.hasOwnProperty,ae=Object.defineProperty||function(_t,st,ye){_t[st]=ye.value},ie=typeof Symbol=="function"?Symbol:{},je=ie.iterator||"@@iterator",Le=ie.asyncIterator||"@@asyncIterator",ke=ie.toStringTag||"@@toStringTag";function Ze(_t,st,ye){return Object.defineProperty(_t,st,{value:ye,enumerable:!0,configurable:!0,writable:!0}),_t[st]}try{Ze({},"")}catch(_t){Ze=function(ye,N,We){return ye[N]=We}}function Ve(_t,st,ye,N){var We=st&&_instanceof(st.prototype,Ne)?st:Ne,Ie=Object.create(We.prototype),et=new bt(N||[]);return ae(Ie,"_invoke",{value:ze(_t,ye,et)}),Ie}function Xe(_t,st,ye){try{return{type:"normal",arg:_t.call(st,ye)}}catch(N){return{type:"throw",arg:N}}}G.wrap=Ve;var dt="suspendedStart",yt="suspendedYield",pt="executing",Re="completed",_e={};function Ne(){}function Je(){}function Ye(){}var Te={};Ze(Te,je,function(){return this});var rt=Object.getPrototypeOf,ht=rt&&rt(rt(wt([])));ht&&ht!==Y&&Z.call(ht,je)&&(Te=ht);var at=Ye.prototype=Ne.prototype=Object.create(Te);function ut(_t){["next","throw","return"].forEach(function(st){Ze(_t,st,function(ye){return this._invoke(st,ye)})})}function qe(_t,st){function ye(We,Ie,et,L){var ue=Xe(_t[We],_t,Ie);if(ue.type!=="throw"){var ce=ue.arg,pe=ce.value;return pe&&J(pe)=="object"&&Z.call(pe,"__await")?st.resolve(pe.__await).then(function(he){ye("next",he,et,L)},function(he){ye("throw",he,et,L)}):st.resolve(pe).then(function(he){ce.value=he,et(ce)},function(he){return ye("throw",he,et,L)})}L(ue.arg)}var N;ae(this,"_invoke",{value:function(Ie,et){function L(){return new st(function(ue,ce){ye(Ie,et,ue,ce)})}return N=N?N.then(L,L):L()}})}function ze(_t,st,ye){var N=dt;return function(We,Ie){if(N===pt)throw new Error("Generator is already running");if(N===Re){if(We==="throw")throw Ie;return{value:oe,done:!0}}for(ye.method=We,ye.arg=Ie;;){var et=ye.delegate;if(et){var L=Fe(et,ye);if(L){if(L===_e)continue;return L}}if(ye.method==="next")ye.sent=ye._sent=ye.arg;else if(ye.method==="throw"){if(N===dt)throw N=Re,ye.arg;ye.dispatchException(ye.arg)}else ye.method==="return"&&ye.abrupt("return",ye.arg);N=pt;var ue=Xe(_t,st,ye);if(ue.type==="normal"){if(N=ye.done?Re:yt,ue.arg===_e)continue;return{value:ue.arg,done:ye.done}}ue.type==="throw"&&(N=Re,ye.method="throw",ye.arg=ue.arg)}}}function Fe(_t,st){var ye=st.method,N=_t.iterator[ye];if(N===oe)return st.delegate=null,ye==="throw"&&_t.iterator.return&&(st.method="return",st.arg=oe,Fe(_t,st),st.method==="throw")||ye!=="return"&&(st.method="throw",st.arg=new TypeError("The iterator does not provide a '"+ye+"' method")),_e;var We=Xe(N,_t.iterator,st.arg);if(We.type==="throw")return st.method="throw",st.arg=We.arg,st.delegate=null,_e;var Ie=We.arg;return Ie?Ie.done?(st[_t.resultName]=Ie.value,st.next=_t.nextLoc,st.method!=="return"&&(st.method="next",st.arg=oe),st.delegate=null,_e):Ie:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,_e)}function tt(_t){var st={tryLoc:_t[0]};1 in _t&&(st.catchLoc=_t[1]),2 in _t&&(st.finallyLoc=_t[2],st.afterLoc=_t[3]),this.tryEntries.push(st)}function nt(_t){var st=_t.completion||{};st.type="normal",delete st.arg,_t.completion=st}function bt(_t){this.tryEntries=[{tryLoc:"root"}],_t.forEach(tt,this),this.reset(!0)}function wt(_t){if(_t||_t===""){var st=_t[je];if(st)return st.call(_t);if(typeof _t.next=="function")return _t;if(!isNaN(_t.length)){var ye=-1,N=function We(){for(;++ye<_t.length;)if(Z.call(_t,ye))return We.value=_t[ye],We.done=!1,We;return We.value=oe,We.done=!0,We};return N.next=N}}throw new TypeError(J(_t)+" is not iterable")}return Je.prototype=Ye,ae(at,"constructor",{value:Ye,configurable:!0}),ae(Ye,"constructor",{value:Je,configurable:!0}),Je.displayName=Ze(Ye,ke,"GeneratorFunction"),G.isGeneratorFunction=function(_t){var st=typeof _t=="function"&&_t.constructor;return!!st&&(st===Je||(st.displayName||st.name)==="GeneratorFunction")},G.mark=function(_t){return Object.setPrototypeOf?Object.setPrototypeOf(_t,Ye):(_t.__proto__=Ye,Ze(_t,ke,"GeneratorFunction")),_t.prototype=Object.create(at),_t},G.awrap=function(_t){return{__await:_t}},ut(qe.prototype),Ze(qe.prototype,Le,function(){return this}),G.AsyncIterator=qe,G.async=function(_t,st,ye,N,We){We===void 0&&(We=Promise);var Ie=new qe(Ve(_t,st,ye,N),We);return G.isGeneratorFunction(st)?Ie:Ie.next().then(function(et){return et.done?et.value:Ie.next()})},ut(at),Ze(at,ke,"Generator"),Ze(at,je,function(){return this}),Ze(at,"toString",function(){return"[object Generator]"}),G.keys=function(_t){var st=Object(_t),ye=[];for(var N in st)ye.push(N);return ye.reverse(),function We(){for(;ye.length;){var Ie=ye.pop();if(Ie in st)return We.value=Ie,We.done=!1,We}return We.done=!0,We}},G.values=wt,bt.prototype={constructor:bt,reset:function(st){if(this.prev=0,this.next=0,this.sent=this._sent=oe,this.done=!1,this.delegate=null,this.method="next",this.arg=oe,this.tryEntries.forEach(nt),!st)for(var ye in this)ye.charAt(0)==="t"&&Z.call(this,ye)&&!isNaN(+ye.slice(1))&&(this[ye]=oe)},stop:function(){this.done=!0;var st=this.tryEntries[0].completion;if(st.type==="throw")throw st.arg;return this.rval},dispatchException:function(st){if(this.done)throw st;var ye=this;function N(ce,pe){return et.type="throw",et.arg=st,ye.next=ce,pe&&(ye.method="next",ye.arg=oe),!!pe}for(var We=this.tryEntries.length-1;We>=0;--We){var Ie=this.tryEntries[We],et=Ie.completion;if(Ie.tryLoc==="root")return N("end");if(Ie.tryLoc<=this.prev){var L=Z.call(Ie,"catchLoc"),ue=Z.call(Ie,"finallyLoc");if(L&&ue){if(this.prev<Ie.catchLoc)return N(Ie.catchLoc,!0);if(this.prev<Ie.finallyLoc)return N(Ie.finallyLoc)}else if(L){if(this.prev<Ie.catchLoc)return N(Ie.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<Ie.finallyLoc)return N(Ie.finallyLoc)}}}},abrupt:function(st,ye){for(var N=this.tryEntries.length-1;N>=0;--N){var We=this.tryEntries[N];if(We.tryLoc<=this.prev&&Z.call(We,"finallyLoc")&&this.prev<We.finallyLoc){var Ie=We;break}}Ie&&(st==="break"||st==="continue")&&Ie.tryLoc<=ye&&ye<=Ie.finallyLoc&&(Ie=null);var et=Ie?Ie.completion:{};return et.type=st,et.arg=ye,Ie?(this.method="next",this.next=Ie.finallyLoc,_e):this.complete(et)},complete:function(st,ye){if(st.type==="throw")throw st.arg;return st.type==="break"||st.type==="continue"?this.next=st.arg:st.type==="return"?(this.rval=this.arg=st.arg,this.method="return",this.next="end"):st.type==="normal"&&ye&&(this.next=ye),_e},finish:function(st){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var N=this.tryEntries[ye];if(N.finallyLoc===st)return this.complete(N.completion,N.afterLoc),nt(N),_e}},catch:function(st){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var N=this.tryEntries[ye];if(N.tryLoc===st){var We=N.completion;if(We.type==="throw"){var Ie=We.arg;nt(N)}return Ie}}throw new Error("illegal catch attempt")},delegateYield:function(st,ye,N){return this.delegate={iterator:wt(st),resultName:ye,nextLoc:N},this.method==="next"&&(this.arg=oe),_e}},G}H.extend(BookReader.defaultOptions,{olHost:"https://openlibrary.org",enableChaptersPlugin:!0,bookId:""}),BookReader.prototype.init=(D=BookReader.prototype.init,function(){D.call(this),this.options.enableChaptersPlugin&&this.ui!=="embed"&&this._chapterInit()}),BookReader.prototype._chapterInit=b(X().mark(function oe(){var G,Y,Z,ae,ie=this;return X().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(Y=null,(G=this.options.table_of_contents)===null||G===void 0||!G.length){je.next=5;break}Y=this.options.table_of_contents,je.next=9;break;case 5:return je.next=7,this.getOpenLibraryRecord(this.options.olHost,this.options.bookId);case 7:(ae=je.sent)!=null&&(Z=ae.table_of_contents)!==null&&Z!==void 0&&Z.length&&(Y=ae.table_of_contents);case 9:Y&&(this._tocEntries=Y.map(function(Le){return Object.assign({},Le,{pageIndex:typeof Le.leaf=="number"?ie.book.leafNumToIndex(Le.leaf):Le.pagenum?ie.book.getPageIndex(Le.pagenum):void 0})}),this._chaptersRender(this._tocEntries),this.bind(BookReader.eventNames.pageChanged,function(){return ie._chaptersUpdateCurrent()}));case 10:case"end":return je.stop()}},oe,this)})),BookReader.prototype._chaptersRender=function(){var oe=this,G=this.shell;G.menuProviders.chapters={id:"chapters",icon:(0,C.dy)(p||(p=x(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,C.dy)(g||(g=x(['<br-chapters-panel\n      .contents="','"\n      .jumpToPage="','"\n      @connected="','"\n    />'])),this._tocEntries,function(Y){oe._chaptersUpdateCurrent(Y),oe.jumpToIndex(Y)},function(Y){oe._chaptersPanel=Y.target,oe._chaptersUpdateCurrent()})},G.addMenuShortcut("chapters"),G.updateMenuContents(),this._tocEntries.forEach(function(Y,Z){return oe._chaptersRenderMarker(Y,Z)})},BookReader.prototype._chaptersRenderMarker=function(oe,G){var Y=this;if(oe.pageIndex!=null){var Z=[oe.label,oe.title].filter(function(ie){return ie}).join(" ")||"Chapter ".concat(G+1),ae=BookReader.util.cssPercentage(oe.pageIndex,this.book.getNumLeafs()-1);K("<div></div>").append(K("<div />").text(Z).append(K('<div class="BRchapterPage" />').text(this.book.getPageName(oe.pageIndex)))).addClass("BRchapter").css({left:ae}).appendTo(this.$(".BRnavline")).on("mouseenter",function(ie){var je=ie.currentTarget,Le=je.querySelector("div"),ke=Le.getBoundingClientRect(),Ze=je.getBoundingClientRect(),Ve=2*parseInt(getComputedStyle(Le).paddingLeft);ke.x-Ve<0&&Le.style.setProperty("transform","translateX(-".concat(Ze.left-Ve,"px)")),Y.$(".BRsearch,.BRchapter").removeClass("front"),K(ie.target).addClass("front")}).on("mouseleave",function(ie){return K(ie.target).removeClass("front")}).on("click",function(){Y._chaptersUpdateCurrent(oe.pageIndex),Y.jumpToIndex(oe.pageIndex)}),this.$(".BRchapter, .BRsearch").each(function(ie,je){var Le=K(je);Le.on("mouseenter",function(){return Le.addClass("front")}).on("mouseleave",function(){return Le.removeClass("front")})})}},BookReader.prototype.getOpenLibraryRecord=function(){var oe=b(X().mark(function G(Y,Z){var ae,ie,je,Le;return X().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ie="".concat(Y,"/query.json?type=/type/edition&*="),je="".concat(ie,"&ocaid=").concat(Z),ke.next=4,K.ajax({url:je,dataType:"jsonp"});case 4:if((Le=ke.sent)&&Le.length){ke.next=9;break}return ke.next=8,K.ajax({url:"".concat(ie,"&source_records=ia:").concat(Z),dataType:"jsonp"});case 8:Le=ke.sent;case 9:return ke.abrupt("return",(ae=Le)===null||ae===void 0?void 0:ae[0]);case 10:case"end":return ke.stop()}},G)}));return function(G,Y){return oe.apply(this,arguments)}}(),BookReader.prototype._chaptersUpdateCurrent=function(){var oe,G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mode==2?Math.max.apply(Math,function(ae){if(Array.isArray(ae))return v(ae)}(oe=this.displayedIndices)||f(oe)||h(oe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):this.firstIndex,Y=this._tocEntries.filter(function(ae){return ae.pageIndex!=null}).reverse(),Z=Y[Y.findIndex(function(ae){return ae.pageIndex<=G})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=Z)},function(oe,G,Y,Z){var ae=de(),ie=G(function(Le){ae.initializeInstanceElements(Le,je.elements)},Y),je=ae.decorateClass(function(Le){for(var ke=[],Ze=function(pt){return pt.kind==="method"&&pt.key===dt.key&&pt.placement===dt.placement},Ve=0;Ve<Le.length;Ve++){var Xe,dt=Le[Ve];if(dt.kind==="method"&&(Xe=ke.find(Ze)))if(r(dt.descriptor)||r(Xe.descriptor)){if(s(dt)||s(Xe))throw new ReferenceError("Duplicated methods ("+dt.key+") can't be decorated.");Xe.descriptor=dt.descriptor}else{if(s(dt)){if(s(Xe))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+dt.key+").");Xe.decorators=dt.decorators}l(dt,Xe)}else ke.push(dt)}return ke}(ie.d.map(u)),oe);ae.initializeClassElements(ie.F,je.elements),ae.runClassFinishers(ie.F,je.finishers)}([(0,P.Mo)("br-chapters-panel")],function(oe,G){var Y=function(Z){(function(Ze,Ve){if(typeof Ve!="function"&&Ve!==null)throw new TypeError("Super expression must either be null or a function");Ze.prototype=Object.create(Ve&&Ve.prototype,{constructor:{value:Ze,writable:!0,configurable:!0}}),Object.defineProperty(Ze,"prototype",{writable:!1}),Ve&&F(Ze,Ve)})(ke,Z);var ae,ie,je,Le=(ie=ke,je=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ze){return!1}}(),function(){var Ve,Xe=V(ie);if(je){var dt=V(this).constructor;Ve=Reflect.construct(Xe,arguments,dt)}else Ve=Xe.apply(this,arguments);return function(yt,pt){if(pt&&(J(pt)==="object"||typeof pt=="function"))return pt;if(pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(yt)}(this,Ve)});function ke(Ze){var Ve;return function(Xe,dt){if(!_instanceof(Xe,dt))throw new TypeError("Cannot call a class as a function")}(this,ke),Ve=Le.call(this),oe(o(Ve)),Ve.contents=Ze,Ve}return ae=ke,Object.defineProperty(ae,"prototype",{writable:!1}),ae}(G);return{F:Y,d:[{kind:"field",decorators:[(0,P.Cb)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,P.Cb)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var ae=this;return(0,C.dy)(y||(y=x(["\n    <ol>\n      ","\n    </ol>\n    "])),this.contents.map(function(ie){return ae.renderTOCEntry(ie)}))}},{kind:"method",key:"renderTOCEntry",value:function(ae){var ie=this,je=[ae.label,ae.title].filter(function(ke){return ke}).join(" "),Le=ae.pageIndex!=null;return(0,C.dy)(_||(_=x(['\n    <li\n      class="\n        BRtable-contents-el\n        ',"\n        ",'\n      "\n      style="','"\n      data-event-click-tracking="','"\n      @click="','"\n    >\n      ',"\n      ","\n    </li>"])),Le?"clickable":"",ae==this.currentChapter?"current":"",(0,T.V)({marginLeft:10*(ae.level-1)+"px"}),(0,E.o)(Le?"BRTOCPanel|GoToChapter":void 0),function(){return ie.jumpToPage(ae.pageIndex)},je,ae.pagenum?(0,C.dy)(j||(j=x(['\n        <br />\n        <span class="BRTOCElementPage">Page ',"</span>\n      "])),ae.pagenum):C.Ld)}},{kind:"method",key:"connectedCallback",value:function(){re(V(Y.prototype),"connectedCallback",this).call(this),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(ae){var ie;ae.has("currentChapter")&&((ie=this.shadowRoot.querySelector("li.current"))===null||ie===void 0||ie.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,C.iv)(R||(R=x(["\n      ol {\n        padding: 0;\n        margin: 0;\n        margin-right: 5px;\n      }\n      li {\n        padding: 10px;\n        overflow: hidden;\n        border-radius: 4px;\n      }\n      li.clickable {\n        font-weight: normal;\n        cursor: pointer;\n        transition: background-color 0.2s;\n      }\n\n      li.clickable:not(.current):hover {\n        background-color: rgba(255,255,255, 0.05);\n      }\n\n      li.current {\n        background-color: rgba(255,255,255,0.9);\n        color: #333;\n      }\n\n      .BRTOCElementPage {\n        font-size: 0.85em;\n        opacity: .8;\n      }"])))}}]}},C.oi)},9407:function(t,e,n){n.d(e,{o:function(){return u}});var o=n(4817),u=function(s){return s!=null?s:o.Ld}}},function(t){t(t.s=235)}])}),dx=ux(cx());var S;Vn=dx,S=Vn,av=S.default,hx=xi(Vn,["default"]),fx=av!==void 0?av:hx}}),vx={};qr(vx,{default:function(){return fx}});var Y8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.chapters.js":function(){px(),px()}}),gx,sv,mx,yx,bx,wx,_x,kx,xx,Sx,Ax,Vn,lv,Cx,Ox,jx=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/BookReader/plugins/plugin.text_selection.js":function(){gx=Object.create,sv=Object.defineProperty,mx=Object.getOwnPropertyDescriptor,yx=Object.getOwnPropertyNames,bx=Object.getPrototypeOf,wx=Object.prototype.hasOwnProperty,_x=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},kx=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!wx.call(t,v)&&v!==n&&sv(t,v,{get:function(){return e[v]},enumerable:!(o=mx(e,v))||o.enumerable})},d=yx(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},xx=function(t,e,n){return n=t!=null?gx(bx(t)):{},kx(e||!t||!t.__esModule?sv(n,"default",{value:t,enumerable:!0}):n,t)},Sx=_x(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[423],{4742:function(t,e,n){var o=function(ke,Ze){for(var Ve=0;Ve<Ze.length;Ve++){var Xe=Ze[Ve];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(ke,l(Xe.key),Xe)}},u=function(ke,Ze,Ve){return(Ze=l(Ze))in ke?Object.defineProperty(ke,Ze,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):ke[Ze]=Ve,ke},l=function(ke){var Ze=function(Ve,Xe){if(_(Ve)!=="object"||Ve===null)return Ve;var dt=Ve[Symbol.toPrimitive];if(dt!==void 0){var yt=dt.call(Ve,"string");if(_(yt)!=="object")return yt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ve)}(ke);return _(Ze)==="symbol"?Ze:String(Ze)},s=function(ke,Ze){(Ze==null||Ze>ke.length)&&(Ze=ke.length);for(var Ve=0,Xe=new Array(Ze);Ve<Ze;Ve++)Xe[Ve]=ke[Ve];return Xe},r=function(ke,Ze){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Xe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R;return ke==null?void 0:ke.replace(/\{\{([^}]*?)\}\}/g,function(dt,yt){if(!yt)return dt;var pt,Re=function(Ye){if(Array.isArray(Ye))return Ye}(pt=yt.split("|").map(function(Ye){return Ye.trim()}))||function(Ye){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ye[Symbol.iterator]!=null||Ye["@@iterator"]!=null)return Array.from(Ye)}(pt)||function(Ye,Te){if(Ye){if(typeof Ye=="string")return s(Ye,Te);var rt=Object.prototype.toString.call(Ye).slice(8,-1);return rt==="Object"&&Ye.constructor&&(rt=Ye.constructor.name),rt==="Map"||rt==="Set"?Array.from(Ye):rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt)?s(Ye,Te):void 0}}(pt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_e=Re[0],Ne=Re.slice(1);if(!(_e in Ve)&&!(_e in Ze))return dt;var Je=_e in Ve?Ve[_e]:_e in Ze?Ze[_e]:null;return Ne.map(function(Ye){return Xe[Ye]}).reduce(function(Ye,Te){return Te(Ye)},Je&&Je.toString())})},d=function(ke,Ze){return function(Ve){if(Array.isArray(Ve))return Ve}(ke)||function(Ve,Xe){var dt=Ve==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(dt!=null){var yt,pt,Re,_e,Ne=[],Je=!0,Ye=!1;try{if(Re=(dt=dt.call(Ve)).next,Xe===0){if(Object(dt)!==dt)return;Je=!1}else for(;!(Je=(yt=Re.call(dt)).done)&&(Ne.push(yt.value),Ne.length!==Xe);Je=!0);}catch(Te){Ye=!0,pt=Te}finally{try{if(!Je&&dt.return!=null&&(_e=dt.return(),Object(_e)!==_e))return}finally{if(Ye)throw pt}}return Ne}}(ke,Ze)||h(ke,Ze)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},c=function(ke,Ze){var Ve=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ke[Symbol.iterator]||ke["@@iterator"];if(!Ve){if(Array.isArray(ke)||(Ve=h(ke))||Ze&&ke&&typeof ke.length=="number"){Ve&&(ke=Ve);var Xe=0,dt=function(){};return{s:dt,n:function(){return Xe>=ke.length?{done:!0}:{done:!1,value:ke[Xe++]}},e:function(Ne){throw Ne},f:dt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var yt,pt=!0,Re=!1;return{s:function(){Ve=Ve.call(ke)},n:function(){var Ne=Ve.next();return pt=Ne.done,Ne},e:function(Ne){Re=!0,yt=Ne},f:function(){try{pt||Ve.return==null||Ve.return()}finally{if(Re)throw yt}}}},h=function(ke,Ze){if(ke){if(typeof ke=="string")return f(ke,Ze);var Ve=Object.prototype.toString.call(ke).slice(8,-1);return Ve==="Object"&&ke.constructor&&(Ve=ke.constructor.name),Ve==="Map"||Ve==="Set"?Array.from(ke):Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve)?f(ke,Ze):void 0}},f=function(ke,Ze){(Ze==null||Ze>ke.length)&&(Ze=ke.length);for(var Ve=0,Xe=new Array(Ze);Ve<Ze;Ve++)Xe[Ve]=ke[Ve];return Xe},v=function(ke,Ze,Ve,Xe,dt,yt,pt){try{var Re=ke[yt](pt),_e=Re.value}catch(Ne){return void Ve(Ne)}Re.done?Ze(_e):Promise.resolve(_e).then(Xe,dt)},x=function(ke){return function(){var Ze=this,Ve=arguments;return new Promise(function(Xe,dt){var yt=ke.apply(Ze,Ve);function pt(_e){v(yt,Xe,dt,pt,Re,"next",_e)}function Re(_e){v(yt,Xe,dt,pt,Re,"throw",_e)}pt(void 0)})}},w=function(ke,Ze){if(!_instanceof(ke,Ze))throw new TypeError("Cannot call a class as a function")},b=function(ke,Ze){for(var Ve=0;Ve<Ze.length;Ve++){var Xe=Ze[Ve];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(ke,P(Xe.key),Xe)}},C=function(ke,Ze,Ve){return Ze&&b(ke.prototype,Ze),Ve&&b(ke,Ve),Object.defineProperty(ke,"prototype",{writable:!1}),ke},P=function(ke){var Ze=function(Ve,Xe){if(H(Ve)!=="object"||Ve===null)return Ve;var dt=Ve[Symbol.toPrimitive];if(dt!==void 0){var yt=dt.call(Ve,"string");if(H(yt)!=="object")return yt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ve)}(ke);return H(Ze)==="symbol"?Ze:String(Ze)},E=function(ke,Ze){var Ve={position:ke.style.position,visibility:ke.style.visibility,top:ke.style.top,left:ke.style.left,transform:ke.style.transform};ke.style.position="absolute",ke.style.visibility="hidden",ke.style.top="0",ke.style.left="0",ke.style.transform="none",document.body.appendChild(ke);var Xe=new Map(Array.from(ke.querySelectorAll(Ze)).map(function(dt){var yt=dt.getBoundingClientRect();return[dt,new je(yt.left+window.scrollX,yt.top+window.scrollY,yt.width,yt.height)]}));return document.body.removeChild(ke),Object.assign(ke.style,Ve),Xe},T=function(ke){var Ze=D(ke).find("WORD").toArray();return{ocrElement:ke,words:Ze,firstWord:Ze[0],lastWord:Ze[Ze.length-1]}},m=function(ke,Ze){var Ve,Xe,dt;return X().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:Ve=c(ke),yt.prev=1,Ve.s();case 3:if((Xe=Ve.n()).done){yt.next=9;break}return dt=Xe.value,yt.next=7,Ze(dt);case 7:yt.next=3;break;case 9:yt.next=14;break;case 11:yt.prev=11,yt.t0=yt.catch(1),Ve.e(yt.t0);case 14:return yt.prev=14,Ve.f(),yt.finish(14);case 17:case"end":return yt.stop()}},K,null,[[1,11,14,17]])},a=function(ke){var Ze,Ve,Xe,dt,yt,pt;return X().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:Ze=void 0,Ve=void 0,Xe=void 0,dt=c(ke),Re.prev=4,dt.s();case 6:if((yt=dt.n()).done){Re.next=17;break}if(pt=yt.value,Ve===void 0){Re.next=12;break}return Xe=pt,Re.next=12,[Ze,Ve,Xe];case 12:Ze=Ve,Ve=pt,Xe=void 0;case 15:Re.next=6;break;case 17:Re.next=22;break;case 19:Re.prev=19,Re.t0=Re.catch(4),dt.e(Re.t0);case 22:return Re.prev=22,dt.f(),Re.finish(22);case 25:if(Ve===void 0){Re.next=28;break}return Re.next=28,[Ze,Ve,Xe];case 28:case"end":return Re.stop()}},J,null,[[4,19,22,25]])},p=function(ke,Ze){var Ve,Xe,dt,yt;return X().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:Ve=ke[Symbol.iterator](),Xe=Ze[Symbol.iterator]();case 2:if(dt=Ve.next(),yt=Xe.next(),!dt.done||!yt.done){pt.next=7;break}return pt.abrupt("return");case 7:if(!dt.done&&!yt.done){pt.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return pt.next=11,[dt.value,yt.value];case 11:pt.next=2;break;case 13:case"end":return pt.stop()}},F)};n(752),n(228),n(6265),n(5728),n(2826),n(4338),n(939),n(3964),n(886),n(5137),n(7049),n(1694),n(2918),n(8436),n(9730),n(429),n(6646),n(4254),n(9749),n(6544),n(6203),n(9373),n(9903),n(9288),n(8373),n(6793),n(7629),n(7509),n(8052),n(7522),n(4284),n(3374),n(4043),n(50),n(2349),n(1919);var g=n(9860),y=n(5311);function _(Le){return _=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ze){return typeof Ze=="undefined"?"undefined":_typeof(Ze)}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke=="undefined"?"undefined":_typeof(ke)},_(Le)}var j=function(){function Le(Ve,Xe){var dt=this;(function(yt,pt){if(!_instanceof(yt,pt))throw new TypeError("Cannot call a class as a function")})(this,Le),u(this,"selecting",!1),u(this,"startedInSelector",!1),u(this,"target",null),u(this,"_onSelectionChange",function(){var yt=window.getSelection();if(!dt.selecting&&yt.toString()){var pt=y(yt.anchorNode).closest(dt.selector)[0];if(!pt)return;dt.target=pt,dt.selecting=!0,dt.handler("started",dt.target)}!dt.selecting||!yt.isCollapsed&&yt.toString()&&y(yt.anchorNode).closest(dt.selector)[0]||(dt.selecting=!1,dt.handler("cleared",dt.target))}),this.selector=Ve,this.handler=Xe}var ke,Ze;return ke=Le,(Ze=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(ke.prototype,Ze),Object.defineProperty(ke,"prototype",{writable:!1}),Le}();n(7267),n(278);var R={urlencode:encodeURIComponent},D=n(5311);function H(Le){return H=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(Ze){return typeof Ze=="undefined"?"undefined":_typeof(Ze)}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke=="undefined"?"undefined":_typeof(ke)},H(Le)}var K=X().mark(m),J=X().mark(a),F=X().mark(p);function de(){return de=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(ke,Ze,Ve){var Xe=function(yt,pt){for(;!Object.prototype.hasOwnProperty.call(yt,pt)&&(yt=V(yt))!==null;);return yt}(ke,Ze);if(Xe){var dt=Object.getOwnPropertyDescriptor(Xe,Ze);return dt.get?dt.get.call(arguments.length<3?ke:Ve):dt.value}},de.apply(this,arguments)}function re(Le,ke){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ve,Xe){return Ve.__proto__=Xe,Ve},re(Le,ke)}function V(Le){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},V(Le)}function X(){X=function(){return ke};var Le,ke={},Ze=Object.prototype,Ve=Ze.hasOwnProperty,Xe=Object.defineProperty||function(L,ue,ce){L[ue]=ce.value},dt=typeof Symbol=="function"?Symbol:{},yt=dt.iterator||"@@iterator",pt=dt.asyncIterator||"@@asyncIterator",Re=dt.toStringTag||"@@toStringTag";function _e(L,ue,ce){return Object.defineProperty(L,ue,{value:ce,enumerable:!0,configurable:!0,writable:!0}),L[ue]}try{_e({},"")}catch(L){_e=function(ce,pe,he){return ce[pe]=he}}function Ne(L,ue,ce,pe){var he=ue&&_instanceof(ue.prototype,ut)?ue:ut,Q=Object.create(he.prototype),be=new Ie(pe||[]);return Xe(Q,"_invoke",{value:st(L,ce,be)}),Q}function Je(L,ue,ce){try{return{type:"normal",arg:L.call(ue,ce)}}catch(pe){return{type:"throw",arg:pe}}}ke.wrap=Ne;var Ye="suspendedStart",Te="suspendedYield",rt="executing",ht="completed",at={};function ut(){}function qe(){}function ze(){}var Fe={};_e(Fe,yt,function(){return this});var tt=Object.getPrototypeOf,nt=tt&&tt(tt(et([])));nt&&nt!==Ze&&Ve.call(nt,yt)&&(Fe=nt);var bt=ze.prototype=ut.prototype=Object.create(Fe);function wt(L){["next","throw","return"].forEach(function(ue){_e(L,ue,function(ce){return this._invoke(ue,ce)})})}function _t(L,ue){function ce(he,Q,be,Ce){var xe=Je(L[he],L,Q);if(xe.type!=="throw"){var Ge=xe.arg,Be=Ge.value;return Be&&H(Be)=="object"&&Ve.call(Be,"__await")?ue.resolve(Be.__await).then(function(Ke){ce("next",Ke,be,Ce)},function(Ke){ce("throw",Ke,be,Ce)}):ue.resolve(Be).then(function(Ke){Ge.value=Ke,be(Ge)},function(Ke){return ce("throw",Ke,be,Ce)})}Ce(xe.arg)}var pe;Xe(this,"_invoke",{value:function(Q,be){function Ce(){return new ue(function(xe,Ge){ce(Q,be,xe,Ge)})}return pe=pe?pe.then(Ce,Ce):Ce()}})}function st(L,ue,ce){var pe=Ye;return function(he,Q){if(pe===rt)throw new Error("Generator is already running");if(pe===ht){if(he==="throw")throw Q;return{value:Le,done:!0}}for(ce.method=he,ce.arg=Q;;){var be=ce.delegate;if(be){var Ce=ye(be,ce);if(Ce){if(Ce===at)continue;return Ce}}if(ce.method==="next")ce.sent=ce._sent=ce.arg;else if(ce.method==="throw"){if(pe===Ye)throw pe=ht,ce.arg;ce.dispatchException(ce.arg)}else ce.method==="return"&&ce.abrupt("return",ce.arg);pe=rt;var xe=Je(L,ue,ce);if(xe.type==="normal"){if(pe=ce.done?ht:Te,xe.arg===at)continue;return{value:xe.arg,done:ce.done}}xe.type==="throw"&&(pe=ht,ce.method="throw",ce.arg=xe.arg)}}}function ye(L,ue){var ce=ue.method,pe=L.iterator[ce];if(pe===Le)return ue.delegate=null,ce==="throw"&&L.iterator.return&&(ue.method="return",ue.arg=Le,ye(L,ue),ue.method==="throw")||ce!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ce+"' method")),at;var he=Je(pe,L.iterator,ue.arg);if(he.type==="throw")return ue.method="throw",ue.arg=he.arg,ue.delegate=null,at;var Q=he.arg;return Q?Q.done?(ue[L.resultName]=Q.value,ue.next=L.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=Le),ue.delegate=null,at):Q:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,at)}function N(L){var ue={tryLoc:L[0]};1 in L&&(ue.catchLoc=L[1]),2 in L&&(ue.finallyLoc=L[2],ue.afterLoc=L[3]),this.tryEntries.push(ue)}function We(L){var ue=L.completion||{};ue.type="normal",delete ue.arg,L.completion=ue}function Ie(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(N,this),this.reset(!0)}function et(L){if(L||L===""){var ue=L[yt];if(ue)return ue.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var ce=-1,pe=function he(){for(;++ce<L.length;)if(Ve.call(L,ce))return he.value=L[ce],he.done=!1,he;return he.value=Le,he.done=!0,he};return pe.next=pe}}throw new TypeError(H(L)+" is not iterable")}return qe.prototype=ze,Xe(bt,"constructor",{value:ze,configurable:!0}),Xe(ze,"constructor",{value:qe,configurable:!0}),qe.displayName=_e(ze,Re,"GeneratorFunction"),ke.isGeneratorFunction=function(L){var ue=typeof L=="function"&&L.constructor;return!!ue&&(ue===qe||(ue.displayName||ue.name)==="GeneratorFunction")},ke.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,ze):(L.__proto__=ze,_e(L,Re,"GeneratorFunction")),L.prototype=Object.create(bt),L},ke.awrap=function(L){return{__await:L}},wt(_t.prototype),_e(_t.prototype,pt,function(){return this}),ke.AsyncIterator=_t,ke.async=function(L,ue,ce,pe,he){he===void 0&&(he=Promise);var Q=new _t(Ne(L,ue,ce,pe),he);return ke.isGeneratorFunction(ue)?Q:Q.next().then(function(be){return be.done?be.value:Q.next()})},wt(bt),_e(bt,Re,"Generator"),_e(bt,yt,function(){return this}),_e(bt,"toString",function(){return"[object Generator]"}),ke.keys=function(L){var ue=Object(L),ce=[];for(var pe in ue)ce.push(pe);return ce.reverse(),function he(){for(;ce.length;){var Q=ce.pop();if(Q in ue)return he.value=Q,he.done=!1,he}return he.done=!0,he}},ke.values=et,Ie.prototype={constructor:Ie,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=Le,this.done=!1,this.delegate=null,this.method="next",this.arg=Le,this.tryEntries.forEach(We),!ue)for(var ce in this)ce.charAt(0)==="t"&&Ve.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Le)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var ce=this;function pe(Ge,Be){return be.type="throw",be.arg=ue,ce.next=Ge,Be&&(ce.method="next",ce.arg=Le),!!Be}for(var he=this.tryEntries.length-1;he>=0;--he){var Q=this.tryEntries[he],be=Q.completion;if(Q.tryLoc==="root")return pe("end");if(Q.tryLoc<=this.prev){var Ce=Ve.call(Q,"catchLoc"),xe=Ve.call(Q,"finallyLoc");if(Ce&&xe){if(this.prev<Q.catchLoc)return pe(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return pe(Q.finallyLoc)}else if(Ce){if(this.prev<Q.catchLoc)return pe(Q.catchLoc,!0)}else{if(!xe)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return pe(Q.finallyLoc)}}}},abrupt:function(ue,ce){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var he=this.tryEntries[pe];if(he.tryLoc<=this.prev&&Ve.call(he,"finallyLoc")&&this.prev<he.finallyLoc){var Q=he;break}}Q&&(ue==="break"||ue==="continue")&&Q.tryLoc<=ce&&ce<=Q.finallyLoc&&(Q=null);var be=Q?Q.completion:{};return be.type=ue,be.arg=ce,Q?(this.method="next",this.next=Q.finallyLoc,at):this.complete(be)},complete:function(ue,ce){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&ce&&(this.next=ce),at},finish:function(ue){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var pe=this.tryEntries[ce];if(pe.finallyLoc===ue)return this.complete(pe.completion,pe.afterLoc),We(pe),at}},catch:function(ue){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var pe=this.tryEntries[ce];if(pe.tryLoc===ue){var he=pe.completion;if(he.type==="throw"){var Q=he.arg;We(pe)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(ue,ce,pe){return this.delegate={iterator:et(ue),resultName:ce,nextLoc:pe},this.method==="next"&&(this.arg=Le),at}},ke}var oe=window.BookReader,G={enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1},Y=function(){function Le(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;w(this,Le),this.maxSize=ke,this.entries=[]}return C(Le,[{key:"add",value:function(Ze){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(Ze)}}]),Le}(),Z=function(){function Le(){var Ve,Xe,dt,yt=this,pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G,Re=arguments.length>1?arguments[1]:void 0,_e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"lr";w(this,Le),Ve=this,dt=function(Je,Ye){if(Je==="started")yt.textSelectingMode(Ye);else{if(Je!=="cleared")throw new Error("Unknown type ".concat(Je));yt.defaultMode(Ye)}},(Xe=P(Xe="_onSelectionChange"))in Ve?Object.defineProperty(Ve,Xe,{value:dt,enumerable:!0,configurable:!0,writable:!0}):Ve[Xe]=dt,this.options=pt,this.optionVariables=Re,this.djvuPagesPromise=null,this.rtl=_e==="rl",this.pageTextCache=new Y,this.maxWordRendered=2500,this.selectionObserver=new j(".BRtextLayer",this._onSelectionChange)}var ke,Ze;return C(Le,[{key:"init",value:function(){this.selectionObserver.attach(),this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=D.ajax({type:"GET",url:r(this.options.fullDjvuXmlUrl,this.optionVariables),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(dt){}}).then(function(Xe){try{var dt=D.parseXML(Xe);return dt&&D(dt).find("OBJECT")}catch(yt){return}}))}},{key:"getPageText",value:(Ze=x(X().mark(function Ve(Xe){var dt,yt,pt,Re,_e;return X().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(!this.options.singlePageDjvuXmlUrl){Ne.next=19;break}if(!(dt=this.pageTextCache.entries.find(function(Je){return Je.index==Xe}))){Ne.next=4;break}return Ne.abrupt("return",dt.response);case 4:return Ne.next=6,D.ajax({type:"GET",url:r(this.options.singlePageDjvuXmlUrl,this.optionVariables,{pageIndex:Xe}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(Ye){}});case 6:return yt=Ne.sent,Ne.prev=7,pt=D.parseXML(yt),Re=pt&&D(pt).find("OBJECT")[0],this.pageTextCache.add({index:Xe,response:Re}),Ne.abrupt("return",Re);case 14:return Ne.prev=14,Ne.t0=Ne.catch(7),Ne.abrupt("return",void 0);case 17:Ne.next=24;break;case 19:return Ne.next=21,this.djvuPagesPromise;case 21:if(!(_e=Ne.sent)){Ne.next=24;break}return Ne.abrupt("return",_e[Xe]);case 24:case"end":return Ne.stop()}},Ve,this,[[7,14]])})),function(Ve){return Ze.apply(this,arguments)})},{key:"interceptCopy",value:function(Xe){Xe[0].addEventListener("copy",function(dt){var yt=document.getSelection();dt.clipboardData.setData("text/plain",yt.toString()),dt.preventDefault()})}},{key:"defaultMode",value:function(Xe){var dt=this,yt=D(Xe).closest(".BRpagecontainer");Xe.style.pointerEvents="none",yt.find("img").css("pointer-events","auto"),D(Xe).off(".textSelectPluginHandler");var pt=this.mouseIsDown,Re=this.mouseIsDown;pt&&(Xe.style.pointerEvents="auto"),D(Xe).on("mousedown.textSelectPluginHandler",function(_e){dt.mouseIsDown=!0,D(_e.target).is(".BRwordElement, .BRspace")&&_e.stopPropagation()}),D(Xe).on("mouseup.textSelectPluginHandler",function(_e){dt.mouseIsDown=!1,Xe.style.pointerEvents="none",Re&&(Re=!1,_e.stopPropagation())})}},{key:"textSelectingMode",value:function(Xe){var dt=this,yt=D(Xe).closest(".BRpagecontainer");Xe.style.pointerEvents="all",yt.find("img").css("pointer-events","none"),D(Xe).off(".textSelectPluginHandler"),D(Xe).on("mousedown.textSelectPluginHandler",function(pt){dt.mouseIsDown=!0,pt.stopPropagation()}),D(Xe).on("mouseup.textSelectPluginHandler",function(pt){dt.mouseIsDown=!1,pt.stopPropagation()})}},{key:"stopPageFlip",value:function(Xe){var dt=this,yt=Xe.find(".BRtextLayer");yt.length&&(yt.each(function(pt,Re){return dt.defaultMode(Re)}),this.interceptCopy(Xe))}},{key:"createTextLayer",value:(ke=x(X().mark(function Ve(Xe){var dt,yt,pt,Re,_e,Ne,Je,Ye,Te,rt,ht,at,ut,qe,ze,Fe,tt,nt,bt,wt,_t,st,ye,N,We=this;return X().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(dt=Xe.page.index,!(yt=Xe.$container).find(".BRtextLayer").length){Ie.next=5;break}return Ie.abrupt("return");case 5:return Ie.next=7,this.getPageText(dt);case 7:if(pt=Ie.sent){Ie.next=10;break}return Ie.abrupt("return");case 10:if(ie(pt),!((Re=D(pt).find("WORD").length)>this.maxWordRendered)){Ie.next=15;break}return console.log("Page ".concat(dt," has too many words (").concat(Re," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ie.abrupt("return");case 15:_e=(0,g.RS)(Xe.page,"BRtextLayer"),Ne=parseFloat(Xe.$container[0].style.width)/Xe.page.width,Je=parseFloat(Xe.$container[0].style.height)/Xe.page.height,_e.style.transform="scale(".concat(Ne,", ").concat(Je,")"),_e.setAttribute("dir",this.rtl?"rtl":"ltr"),Ye=D(pt).find("PARAGRAPH[coords]").toArray(),Te=Ye.map(function(et){var L=We.renderParagraph(et);return _e.appendChild(L),L}),rt=E(_e,".BRparagraphElement"),ht=0,at=c(p(Ye,Te));try{for(at.s();!(ut=at.n()).done;)qe=d(ut.value,2),ze=qe[0],Fe=qe[1],tt=D(ze).attr("coords").split(",").map(parseFloat),nt=rt.get(Fe),bt=d(tt,4),wt=bt[0],_t=bt[2],st=bt[3],ye=this.rtl?nt.right-_t:wt-nt.left,N=st-(nt.top+ht),Fe.style[this.rtl?"marginRight":"marginLeft"]="".concat(ye,"px"),Fe.style.marginTop="".concat(N,"px"),ht+=N,_e.appendChild(Fe)}catch(et){at.e(et)}finally{at.f()}yt.append(_e),this.stopPageFlip(yt);case 28:case"end":return Ie.stop()}},Ve,this)})),function(Ve){return ke.apply(this,arguments)})},{key:"renderParagraph",value:function(Xe){var dt=document.createElement("p");dt.classList.add("BRparagraphElement");var yt=d(D(Xe).attr("coords").split(",").map(parseFloat),4),pt=yt[0],Re=yt[1],_e=yt[2],Ne=yt[3],Je=[],Ye=D(Xe).find("LINE[coords]").toArray();if(!Ye.length)return dt;var Te,rt=c(a(m(Ye,T)));try{for(rt.s();!(Te=rt.n()).done;){var ht=d(Te.value,3),at=ht[0],ut=ht[1],qe=ht[2],ze=ut.ocrElement==Ye[Ye.length-1],Fe=document.createElement("span");Fe.classList.add("BRlineElement");var tt,nt=c(ut.words.entries());try{for(nt.s();!(tt=nt.n()).done;){var bt=d(tt.value,2),wt=bt[0],_t=bt[1],st=d(D(_t).attr("coords").split(",").map(parseFloat),4),ye=st[1],N=st[2],We=st[3],Ie=ye-We;if(Je.push(Ie),wt==0&&at!=null&&at.lastWord.textContent.trim().endsWith("-")){var et=d(D((qe||at).firstWord).attr("coords").split(",").map(parseFloat),3)[0];D(_t).attr("coords","".concat(et,",").concat(ye,",").concat(N,",").concat(We))}var L=document.createElement("span");if(L.setAttribute("class","BRwordElement"),L.textContent=_t.textContent.trim(),wt>0){var ue=document.createElement("span");ue.classList.add("BRspace"),ue.textContent=" ",Fe.append(ue),Fe.appendChild(document.createTextNode(" "))}Fe.appendChild(L)}}catch(Cr){nt.e(Cr)}finally{nt.f()}var ce=ut.lastWord.textContent.trim().endsWith("-"),pe=Fe.children[Fe.children.length-1];ce&&!ze&&(pe.textContent=pe.textContent.trim().slice(0,-1),pe.classList.add("BRwordElement--hyphen")),dt.appendChild(Fe),ze||ce||dt.appendChild(document.createTextNode(" "))}}catch(Cr){rt.e(Cr)}finally{rt.f()}Je.sort(function(Cr,Ti){return Cr-Ti});var he=Je[Math.floor(.85*Je.length)]+4;dt.style.left="".concat(pt,"px"),dt.style.top="".concat(Ne,"px"),dt.style.width="".concat(_e-pt,"px"),dt.style.height="".concat(Re-Ne,"px"),dt.style.fontSize="".concat(he,"px");var Q,be=E(dt,".BRwordElement"),Ce=c(p(D(Xe).find("WORD").toArray(),dt.querySelectorAll(".BRwordElement")));try{for(Ce.s();!(Q=Ce.n()).done;){var xe=d(Q.value,2),Ge=xe[0],Be=xe[1],Ke=be.get(Be),Pt=d(D(Ge).attr("coords").split(",").map(parseFloat),3),At=Pt[0],Et=Pt[2]-At;Ge.textContent.endsWith(" ")&&(Et=Et*(Ge.textContent.length-1)/Ge.textContent.length);var Jt=Et-Ke.width;Be.style.letterSpacing="".concat(Jt/(Ge.textContent.length-1),"px")}}catch(Cr){Ce.e(Cr)}finally{Ce.f()}be=E(dt,".BRwordElement");var Dt,Ht,Bt=E(dt,".BRspace"),qt=D(Xe).find("LINE[coords]").toArray(),Zt=Array.from(dt.querySelectorAll(".BRlineElement")),un=Ne,Rt=c(p(qt,Zt));try{for(Rt.s();!(Dt=Rt.n()).done;){var rn,Qt=d(Dt.value,2),Tn=Qt[0],Nt=Qt[1],Me=D(Tn).find("WORD").toArray(),fe=this.rtl?_e:pt,Se=c(p(Me,Nt.querySelectorAll(".BRwordElement")));try{for(Se.s();!(rn=Se.n()).done;){var De=d(rn.value,2),it=De[0],ct=De[1],It=be.get(ct),gn=d(D(it).attr("coords").split(",").map(parseFloat),3),mn=gn[0],Ut=gn[2],$n=this.rtl?-(Ut-fe):mn-fe;if(ct.previousElementSibling){var Mn=ct.previousElementSibling;Mn.style.letterSpacing="".concat($n-Bt.get(Mn).width,"px")}else ct.style[this.rtl?"paddingRight":"paddingLeft"]="".concat($n,"px");this.rtl?fe-=$n+It.width:fe+=$n+It.width}}catch(Cr){Se.e(Cr)}finally{Se.f()}var yi=Math.min.apply(Math,function(Cr){if(Array.isArray(Cr))return f(Cr)}(Ht=Me.map(function(Cr){return parseFloat(D(Cr).attr("coords").split(",")[3])}))||function(Cr){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Cr[Symbol.iterator]!=null||Cr["@@iterator"]!=null)return Array.from(Cr)}(Ht)||h(Ht)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())-un;Nt.previousElementSibling&&(Nt.previousElementSibling.style.lineHeight="".concat(yi,"px"),un+=yi)}}catch(Cr){Rt.e(Cr)}finally{Rt.f()}return Zt[Zt.length-1].style.lineHeight="".concat(Re-un,"px"),dt.appendChild(document.createElement("br")),dt}}]),Le}(),ae=function(Le){(function(dt,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function");dt.prototype=Object.create(yt&&yt.prototype,{constructor:{value:dt,writable:!0,configurable:!0}}),Object.defineProperty(dt,"prototype",{writable:!1}),yt&&re(dt,yt)})(Xe,Le);var ke,Ze,Ve=(ke=Xe,Ze=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(dt){return!1}}(),function(){var yt,pt=V(ke);if(Ze){var Re=V(this).constructor;yt=Reflect.construct(pt,arguments,Re)}else yt=pt.apply(this,arguments);return function(_e,Ne){if(Ne&&(H(Ne)==="object"||typeof Ne=="function"))return Ne;if(Ne!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}(_e)}(this,yt)});function Xe(){return w(this,Xe),Ve.apply(this,arguments)}return C(Xe,[{key:"init",value:function(){var yt=this,pt=Object.assign({},G,this.options.plugins.textSelection);pt.enabled&&(this.textSelectionPlugin=new Z(pt,this.options.vars,this.pageProgression),this.options.plugins.textSelection=pt,this.textSelectionPlugin.init(),new j(".BRtextLayer",function(Re){var _e;Re=="started"&&((_e=yt.archiveAnalyticsSendEvent)===null||_e===void 0||_e.call(yt,"BookReader","SelectStart"),yt.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),D(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()),de(V(Xe.prototype),"init",this).call(this)}},{key:"_createPageContainer",value:function(yt){var pt,Re=de(V(Xe.prototype),"_createPageContainer",this).call(this,yt);return this.mode!==this.constModeThumb&&Re.page&&((pt=this.textSelectionPlugin)===null||pt===void 0||pt.createTextLayer(Re)),Re}}]),Xe}(oe);function ie(Le){if(!D(Le).attr("coords")&&Le.children){var ke=D(Le).children().toArray();if(ke.length!==0){var Ze,Ve=c(ke);try{for(Ve.s();!(Ze=Ve.n()).done;)ie(Ze.value)}catch(_e){Ve.e(_e)}finally{Ve.f()}var Xe,dt=[],yt=c(ke);try{for(yt.s();!(Xe=yt.n()).done;){var pt=Xe.value;D(pt).attr("coords")&&dt.push(D(pt).attr("coords").split(",").map(parseFloat))}}catch(_e){yt.e(_e)}finally{yt.f()}var Re=function(_e){var Ne,Je=1/0,Ye=-1/0,Te=-1/0,rt=1/0,ht=c(_e);try{for(ht.s();!(Ne=ht.n()).done;){var at=d(Ne.value,4),ut=at[0],qe=at[1],ze=at[2],Fe=at[3];Je=Math.min(Je,ut),Ye=Math.max(Ye,qe),Te=Math.max(Te,ze),rt=Math.min(rt,Fe)}}catch(tt){ht.e(tt)}finally{ht.f()}return[Je,Ye,Te,rt]}(dt);Math.abs(Re[0])!=1/0&&D(Le).attr("coords",Re.join(","))}}}window.BookReader=ae;var je=function(){function Le(ke,Ze,Ve,Xe){w(this,Le),this.x=ke,this.y=Ze,this.width=Ve,this.height=Xe}return C(Le,[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}]),Le}()},4818:function(t,e,n){var o=n(9037),u=n(3689),l=n(8844),s=n(4327),r=n(1435).trim,d=n(6350),c=l("".charAt),h=o.parseFloat,f=o.Symbol,v=f&&f.iterator,x=1/h(d+"-0")!=-1/0||v&&!u(function(){h(Object(v))});t.exports=x?function(w){var b=r(s(w)),C=h(b);return C===0&&c(b,0)==="-"?-0:C}:h},5984:function(t,e,n){var o=n(1236).PROPER,u=n(3689),l=n(6350);t.exports=function(s){return u(function(){return!!l[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&l[s].name!==s})}},939:function(t,e,n){var o=n(9989),u=n(4818);o({global:!0,forced:parseFloat!==u},{parseFloat:u})},8436:function(t,e,n){var o=n(9989),u=n(1435).trim;o({target:"String",proto:!0,forced:n(5984)("trim")},{trim:function(){return u(this)}})}},function(t){t(t.s=4742)}])}),Ax=xx(Sx());var S;Vn=Ax,S=Vn,lv=S.default,Cx=xi(Vn,["default"]),Ox=lv!==void 0?lv:Cx}}),Ex={};qr(Ex,{default:function(){return Ox}});var X8=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79/BookReader/plugins/plugin.text_selection.js":function(){jx(),jx()}}),K8={},J8=Tt({"www/sf/bookreader/BookReaderHelpers.js":function(){typeof Object.assign!="function"&&function(){Object.assign=function(S){"use strict";if(S==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(S),e=1;e<arguments.length;e++){var n=arguments[e];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}}(),window.logError=TO}}),Ku,so,$s,fa,Bs,Ju,Px,Rd,Tl,ui=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/field-parsers@0.1.3/deno/field-parsers.js":function(){Ku=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:Boolean(e)}}]),S}(),Ku.shared=new Ku,so=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=parseFloat(e);if(!Number.isNaN(n))return n}}}]),S}(),so.shared=new so,$s=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){return so.shared.parseValue(e)}}]),S}(),$s.shared=new $s,fa=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var n=e.match(/\[([0-9]{4})\]/);if(!(!n||n.length<2))return this.parseJSDate(n[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var n=e;n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(n=n.replace(" ","T"));var o=Date.parse(n);if(!Number.isNaN(o)){var u=new Date(n);return(n.indexOf("Z")>-1||n.indexOf("+")>-1||n.match(/^[0-9]{4}$/)||n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||n.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||n.match(/^.*?-[0-9]{4}$/))&&(u=new Date(u.getTime()+u.getTimezoneOffset()*1e3*60)),u}}}}]),S}(),fa.shared=new fa,Bs=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=e.split(":"),o;return n.length===1?o=this.parseNumberFormat(n[0]):o=this.parseColonSeparatedFormat(n),o}}},{key:"parseNumberFormat",value:function(e){var n=parseFloat(e);return Number.isNaN(n)&&(n=void 0),n}},{key:"parseColonSeparatedFormat",value:function(e){var n=!1,o=e.map(function(u,l){var s=parseFloat(u);if(Number.isNaN(s))return n=!0,0;var r=ki(60,e.length-1-l);return s*Math.floor(r)}).reduce(function(u,l){return u+l},0);return n?void 0:o}}]),S}(),Bs.shared=new Bs,Ju=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),S}(),Ju.shared=new Ju,Px=function(){"use strict";function S(t,e){_classCallCheck(this,S),this.separators=[";",","],this.parser=t,e&&e.separators&&(this.separators=e.separators)}return _createClass(S,[{key:"parseValue",value:function(e){var n=String(e),o=[],u=!0,l=!1,s=void 0;try{for(var r=this.separators[Symbol.iterator](),d;!(u=(d=r.next()).done);u=!0){var c=d.value;if(o=n.split(c),o.length>1)break}}catch(h){l=!0,s=h}finally{try{!u&&r.return!=null&&r.return()}finally{if(l)throw s}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var n=this,o=e.map(function(l){return l.trim()}).map(function(l){return n.parser.parseValue(l)}),u=[];return o.forEach(function(l){l!==void 0&&u.push(l)}),u}}]),S}(),Rd=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),S}(),Rd.shared=new Rd,Tl=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,[{key:"parseValue",value:function(e){return String(e)}}]),S}(),Tl.shared=new Tl}}),Ba,Tx,pa,Ld,Co,hi,uv,Ix,cv,Mx,Rx,dv,Lx,Dx,Il,hv,$x,fv,Bx,Q8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/search-service@0.1.2/deno/search-service.js":function(){ui(),ui(),ui(),ui(),ui(),ui(),ui(),ui(),ui(),ui(),Ba=function(){"use strict";function S(t,e){_classCallCheck(this,S),this.values=[],this.parser=t,this.rawValue=e,this.processRawValue()}return _createClass(S,[{key:"value",get:function(){return this.values.length>0?this.values[0]:void 0}},{key:"processRawValue",value:function(){var e=this;this.rawValue!==void 0&&(Array.isArray(this.rawValue)?this.rawValue.forEach(function(n){e.parseAndPersistValue(n)}):this.parseAndPersistValue(this.rawValue))}},{key:"parseAndPersistValue",value:function(e){var n=this.parser.parseValue(e);n!==void 0&&this.values.push(n)}}]),S}(),Tx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ku.shared,n)}return e}(Ba),pa=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,fa.shared,n)}return e}(Ba),Ld=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Bs.shared,n)}return e}(Ba),Co=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,so.shared,n)}return e}(Ba),hi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Tl.shared,n)}return e}(Ba),uv=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,$s.shared,n)}return e}(Ba),Ix=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ju.shared,n)}return e}(Ba),cv=function S(t){"use strict";_classCallCheck(this,S),this.rawMetadata=t,this.identifier=t.identifier,this.addeddate=t.addeddate?new pa(t.addeddate):void 0,this.publicdate=t.publicdate?new pa(t.publicdate):void 0,this.indexdate=t.indexdate?new pa(t.indexdate):void 0,this.audio_codec=t.audio_codec?new hi(t.audio_codec):void 0,this.audio_sample_rate=t.audio_sample_rate?new Co(t.audio_sample_rate):void 0,this.collection=t.collection?new hi(t.collection):void 0,this.collections_raw=t.collections_raw?new hi(t.collections_raw):void 0,this.collection_size=t.collection_size?new uv(t.collection_size):void 0,this.contributor=t.contributor?new hi(t.contributor):void 0,this.coverage=t.coverage?new hi(t.coverage):void 0,this.creator=t.creator?new hi(t.creator):void 0,this.date=t.date?new pa(t.date):void 0,this.description=t.description?new hi(t.description):void 0,this.downloads=t.downloads?new Co(t.downloads):void 0,this.duration=t.duration?new Ld(t.duration):void 0,this.files_count=t.files_count?new Co(t.files_count):void 0,this.item_count=t.item_count?new Co(t.item_count):void 0,this.item_size=t.item_size?new uv(t.item_size):void 0,this.language=t.language?new hi(t.language):void 0,this.length=t.length?new Ld(t.length):void 0,this.lineage=t.lineage?new hi(t.lineage):void 0,this.mediatype=t.mediatype?new Ix(t.mediatype):void 0,this.month=t.month?new Co(t.month):void 0,this.noindex=t.noindex?new Tx(t.noindex):void 0,this.notes=t.notes?new hi(t.notes):void 0,this.num_favorites=t.num_favorites?new Co(t.num_favorites):void 0,this.num_reviews=t.num_reviews?new Co(t.num_reviews):void 0,this.runtime=t.runtime?new Ld(t.runtime):void 0,this.scanner=t.scanner?new hi(t.scanner):void 0,this.source=t.source?new hi(t.source):void 0,this.start_localtime=t.start_localtime?new pa(t.start_localtime):void 0,this.start_time=t.start_time?new pa(t.start_time):void 0,this.stop_time=t.stop_time?new pa(t.stop_time):void 0,this.subject=t.subject?new hi(t.subject):void 0,this.taper=t.taper?new hi(t.taper):void 0,this.title=t.title?new hi(t.title):void 0,this.track=t.track?new Co(t.track):void 0,this.transferer=t.transferer?new hi(t.transferer):void 0,this.type=t.type?new hi(t.type):void 0,this.uploader=t.uploader?new hi(t.uploader):void 0,this.utc_offset=t.utc_offset?new Co(t.utc_offset):void 0,this.venue=t.venue?new hi(t.venue):void 0,this.week=t.week?new Co(t.week):void 0,this.year=t.year?new pa(t.year):void 0},Mx=function S(t){"use strict";_classCallCheck(this,S),this.name=t.name,this.source=t.source,this.btih=t.btih,this.md5=t.md5,this.format=t.format,this.mtime=t.mtime,this.crc32=t.crc32,this.sha1=t.sha1,this.original=t.original,this.title=t.title,this.length=t.length?Bs.shared.parseValue(t.length):void 0,this.size=t.size?$s.shared.parseValue(t.size):void 0,this.height=t.height?so.shared.parseValue(t.height):void 0,this.width=t.width?so.shared.parseValue(t.width):void 0,this.track=t.track?so.shared.parseValue(t.track):void 0,this.external_identifier=t["external-identifier"],this.creator=t.creator,this.album=t.album},Rx=function S(t){"use strict";_classCallCheck(this,S),this.reviewbody=t.reviewbody,this.reviewtitle=t.reviewtitle,this.reviewer=t.reviewer,this.reviewdate=fa.shared.parseValue(t.reviewdate),this.createdate=fa.shared.parseValue(t.createdate),this.stars=t.stars?parseFloat(t.stars):void 0},dv=function S(t){"use strict";_classCallCheck(this,S);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new Mx(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new cv(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new Rx(o)})},Lx=function S(t){"use strict";_classCallCheck(this,S),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new cv(e)}),this.aggregations=t.aggregations},Dx=function S(t){"use strict";_classCallCheck(this,S),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new Lx(t.response)},function(S){S.networkError="SearchService.NetworkError",S.itemNotFound="SearchService.ItemNotFound",S.decodingError="SearchService.DecodingError",S.searchEngineError="SearchService.SearchEngineError"}(Il||(Il={})),hv=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u){_classCallCheck(this,e);var l;return l=t.call(this,o),l.name=n,l.type=n,l.details=u,_possibleConstructorReturn(l)}return e}(_wrapNativeSuper(Error)),$x=function(){"use strict";function S(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"archive.org";_classCallCheck(this,S),this.baseUrl=t}return _createClass(S,[{key:"performSearch",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=e.asUrlSearchParams.toString(),u="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(u));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="https://".concat(this.baseUrl,"/metadata/").concat(e),l.abrupt("return",this.fetchUrl(o));case 2:case"end":return l.stop()}},n,this)}))}},{key:"fetchUrl",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u,l,s,r,d;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=1,h.next=4,fetch(e);case 4:o=h.sent,h.next=11;break;case 7:return h.prev=7,h.t0=h.catch(1),u=_instanceof(h.t0,Error)?h.t0.message:h.t0,h.abrupt("return",this.getErrorResult(Il.networkError,u));case 11:return h.prev=11,h.next=14,o.json();case 14:if(l=h.sent,s=l.error,!s){h.next=21;break}return r=l.forensics,h.abrupt("return",this.getErrorResult(Il.searchEngineError,s,r));case 21:return h.abrupt("return",{success:l});case 22:h.next=28;break;case 24:return h.prev=24,h.t1=h.catch(11),d=_instanceof(h.t1,Error)?h.t1.message:h.t1,h.abrupt("return",this.getErrorResult(Il.decodingError,d));case 28:case"end":return h.stop()}},n,this,[[1,7],[11,24]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new hv(e,n,o)}}}]),S}(),fv=function(){"use strict";function S(t){_classCallCheck(this,S),this.searchBackend=t}return _createClass(S,[{key:"search",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.searchBackend.performSearch(e);case 2:return o=l.sent,l.abrupt("return",o.error?o:{success:new Dx(o.success)});case 4:case"end":return l.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return u=s.sent,s.abrupt("return",u.error?u:((o=u.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new hv(Il.itemNotFound)}:{success:new dv(u.success)});case 5:case"end":return s.stop()}},n,this)}))}}]),S}(),fv.default=new fv(new $x),function(S){S.Asc="asc",S.Desc="desc"}(Bx||(Bx={}))}}),Nx,zx,Z8=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-ellipses@1.3.4/deno/icon-ellipses.js":function(){_n(),_n(),Nx=Ot(_templateObject98()),zx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Nx}}],[{key:"styles",get:function(){return Kt(_templateObject99())}}]),e}(Xn),customElements.define("ia-icon-ellipses",zx)}}),Hx,Fx,ej=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-collapse-sidebar@1.3.4/deno/icon-collapse-sidebar.js":function(){_n(),_n(),Hx=Ot(_templateObject100()),Fx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Hx}}],[{key:"styles",get:function(){return Kt(_templateObject101())}}]),e}(Xn),customElements.define("ia-icon-collapse-sidebar",Fx)}}),Qu,Ml,Rl,Zu=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directive.js":function(){Qu={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Ml=function(S){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{_$litDirective$:S,values:e}}},Rl=function(){"use strict";function S(t){_classCallCheck(this,S)}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,n,o){this._$Ct=e,this._$AM=n,this._$Ci=o}},{key:"_$AS",value:function(e,n){return this.update(e,n)}},{key:"update",value:function(e,n){return this.render.apply(this,_toConsumableArray(n))}}]),S}()}});function Ll(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===zs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Dl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Ll(S,r._$AS(S,t.values),r,n)),t}var pv,ec,Ns,vv,Dd,va,gv,Ux,Na,tc,Dl,mv,Vx,$d,$l,yv,bv,za,wv,_v,kv,xv,tj,nj,zs,Si,Sv,Ha,Wx,nc,qx,Bd,rc,Gx,Yx,Xx,Kx,Jx,Av,Fa,rj=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/class-map.js":function(){Zu(),ec=window,Ns=ec.trustedTypes,vv=Ns?Ns.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,Dd="$lit$",va="lit$".concat((Math.random()+"").slice(9),"$"),gv="?"+va,Ux="<".concat(gv,">"),Na=document,tc=function(){return Na.createComment("")},Dl=function(S){return S===null||typeof S!="object"&&typeof S!="function"},mv=Array.isArray,Vx=function(S){return mv(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},$d="[ 	\n\f\r]",$l=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,yv=/-->/g,bv=/>/g,za=RegExp(">|".concat($d,"(?:([^\\s\"'>=/]+)(").concat($d,"*=").concat($d,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),wv=/'/g,_v=/"/g,kv=/^(?:script|style|textarea|title)$/i,xv=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},tj=xv(1),nj=xv(2),zs=Symbol.for("lit-noChange"),Si=Symbol.for("lit-nothing"),Sv=new WeakMap,Ha=Na.createTreeWalker(Na,129,null,!1),Wx=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=$l,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===$l?c[1]==="!--"?l=yv:c[1]!==void 0?l=bv:c[2]!==void 0?(kv.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=za):c[3]!==void 0&&(l=za):l===za?c[0]===">"?(l=o!=null?o:$l,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?za:c[3]==='"'?_v:wv):l===_v||l===wv?l=za:l===yv||l===bv?l=$l:(l=za,o=void 0);var v=l===za&&S[s+1].startsWith("/>")?" ":"";u+=l===$l?r+Ux:h>=0?(n.push(d),r.slice(0,h)+Dd+r.slice(h)+va+v):r+va+(h===-2?(n.push(void 0),s):v)}return[c0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},nc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(Wx(n,o),2),h=c[0],f=c[1];if(this.el=nc.createElement(h,e),Ha.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=Ha.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(Dd)||a.startsWith(va)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+Dd).split(va),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?Gx:y[1]==="?"?Xx:y[1]==="@"?Kx:rc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(kv.test(u.tagName)){var J=u.textContent.split(va),F=J.length-1;if(F>0){u.textContent=Ns?Ns.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],tc()),Ha.nextNode(),d.push({type:2,index:++l});u.append(J[F],tc())}}}else if(u.nodeType===8)if(u.data===gv)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(va,re+1))!==-1;)d.push({type:7,index:l}),re+=va.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=Na.createElement("template");return o.innerHTML=e,o}}]),S}(),qx=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Na).importNode(l,!0);Ha.currentNode=r;for(var d=Ha.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Bd(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new Jx(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Ha.nextNode(),c++)}return Ha.currentNode=Na,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Bd=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=Si,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Ll(this,e,n),Dl(e)?e===Si||e==null||e===""?(this._$AH!==Si&&this._$AR(),this._$AH=Si):e!==this._$AH&&e!==zs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Vx(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Si&&Dl(this._$AH)?this._$AA.nextSibling.data=e:this.$(Na.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=nc.createElement(c0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new qx(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Sv.get(e.strings);return n===void 0&&Sv.set(e.strings,n=new nc(e)),n}},{key:"T",value:function(e){mv(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Bd(this.k(tc()),this.k(tc()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),rc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=Si,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Si}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=Ll(this,e,n,0),s=!Dl(e)||e!==this._$AH&&e!==zs,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=Ll(this,r[o+d],n,d),c===zs&&(c=this._$AH[d]),s||(s=!Dl(c)||c!==this._$AH[d]),c===Si?e=Si:e!==Si&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===Si?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),Gx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Si?void 0:o}}]),e}(rc),Yx=Ns?Ns.emptyScript:"",Xx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Si?this.element.setAttribute(this.name,Yx):this.element.removeAttribute(this.name)}}]),e}(rc),Kx=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=Ll(this,o,u,0))!==null&&l!==void 0?l:Si)!==zs){var s=this._$AH,r=o===Si&&s!==Si||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Si&&(s===Si||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(rc),Jx=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Ll(this,e)}}]),S}(),Av=ec.litHtmlPolyfillSupport,Av==null||Av(nc,Bd),((pv=ec.litHtmlVersions)!==null&&pv!==void 0?pv:ec.litHtmlVersions=[]).push("2.8.0"),Fa=Ml(function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,u;if(o=t.call(this,n),n.type!==Qu.ATTRIBUTE||n.name!=="class"||((u=n.strings)===null||u===void 0?void 0:u.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return" "+Object.keys(o).filter(function(u){return o[u]}).join(" ")+" "}},{key:"update",value:function(o,u){var l=_slicedToArray(u,1),s=l[0],r=this,d,c;if(this.it===void 0){this.it=new Set,o.strings!==void 0&&(this.nt=new Set(o.strings.join(" ").split(/\s/).filter(function(w){return w!==""})));for(var h in s)s[h]&&!(!((d=this.nt)===null||d===void 0)&&d.has(h))&&this.it.add(h);return this.render(s)}var f=o.element.classList;this.it.forEach(function(w){w in s||(f.remove(w),r.it.delete(w))});for(var v in s){var x=!!s[v];x===this.it.has(v)||!((c=this.nt)===null||c===void 0)&&c.has(v)||(x?(f.add(v),this.it.add(v)):(f.remove(v),this.it.delete(v)))}return zs}}]),e}(Rl))}}),Nd=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/class-map.js":function(){rj()}});function Bl(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Hl)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Nl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Bl(S,r._$AS(S,t.values),r,n)),t}var Cv,ic,Hs,Ov,zd,ga,jv,Qx,Ua,oc,Nl,Ev,Zx,Hd,zl,Pv,Tv,Va,Iv,Mv,Rv,Lv,ij,oj,Hl,fi,Dv,Wa,e6,ac,t6,Fd,sc,n6,r6,i6,o6,a6,$v,Bv,aj=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/if-defined.js":function(){ic=window,Hs=ic.trustedTypes,Ov=Hs?Hs.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,zd="$lit$",ga="lit$".concat((Math.random()+"").slice(9),"$"),jv="?"+ga,Qx="<".concat(jv,">"),Ua=document,oc=function(){return Ua.createComment("")},Nl=function(S){return S===null||typeof S!="object"&&typeof S!="function"},Ev=Array.isArray,Zx=function(S){return Ev(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},Hd="[ 	\n\f\r]",zl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Pv=/-->/g,Tv=/>/g,Va=RegExp(">|".concat(Hd,"(?:([^\\s\"'>=/]+)(").concat(Hd,"*=").concat(Hd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Iv=/'/g,Mv=/"/g,Rv=/^(?:script|style|textarea|title)$/i,Lv=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},ij=Lv(1),oj=Lv(2),Hl=Symbol.for("lit-noChange"),fi=Symbol.for("lit-nothing"),Dv=new WeakMap,Wa=Ua.createTreeWalker(Ua,129,null,!1),e6=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=zl,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===zl?c[1]==="!--"?l=Pv:c[1]!==void 0?l=Tv:c[2]!==void 0?(Rv.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=Va):c[3]!==void 0&&(l=Va):l===Va?c[0]===">"?(l=o!=null?o:zl,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?Va:c[3]==='"'?Mv:Iv):l===Mv||l===Iv?l=Va:l===Pv||l===Tv?l=zl:(l=Va,o=void 0);var v=l===Va&&S[s+1].startsWith("/>")?" ":"";u+=l===zl?r+Qx:h>=0?(n.push(d),r.slice(0,h)+zd+r.slice(h)+ga+v):r+ga+(h===-2?(n.push(void 0),s):v)}return[d0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},ac=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(e6(n,o),2),h=c[0],f=c[1];if(this.el=ac.createElement(h,e),Wa.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=Wa.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(zd)||a.startsWith(ga)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+zd).split(ga),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?n6:y[1]==="?"?i6:y[1]==="@"?o6:sc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(Rv.test(u.tagName)){var J=u.textContent.split(ga),F=J.length-1;if(F>0){u.textContent=Hs?Hs.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],oc()),Wa.nextNode(),d.push({type:2,index:++l});u.append(J[F],oc())}}}else if(u.nodeType===8)if(u.data===jv)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(ga,re+1))!==-1;)d.push({type:7,index:l}),re+=ga.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=Ua.createElement("template");return o.innerHTML=e,o}}]),S}(),t6=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ua).importNode(l,!0);Wa.currentNode=r;for(var d=Wa.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Fd(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new a6(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Wa.nextNode(),c++)}return Wa.currentNode=Ua,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Fd=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=fi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Bl(this,e,n),Nl(e)?e===fi||e==null||e===""?(this._$AH!==fi&&this._$AR(),this._$AH=fi):e!==this._$AH&&e!==Hl&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Zx(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==fi&&Nl(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ua.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=ac.createElement(d0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new t6(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Dv.get(e.strings);return n===void 0&&Dv.set(e.strings,n=new ac(e)),n}},{key:"T",value:function(e){Ev(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Fd(this.k(oc()),this.k(oc()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),sc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=fi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=fi}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=Bl(this,e,n,0),s=!Nl(e)||e!==this._$AH&&e!==Hl,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=Bl(this,r[o+d],n,d),c===Hl&&(c=this._$AH[d]),s||(s=!Nl(c)||c!==this._$AH[d]),c===fi?e=fi:e!==fi&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===fi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),n6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===fi?void 0:o}}]),e}(sc),r6=Hs?Hs.emptyScript:"",i6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==fi?this.element.setAttribute(this.name,r6):this.element.removeAttribute(this.name)}}]),e}(sc),o6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=Bl(this,o,u,0))!==null&&l!==void 0?l:fi)!==Hl){var s=this._$AH,r=o===fi&&s!==fi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==fi&&(s===fi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(sc),a6=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Bl(this,e)}}]),S}(),$v=ic.litHtmlPolyfillSupport,$v==null||$v(ac,Fd),((Cv=ic.litHtmlVersions)!==null&&Cv!==void 0?Cv:ic.litHtmlVersions=[]).push("2.8.0"),Bv=function(S){return S!=null?S:fi}}}),s6=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/if-defined.js":function(){aj()}}),l6,u6,c6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-link@1.3.4/deno/icon-link.js":function(){_n(),_n(),l6=Ot(_templateObject102()),u6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return l6}}],[{key:"styles",get:function(){return Kt(_templateObject103())}}]),e}(Xn),customElements.define("ia-icon-link",u6)}}),d6,h6,f6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-share@1.3.4/deno/icon-share.js":function(){_n(),_n(),d6=Ot(_templateObject104()),h6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return d6}}],[{key:"styles",get:function(){return Kt(_templateObject105())}}]),e}(Xn),customElements.define("ia-icon-share",h6)}}),p6,v6,g6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-email@1.3.4/deno/icon-email.js":function(){_n(),_n(),p6=Ot(_templateObject106()),v6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return p6}}],[{key:"styles",get:function(){return Kt(_templateObject107())}}]),e}(Xn),customElements.define("ia-icon-email",v6)}}),m6,y6,b6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-facebook@1.3.4/deno/icon-facebook.js":function(){_n(),_n(),m6=Ot(_templateObject108()),y6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return m6}}],[{key:"styles",get:function(){return Kt(_templateObject109())}}]),e}(Xn),customElements.define("ia-icon-facebook",y6)}}),w6,_6,k6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-pinterest@1.3.4/deno/icon-pinterest.js":function(){_n(),_n(),w6=Ot(_templateObject110()),_6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return w6}}],[{key:"styles",get:function(){return Kt(_templateObject111())}}]),e}(Xn),customElements.define("ia-icon-pinterest",_6)}}),x6,S6,A6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-tumblr@1.3.4/deno/icon-tumblr.js":function(){_n(),_n(),x6=Ot(_templateObject112()),S6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return x6}}],[{key:"styles",get:function(){return Kt(_templateObject113())}}]),e}(Xn),customElements.define("ia-icon-tumblr",S6)}}),C6,O6,j6=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-twitter@1.3.4/deno/icon-twitter.js":function(){_n(),_n(),C6=Ot(_templateObject114()),O6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return C6}}],[{key:"styles",get:function(){return Kt(_templateObject115())}}]),e}(Xn),customElements.define("ia-icon-twitter",O6)}});function Fs(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Vl)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Fl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Fs(S,r._$AS(S,t.values),r,n)),t}var Nv,lc,Us,zv,uc,Ho,Ud,E6,qa,cc,Fl,Hv,Fv,Vd,Ul,Uv,Vv,Ga,Wv,qv,Gv,Yv,sj,lj,Vl,Ai,Xv,Ya,Kv,dc,Jv,hc,Wl,Qv,P6,Zv,eg,tg,T6,ng,I6,rg,M6,ig,Xa,Ka,R6,Wd,qd,Gd,L6,D6=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directive-helpers.js":function(){lc=window,Us=lc.trustedTypes,zv=Us?Us.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,uc="$lit$",Ho="lit$".concat((Math.random()+"").slice(9),"$"),Ud="?"+Ho,E6="<".concat(Ud,">"),qa=document,cc=function(){return qa.createComment("")},Fl=function(t){return t===null||typeof t!="object"&&typeof t!="function"},Hv=Array.isArray,Fv=function(t){return Hv(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function"},Vd="[ 	\n\f\r]",Ul=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Uv=/-->/g,Vv=/>/g,Ga=RegExp(">|".concat(Vd,"(?:([^\\s\"'>=/]+)(").concat(Vd,"*=").concat(Vd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Wv=/'/g,qv=/"/g,Gv=/^(?:script|style|textarea|title)$/i,Yv=function(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return{_$litType$:t,strings:e,values:o}}},sj=Yv(1),lj=Yv(2),Vl=Symbol.for("lit-noChange"),Ai=Symbol.for("lit-nothing"),Xv=new WeakMap,Ya=qa.createTreeWalker(qa,129,null,!1),Kv=function(t,e){for(var n=t.length-1,o=[],u,l=e===2?"<svg>":"",s=Ul,r=0;r<n;r++){for(var d=t[r],c=void 0,h=void 0,f=-1,v=0;v<d.length&&(s.lastIndex=v,h=s.exec(d),h!==null);)v=s.lastIndex,s===Ul?h[1]==="!--"?s=Uv:h[1]!==void 0?s=Vv:h[2]!==void 0?(Gv.test(h[2])&&(u=RegExp("</"+h[2],"g")),s=Ga):h[3]!==void 0&&(s=Ga):s===Ga?h[0]===">"?(s=u!=null?u:Ul,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,c=h[1],s=h[3]===void 0?Ga:h[3]==='"'?qv:Wv):s===qv||s===Wv?s=Ga:s===Uv||s===Vv?s=Ul:(s=Ga,u=void 0);var x=s===Ga&&t[r+1].startsWith("/>")?" ":"";l+=s===Ul?d+E6:f>=0?(o.push(c),d.slice(0,f)+uc+d.slice(f)+Ho+x):d+Ho+(f===-2?(o.push(void 0),r):x)}return[h0(t,l+(t[n]||"<?>")+(e===2?"</svg>":"")),o]},dc=function(){"use strict";function t(e,n){var o=e.strings,u=e._$litType$;_classCallCheck(this,t);var l;this.parts=[];var s=0,r=0,d=o.length-1,c=this.parts,h=_slicedToArray(Kv(o,u),2),f=h[0],v=h[1];if(this.el=dc.createElement(f,n),Ya.currentNode=this.el.content,u===2){var x,w=this.el.content,b=w.firstChild;b.remove(),(x=w).append.apply(x,_toConsumableArray(b.childNodes))}for(;(l=Ya.nextNode())!==null&&c.length<d;){if(l.nodeType===1){if(l.hasAttributes()){var C=[],P=!0,E=!1,T=void 0;try{for(var m=l.getAttributeNames()[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=a.value;if(p.endsWith(uc)||p.startsWith(Ho)){var g=v[r++];if(C.push(p),g!==void 0){var y=l.getAttribute(g.toLowerCase()+uc).split(Ho),_=/([.?@])?(.*)/.exec(g);c.push({type:1,index:s,name:_[2],strings:y,ctor:_[1]==="."?Qv:_[1]==="?"?Zv:_[1]==="@"?eg:Wl})}else c.push({type:6,index:s})}}}catch(X){E=!0,T=X}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}var j=!0,R=!1,D=void 0;try{for(var H=C[Symbol.iterator](),K;!(j=(K=H.next()).done);j=!0){var J=K.value;l.removeAttribute(J)}}catch(X){R=!0,D=X}finally{try{!j&&H.return!=null&&H.return()}finally{if(R)throw D}}}if(Gv.test(l.tagName)){var F=l.textContent.split(Ho),de=F.length-1;if(de>0){l.textContent=Us?Us.emptyScript:"";for(var re=0;re<de;re++)l.append(F[re],cc()),Ya.nextNode(),c.push({type:2,index:++s});l.append(F[de],cc())}}}else if(l.nodeType===8)if(l.data===Ud)c.push({type:2,index:s});else for(var V=-1;(V=l.data.indexOf(Ho,V+1))!==-1;)c.push({type:7,index:s}),V+=Ho.length-1;s++}}return _createClass(t,null,[{key:"createElement",value:function(n,o){var u=qa.createElement("template");return u.innerHTML=n,u}}]),t}(),Jv=function(){"use strict";function t(e,n){_classCallCheck(this,t),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}return _createClass(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(n){var o,u=this._$AD,l=u.el,s=l.content,r=u.parts,d=((o=n==null?void 0:n.creationScope)!==null&&o!==void 0?o:qa).importNode(s,!0);Ya.currentNode=d;for(var c=Ya.nextNode(),h=0,f=0,v=r[0];v!==void 0;){if(h===v.index){var x=void 0;v.type===2?x=new hc(c,c.nextSibling,this,n):v.type===1?x=new v.ctor(c,v.name,v.strings,this,n):v.type===6&&(x=new tg(c,this,n)),this._$AV.push(x),v=r[++f]}h!==(v==null?void 0:v.index)&&(c=Ya.nextNode(),h++)}return Ya.currentNode=qa,d}},{key:"v",value:function(n){var o=0,u=!0,l=!1,s=void 0;try{for(var r=this._$AV[Symbol.iterator](),d;!(u=(d=r.next()).done);u=!0){var c=d.value;c!==void 0&&(c.strings!==void 0?(c._$AI(n,c,o),o+=c.strings.length-2):c._$AI(n[o])),o++}}catch(h){l=!0,s=h}finally{try{!u&&r.return!=null&&r.return()}finally{if(l)throw s}}}}]),t}(),hc=function(){"use strict";function t(e,n,o,u){_classCallCheck(this,t);var l;this.type=2,this._$AH=Ai,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=o,this.options=u,this._$Cp=(l=u==null?void 0:u.isConnected)===null||l===void 0||l}return _createClass(t,[{key:"_$AU",get:function(){var n,o;return(o=(n=this._$AM)===null||n===void 0?void 0:n._$AU)!==null&&o!==void 0?o:this._$Cp}},{key:"parentNode",get:function(){var n=this._$AA.parentNode,o=this._$AM;return o!==void 0&&(n==null?void 0:n.nodeType)===11&&(n=o.parentNode),n}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;n=Fs(this,n,o),Fl(n)?n===Ai||n==null||n===""?(this._$AH!==Ai&&this._$AR(),this._$AH=Ai):n!==this._$AH&&n!==Vl&&this._(n):n._$litType$!==void 0?this.g(n):n.nodeType!==void 0?this.$(n):Fv(n)?this.T(n):this._(n)}},{key:"k",value:function(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}},{key:"$",value:function(n){this._$AH!==n&&(this._$AR(),this._$AH=this.k(n))}},{key:"_",value:function(n){this._$AH!==Ai&&Fl(this._$AH)?this._$AA.nextSibling.data=n:this.$(qa.createTextNode(n)),this._$AH=n}},{key:"g",value:function(n){var o,u=n.values,l=n._$litType$,s=typeof l=="number"?this._$AC(n):(l.el===void 0&&(l.el=dc.createElement(h0(l.h,l.h[0]),this.options)),l);if(((o=this._$AH)===null||o===void 0?void 0:o._$AD)===s)this._$AH.v(u);else{var r=new Jv(s,this),d=r.u(this.options);r.v(u),this.$(d),this._$AH=r}}},{key:"_$AC",value:function(n){var o=Xv.get(n.strings);return o===void 0&&Xv.set(n.strings,o=new dc(n)),o}},{key:"T",value:function(n){Hv(this._$AH)||(this._$AH=[],this._$AR());var o=this._$AH,u,l=0,s=!0,r=!1,d=void 0;try{for(var c=n[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;l===o.length?o.push(u=new hc(this.k(cc()),this.k(cc()),this,this.options)):u=o[l],u._$AI(f),l++}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}l<o.length&&(this._$AR(u&&u._$AB.nextSibling,l),o.length=l)}},{key:"_$AR",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0,u;for((u=this._$AP)===null||u===void 0||u.call(this,!1,!0,o);n&&n!==this._$AB;){var l=n.nextSibling;n.remove(),n=l}}},{key:"setConnected",value:function(n){var o;this._$AM===void 0&&(this._$Cp=n,(o=this._$AP)===null||o===void 0||o.call(this,n))}}]),t}(),Wl=function(){"use strict";function t(e,n,o,u,l){_classCallCheck(this,t),this.type=1,this._$AH=Ai,this._$AN=void 0,this.element=e,this.name=n,this._$AM=u,this.options=l,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=Ai}return _createClass(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,u=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,s=this.strings,r=!1;if(s===void 0)n=Fs(this,n,o,0),r=!Fl(n)||n!==this._$AH&&n!==Vl,r&&(this._$AH=n);else{var d=n,c,h;for(n=s[0],c=0;c<s.length-1;c++)h=Fs(this,d[u+c],o,c),h===Vl&&(h=this._$AH[c]),r||(r=!Fl(h)||h!==this._$AH[c]),h===Ai?n=Ai:n!==Ai&&(n+=(h!=null?h:"")+s[c+1]),this._$AH[c]=h}r&&!l&&this.j(n)}},{key:"j",value:function(n){n===Ai?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n!=null?n:"")}}]),t}(),Qv=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=3,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(u){this.element[this.name]=u===Ai?void 0:u}}]),n}(Wl),P6=Us?Us.emptyScript:"",Zv=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=4,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(u){u&&u!==Ai?this.element.setAttribute(this.name,P6):this.element.removeAttribute(this.name)}}]),n}(Wl),eg=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(o,u,l,s,r){_classCallCheck(this,n);var d;return d=e.call(this,o,u,l,s,r),d.type=5,_possibleConstructorReturn(d)}return _createClass(n,[{key:"_$AI",value:function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((u=(s=Fs(this,u,l,0))!==null&&s!==void 0?s:Ai)!==Vl){var r=this._$AH,d=u===Ai&&r!==Ai||u.capture!==r.capture||u.once!==r.once||u.passive!==r.passive,c=u!==Ai&&(r===Ai||d);d&&this.element.removeEventListener(this.name,this,r),c&&this.element.addEventListener(this.name,this,u),this._$AH=u}}},{key:"handleEvent",value:function(u){var l,s;typeof this._$AH=="function"?this._$AH.call((s=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&s!==void 0?s:this.element,u):this._$AH.handleEvent(u)}}]),n}(Wl),tg=function(){"use strict";function t(e,n,o){_classCallCheck(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=o}return _createClass(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){Fs(this,n)}}]),t}(),T6={O:uc,P:Ho,A:Ud,C:1,M:Kv,L:Jv,R:Fv,D:Fs,I:hc,V:Wl,H:Zv,N:eg,U:Qv,F:tg},ng=lc.litHtmlPolyfillSupport,ng==null||ng(dc,hc),((Nv=lc.litHtmlVersions)!==null&&Nv!==void 0?Nv:lc.litHtmlVersions=[]).push("2.8.0");var S;S=T6,I6=S.I,rg=function(t,e){return e===void 0?(t==null?void 0:t._$litType$)!==void 0:(t==null?void 0:t._$litType$)===e},M6=function(t){var e;return((e=t==null?void 0:t._$litType$)===null||e===void 0?void 0:e.h)!=null},ig=function(){return document.createComment("")},Xa=function(t,e,n){var o,u=t._$AA.parentNode,l=e===void 0?t._$AB:e._$AA;if(n===void 0){var s=u.insertBefore(ig(),l),r=u.insertBefore(ig(),l);n=new I6(s,r,t,t.options)}else{var d=n._$AB.nextSibling,c=n._$AM,h=c!==t;if(h){var f;(o=n._$AQ)===null||o===void 0||o.call(n,t),n._$AM=t,n._$AP!==void 0&&(f=t._$AU)!==c._$AU&&n._$AP(f)}if(d!==l||h)for(var v=n._$AA;v!==d;){var x=v.nextSibling;u.insertBefore(v,l),v=x}}return n},Ka=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return t._$AI(e,n),t},R6={},Wd=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R6;return t._$AH=e},qd=function(t){return t._$AH},Gd=function(t){var e;(e=t._$AP)===null||e===void 0||e.call(t,!1,!0);for(var n=t._$AA,o=t._$AB.nextSibling;n!==o;){var u=n.nextSibling;n.remove(),n=u}},L6=function(t){t._$AR()}}});function ql(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Ws)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Gl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=ql(S,r._$AS(S,t.values),r,n)),t}var og,fc,Vs,ag,Yd,ma,sg,$6,Ja,pc,Gl,lg,B6,Xd,Yl,ug,cg,Qa,dg,hg,fg,pg,uj,cj,Ws,Ci,vg,Za,N6,vc,z6,Kd,gc,H6,F6,U6,V6,W6,gg,mg,Xl,dj=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/repeat.js":function(){Zu(),D6(),fc=window,Vs=fc.trustedTypes,ag=Vs?Vs.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,Yd="$lit$",ma="lit$".concat((Math.random()+"").slice(9),"$"),sg="?"+ma,$6="<".concat(sg,">"),Ja=document,pc=function(){return Ja.createComment("")},Gl=function(S){return S===null||typeof S!="object"&&typeof S!="function"},lg=Array.isArray,B6=function(S){return lg(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},Xd="[ 	\n\f\r]",Yl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ug=/-->/g,cg=/>/g,Qa=RegExp(">|".concat(Xd,"(?:([^\\s\"'>=/]+)(").concat(Xd,"*=").concat(Xd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),dg=/'/g,hg=/"/g,fg=/^(?:script|style|textarea|title)$/i,pg=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},uj=pg(1),cj=pg(2),Ws=Symbol.for("lit-noChange"),Ci=Symbol.for("lit-nothing"),vg=new WeakMap,Za=Ja.createTreeWalker(Ja,129,null,!1),N6=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=Yl,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===Yl?c[1]==="!--"?l=ug:c[1]!==void 0?l=cg:c[2]!==void 0?(fg.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=Qa):c[3]!==void 0&&(l=Qa):l===Qa?c[0]===">"?(l=o!=null?o:Yl,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?Qa:c[3]==='"'?hg:dg):l===hg||l===dg?l=Qa:l===ug||l===cg?l=Yl:(l=Qa,o=void 0);var v=l===Qa&&S[s+1].startsWith("/>")?" ":"";u+=l===Yl?r+$6:h>=0?(n.push(d),r.slice(0,h)+Yd+r.slice(h)+ma+v):r+ma+(h===-2?(n.push(void 0),s):v)}return[f0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},vc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(N6(n,o),2),h=c[0],f=c[1];if(this.el=vc.createElement(h,e),Za.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=Za.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(Yd)||a.startsWith(ma)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+Yd).split(ma),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?H6:y[1]==="?"?U6:y[1]==="@"?V6:gc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(fg.test(u.tagName)){var J=u.textContent.split(ma),F=J.length-1;if(F>0){u.textContent=Vs?Vs.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],pc()),Za.nextNode(),d.push({type:2,index:++l});u.append(J[F],pc())}}}else if(u.nodeType===8)if(u.data===sg)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(ma,re+1))!==-1;)d.push({type:7,index:l}),re+=ma.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=Ja.createElement("template");return o.innerHTML=e,o}}]),S}(),z6=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ja).importNode(l,!0);Za.currentNode=r;for(var d=Za.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Kd(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new W6(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Za.nextNode(),c++)}return Za.currentNode=Ja,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Kd=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=Ci,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=ql(this,e,n),Gl(e)?e===Ci||e==null||e===""?(this._$AH!==Ci&&this._$AR(),this._$AH=Ci):e!==this._$AH&&e!==Ws&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):B6(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Ci&&Gl(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ja.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=vc.createElement(f0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new z6(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=vg.get(e.strings);return n===void 0&&vg.set(e.strings,n=new vc(e)),n}},{key:"T",value:function(e){lg(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Kd(this.k(pc()),this.k(pc()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),gc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=Ci,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ci}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=ql(this,e,n,0),s=!Gl(e)||e!==this._$AH&&e!==Ws,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=ql(this,r[o+d],n,d),c===Ws&&(c=this._$AH[d]),s||(s=!Gl(c)||c!==this._$AH[d]),c===Ci?e=Ci:e!==Ci&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===Ci?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),H6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ci?void 0:o}}]),e}(gc),F6=Vs?Vs.emptyScript:"",U6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ci?this.element.setAttribute(this.name,F6):this.element.removeAttribute(this.name)}}]),e}(gc),V6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=ql(this,o,u,0))!==null&&l!==void 0?l:Ci)!==Ws){var s=this._$AH,r=o===Ci&&s!==Ci||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Ci&&(s===Ci||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(gc),W6=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){ql(this,e)}}]),S}(),gg=fc.litHtmlPolyfillSupport,gg==null||gg(vc,Kd),((og=fc.litHtmlVersions)!==null&&og!==void 0?og:fc.litHtmlVersions=[]).push("2.8.0"),mg=function(S,t,e){for(var n=new Map,o=t;o<=e;o++)n.set(S[o],o);return n},Xl=Ml(function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),n.type!==Qu.CHILD)throw Error("repeat() can only be used in text expressions");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"ct",value:function(o,u,l){var s;l===void 0?l=u:u!==void 0&&(s=u);var r=[],d=[],c=0,h=!0,f=!1,v=void 0;try{for(var x=o[Symbol.iterator](),w;!(h=(w=x.next()).done);h=!0){var b=w.value;r[c]=s?s(b,c):c,d[c]=l(b,c),c++}}catch(C){f=!0,v=C}finally{try{!h&&x.return!=null&&x.return()}finally{if(f)throw v}}return{values:d,keys:r}}},{key:"render",value:function(o,u,l){return this.ct(o,u,l).values}},{key:"update",value:function(o,u){var l=_slicedToArray(u,3),s=l[0],r=l[1],d=l[2],c,h=qd(o),f=this.ct(s,r,d),v=f.values,x=f.keys;if(!Array.isArray(h))return this.ut=x,v;for(var w=(c=this.ut)!==null&&c!==void 0?c:this.ut=[],b=[],C,P,E=0,T=h.length-1,m=0,a=v.length-1;E<=T&&m<=a;)if(h[E]===null)E++;else if(h[T]===null)T--;else if(w[E]===x[m])b[m]=Ka(h[E],v[m]),E++,m++;else if(w[T]===x[a])b[a]=Ka(h[T],v[a]),T--,a--;else if(w[E]===x[a])b[a]=Ka(h[E],v[a]),Xa(o,b[a+1],h[E]),E++,a--;else if(w[T]===x[m])b[m]=Ka(h[T],v[m]),Xa(o,h[E],h[T]),T--,m++;else if(C===void 0&&(C=mg(x,m,a),P=mg(w,E,T)),C.has(w[E]))if(C.has(w[T])){var p=P.get(x[m]),g=p!==void 0?h[p]:null;if(g===null){var y=Xa(o,h[E]);Ka(y,v[m]),b[m]=y}else b[m]=Ka(g,v[m]),Xa(o,h[E],g),h[p]=null;m++}else Gd(h[T]),T--;else Gd(h[E]),E++;for(;m<=a;){var _=Xa(o,b[a+1]);Ka(_,v[m]),b[m++]=_}for(;E<=T;){var j=h[E++];j!==null&&Gd(j)}return this.ut=x,Wd(o,b),Ws}}]),e}(Rl))}}),mc=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/repeat.js":function(){dj()}}),q6,Jd,yg,G6,Y6,Fo,X6,ya,Qd,Zd,Oi,Kl,K6,J6,Q6,Z6,eS,bg,hj,mo,tS,nS,rS,fj,Jl,es,pj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/ia-item-navigator.js":function(){Qr(),_n(),ei(),Q8(),Z8(),Qr(),_n(),ei(),_n(),ej(),Qr(),_n(),ei(),_n(),Qr(),_n(),ei(),Qr(),_n(),ei(),Qr(),Nd(),s6(),_n(),ei(),c6(),f6(),g6(),_n(),b6(),_n(),k6(),_n(),A6(),_n(),j6(),_n(),Qr(),_n(),ei(),mc(),q6=Kt(_templateObject116()),Jd=Kt(_templateObject117()),yg=Kt(_templateObject118()),G6=Kt(_templateObject119(),yg,Jd,Jd,q6,Jd,yg),Y6=Kt(_templateObject120()),Fo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.icon="",n.href="",n.label="",n.menuDetails="",n.buttonId="",n.selected=!1,n.followable=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"onClick",value:function(o){o.preventDefault(),this.dispatchMenuTypeSelectedEvent()}},{key:"dispatchMenuTypeSelectedEvent",value:function(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}},{key:"buttonClass",get:function(){return this.selected?"selected":""}},{key:"iconClass",get:function(){return this.selected?"active":""}},{key:"menuItem",get:function(){return Ot(_templateObject121(),this.iconClass,this.icon,this.label,this.menuDetails)}},{key:"linkButton",get:function(){return Ot(_templateObject122(),this.href,this.buttonClass,this.followable?void 0:this.onClick,this.menuItem)}},{key:"clickButton",get:function(){return Ot(_templateObject123(),this.buttonClass,this.onClick,this.menuItem)}},{key:"render",value:function(){return this.href?this.linkButton:this.clickButton}}],[{key:"styles",get:function(){return Y6}}]),e}(Xn),A([Xt({type:String})],Fo.prototype,"icon",void 0),A([Xt({type:String})],Fo.prototype,"href",void 0),A([Xt({type:String})],Fo.prototype,"label",void 0),A([Xt({type:String})],Fo.prototype,"menuDetails",void 0),A([Xt({type:String})],Fo.prototype,"buttonId",void 0),A([Xt({type:Boolean})],Fo.prototype,"selected",void 0),A([Xt({type:Boolean})],Fo.prototype,"followable",void 0),Fo=A([zr("menu-button")],Fo),X6={closeDrawer:"menuSliderClosed"},ya=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.menus=[],n.open=!1,n.manuallyHandleClose=!1,n.selectedMenu="",n.selectedMenuAction=Un,n.animateMenuOpen=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){var o=this.selectedMenuDetails||{},u=o.actionButton;u!==this.selectedMenuAction&&(this.selectedMenuAction=u||Un)}},{key:"setSelectedMenu",value:function(o){var u=o.detail,l=u.id;this.selectedMenu=this.selectedMenu===l?"":l;var s=this.selectedMenuDetails||{},r=s.actionButton;this.selectedMenuAction=r||Un}},{key:"closeMenu",value:function(){this.manuallyHandleClose||(this.open=!1);var o=X6.closeDrawer,u=new CustomEvent(o,{detail:this.selectedMenuDetails});this.dispatchEvent(u)}},{key:"selectedMenuDetails",get:function(){var o=this;return this.menus.find(function(u){return u.id===o.selectedMenu})}},{key:"selectedMenuComponent",get:function(){var o=this.selectedMenuDetails;return o&&(o==null?void 0:o.component)?o.component:Ot(_templateObject124())}},{key:"sliderDetailsClass",get:function(){var o=this.animateMenuOpen?"animate":"",u=this.open?"open":"";return"".concat(o," ").concat(u)}},{key:"selectedMenuClass",get:function(){return this.selectedMenu?"open":""}},{key:"menuItems",get:function(){var o=this;return this.menus.map(function(u){return Ot(_templateObject125(),o.setSelectedMenu,u.icon,u.label,u.menuDetails,u.id,u.id===o.selectedMenu,u.followable,u.href)})}},{key:"renderMenuHeader",get:function(){var o=this.selectedMenuDetails||{},u=o.label,l=u===void 0?"":u,s=o.menuDetails,r=s===void 0?"":s,d=this.selectedMenuAction?"with-secondary-action":"",c=this.selectedMenuAction?Ot(_templateObject126(),this.selectedMenuAction):Un;return Ot(_templateObject127(),d,l,r,c,this.closeButton)}},{key:"closeButton",get:function(){return Ot(_templateObject128(),this.closeMenu)}},{key:"render",value:function(){return Ot(_templateObject129(),this.sliderDetailsClass,this.closeButton,this.menuItems,this.selectedMenuClass,this.setSelectedMenu,this.renderMenuHeader,this.selectedMenuComponent)}}],[{key:"styles",get:function(){return G6}}]),e}(Xn),A([Xt({type:Array})],ya.prototype,"menus",void 0),A([Xt({type:Boolean})],ya.prototype,"open",void 0),A([Xt({type:Boolean})],ya.prototype,"manuallyHandleClose",void 0),A([Xt({type:String})],ya.prototype,"selectedMenu",void 0),A([Xt({type:Object})],ya.prototype,"selectedMenuAction",void 0),A([Xt({type:Boolean})],ya.prototype,"animateMenuOpen",void 0),ya=A([zr("ia-menu-slider")],ya),Qd=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.loaderMessage="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"bookIconSvg",get:function(){return Ta(_templateObject130())}},{key:"icon",get:function(){return this.bookIconSvg}},{key:"loader",get:function(){return Ta(_templateObject131(),this.icon)}},{key:"render",value:function(){var o=this.loaderMessage?Ot(_templateObject132(),this.loaderMessage):Un;return Ot(_templateObject133(),o,this.loader)}}],[{key:"styles",get:function(){return Kt(_templateObject134())}}]),e}(Xn),A([Xt({type:String})],Qd.prototype,"loaderMessage",void 0),Qd=A([zr("ia-itemnav-loader")],Qd),Zd=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.identifier="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitLoaded",value:function(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}},{key:"updated",value:function(o){o.has("identifier")&&this.emitLoaded()}},{key:"downloadUrl",get:function(){return"/download/".concat(this.identifier)}},{key:"render",value:function(){return Ot(_templateObject135(),this.downloadUrl)}}],[{key:"styles",get:function(){return Kt(_templateObject136())}}]),e}(Xn),A([Xt({type:String})],Zd.prototype,"identifier",void 0),Zd=A([zr("ia-no-theater-available")],Zd),Oi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.viewAvailable=!0,n.baseHost="archive.org",n.signedIn=!1,n.menuContents=[],n.menuShortcuts=[],n.viewportInFullscreen=null,n.menuOpened=!1,n.loaded=!1,n.openMenuState="shift",_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.removeResizeObserver()}},{key:"updated",value:function(o){if(o.has("sharedObserver")){var u=o.get("sharedObserver");u==null||u.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}},{key:"handleResize",value:function(o){var u=o.contentRect,l=u.width;if(l<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}},{key:"setResizeObserver",value:function(){var o=this,u,l;(u=this.sharedObserver)===null||u===void 0||u.addObserver(this.resizeObserverConfig),(l=this.sharedObserver)===null||l===void 0||l.addObserver({target:this.headerSlot,handler:{handleResize:function(s){var r=s.contentRect;r.height&&o.requestUpdate()}}})}},{key:"removeResizeObserver",value:function(){var o;(o=this.sharedObserver)===null||o===void 0||o.removeObserver(this.resizeObserverConfig)}},{key:"resizeObserverConfig",get:function(){return{handler:this,target:this.frame}}},{key:"loaderTitle",get:function(){return this.viewportInFullscreen?"Internet Archive":""}},{key:"loadingArea",get:function(){return Ot(_templateObject137(),this.loaderTitle)}},{key:"slotChange",value:function(o,u){var l,s=(l=o.target.assignedNodes())===null||l===void 0?void 0:l[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:s,type:u}})),this.requestUpdate()}},{key:"render",value:function(){var o=this,u,l,s=this.loaded?"":"hidden",r=((l=(u=this.headerSlot)===null||u===void 0?void 0:u.assignedNodes()[0])===null||l===void 0?void 0:l.offsetHeight)||0;return Ot(_templateObject138(),this.menuClass,"height: ".concat(r,"px"),function(d){return o.slotChange(d,"header")},this.shouldRenderMenu?this.renderSideMenu:Un,s,this.renderViewport,this.loaded?Un:this.loadingArea)}},{key:"noTheaterView",get:function(){var o,u;return Ot(_templateObject139(),(u=(o=this.item)===null||o===void 0?void 0:o.metadata)===null||u===void 0?void 0:u.identifier,this.loadingStateUpdated)}},{key:"renderViewport",get:function(){var o=this;if(!this.viewAvailable)return this.noTheaterView;var u=this.loaded?"opacity: 1;":"opacity: 0;";return Ot(_templateObject140(),u,function(l){return o.slotChange(l,"main")})}},{key:"loadingStateUpdated",value:function(o){var u=o.detail,l=u.loaded;this.loaded=l!=null?l:!1}},{key:"manageViewportFullscreen",value:function(o){var u=!!o.detail.isFullScreen;this.viewportInFullscreen=u||null;var l=new CustomEvent("fullscreenToggled",{detail:o.detail});this.dispatchEvent(l)}},{key:"shouldRenderMenu",get:function(){var o;return!!(!((o=this.menuContents)===null||o===void 0)&&o.length)}},{key:"toggleMenu",value:function(){this.menuOpened=!this.menuOpened}},{key:"closeMenu",value:function(){this.menuOpened=!1}},{key:"setOpenMenu",value:function(o){var u=o.detail,l=u.id;this.openMenu=l!==this.openMenu?l:void 0}},{key:"setMenuContents",value:function(o){var u=_toConsumableArray(o.detail);this.menuContents=u}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"manageSideMenuEvents",value:function(o){var u=o.detail,l=u.menuId,s=u.action;l&&(s==="open"?this.openShortcut(l):s==="toggle"&&(this.openMenu=l,this.toggleMenu()))}},{key:"menuToggleButton",get:function(){return Ot(_templateObject141(),this.toggleMenu)}},{key:"selectedMenuId",get:function(){return this.openMenu||""}},{key:"renderSideMenu",get:function(){var o=this.menuOpened?"":"hidden";return Ot(_templateObject142(),this.shortcuts,this.menuToggleButton,o,this.menuContents,this.selectedMenuId,this.setOpenMenu,this.closeMenu)}},{key:"openShortcut",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.openMenu=o,this.menuOpened=!0}},{key:"shortcuts",get:function(){var o=this,u=this.menuShortcuts.map(function(l){var s=l.icon,r=l.id;return r==="fullscreen"?Ot(_templateObject143(),s):Ot(_templateObject144(),r,function(){return o.openShortcut(r)},s)});return Ot(_templateObject145(),u)}},{key:"menuClass",get:function(){var o,u,l=((o=this.menuContents)===null||o===void 0?void 0:o.length)||((u=this.menuShortcuts)===null||u===void 0?void 0:u.length),s=this.menuOpened&&l?"open":"",r=this.viewportInFullscreen?"fullscreen":"";return"".concat(s," ").concat(r," ").concat(this.openMenuState)}}],[{key:"styles",get:function(){var o=Kt(_templateObject146()),u=Kt(_templateObject147()),l=Kt(_templateObject148(),u),s=Kt(_templateObject149()),r=Kt(_templateObject150());return Kt(_templateObject151(),r,s,s,s,o,o,o,l,o,l,o,o,l)}}]),e}(Xn),A([Xt({type:Object,converter:function(S){return S&&typeof S=="string"?new dv(JSON.parse(atob(S))):S}})],Oi.prototype,"item",void 0),A([Xt({type:Boolean,reflect:!0})],Oi.prototype,"viewAvailable",void 0),A([Xt({type:String})],Oi.prototype,"baseHost",void 0),A([Xt({type:Boolean})],Oi.prototype,"signedIn",void 0),A([Xt({type:Array})],Oi.prototype,"menuContents",void 0),A([Xt({type:Array})],Oi.prototype,"menuShortcuts",void 0),A([Xt({type:Boolean,reflect:!0,attribute:!0})],Oi.prototype,"viewportInFullscreen",void 0),A([Xt({type:Boolean,reflect:!0})],Oi.prototype,"menuOpened",void 0),A([Xt({type:String,reflect:!0})],Oi.prototype,"openMenu",void 0),A([Xt({attribute:!1})],Oi.prototype,"modal",void 0),A([Xt({attribute:!1})],Oi.prototype,"sharedObserver",void 0),A([Xt({type:Boolean,reflect:!0,attribute:!0})],Oi.prototype,"loaded",void 0),A([ii()],Oi.prototype,"openMenuState",void 0),A([ri("#frame")],Oi.prototype,"frame",void 0),A([ri('slot[name="header"]')],Oi.prototype,"headerSlot",void 0),A([ri('slot[name="main"]')],Oi.prototype,"mainSlot",void 0),Oi=A([zr("iaux-item-navigator")],Oi),Kl=function(){"use strict";function S(t){_classCallCheck(this,S),this.promoCopy=" : Free Download, Borrow, and Streaming : Internet Archive",this.description=(t==null?void 0:t.description)||"",this.creator=(t==null?void 0:t.creator)||"",this.fileSubPrefix=(t==null?void 0:t.fileSubPrefix)||"",this.identifier=(t==null?void 0:t.identifier)||"",this.baseHost=(t==null?void 0:t.baseHost)||""}return _createClass(S,[{key:"encodedDescription",get:function(){return this.encodeString(this.description)}},{key:"encodedCreator",get:function(){return this.encodeString(this.creator)}},{key:"encodedPromoCopy",get:function(){return this.encodeString(this.promoCopy)}},{key:"itemPath",get:function(){var e=this.fileSubPrefix?encodeURIComponent(this.fileSubPrefix):"";return e?"".concat(this.identifier,"/").concat(e):this.identifier}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.itemPath)}},{key:"encodeString",value:function(e){return e?encodeURIComponent(e.replace(/\s/g,"+")).replace(/%2B/g,"+"):""}}]),S}(),K6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Email",o.icon=Ot(_templateObject152()),o.class="email",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"mailto:?body=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&subject=").concat(this.description," : ").concat(this.creator).concat(this.promoCopy)}}]),e}(Kl),J6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Facebook",o.icon=Ot(_templateObject153()),o.class="facebook",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://www.facebook.com/sharer/sharer.php?u=https://".concat(this.baseHost,"/details/").concat(this.itemPath)}}]),e}(Kl),Q6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Pinterest",o.icon=Ot(_templateObject154()),o.class="pinterest",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"http://www.pinterest.com/pin/create/button/?url=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&description=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(Kl),Z6=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Tumblr",o.icon=Ot(_templateObject155()),o.class="tumblr",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://www.tumblr.com/share/video?embed=%3Ciframe+width%3D%22640%22+height%3D%22480%22+frameborder%3D%220%22+allowfullscreen+src%3D%22https%3A%2F%2F".concat(this.baseHost,"%2Fembed%2F%22+webkitallowfullscreen%3D%22true%22+mozallowfullscreen%3D%22true%22%26gt%3B%26lt%3B%2Fiframe%3E&name=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(Kl),eS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Twitter",o.icon=Ot(_templateObject156()),o.class="twitter",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://twitter.com/intent/tweet?url=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&via=internetarchive&text=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(Kl),bg=function(S){var t=S.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},hj=Ot(_templateObject157()),mo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o=this,u=o.baseHost,l=o.creator,s=o.description,r=o.identifier,d=o.type,c=o.fileSubPrefix,h={baseHost:u,creator:l,description:s,identifier:r,type:d,fileSubPrefix:c};this.sharingOptions=[new eS(h),new J6(h),new Z6(h),new Q6(h),new K6(h)]}},{key:"sharingItems",get:function(){return this.sharingOptions.map(function(o){return Ot(_templateObject158(),Bv(o.class),o.url,o.icon,o.name)})}},{key:"embedOption",get:function(){return Ot(_templateObject159(),this.toggleEmbedOptions)}},{key:"iframeEmbed",get:function(){return Ot(_templateObject160(),this.baseHost,this.identifier)}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"toggleEmbedOptions",value:function(o){o.preventDefault(),this.embedOptionsVisible=!this.embedOptionsVisible}},{key:"header",get:function(){var o=Ot(_templateObject161(),this.type);return this.renderHeader?o:Un}},{key:"render",value:function(){return Ot(_templateObject162(),this.header,this.sharingItems,this.embedOption,Fa({visible:this.embedOptionsVisible,embed:!0}),bg,this.iframeEmbed,bg,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return Ot(_templateObject163())}}],[{key:"styles",get:function(){return Kt(_templateObject164())}}]),e}(Xn),A([Xt({type:String})],mo.prototype,"baseHost",void 0),A([Xt({type:String})],mo.prototype,"creator",void 0),A([Xt({type:String})],mo.prototype,"description",void 0),A([Xt({type:Boolean})],mo.prototype,"embedOptionsVisible",void 0),A([Xt({type:String})],mo.prototype,"identifier",void 0),A([Xt({type:Array})],mo.prototype,"sharingOptions",void 0),A([Xt({type:String})],mo.prototype,"type",void 0),A([Xt({type:Boolean})],mo.prototype,"renderHeader",void 0),A([Xt({type:String})],mo.prototype,"fileSubPrefix",void 0),mo=A([zr("iaux-in-share-panel")],mo),tS=Ot(_templateObject165()),nS=Ot(_templateObject166()),rS=Ot(_templateObject167()),fj=Ot(_templateObject168()),Jl=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject169(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:Ot(_templateObject170(),function(){return o.sortVolumes("title_asc")},rS),title_asc:Ot(_templateObject171(),function(){return o.sortVolumes("title_desc")},tS),title_desc:Ot(_templateObject172(),function(){return o.sortVolumes("default")},nS)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var u=[];u=this.fileListRaw.sort(function(l,s){return o==="title_asc"?l.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(l.title):l.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:u},bubbles:!0,composed:!0})),this.fileListSorted=u}}],[{key:"styles",get:function(){return Kt(_templateObject173())}}]),e}(Xn),A([Xt({type:Array})],Jl.prototype,"fileListRaw",void 0),A([Xt({type:Array})],Jl.prototype,"fileListSorted",void 0),A([Xt({type:String,reflect:!0})],Jl.prototype,"sortOrderBy",void 0),Jl=A([zr("iaux-in-sort-files-button")],Jl),es=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var u=this.fileUrl(o);return Ot(_templateObject174(),u,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var u="//".concat(this.baseHost).concat(o.url_path),l=u;return this.addSortToUrl&&(l=this.sortOrderBy==="default"?"".concat(u):"".concat(u,"?sort=").concat(this.sortOrderBy)),l}},{key:"pdfLabel",get:function(){return Ot(_templateObject175())}},{key:"fileLi",value:function(o){var u,l=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((u=o.file_source)!==null&&u!==void 0?u:"").match(/^[^+]+\.pdf$/i);return Ot(_templateObject176(),l,s,o.title,r?this.pdfLabel:Un)}},{key:"fileListTemplate",get:function(){var o=Xl(this.fileList,function(u){return u==null?void 0:u.file_prefix},this.fileLi.bind(this));return Ot(_templateObject177(),o)}},{key:"render",value:function(){return Ot(_templateObject178(),this.fileList.length?this.fileListTemplate:Un)}}],[{key:"styles",get:function(){return Kt(_templateObject179())}}]),e}(Xn),A([Xt({type:String})],es.prototype,"baseHost",void 0),A([Xt({type:String})],es.prototype,"sortOrderBy",void 0),A([Xt({type:String})],es.prototype,"subPrefix",void 0),A([Xt({type:Array})],es.prototype,"fileList",void 0),A([Xt({type:Boolean,reflect:!0})],es.prototype,"addSortToUrl",void 0),es=A([zr("iaux-in-viewable-files-panel")],es)}}),iS,oS,vj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-search@1.3.4/deno/icon-search.js":function(){_n(),_n(),iS=Ot(_templateObject180()),oS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return iS}}],[{key:"styles",get:function(){return Kt(_templateObject181())}}]),e}(Xn),customElements.define("ia-icon-search",oS)}});function Ql(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Gs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Zl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Ql(S,r._$AS(S,t.values),r,n)),t}var wg,yc,qs,_g,eh,ba,kg,aS,ts,bc,Zl,xg,sS,th,eu,Sg,Ag,ns,Cg,Og,jg,Eg,gj,mj,Gs,ci,Pg,rs,lS,wc,uS,nh,_c,cS,dS,hS,fS,pS,Tg,rh,Ig,yj=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/unsafe-html.js":function(){Zu(),yc=window,qs=yc.trustedTypes,_g=qs?qs.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,eh="$lit$",ba="lit$".concat((Math.random()+"").slice(9),"$"),kg="?"+ba,aS="<".concat(kg,">"),ts=document,bc=function(){return ts.createComment("")},Zl=function(S){return S===null||typeof S!="object"&&typeof S!="function"},xg=Array.isArray,sS=function(S){return xg(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},th="[ 	\n\f\r]",eu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Sg=/-->/g,Ag=/>/g,ns=RegExp(">|".concat(th,"(?:([^\\s\"'>=/]+)(").concat(th,"*=").concat(th,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Cg=/'/g,Og=/"/g,jg=/^(?:script|style|textarea|title)$/i,Eg=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},gj=Eg(1),mj=Eg(2),Gs=Symbol.for("lit-noChange"),ci=Symbol.for("lit-nothing"),Pg=new WeakMap,rs=ts.createTreeWalker(ts,129,null,!1),lS=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=eu,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===eu?c[1]==="!--"?l=Sg:c[1]!==void 0?l=Ag:c[2]!==void 0?(jg.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=ns):c[3]!==void 0&&(l=ns):l===ns?c[0]===">"?(l=o!=null?o:eu,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?ns:c[3]==='"'?Og:Cg):l===Og||l===Cg?l=ns:l===Sg||l===Ag?l=eu:(l=ns,o=void 0);var v=l===ns&&S[s+1].startsWith("/>")?" ":"";u+=l===eu?r+aS:h>=0?(n.push(d),r.slice(0,h)+eh+r.slice(h)+ba+v):r+ba+(h===-2?(n.push(void 0),s):v)}return[p0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},wc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(lS(n,o),2),h=c[0],f=c[1];if(this.el=wc.createElement(h,e),rs.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=rs.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(eh)||a.startsWith(ba)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+eh).split(ba),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?cS:y[1]==="?"?hS:y[1]==="@"?fS:_c})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(jg.test(u.tagName)){var J=u.textContent.split(ba),F=J.length-1;if(F>0){u.textContent=qs?qs.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],bc()),rs.nextNode(),d.push({type:2,index:++l});u.append(J[F],bc())}}}else if(u.nodeType===8)if(u.data===kg)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(ba,re+1))!==-1;)d.push({type:7,index:l}),re+=ba.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=ts.createElement("template");return o.innerHTML=e,o}}]),S}(),uS=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ts).importNode(l,!0);rs.currentNode=r;for(var d=rs.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new nh(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new pS(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=rs.nextNode(),c++)}return rs.currentNode=ts,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),nh=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=ci,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Ql(this,e,n),Zl(e)?e===ci||e==null||e===""?(this._$AH!==ci&&this._$AR(),this._$AH=ci):e!==this._$AH&&e!==Gs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):sS(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==ci&&Zl(this._$AH)?this._$AA.nextSibling.data=e:this.$(ts.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=wc.createElement(p0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new uS(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Pg.get(e.strings);return n===void 0&&Pg.set(e.strings,n=new wc(e)),n}},{key:"T",value:function(e){xg(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new nh(this.k(bc()),this.k(bc()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),_c=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=ci,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ci}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=Ql(this,e,n,0),s=!Zl(e)||e!==this._$AH&&e!==Gs,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=Ql(this,r[o+d],n,d),c===Gs&&(c=this._$AH[d]),s||(s=!Zl(c)||c!==this._$AH[d]),c===ci?e=ci:e!==ci&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===ci?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),cS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===ci?void 0:o}}]),e}(_c),dS=qs?qs.emptyScript:"",hS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==ci?this.element.setAttribute(this.name,dS):this.element.removeAttribute(this.name)}}]),e}(_c),fS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=Ql(this,o,u,0))!==null&&l!==void 0?l:ci)!==Gs){var s=this._$AH,r=o===ci&&s!==ci||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==ci&&(s===ci||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(_c),pS=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Ql(this,e)}}]),S}(),Tg=yc.litHtmlPolyfillSupport,Tg==null||Tg(wc,nh),((wg=yc.litHtmlVersions)!==null&&wg!==void 0?wg:yc.litHtmlVersions=[]).push("2.8.0"),rh=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),o.et=ci,n.type!==Qu.CHILD)throw Error(o.constructor.directiveName+"() can only be used in child bindings");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){if(o===ci||o==null)return this.ft=void 0,this.et=o;if(o===Gs)return o;if(typeof o!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(o===this.et)return this.ft;this.et=o;var u=[o];return u.raw=u,this.ft={_$litType$:this.constructor.resultType,strings:u,values:[]}}}]),e}(Rl),rh.directiveName="unsafeHTML",rh.resultType=1,Ig=Ml(rh)}}),vS=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/unsafe-html.js":function(){yj()}}),gS,mS,bj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-dl@1.3.4/deno/icon-dl.js":function(){_n(),_n(),gS=Ot(_templateObject182()),mS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return gS}}],[{key:"styles",get:function(){return Kt(_templateObject183())}}]),e}(Xn),customElements.define("ia-icon-dl",mS)}}),yS,bS,wj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-visual-adjustment@1.3.4/deno/icon-visual-adjustment.js":function(){_n(),_n(),yS=Ot(_templateObject184()),bS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return yS}}],[{key:"styles",get:function(){return Kt(_templateObject185())}}]),e}(Xn),customElements.define("ia-icon-visual-adjustment",bS)}}),wS,_S,_j=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-magnify-minus@1.3.4/deno/icon-magnify-minus.js":function(){_n(),_n(),wS=Ot(_templateObject186()),_S=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return wS}}],[{key:"styles",get:function(){return Kt(_templateObject187())}}]),e}(Xn),customElements.define("ia-icon-magnify-minus",_S)}}),kS,xS,kj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-magnify-plus@1.3.4/deno/icon-magnify-plus.js":function(){_n(),_n(),kS=Ot(_templateObject188()),xS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kS}}],[{key:"styles",get:function(){return Kt(_templateObject189())}}]),e}(Xn),customElements.define("ia-icon-magnify-plus",xS)}}),SS,AS,xj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-edit-pencil@1.3.4/deno/icon-edit-pencil.js":function(){_n(),_n(),SS=Ot(_templateObject190()),AS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return SS}}],[{key:"styles",get:function(){return Kt(_templateObject191())}}]),e}(Xn),customElements.define("ia-icon-edit-pencil",AS)}}),CS,Sj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-bookmark@1.3.4/deno/icon-bookmark.js":function(){_n(),CS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject193(),this.state)}}],[{key:"styles",get:function(){return Kt(_templateObject192())}},{key:"properties",get:function(){return{state:{type:String}}}}]),e}(Xn),window.customElements.define("icon-bookmark",CS)}}),tu,kc=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/provider.js":function(){tu=function(){"use strict";function S(t){_classCallCheck(this,S),this.promoCopy=" : Free Download, Borrow, and Streaming : Internet Archive",this.description=(t==null?void 0:t.description)||"",this.creator=(t==null?void 0:t.creator)||"",this.fileSubPrefix=(t==null?void 0:t.fileSubPrefix)||"",this.identifier=(t==null?void 0:t.identifier)||"",this.baseHost=(t==null?void 0:t.baseHost)||""}return _createClass(S,[{key:"encodedDescription",get:function(){return this.encodeString(this.description)}},{key:"encodedCreator",get:function(){return this.encodeString(this.creator)}},{key:"encodedPromoCopy",get:function(){return this.encodeString(this.promoCopy)}},{key:"itemPath",get:function(){var e=this.fileSubPrefix?encodeURIComponent(this.fileSubPrefix):"";return e?"".concat(this.identifier,"/").concat(e):this.identifier}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.itemPath)}},{key:"encodeString",value:function(e){return e?encodeURIComponent(e.replace(/\s/g,"+")).replace(/%2B/g,"+"):""}}]),S}()}}),OS,Aj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/email.js":function(){g6(),_n(),kc(),OS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Email",o.icon=Ot(_templateObject194()),o.class="email",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"mailto:?body=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&subject=").concat(this.description," : ").concat(this.creator).concat(this.promoCopy)}}]),e}(tu)}}),jS,Cj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/facebook.js":function(){b6(),_n(),kc(),jS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Facebook",o.icon=Ot(_templateObject195()),o.class="facebook",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://www.facebook.com/sharer/sharer.php?u=https://".concat(this.baseHost,"/details/").concat(this.itemPath)}}]),e}(tu)}}),ES,Oj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/pinterest.js":function(){k6(),_n(),kc(),ES=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Pinterest",o.icon=Ot(_templateObject196()),o.class="pinterest",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"http://www.pinterest.com/pin/create/button/?url=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&description=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(tu)}}),PS,jj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/tumblr.js":function(){A6(),_n(),kc(),PS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Tumblr",o.icon=Ot(_templateObject197()),o.class="tumblr",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://www.tumblr.com/share/video?embed=%3Ciframe+width%3D%22640%22+height%3D%22480%22+frameborder%3D%220%22+allowfullscreen+src%3D%22https%3A%2F%2F".concat(this.baseHost,"%2Fembed%2F%22+webkitallowfullscreen%3D%22true%22+mozallowfullscreen%3D%22true%22%26gt%3B%26lt%3B%2Fiframe%3E&name=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(tu)}}),TS,Ej=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-providers/twitter.js":function(){j6(),_n(),kc(),TS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.name="Twitter",o.icon=Ot(_templateObject198()),o.class="twitter",_possibleConstructorReturn(o)}return _createClass(e,[{key:"url",get:function(){return"https://twitter.com/intent/tweet?url=https://".concat(this.baseHost,"/details/").concat(this.itemPath,"&via=internetarchive&text=").concat(this.encodedDescription,"+%3A+").concat(this.encodedCreator).concat(this.encodedPromoCopy)}}]),e}(tu)}}),Mg,IS,yo,MS=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/share-panel.js":function(){Qr(),Nd(),s6(),_n(),ei(),c6(),f6(),Aj(),Cj(),Oj(),jj(),Ej(),Mg=function(S){var t=S.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},IS=Ot(_templateObject199()),yo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o=this,u=o.baseHost,l=o.creator,s=o.description,r=o.identifier,d=o.type,c=o.fileSubPrefix,h={baseHost:u,creator:l,description:s,identifier:r,type:d,fileSubPrefix:c};this.sharingOptions=[new TS(h),new jS(h),new PS(h),new ES(h),new OS(h)]}},{key:"sharingItems",get:function(){return this.sharingOptions.map(function(o){return Ot(_templateObject200(),Bv(o.class),o.url,o.icon,o.name)})}},{key:"embedOption",get:function(){return Ot(_templateObject201(),this.toggleEmbedOptions)}},{key:"iframeEmbed",get:function(){return Ot(_templateObject202(),this.baseHost,this.identifier)}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"toggleEmbedOptions",value:function(o){o.preventDefault(),this.embedOptionsVisible=!this.embedOptionsVisible}},{key:"header",get:function(){var o=Ot(_templateObject203(),this.type);return this.renderHeader?o:Un}},{key:"render",value:function(){return Ot(_templateObject204(),this.header,this.sharingItems,this.embedOption,Fa({visible:this.embedOptionsVisible,embed:!0}),Mg,this.iframeEmbed,Mg,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return Ot(_templateObject205())}}],[{key:"styles",get:function(){return Kt(_templateObject206())}}]),e}(Xn),A([Xt({type:String})],yo.prototype,"baseHost",void 0),A([Xt({type:String})],yo.prototype,"creator",void 0),A([Xt({type:String})],yo.prototype,"description",void 0),A([Xt({type:Boolean})],yo.prototype,"embedOptionsVisible",void 0),A([Xt({type:String})],yo.prototype,"identifier",void 0),A([Xt({type:Array})],yo.prototype,"sharingOptions",void 0),A([Xt({type:String})],yo.prototype,"type",void 0),A([Xt({type:Boolean})],yo.prototype,"renderHeader",void 0),A([Xt({type:String})],yo.prototype,"fileSubPrefix",void 0),yo=A([zr("iaux-in-share-panel")],yo)}}),RS,LS,DS,$S,nu,is,BS=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-item-navigator@2.1.1/deno/dist/src/menus/viewable-files.js":function(){Qr(),_n(),ei(),mc(),RS=Ot(_templateObject207()),LS=Ot(_templateObject208()),DS=Ot(_templateObject209()),$S=Ot(_templateObject210()),nu=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject211(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:Ot(_templateObject212(),function(){return o.sortVolumes("title_asc")},DS),title_asc:Ot(_templateObject213(),function(){return o.sortVolumes("title_desc")},RS),title_desc:Ot(_templateObject214(),function(){return o.sortVolumes("default")},LS)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var u=[];u=this.fileListRaw.sort(function(l,s){return o==="title_asc"?l.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(l.title):l.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:u},bubbles:!0,composed:!0})),this.fileListSorted=u}}],[{key:"styles",get:function(){return Kt(_templateObject215())}}]),e}(Xn),A([Xt({type:Array})],nu.prototype,"fileListRaw",void 0),A([Xt({type:Array})],nu.prototype,"fileListSorted",void 0),A([Xt({type:String,reflect:!0})],nu.prototype,"sortOrderBy",void 0),nu=A([zr("iaux-in-sort-files-button")],nu),is=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var u=this.fileUrl(o);return Ot(_templateObject216(),u,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var u="//".concat(this.baseHost).concat(o.url_path),l=u;return this.addSortToUrl&&(l=this.sortOrderBy==="default"?"".concat(u):"".concat(u,"?sort=").concat(this.sortOrderBy)),l}},{key:"pdfLabel",get:function(){return Ot(_templateObject217())}},{key:"fileLi",value:function(o){var u,l=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((u=o.file_source)!==null&&u!==void 0?u:"").match(/^[^+]+\.pdf$/i);return Ot(_templateObject218(),l,s,o.title,r?this.pdfLabel:Un)}},{key:"fileListTemplate",get:function(){var o=Xl(this.fileList,function(u){return u==null?void 0:u.file_prefix},this.fileLi.bind(this));return Ot(_templateObject219(),o)}},{key:"render",value:function(){return Ot(_templateObject220(),this.fileList.length?this.fileListTemplate:Un)}}],[{key:"styles",get:function(){return Kt(_templateObject221())}}]),e}(Xn),A([Xt({type:String})],is.prototype,"baseHost",void 0),A([Xt({type:String})],is.prototype,"sortOrderBy",void 0),A([Xt({type:String})],is.prototype,"subPrefix",void 0),A([Xt({type:Array})],is.prototype,"fileList",void 0),A([Xt({type:Boolean,reflect:!0})],is.prototype,"addSortToUrl",void 0),is=A([zr("iaux-in-viewable-files-panel")],is)}}),Rg,Lg,ru,NS,ti,zS,HS,Dg,FS,US,ih,oh,VS,WS,qS,GS,YS,XS,KS,$g,Bg,Ng,JS,QS,ZS,xc,eA,tA,Sc,nA,zg,Pj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/bookreader@5.0.0-79/deno/bookreader.js":function(){_n(),pj(),Td(),Ol(),_n(),_n(),vj(),vS(),_n(),K0(),_n(),_n(),_n(),_n(),bj(),_n(),_n(),wj(),_n(),mc(),_n(),_j(),kj(),_n(),_n(),_n(),_n(),Ol(),_n(),mc(),_n(),_n(),mc(),_n(),xj(),Sj(),_n(),MS(),MS(),_n(),BS(),BS(),_n(),Ol(),Ol(),Td(),Rg=Kt(_templateObject222()),Lg=Kt(_templateObject223()),ru=Kt(_templateObject224()),NS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.results=[],n.query="",n.queryInProgress=!1,n.renderHeader=!1,n.renderSearchAllFields=!1,n.displayResultImages=!1,n.errorMessage="",n.bindBookReaderListeners(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.focusOnInputIfNecessary()}},{key:"bindBookReaderListeners",value:function(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}},{key:"focusOnInputIfNecessary",value:function(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}},{key:"setResults",value:function(o){var u=o.detail;this.results=u.results}},{key:"setQuery",value:function(o){this.query=o.currentTarget.value,this.query||this.cancelSearch()}},{key:"performSearch",value:function(o){o.preventDefault();var u=o.currentTarget.querySelector('input[type="search"]');!u||!u.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}},{key:"selectResult",value:function(o){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:o}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}},{key:"cancelSearch",value:function(){this.queryInProgress=!1,this.dispatchSearchCanceled()}},{key:"dispatchSearchCanceled",value:function(){this.dispatchEvent(new Event("bookSearchCanceled"))}},{key:"resultsCount",get:function(){var o=this.results.length;return o?Ot(_templateObject225(),o,o>1?"s":""):Un}},{key:"headerSection",get:function(){var o=Ot(_templateObject226(),this.resultsCount);return this.renderHeader?o:Un}},{key:"searchMultipleControls",get:function(){var o=Ot(_templateObject227());return this.renderSearchAllFiles?o:Un}},{key:"loadingIndicator",get:function(){return Ot(_templateObject228(),this.cancelSearch)}},{key:"resultsSet",get:function(){var o=this,u=this.displayResultImages?"show-image":"";return Ot(_templateObject231(),u,this.results.map(function(l){return Ot(_templateObject230(),o.selectResult.bind(o,l),l.cover?Ot(_templateObject229(),l.cover):Un,l.title||Un,l.displayPageNumber,Ig(l.html))}))}},{key:"searchForm",get:function(){return Ot(_templateObject232(),this.performSearch,this.searchMultipleControls,this.setQuery,this.setQuery,this.query)}},{key:"setErrorMessage",get:function(){return Ot(_templateObject233(),this.errorMessage)}},{key:"searchCTA",get:function(){return Ot(_templateObject234())}},{key:"render",value:function(){var o=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return Ot(_templateObject235(),this.headerSection,this.searchForm,this.queryInProgress?this.loadingIndicator:Un,this.errorMessage?this.setErrorMessage:Un,this.results.length?this.resultsSet:Un,o?this.searchCTA:Un)}}],[{key:"properties",get:function(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}},{key:"styles",get:function(){var o=Kt(_templateObject236()),u=Kt(_templateObject237()),l=Kt(_templateObject238()),s=Kt(_templateObject239()),r=Kt(_templateObject240(),o,u,l,Rg,s,Lg,Lg);return[ru,r]}}]),e}(Xn),customElements.define("ia-book-search-results",NS),ti={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},zS=function(){"use strict";function S(t){var e=t.onProviderChange,n=t.bookreader;_classCallCheck(this,S),this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=n,this.icon=Ot(_templateObject244()),this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}return _createClass(S,[{key:"getMenuDetails",value:function(){var e=ti.resultsCount,n=ti.query,o=ti.queryInProgress;return o||!n?Un:Ot(_templateObject241(),e,e===1?"result":"results")}},{key:"bindEventListeners",value:function(){var e=this;window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",function(n){e.onSearchRequestError(n,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",function(n){e.onSearchRequestError(n,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",function(n){e.onSearchRequestError(n)}),window.addEventListener("BookReader:SearchResultsCleared",function(){e.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",function(n){e.onSearchCanceled(n)})}},{key:"onSearchCanceled",value:function(){ti={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};var e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"onSearchStarted",value:function(e){var n=e.detail.props,o=n.term,u=o===void 0?"":o,l=n.instance;l&&(this.bookreader=l),ti.query=u,ti.results=[],ti.resultsCount=0,ti.queryInProgress=!0,ti.errorMessage="",this.updateMenu()}},{key:"onBookSearchInitiated",value:function(e){var n=e.detail;ti.query=n.query,this.bookreader.search(ti.query)}},{key:"onSearchRequestError",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",o,u,l=e.detail,s=l.props,r=s===void 0?{}:s,d=r.instance,c=d===void 0?null:d;c&&(this.bookreader=c);var h={noResults:"0 results",notIndexed:"This book hasn't been indexed for searching yet.  We've just started indexing it,\n       so search should be available soon.  Please try again later.  Thanks!",default:"Sorry, there was an error with your search.  Please try again."},f=(o=h[n])!=null?o:h.default;ti.query=((u=c==null?void 0:c.searchResults)==null?void 0:u.q)||"",ti.results=[],ti.resultsCount=0,ti.queryInProgress=!1,ti.errorMessage=Ot(_templateObject242(),f),this.updateMenu()}},{key:"onSearchResultsChange",value:function(e){var n=e.detail,o=n.props,u=o===void 0?{}:o,l=u.instance,s=l===void 0?null:l,r=u.results,d=r===void 0?[]:r;s&&(this.bookreader=s);var c=d.matches||[],h=c.length,f=d.q;ti={results:c,resultsCount:h,query:f,queryInProgress:!1,errorMessage:""},this.updateMenu()}},{key:"searchCanceledInMenu",value:function(){var e;(e=this.bookreader)==null||e.cancelSearchRequest()}},{key:"onSearchResultsCleared",value:function(){var e,n;ti={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),(n=(e=this.bookreader)==null?void 0:e.searchView)==null||n.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"updateSearchInUrl",value:function(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),ti.query?this.bookreader.urlPlugin.setUrlParam("q",ti.query):this.bookreader.urlPlugin.removeUrlParam("q"))}},{key:"updateMenu",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}},{key:"getComponent",value:function(){var e=ti.query,n=ti.results,o=ti.queryInProgress,u=ti.errorMessage;return Ot(_templateObject243(),e,n,u,o,!1,this.onSearchResultsClicked,this.onBookSearchInitiated,this.onSearchResultsCleared,this.searchCanceledInMenu)}},{key:"onSearchResultsClicked",value:function(e){var n=e.detail;this.bookreader._searchPluginGoToResult(n.match.matchIndex)}}]),S}(),HS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.downloads=[],n.expiration=0,n.renderHeader=!1,n.isBookProtected=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"formatsCount",get:function(){var o=this.downloads.length;return o?Ot(_templateObject245(),o,o>1?"s":""):Ot(_templateObject246())}},{key:"loanExpiryMessage",get:function(){return this.expiration?Ot(_templateObject247(),this.expiration):Ot(_templateObject248())}},{key:"renderDownloadOptions",value:function(){return this.downloads.map(function(o){return Ot(_templateObject251(),o.url,o.type,o.note?Ot(_templateObject249(),o.note):Ot(_templateObject250()))})}},{key:"hasLCPOption",get:function(){var o=/^(LCP)/g;return this.downloads.some(function(u){var l;return(l=u.type)==null?void 0:l.match(o)})}},{key:"header",get:function(){return this.renderHeader?Ot(_templateObject252(),this.formatsCount):Un}},{key:"accessProtectedBook",get:function(){return Ot(_templateObject253())}},{key:"installSimplyEAldikoThoriumMsg",get:function(){return Ot(_templateObject254())}},{key:"render",value:function(){return Ot(_templateObject255(),this.header,this.loanExpiryMessage,this.renderDownloadOptions(),this.hasLCPOption?this.installSimplyEAldikoThoriumMsg:this.isBookProtected?this.accessProtectedBook:Un)}}],[{key:"properties",get:function(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}},{key:"styles",get:function(){var o=Kt(_templateObject256());return[ru,o]}}]),e}(Xn),customElements.define("ia-book-downloads",HS),Dg={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},FS={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},US=function(){"use strict";function S(t){var e=t.bookreader;_classCallCheck(this,S);var n;this.icon=Ot(_templateObject258()),this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((n=e==null?void 0:e.options)==null?void 0:n.isProtected)||!1}return _createClass(S,[{key:"update",value:function(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;var n=this.downloads.length===1?"":"s";this.menuDetails="(".concat(this.downloads.length," format").concat(n,")")}},{key:"computeAvailableTypes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this,o=e.reduce(function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=_slicedToArray(l,2),r=s[0],d=r===void 0?"":r,c=s[1],h=c===void 0?"":c,f=d.toLowerCase(),v=Dg[f]||null;if(v){var x=n.isBookProtected?Dg[f].type:FS[f],w=Object.assign({},v,{url:h,type:x});u.push(w)}return u},[]);this.downloads=o}},{key:"menu",get:function(){return Ot(_templateObject257(),this.downloads)}}]),S}(),ih=function(S){return"visualAdjustment".concat(S)},oh={optionChange:ih("OptionChanged"),zoomIn:ih("ZoomIn"),zoomOut:ih("ZoomOut")},VS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeCount=0,n.options=[],n.renderHeader=!1,n.showZoomControls=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}},{key:"activeOptions",get:function(){return this.options.reduce(function(o,u){return u.active?_toConsumableArray(o).concat([u.id]):o},[])}},{key:"prepareEventDetails",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{options:this.options,activeCount:this.activeCount,changedOptionId:o}}},{key:"emitOptionChangedEvent",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=this.prepareEventDetails(o);this.dispatchEvent(new CustomEvent(oh.optionChange,{bubbles:!0,composed:!0,detail:u}))}},{key:"emitZoomIn",value:function(){this.dispatchEvent(new CustomEvent(oh.zoomIn))}},{key:"emitZoomOut",value:function(){this.dispatchEvent(new CustomEvent(oh.zoomOut))}},{key:"changeActiveStateFor",value:function(o){var u=_toConsumableArray(this.options),l=u.find(function(s){return s.id===o});l.active=!l.active,this.options=u,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(l.id)}},{key:"setRangeValue",value:function(o,u){var l=_toConsumableArray(this.options);l.find(function(s){return s.id===o}).value=u,this.options=_toConsumableArray(l)}},{key:"rangeSlider",value:function(o){var u=this;return Ot(_templateObject259(),"range".concat(o.active?" visible":""),o.id,o.min||0,o.max||100,o.step||1,o.value,function(l){return u.setRangeValue(o.id,l.target.value)},function(){return u.emitOptionChangedEvent()},o.value)}},{key:"adjustmentCheckbox",value:function(o){var u=this,l="adjustment_".concat(o.id);return Ot(_templateObject260(),l,o.name,l,l,function(){return u.changeActiveStateFor(o.id)},o.active,o.value!==void 0?this.rangeSlider(o):Un)}},{key:"headerSection",get:function(){var o=this.activeCount?Ot(_templateObject261(),this.activeCount):Un,u=Ot(_templateObject262(),o);return this.renderHeader?u:Un}},{key:"zoomControls",get:function(){return Ot(_templateObject263(),this.emitZoomOut,this.emitZoomIn)}},{key:"render",value:function(){return Ot(_templateObject264(),this.headerSection,Xl(this.options,function(o){return o.id},this.adjustmentCheckbox.bind(this)),this.showZoomControls?this.zoomControls:Un)}}],[{key:"properties",get:function(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}},{key:"styles",get:function(){return Kt(_templateObject265(),Rg)}}]),e}(Xn),customElements.define("ia-book-visual-adjustments",VS),WS=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Inverted colors (dark mode)",active:!1},{id:"grayscale",name:"Grayscale",active:!1}],qS=function(){"use strict";function S(t){_classCallCheck(this,S);var e=t.onProviderChange,n=t.bookreader;this.onProviderChange=e,this.bookContainer=n.refs.$brContainer,this.bookreader=n,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=Ot(_templateObject266()),this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="adjustment",this.component=Ot(_templateObject267(),WS,this.onAdjustmentChange,this.onZoomIn,this.onZoomOut)}return _createClass(S,[{key:"onZoomIn",value:function(){this.bookreader.zoom(1)}},{key:"onZoomOut",value:function(){this.bookreader.zoom(-1)}},{key:"onAdjustmentChange",value:function(e){var n=e.detail,o={brightness:function(l){return"brightness(".concat(l,"%)")},contrast:function(l){return"contrast(".concat(l,"%)")},grayscale:function(){return"grayscale(100%)"},invert:function(){return"invert(100%)"}},u=n.options.reduce(function(l,s){var r="".concat(s.active?o[s.id](s.value):"");return r?_toConsumableArray(l).concat([r]):l},[]).join(" ");this.bookContainer.css("filter",u),this.optionUpdateComplete(e)}},{key:"optionUpdateComplete",value:function(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}},{key:"updateOptionsCount",value:function(){this.menuDetails="(".concat(this.activeCount," active)")}}]),S}(),GS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){var o=this;return Ot(_templateObject269(),function(){return o.deleteAction({detail:{id:"".concat(o.pageID)}})},function(){return o.cancelAction()})}}],[{key:"styles",get:function(){return Kt(_templateObject268())}},{key:"properties",get:function(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}}]),e}(Xn),customElements.define("delete-modal-actions",GS),YS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.state="hollow",n.side=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"handleClick",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}},{key:"title",get:function(){return"".concat(this.state==="hollow"?"Add":"Remove"," bookmark")}},{key:"render",value:function(){var o=this.side||"right";return Ot(_templateObject271(),this.title,this.handleClick,o,this.state)}}],[{key:"styles",get:function(){return Kt(_templateObject270())}},{key:"properties",get:function(){return{side:{type:String},state:{type:String}}}}]),e}(Xn),customElements.define("bookmark-button",YS),XS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.url="https://archive.org/account/login",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject272(),this.url)}}],[{key:"properties",get:function(){return{url:{type:String}}}},{key:"styles",get:function(){return ru}}]),e}(Xn),customElements.define("bookmarks-login",XS),KS={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"DELETE",headers:this.headers})},get:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"GET",headers:this.headers})},getAll:function(){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier),{credentials:"same-origin",method:"GET",headers:this.headers})},post:function(t){return this.sendBookmarkData(t,"POST")},put:function(t){return this.sendBookmarkData(t,"POST")},sendBookmarkData:function(t,e){var n={note:t.note,color:t.color};return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t.id),{credentials:"same-origin",method:e,headers:this.headers,body:JSON.stringify({notes:n})})}},$g=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmarks=[],n.bookreader={},n.editedBookmark={},n.modal=void 0,n.loginOptions={loginClicked:function(){},loginUrl:""},n.displayMode="bookmarks",n.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],n.defaultColor=n.bookmarkColors[0],n.api=KS,n.deleteModalConfig=new bd({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"}),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}},{key:"setup",value:function(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}},{key:"getIdentifier",value:function(){return this.bookreader.bookId!==this.bookreader.subPrefix?"".concat(this.bookreader.bookId,"/").concat(this.bookreader.subPrefix):this.bookreader.bookId}},{key:"updateDisplay",value:function(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}},{key:"fetchUserBookmarks",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.t0=this.api.identifier,!l.t0){l.next=5;break}return l.next=4,this.fetchBookmarks();case 4:this.initializeBookmarks();case 5:case"end":return l.stop()}},o,this)}))}},{key:"setBREventListeners",value:function(){var o=this;["3PageViewSelected"].forEach(function(u){var l=o;window.addEventListener("BookReader:".concat(u),function(s){var r=l;setTimeout(function(){r.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(function(u){var l=o;window.addEventListener("BookReader:".concat(u),function(s){var r=l;setTimeout(function(){r.renderBookmarkButtons(),r.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(function(u){var l=o;window.addEventListener("BookReader:".concat(u),function(){l.renderBookmarkButtons()})})}},{key:"initializeBookmarks",value:function(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}},{key:"formatBookmark",value:function(o){var u=o.leafNum,l=u===void 0?"":u,s=o.notes,r=s===void 0?{}:s,d=r.note,c=d===void 0?"":d,h=r.color,f={note:c,color:this.getBookmarkColor(h)?h:this.defaultColor.id},v=$g.formatPage(this.bookreader.book.getPageNum(l)),x=this.bookreader.book.getPageURI("".concat(l).replace(/\D/g,""),32);return Ei(Jr({},f),{id:l,leafNum:l,page:v,thumbnail:x})}},{key:"fetchBookmarks",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return u=this,w.next=3,this.api.getAll().then(function(b){return b.text()});case 3:l=w.sent;try{s=JSON.parse(l)}catch(b){s={error:b.message}}return r=s.success,d=s.error,c=d===void 0?"Something happened while fetching bookmarks.":d,h=s.value,f=h===void 0?[]:h,r||(console==null||console.warn("Error fetching bookmarks",c)),v={},w.abrupt("return",(Object.keys(f).forEach(function(b){var C=f[b],P=parseInt(b,10),E=u.formatBookmark(Ei(Jr({},C),{leafNum:P}));v[b]=E}),this.bookmarks=v,v));case 9:case"end":return w.stop()}},o,this)}))}},{key:"emitBookmarksChanged",value:function(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}},{key:"emitBookmarkButtonClicked",value:function(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}},{key:"bookmarkButtonClicked",value:function(o){this.getBookmark(o)?this.confirmDeletion(o):this.createBookmark(o)}},{key:"renderBookmarkButtons",value:function(){var o=this;this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(function(u){var l=o,s=u.querySelector(".bookmark-button");s&&s.remove();var r=+u.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),d=o.getBookmark(r),c=d?"filled":"hollow",h=o.bookreader.book.getPage(r),f=h.isViewable;if(!!f){var v=document.createElement("div");["mousedown","mouseup"].forEach(function(w){v.addEventListener(w,function(b){return b.stopPropagation()})}),v.classList.add("bookmark-button",c),d&&v.classList.add(o.getBookmarkColor(d.color));var x=u.getAttribute("data-side")==="L"&&o.bookreader.mode===o.bookreader.constMode2up?"left":"right";md(Ot(_templateObject274(),function(){return l.bookmarkButtonClicked(r)},c,x),v),u.appendChild(v)}})}},{key:"markActiveBookmark",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,u=this.bookreader,l=u.mode,s=u.constMode2up,r=u.constModeThumb,d=this.bookreader.currentIndex();if(l===r){var c=this.bookmarks[d];o&&c&&(this.activeBookmarkID=d);return}if(!(l===s&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[d]){this.activeBookmarkID=d;return}this.activeBookmarkID=""}}},{key:"bookmarkEdited",value:function(o){var u=o.detail,l=u.bookmark.id===this.editedBookmark.id;this.editedBookmark=l?{}:u.bookmark}},{key:"getBookmark",value:function(o){return this.bookmarks[o]}},{key:"getBookmarkColor",value:function(o){var u;return(u=this.bookmarkColors.find(function(l){return l.id===o}))==null?void 0:u.className}},{key:"addBookmark",value:function(){var o=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){var u=this.bookreader.displayedIndices;o=u[u.length-1]}this.createBookmark(o)}},{key:"createBookmark",value:function(o){var u=this.getBookmark(o);if(u){this.bookmarkEdited({detail:{bookmark:u}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:o}),this.api.post(this.editedBookmark),this.bookmarks[o]=this.editedBookmark,this.activeBookmarkID=o,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}},{key:"bookmarkSelected",value:function(o){var u=o.detail,l=u.bookmark,s=l.leafNum;this.bookreader.jumpToPage("".concat(this.bookreader.book.getPageNum("".concat(s).replace(/\D/g,"")))),this.activeBookmarkID=s}},{key:"saveBookmark",value:function(o){var u=o.detail,l=this.bookmarks[u.bookmark.id];Object.assign(l,u.bookmark),this.api.put(l),this.editedBookmark={},this.renderBookmarkButtons()}},{key:"confirmDeletion",value:function(o){if(this.getBookmark(o).note){this.displayDeletionModal(o);return}this.deleteBookmark({detail:{id:"".concat(o)}})}},{key:"displayDeletionModal",value:function(o){var u=this,l=Ot(_templateObject275(),function(){return u.deleteBookmark({detail:{id:"".concat(o)}})},function(){return u.modal.closeModal()},o);this.modal.showModal({config:this.deleteModalConfig,customModalContent:l})}},{key:"deleteBookmark",value:function(o){var u=o.detail,l=u.id,s=this.bookmarks;delete s[l],this.bookmarks=Jr({},s),this.api.delete(u.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}},{key:"shouldEnableAddBookmarkButton",get:function(){var o=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(o)}},{key:"allowAddingBookmark",get:function(){return this.bookreader.mode!==this.bookreader.constModeThumb}},{key:"addBookmarkButton",get:function(){return Ot(_templateObject276(),this.shouldEnableAddBookmarkButton,this.addBookmark)}},{key:"bookmarksList",get:function(){return Ot(_templateObject277(),this.bookmarkEdited,this.bookmarkSelected,this.saveBookmark,this.deleteBookmark,this.editedBookmark,Jr({},this.bookmarks),this.activeBookmarkID,this.bookmarkColors,this.defaultColor)}},{key:"bookmarkHelperMessage",get:function(){return Ot(_templateObject278())}},{key:"render",value:function(){var o=this,u=Ot(_templateObject279(),this.bookmarksList,this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage);return Ot(_templateObject281(),this.displayMode==="login"?Ot(_templateObject280(),function(){return o.loginOptions.loginClicked()},this.loginOptions.loginUrl):u)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}},{key:"styles",get:function(){var o=Kt(_templateObject273());return[ru,o]}},{key:"formatPage",value:function(o){return isNaN(+o)?"(".concat(o.replace(/\D/g,""),")"):o}}]),e}(Xn),customElements.define("ia-bookmarks",$g),Bg=Kt(_templateObject282()),Ng=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmark={},n.bookmarkColors=[],n.renderHeader=!1,n.showBookmark=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitSaveEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}},{key:"emitDeleteEvent",value:function(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}},{key:"emitColorChangedEvent",value:function(o){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:o}}))}},{key:"changeColorTo",value:function(o){this.bookmark.color=o,this.emitColorChangedEvent(o)}},{key:"updateNote",value:function(o){this.bookmark.note=o.currentTarget.value}},{key:"bookmarkColor",value:function(o){var u=this;return Ot(_templateObject284(),o.id,o.id,function(){return u.changeColorTo(o.id)},this.bookmark.color===o.id,o.id,o.className)}},{key:"bookmarkTemplate",get:function(){return Ot(_templateObject285(),this.bookmark.thumbnail,this.bookmark.page)}},{key:"render",value:function(){return Ot(_templateObject286(),this.renderHeader?Ng.headerSection:Un,this.showBookmark?this.bookmarkTemplate:Un,this.emitSaveEvent,this.updateNote,this.bookmark.note,Xl(this.bookmarkColors,function(o){return o.id},this.bookmarkColor.bind(this)),this.emitDeleteEvent)}}],[{key:"properties",get:function(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}},{key:"headerSection",get:function(){return Ot(_templateObject283())}},{key:"styles",get:function(){var o=Kt(_templateObject287());return[ru,Bg,o]}}]),e}(Xn),customElements.define("ia-bookmark-edit",Ng),JS=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeBookmarkID=void 0,n.bookmarkColors=[],n.defaultBookmarkColor={},n.bookmarks={},n.editedBookmark={},n.renderHeader=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitEditEvent",value:function(o,u){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:u}}))}},{key:"emitSelectedEvent",value:function(o){this.activeBookmarkID=o.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:o}}))}},{key:"emitSaveBookmark",value:function(o){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:o}}))}},{key:"emitDeleteBookmark",value:function(o){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:o}}))}},{key:"emitBookmarkColorChanged",value:function(o){var u=o.detail,l=u.bookmarkId,s=u.colorId;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:l,colorId:s}}))}},{key:"emitAddBookmark",value:function(){this.dispatchEvent(new CustomEvent("addBookmark"))}},{key:"editBookmark",value:function(o,u){this.emitEditEvent(o,u),this.editedBookmark=this.editedBookmark===u?{}:u}},{key:"saveBookmark",value:function(o){var u=o.detail,l=u.bookmark;this.editedBookmark={},this.emitSaveBookmark(l)}},{key:"deleteBookmark",value:function(o){var u=o.detail,l=u.id;this.editedBookmark={},this.emitDeleteBookmark(l)}},{key:"bookmarkColorInfo",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.bookmarkColors.find(function(u){return(u==null?void 0:u.id)===o})}},{key:"bookmarkItem",value:function(o){var u=this,l=this.editedBookmark.id===o.id,s=this.bookmarkColorInfo(o.color),r=s.className,d=o.id===this.activeBookmarkID?"active":"";return Ot(_templateObject289(),function(){return u.emitSelectedEvent(o)},o.id,d,function(c){return u.editBookmark(c,o)},r,o.page,!l&&o.note?Ot(_templateObject288(),o.note):Un,l?this.editBookmarkComponent:Un)}},{key:"editBookmarkComponent",get:function(){return Ot(_templateObject290(),this.editedBookmark,this.bookmarkColors,this.defaultBookmarkColor,!1,this.saveBookmark,this.deleteBookmark,this.emitBookmarkColorChanged)}},{key:"sortBookmarks",value:function(){var o=this;return Object.keys(this.bookmarks).sort(function(u,l){return+u>+l?1:+u<+l?-1:0}).map(function(u){return o.bookmarks[u]})}},{key:"bookmarksCount",get:function(){var o=this.bookmarks.length;return Ot(_templateObject291(),o)}},{key:"headerSection",get:function(){return Ot(_templateObject292(),this.bookmarks.length?this.bookmarksCount:Un)}},{key:"bookmarkslist",get:function(){var o=this.sortBookmarks(),u=Xl(o,function(l){return l==null?void 0:l.id},this.bookmarkItem.bind(this));return Ot(_templateObject293(),u)}},{key:"render",value:function(){return Ot(_templateObject294(),this.renderHeader?this.headerSection:Un,Object.keys(this.bookmarks).length?this.bookmarkslist:Un)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}},{key:"styles",get:function(){return[Kt(_templateObject295()),Bg]}}]),e}(Xn),customElements.define("ia-bookmarks-list",JS),QS=function(){"use strict";function S(t){_classCallCheck(this,S);var e=t.baseHost,n=t.signedIn,o=t.bookreader,u=t.modal,l=t.onProviderChange,s="referer=".concat(encodeURIComponent(location.href)),r="https://".concat(e,"/account/login?").concat(s);this.component=document.createElement("ia-bookmarks"),this.component.bookreader=o,this.component.displayMode=n?"bookmarks":"login",this.component.modal=u,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:r},this.bindEvents(),this.icon=Ot(_templateObject296()),this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=l,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}return _createClass(S,[{key:"updateMenu",value:function(e){this.menuDetails="(".concat(e,")")}},{key:"bindEvents",value:function(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}},{key:"bookmarksChanged",value:function(e){var n=e.detail,o=Object.keys(n.bookmarks).length;this.updateMenu(o),this.onProviderChange(n.bookmarks,n.showSidePanel)}},{key:"bookmarksLoginClicked",value:function(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}}]),S}(),ZS=function S(t){"use strict";var e=t.item,n=t.baseHost,o=t.bookreader;_classCallCheck(this,S);var u=e==null?void 0:e.metadata,l=u.identifier,s=u.creator,r=u.title,d=Array.isArray(s)?s[0]:s,c=o.options.subPrefix||"",h="Share this book";this.icon=Ot(_templateObject297(),IS),this.label=h,this.id="share",this.component=Ot(_templateObject298(),l,"book",d,r,n,c)},xc={title_asc:"title_asc",title_desc:"title_desc",default:"default"},eA=function(){"use strict";function S(t){var e=t.baseHost,n=t.bookreader,o=t.onProviderChange,u=this;_classCallCheck(this,S),this.bookreader=n,this.onProviderChange=o,this.baseHost=e;var l=n.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(l).map(function(r){return l[r]}),this.volumeCount=Object.keys(l).length,this.id="volumes",this.label="Viewable files (".concat(this.volumeCount,")"),this.icon=Ot(_templateObject299(),$S),this.sortOrderBy=xc.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=n.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=_toConsumableArray(this.viewableFiles),this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",function(r){return u.handleFileListSorted(r)}),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();var s=this.bookreader.urlPlugin.getUrlParam("sort");(s===xc.title_asc||s===xc.title_desc)&&(this.sortOrderBy=s)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}return _createClass(S,[{key:"handleFileListSorted",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.detail,u=o.sortType,l=o.sortedFiles,this.viewableFiles=l,this.sortOrderBy=u,this.component.fileList=_toConsumableArray(this.viewableFiles),r.next=6,this.component.updateComplete;case 6:this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==xc.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy);case 9:case"end":return r.stop()}},n,this)}))}},{key:"multipleFilesClicked",value:function(e){var n;(n=window.archive_analytics)==null||n.send_event("BookReader","VolumesSort|".concat(e),window.location.path)}}]),S}(),tA=Ta(_templateObject300()),Sc={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},nA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.itemMD=void 0,n.loaded=!1,n.bookReaderCannotLoad=!1,n.bookReaderLoaded=!1,n.bookreader=null,n.bookIsRestricted=!1,n.downloadableTypes=[],n.isAdmin=!1,n.lendingInitialized=!1,n.lendingStatus={},n.menuProviders={},n.menuShortcuts=[],n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.fullscreenBranding=tA,n.sharedObserverHandler=void 0,n.brWidth=0,n.brHeight=0,n.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks"],_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"firstUpdated",value:function(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}},{key:"updated",value:function(o){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((o.has("loaded")&&this.loaded||o.has("itemMD")||o.has("bookreader")||o.has("signedIn")||o.has("isAdmin")||o.has("modal"))&&this.initializeBookSubmenus(),o.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),o.has("downloadableTypes")&&this.initializeBookSubmenus())}},{key:"emitPostInit",value:function(){var o;this.dispatchEvent(new CustomEvent("BrBookNav:".concat(Sc.PostInit),{detail:{brSelector:(o=this.bookreader)==null?void 0:o.el},bubbles:!0,composed:!0}))}},{key:"baseProviderConfig",get:function(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:function(){}}}},{key:"isWideEnoughToOpenMenu",get:function(){return this.brWidth>=640}},{key:"initializeBookSubmenus",value:function(){var o=this,u={share:new ZS(this.baseProviderConfig),visualAdjustments:new qS(Ei(Jr({},this.baseProviderConfig),{onProviderChange:function(){o.updateMenuContents()}}))};this.shouldShowDownloadsMenu()&&(u.downloads=new US(this.baseProviderConfig)),this.bookreader.options.enableSearch&&(u.search=new zS(Ei(Jr({},this.baseProviderConfig),{onProviderChange:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;l&&(o.bookreader=l),o.updateMenuContents(),s.openMenu!==!1&&o.isWideEnoughToOpenMenu&&!(s!=null&&s.searchCanceled)&&setTimeout(function(){r.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(u.bookmarks=new QS(Ei(Jr({},this.baseProviderConfig),{onProviderChange:function(l){var s=Object.keys(l).length?"add":"remove";o["".concat(s,"MenuShortcut")]("bookmarks"),o.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(u.volumes=new eA(Ei(Jr({},this.baseProviderConfig),{onProviderChange:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;l&&(o.bookreader=l),o.updateMenuContents(),o.isWideEnoughToOpenMenu&&setTimeout(function(){r.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,u),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}},{key:"mainBRContainer",get:function(){var o;return document.querySelector((o=this.bookreader)==null?void 0:o.el)}},{key:"addFullscreenShortcut",value:function(){var o={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(o),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"deleteFullscreenShortcut",value:function(){var o=this.menuShortcuts.filter(function(u){var l=u.id;return l!=="fullscreen"});this.menuShortcuts=o,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"closeFullscreen",value:function(){this.bookreader.exitFullScreen()}},{key:"fullscreenShortcut",get:function(){var o=this;return Ot(_templateObject301(),function(){return o.closeFullscreen()},this.fullscreenBranding)}},{key:"updateSideMenu",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"open";if(!!o){var l=new CustomEvent(Sc.updateSideMenu,{detail:{menuId:o,action:u}});this.dispatchEvent(l)}}},{key:"updateMenuContents",value:function(){var o=this.menuProviders,u=o.search,l=o.downloads,s=o.visualAdjustments,r=o.share,d=o.bookmarks,c=o.volumes,h=o.chapters,f=[c,h,u,d,s,r].filter(function(x){return!!x});this.shouldShowDownloadsMenu()&&(l==null||l.update(this.downloadableTypes),f.splice(-2,0,l));var v=new CustomEvent(Sc.menuUpdated,{detail:f});this.dispatchEvent(v)}},{key:"shouldShowDownloadsMenu",value:function(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;var o=this.lendingStatus,u=o.user_loan_record,l=u===void 0?{}:u;return Array.isArray(l)?!1:l.type&&l.type!=="SESSION_LOAN"}},{key:"addMenuShortcut",value:function(o){this.menuShortcuts.find(function(u){return u.id===o})||this.menuProviders[o]&&(this.menuShortcuts.push(this.menuProviders[o]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}},{key:"removeMenuShortcut",value:function(o){this.menuShortcuts=this.menuShortcuts.filter(function(u){return u.id!==o}),this.emitMenuShortcutsUpdated()}},{key:"sortMenuShortcuts",value:function(){var o=this;this.menuShortcuts=this.shortcutOrder.reduce(function(u,l){var s=o.menuShortcuts.find(function(r){return r.id===l});return s&&u.push(s),u},[])}},{key:"emitMenuShortcutsUpdated",value:function(){var o=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(o)}},{key:"emitLoadingStatusUpdate",value:function(o){var u=new CustomEvent("loadingStateUpdated",{detail:{loaded:o}});this.dispatchEvent(u)}},{key:"bindEventListeners",value:function(){var o=this;window.addEventListener("BookReader:PostInit",function(u){var l=o;o.bookreader=u.detail.props,o.bookreader.shell=o,o.bookReaderLoaded=!0,o.bookReaderCannotLoad=!1,o.emitLoadingStatusUpdate(!0),o.loadSharedObserver(),setTimeout(function(){l.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",function(u){var l=u.detail,s=l.props,r=s===void 0?null:s;r&&(o.bookreader=r),o.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",function(u){o.dispatchEvent(new CustomEvent(Sc.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",function(u){var l=u.detail,s=l.downloadTypesAvailable,r=l.lendingStatus,d=l.isAdmin,c=l.previewType;o.lendingInitialized=!0,o.downloadableTypes=s,o.lendingStatus=r,o.isAdmin=d,o.bookReaderCannotLoad=c==="singlePagePreview",o.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",function(u){var l=u.detail,s=l.isRestricted,r=l.downloadURLs;o.bookReaderLoaded=!0,o.downloadableTypes=r,o.bookIsRestricted=s}),window.addEventListener("contextmenu",function(u){return o.manageContextMenuVisibility(u)},{capture:!0})}},{key:"manageContextMenuVisibility",value:function(o){var u,l,s;if((s=window.archive_analytics)==null||s.send_event("BookReader","contextmenu-".concat(this.bookIsRestricted?"restricted":"unrestricted"),(l=(u=o.target)==null?void 0:u.classList)==null?void 0:l.value),!(!this.bookIsRestricted||!o.target.classList.value.match(/BRscreen|BRpageimage/g)))return o.preventDefault(),!1}},{key:"loadSharedObserver",value:function(){var o;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(o=this.sharedObserver)==null||o.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"handleResize",value:function(o){var u=o.contentRect,l=o.target,s,r=this.brWidth,d=this.brHeight,c=this.bookreader,h=c.animating;l===this.mainBRContainer&&(this.brWidth=u.width,this.brHeight=u.height),!r&&this.brWidth&&this.initializeBookSubmenus();var f=r!==this.brWidth,v=d!==this.brHeight;!h&&(f||v)&&((s=this.bookreader)==null||s.resize())}},{key:"manageFullScreenBehavior",value:function(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}},{key:"emitFullScreenState",value:function(){var o=this.bookreader.isFullscreen(),u=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:o}});this.dispatchEvent(u)}},{key:"itemImage",get:function(){var o,u=(o=this.itemMD)==null?void 0:o.metadata.identifier,l="https://".concat(this.baseHost,"/services/img/").concat(u);return Ot(_templateObject302(),l,u)}},{key:"placeholder",get:function(){return Ot(_templateObject303(),this.itemImage)}},{key:"render",value:function(){return Ot(_templateObject305(),this.bookReaderCannotLoad?this.placeholder:Un,this.bookReaderCannotLoad?Un:Ot(_templateObject304()))}}],[{key:"properties",get:function(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}},{key:"styles",get:function(){return Kt(_templateObject306())}}]),e}(Xn),customElements.define("book-navigator",nA),zg=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.bookreader=void 0,n.baseHost="archive.org",n.fullscreen=!1,n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.loaded=!1,n.menuShortcuts=[],n.menuContents=[],n.openMenuName="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new $a)}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("iaux-item-navigator")}},{key:"setModalManager",value:function(){var o=document.querySelector("modal-manager");o||(o=document.createElement("modal-manager"),document.body.appendChild(o)),this.modal=o}},{key:"manageFullscreen",value:function(o){var u=o.detail,l=!!u.isFullScreen;this.fullscreen=l,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:l}}))}},{key:"loadingStateUpdated",value:function(o){var u=o.detail,l=u.loaded;this.loaded=l||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:l}}))}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var u=_toConsumableArray(o.detail);this.menuContents=u}},{key:"manageSideMenuEvents",value:function(o){var u,l,s=o.detail,r=s.menuId,d=s.action;r&&(this.openMenuName=r,d==="open"?(u=this.itemNav)==null||u.openShortcut(r):d==="toggle"&&((l=this.itemNav)==null||l.toggleMenu()))}},{key:"render",value:function(){return Ot(_templateObject307(),this.fullscreen,this.baseHost,this.item,this.modal,this.loaded,this.sharedObserver,this.signedIn,this.menuShortcuts,this.menuContents,this.openMenuName,this.modal,this.baseHost,this.item,this.signedIn,this.menuOpened,this.sharedObserver,this.manageFullscreen,this.loadingStateUpdated,this.manageSideMenuEvents,this.setMenuContents,this.setMenuShortcuts)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}},{key:"styles",get:function(){return Kt(_templateObject308())}}]),e}(Xn),window.customElements.define("ia-bookreader",zg)}}),rA={};qr(rA,{IaBookReader:function(){return zg}});var Tj=Tt({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-79":function(){Pj()}});function iu(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===Js)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=au(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=iu(S,r._$AS(S,t.values),r,n)),t}var iA,Ac,ah,sh,Hg,Fg,pi,Cc,oA,Ug,Vg,Oc,Wg,aA,qg,lh,Gg,uh,Ys,Yg,jc,Xs,Xg,wa,Kg,sA,Ks,ou,au,Jg,lA,su,Qg,Zg,os,em,tm,nm,rm,Hr,Ij,Js,vi,im,Qs,uA,Ec,cA,Pc,Tc,dA,hA,fA,pA,vA,om,gA,am,sm,Oo,lm,lu=Tt({"https-url:https://offshoot.prod.archive.org/lit.js":function(){iA=function(S,t,e){return new Promise(function(n,o){var u=function(r){try{s(e.next(r))}catch(d){o(d)}},l=function(r){try{s(e.throw(r))}catch(d){o(d)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(u,l)};s((e=e.apply(S,t)).next())})},Ac=window,ah=Ac.ShadowRoot&&(Ac.ShadyCSS===void 0||Ac.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sh=Symbol(),Hg=new WeakMap,Fg=function(){"use strict";function S(t,e,n){if(_classCallCheck(this,S),this._$cssResult$=!0,n!==sh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(S,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(ah&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=Hg.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&Hg.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),S}(),pi=function(S){return new Fg(typeof S=="string"?S:S+"",void 0,sh)},Cc=function(S){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=S.length===1?S[0]:e.reduce(function(u,l,s){return u+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(l)+S[s+1]},S[0]);return new Fg(o,S,sh)},oA=function(S,t){ah?S.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=Ac.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,S.appendChild(n)})},Ug=ah?function(S){return S}:function(S){return _instanceof(S,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,u=void 0;try{for(var l=t.cssRules[Symbol.iterator](),s;!(n=(s=l.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,u=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw u}}return pi(e)}(S):S},Oc=window,Wg=Oc.trustedTypes,aA=Wg?Wg.emptyScript:"",qg=Oc.reactiveElementPolyfillSupport,lh={toAttribute:function(t,e){switch(e){case Boolean:t=t?aA:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},Gg=function(S,t){return t!==S&&(t==t||S==S)},uh={attribute:!0,type:String,converter:lh,reflect:!1,hasChanged:Gg},Ys=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n.u(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"u",value:function(){var o=this,u;this._$E_=new Promise(function(l){return o.enableUpdating=l}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(u=this.constructor.h)===null||u===void 0||u.forEach(function(l){return l(o)})}},{key:"addController",value:function(o){var u,l;((u=this._$ES)!==null&&u!==void 0?u:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((l=o.hostConnected)===null||l===void 0||l.call(o))}},{key:"removeController",value:function(o){var u;(u=this._$ES)===null||u===void 0||u.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(u,l){o.hasOwnProperty(l)&&(o._$Ei.set(l,o[l]),delete o[l])})}},{key:"createRenderRoot",value:function(){var o,u=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return oA(u,this.constructor.elementStyles),u}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(u){var l;return(l=u.hostConnected)===null||l===void 0?void 0:l.call(u)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(u){var l;return(l=u.hostDisconnected)===null||l===void 0?void 0:l.call(u)})}},{key:"attributeChangedCallback",value:function(o,u,l){this._$AK(o,l)}},{key:"_$EO",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uh,s,r=this.constructor._$Ep(o,l);if(r!==void 0&&l.reflect===!0){var d=(((s=l.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?l.converter:lh).toAttribute(u,l.type);this._$El=o,d==null?this.removeAttribute(r):this.setAttribute(r,d),this._$El=null}}},{key:"_$AK",value:function(o,u){var l,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var d=s.getPropertyOptions(r),c=typeof d.converter=="function"?{fromAttribute:d.converter}:((l=d.converter)===null||l===void 0?void 0:l.fromAttribute)!==void 0?d.converter:lh;this._$El=r,this[r]=c.fromAttribute(u,d.type),this._$El=null}}},{key:"requestUpdate",value:function(o,u,l){var s=!0;o!==void 0&&(((l=l||this.constructor.getPropertyOptions(o)).hasChanged||Gg)(this[o],u)?(this._$AL.has(o)||this._$AL.set(o,u),l.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,l))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return iA(this,null,_regeneratorRuntime.default.mark(function o(){var u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(u=this.scheduleUpdate(),s.t1=u!=null,!s.t1){s.next=14;break}return s.next=14,u;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,u;if(!!this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,d){return o[d]=r}),this._$Ei=void 0);var l=!1,s=this._$AL;try{l=this.shouldUpdate(s),l?(this.willUpdate(s),(u=this._$ES)===null||u===void 0||u.forEach(function(r){var d;return(d=r.hostUpdate)===null||d===void 0?void 0:d.call(r)}),this.update(s)):this._$Ek()}catch(r){throw l=!1,this._$Ek(),r}l&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var u;(u=this._$ES)===null||u===void 0||u.forEach(function(l){var s;return(s=l.hostUpdated)===null||s===void 0?void 0:s.call(l)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var u=this;this._$EC!==void 0&&(this._$EC.forEach(function(l,s){return u._$EO(s,u[s],l)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var u;this.finalize(),((u=this.h)!==null&&u!==void 0?u:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var u=[];return this.elementProperties.forEach(function(l,s){var r=o._$Ep(s,l);r!==void 0&&(o._$Ev.set(r,s),u.push(r))}),u}},{key:"createProperty",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uh;if(u.state&&(u.attribute=!1),this.finalize(),this.elementProperties.set(o,u),!u.noAccessor&&!this.prototype.hasOwnProperty(o)){var l=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,l,u);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,u,l){return{get:function(){return this[u]},set:function(r){var d=this[o];this[u]=r,this.requestUpdate(o,d,l)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||uh}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var u=this.properties,l=_toConsumableArray(Object.getOwnPropertyNames(u)).concat(_toConsumableArray(Object.getOwnPropertySymbols(u))),s=!0,r=!1,d=void 0;try{for(var c=l[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,u[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var u=[];if(Array.isArray(o)){var l=new Set(o.flat(1/0).reverse()),s=!0,r=!1,d=void 0;try{for(var c=l[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;u.unshift(Ug(f))}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}else o!==void 0&&u.push(Ug(o));return u}},{key:"_$Ep",value:function(o,u){var l=u.attribute;return l===!1?void 0:typeof l=="string"?l:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Ys.finalized=!0,Ys.elementProperties=new Map,Ys.elementStyles=[],Ys.shadowRootOptions={mode:"open"},qg==null||qg({ReactiveElement:Ys}),((Vg=Oc.reactiveElementVersions)!==null&&Vg!==void 0?Vg:Oc.reactiveElementVersions=[]).push("1.5.0"),jc=window,Xs=jc.trustedTypes,Xg=Xs?Xs.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,wa="lit$".concat((Math.random()+"").slice(9),"$"),Kg="?"+wa,sA="<".concat(Kg,">"),Ks=document,ou=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ks.createComment(S)},au=function(S){return S===null||typeof S!="object"&&typeof S!="function"},Jg=Array.isArray,lA=function(S){return Jg(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},su=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Qg=/-->/g,Zg=/>/g,os=RegExp(">|[ 	\n\f\r](?:([^\\s\"'>=/]+)([ 	\n\f\r]*=[ 	\n\f\r]*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)","g"),em=/'/g,tm=/"/g,nm=/^(?:script|style|textarea|title)$/i,rm=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},Hr=rm(1),Ij=rm(2),Js=Symbol.for("lit-noChange"),vi=Symbol.for("lit-nothing"),im=new WeakMap,Qs=Ks.createTreeWalker(Ks,129,null,!1),uA=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=su,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===su?c[1]==="!--"?l=Qg:c[1]!==void 0?l=Zg:c[2]!==void 0?(nm.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=os):c[3]!==void 0&&(l=os):l===os?c[0]===">"?(l=o!=null?o:su,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?os:c[3]==='"'?tm:em):l===tm||l===em?l=os:l===Qg||l===Zg?l=su:(l=os,o=void 0);var v=l===os&&S[s+1].startsWith("/>")?" ":"";u+=l===su?r+sA:h>=0?(n.push(d),r.slice(0,h)+"$lit$"+r.slice(h)+wa+v):r+wa+(h===-2?(n.push(void 0),s):v)}var x=u+(S[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(S)||!S.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Xg!==void 0?Xg.createHTML(x):x,n]},Ec=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(uA(n,o),2),h=c[0],f=c[1];if(this.el=Ec.createElement(h,e),Qs.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=Qs.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith("$lit$")||a.startsWith(wa)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+"$lit$").split(wa),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?dA:y[1]==="?"?fA:y[1]==="@"?pA:Tc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(nm.test(u.tagName)){var J=u.textContent.split(wa),F=J.length-1;if(F>0){u.textContent=Xs?Xs.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],ou()),Qs.nextNode(),d.push({type:2,index:++l});u.append(J[F],ou())}}}else if(u.nodeType===8)if(u.data===Kg)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(wa,re+1))!==-1;)d.push({type:7,index:l}),re+=wa.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=Ks.createElement("template");return o.innerHTML=e,o}}]),S}(),cA=function(){"use strict";function S(t,e){_classCallCheck(this,S),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"v",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ks).importNode(l,!0);Qs.currentNode=r;for(var d=Qs.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Pc(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new vA(d,this,e)),this.u.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Qs.nextNode(),c++)}return r}},{key:"p",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this.u[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Pc=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=vi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cm=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=iu(this,e,n),au(e)?e===vi||e==null||e===""?(this._$AH!==vi&&this._$AR(),this._$AH=vi):e!==this._$AH&&e!==Js&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):lA(e)?this.k(e):this.g(e)}},{key:"O",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,n)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"g",value:function(e){this._$AH!==vi&&au(this._$AH)?this._$AA.nextSibling.data=e:this.T(Ks.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=Ec.createElement(u.h,this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.p(o);else{var s=new cA(l,this),r=s.v(this.options);s.p(o),this.T(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=im.get(e.strings);return n===void 0&&im.set(e.strings,n=new Ec(e)),n}},{key:"k",value:function(e){Jg(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Pc(this.O(ou()),this.O(ou()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),Tc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=vi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=vi}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=iu(this,e,n,0),s=!au(e)||e!==this._$AH&&e!==Js,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=iu(this,r[o+d],n,d),c===Js&&(c=this._$AH[d]),s||(s=!au(c)||c!==this._$AH[d]),c===vi?e=vi:e!==vi&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===vi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),dA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===vi?void 0:o}}]),e}(Tc),hA=Xs?Xs.emptyScript:"",fA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==vi?this.element.setAttribute(this.name,hA):this.element.removeAttribute(this.name)}}]),e}(Tc),pA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=iu(this,o,u,0))!==null&&l!==void 0?l:vi)!==Js){var s=this._$AH,r=o===vi&&s!==vi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==vi&&(s===vi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(Tc),vA=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){iu(this,e)}}]),S}(),om=jc.litHtmlPolyfillSupport,om==null||om(Ec,Pc),((Yg=jc.litHtmlVersions)!==null&&Yg!==void 0?Yg:jc.litHtmlVersions=[]).push("2.5.0"),gA=function(S,t,e){var n,o,u=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,l=u._$litPart$;if(l===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;u._$litPart$=l=new Pc(t.insertBefore(ou(),s),s,void 0,e!=null?e:{})}return l._$AI(S),l},Oo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,u,l=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(u=this.renderOptions).renderBefore)!==null&&o!==void 0||(u.renderBefore=l.firstChild),l}},{key:"update",value:function(o){var u=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=gA(u,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Js}}]),e}(Ys),Oo.finalized=!0,Oo._$litElement$=!0,(am=globalThis.litElementHydrateSupport)===null||am===void 0||am.call(globalThis,{LitElement:Oo}),lm=globalThis.litElementPolyfillSupport,lm==null||lm({LitElement:Oo}),((sm=globalThis.litElementVersions)!==null&&sm!==void 0?sm:globalThis.litElementVersions=[]).push("3.2.2")}}),mA=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/photo-viewer/bookreader-utils.js":function(){}}),Mj=Tt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/photo-viewer/bookreader-utils.js":function(){mA()}}),ch,dh=Tt({"https-url:https://esm.archive.org/v99/typescript-memoize@1.1.1/deno/typescript-memoize.js":function(){ch=new Map}}),bo,yA,Uo,hh,lo,Yr,bA,um,wA,_A,kA,rr,_a,Ic,cm,xA,SA,Zs,fh,AA,CA,dm,OA=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/search-service@0.3.4/deno/search-service.js":function(){Qr(),dh(),ui(),Qr(),dh(),ui(),ui(),ui(),ui(),ui(),ui(),ui(),ui(),Qr(),dh(),ui(),Qr(),dh(),ui(),bo=function(){"use strict";function S(t,e){_classCallCheck(this,S),this.parser=t,this.rawValue=e}return _createClass(S,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var n=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return n.forEach(function(u){var l,s=e.parser.parseValue(u);Array.isArray(s)?(l=o).push.apply(l,_toConsumableArray(s)):s!==void 0&&o.push(s)}),o}}]),S}(),A([Qn()],bo.prototype,"values",null),A([Qn()],bo.prototype,"value",null),yA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ku.shared,n)}return e}(bo),Uo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,fa.shared,n)}return e}(bo),hh=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Bs.shared,n)}return e}(bo),lo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,so.shared,n)}return e}(bo),Yr=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Tl.shared,n)}return e}(bo),bA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Rd.shared,n)}return e}(bo),um=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,$s.shared,n)}return e}(bo),wA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ju.shared,n)}return e}(bo),_A=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o){return _classCallCheck(this,e),t.call(this,o,n)}return e}(bo),kA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o=new Px(Tl.shared);return t.call(this,n,o)}return e}(_A),rr=function(){"use strict";function S(t){_classCallCheck(this,S),this.rawMetadata=t}return _createClass(S,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Uo(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new Yr(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new lo(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new lo(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new Yr(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new Yr(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new um(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new Yr(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new Yr(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new Yr(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Uo(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new Yr(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new lo(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new hh(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,n;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new Yr((n=this.rawMetadata)===null||n===void 0?void 0:n["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new lo(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Uo(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new Yr(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new Yr(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new lo(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new um(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new Yr(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new hh(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new Yr(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new lo(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new wA(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new yA(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new Yr(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new lo(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new lo(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new Yr(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new Yr(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new bA(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new Yr(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new lo(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Uo(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new Yr(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Uo(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new hh(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new Yr(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new Yr(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Uo(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Uo(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Uo(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new kA(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new Yr(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new Yr(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new Yr(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new lo(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new Yr(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new Yr(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new lo(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new Yr(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new Yr(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new lo(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Uo(this.rawMetadata.year):void 0}}]),S}(),A([Qn()],rr.prototype,"addeddate",null),A([Qn()],rr.prototype,"audio_codec",null),A([Qn()],rr.prototype,"audio_sample_rate",null),A([Qn()],rr.prototype,"avg_rating",null),A([Qn()],rr.prototype,"collection",null),A([Qn()],rr.prototype,"collections_raw",null),A([Qn()],rr.prototype,"collection_size",null),A([Qn()],rr.prototype,"contributor",null),A([Qn()],rr.prototype,"coverage",null),A([Qn()],rr.prototype,"creator",null),A([Qn()],rr.prototype,"date",null),A([Qn()],rr.prototype,"description",null),A([Qn()],rr.prototype,"downloads",null),A([Qn()],rr.prototype,"duration",null),A([Qn()],rr.prototype,"external-identifier",null),A([Qn()],rr.prototype,"files_count",null),A([Qn()],rr.prototype,"indexdate",null),A([Qn()],rr.prototype,"isbn",null),A([Qn()],rr.prototype,"issue",null),A([Qn()],rr.prototype,"item_count",null),A([Qn()],rr.prototype,"item_size",null),A([Qn()],rr.prototype,"language",null),A([Qn()],rr.prototype,"length",null),A([Qn()],rr.prototype,"lineage",null),A([Qn()],rr.prototype,"month",null),A([Qn()],rr.prototype,"mediatype",null),A([Qn()],rr.prototype,"noindex",null),A([Qn()],rr.prototype,"notes",null),A([Qn()],rr.prototype,"num_favorites",null),A([Qn()],rr.prototype,"num_reviews",null),A([Qn()],rr.prototype,"openlibrary_edition",null),A([Qn()],rr.prototype,"openlibrary_work",null),A([Qn()],rr.prototype,"page_progression",null),A([Qn()],rr.prototype,"partner",null),A([Qn()],rr.prototype,"ppi",null),A([Qn()],rr.prototype,"publicdate",null),A([Qn()],rr.prototype,"publisher",null),A([Qn()],rr.prototype,"reviewdate",null),A([Qn()],rr.prototype,"runtime",null),A([Qn()],rr.prototype,"scanner",null),A([Qn()],rr.prototype,"source",null),A([Qn()],rr.prototype,"start_localtime",null),A([Qn()],rr.prototype,"start_time",null),A([Qn()],rr.prototype,"stop_time",null),A([Qn()],rr.prototype,"subject",null),A([Qn()],rr.prototype,"taper",null),A([Qn()],rr.prototype,"title",null),A([Qn()],rr.prototype,"transferer",null),A([Qn()],rr.prototype,"track",null),A([Qn()],rr.prototype,"type",null),A([Qn()],rr.prototype,"uploader",null),A([Qn()],rr.prototype,"utc_offset",null),A([Qn()],rr.prototype,"venue",null),A([Qn()],rr.prototype,"volume",null),A([Qn()],rr.prototype,"week",null),A([Qn()],rr.prototype,"year",null),_a=function(){"use strict";function S(t){_classCallCheck(this,S),this.rawValue=t}return _createClass(S,[{key:"name",get:function(){return this.rawValue.name}},{key:"source",get:function(){return this.rawValue.source}},{key:"btih",get:function(){return this.rawValue.btih}},{key:"md5",get:function(){return this.rawValue.md5}},{key:"format",get:function(){return this.rawValue.format}},{key:"mtime",get:function(){return this.rawValue.mtime}},{key:"crc32",get:function(){return this.rawValue.crc32}},{key:"sha1",get:function(){return this.rawValue.sha1}},{key:"original",get:function(){return this.rawValue.original}},{key:"size",get:function(){return this.rawValue.size?$s.shared.parseValue(this.rawValue.size):void 0}},{key:"title",get:function(){return this.rawValue.title}},{key:"length",get:function(){return this.rawValue.length?Bs.shared.parseValue(this.rawValue.length):void 0}},{key:"height",get:function(){return this.rawValue.height?so.shared.parseValue(this.rawValue.height):void 0}},{key:"width",get:function(){return this.rawValue.width?so.shared.parseValue(this.rawValue.width):void 0}},{key:"track",get:function(){return this.rawValue.track?so.shared.parseValue(this.rawValue.track):void 0}},{key:"external_identifier",get:function(){return this.rawValue.external_identifier}},{key:"creator",get:function(){return this.rawValue.creator}},{key:"album",get:function(){return this.rawValue.album}}]),S}(),A([Qn()],_a.prototype,"size",null),A([Qn()],_a.prototype,"length",null),A([Qn()],_a.prototype,"height",null),A([Qn()],_a.prototype,"width",null),A([Qn()],_a.prototype,"track",null),Ic=function(){"use strict";function S(t){_classCallCheck(this,S),this.rawValue=t}return _createClass(S,[{key:"reviewbody",get:function(){return this.rawValue.reviewbody}},{key:"reviewtitle",get:function(){return this.rawValue.reviewtitle}},{key:"reviewer",get:function(){return this.rawValue.reviewer}},{key:"reviewdate",get:function(){return this.rawValue.reviewdate?fa.shared.parseValue(this.rawValue.reviewdate):void 0}},{key:"createdate",get:function(){return this.rawValue.createdate?fa.shared.parseValue(this.rawValue.createdate):void 0}},{key:"stars",get:function(){return this.rawValue.stars?so.shared.parseValue(this.rawValue.stars):void 0}}]),S}(),A([Qn()],Ic.prototype,"reviewdate",null),A([Qn()],Ic.prototype,"createdate",null),A([Qn()],Ic.prototype,"stars",null),cm=function S(t){"use strict";_classCallCheck(this,S);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new _a(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new rr(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new Ic(o)})},xA=function S(t){"use strict";_classCallCheck(this,S),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new rr(e)}),this.aggregations=t.aggregations},SA=function S(t){"use strict";_classCallCheck(this,S),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new xA(t.response)},function(S){S.networkError="SearchService.NetworkError",S.itemNotFound="SearchService.ItemNotFound",S.decodingError="SearchService.DecodingError",S.searchEngineError="SearchService.SearchEngineError"}(Zs||(Zs={})),fh=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u){_classCallCheck(this,e);var l;return l=t.call(this,o),l.name=n,l.type=n,l.details=u,_possibleConstructorReturn(l)}return e}(_wrapNativeSuper(Error)),AA=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.advancedParams){var n=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(n)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field," ").concat(e.direction)}},{key:"generateURLSearchParams",value:function(e){var n=new URLSearchParams;if(n.append("q",e.query),n.append("output","json"),e.rows&&n.append("rows",String(e.rows)),e.page&&n.append("page",String(e.page)),e.fields&&n.append("fl",e.fields.join(",")),e.sort){var o=this,u=e.sort.map(function(r){return o.sortParamsAsString(r)});n.append("sort",u.join(","))}var l=e.aggregations;if(l){var s=this.aggregateSearchParamsAsString(l);s&&n.append("user_aggs",s)}return n}}]),S}(),CA=function(){"use strict";function S(t){_classCallCheck(this,S);var e;if(this.baseUrl=(e=t==null?void 0:t.baseUrl)!==null&&e!==void 0?e:"archive.org",(t==null?void 0:t.includeCredentials)!==void 0?this.includeCredentials=t.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(t==null?void 0:t.scope)!==void 0)this.requestScope=t.scope;else{var n=new URL(window.location.href).searchParams.get("scope");n&&(this.requestScope=n)}}return _createClass(S,[{key:"performSearch",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=AA.generateURLSearchParams(e).toString(),u="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(u));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e,n){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=n?"/".concat(n):"",l="https://".concat(this.baseUrl,"/metadata/").concat(e).concat(u),r.abrupt("return",this.fetchUrl(l,{requestOptions:{credentials:"omit"}}));case 2:case"end":return r.stop()}},o,this)}))}},{key:"fetchUrl",value:function(e,n){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return l=new URL(e),this.requestScope&&l.searchParams.set("scope",this.requestScope),w.prev=4,r=(u=n==null?void 0:n.requestOptions)!==null&&u!==void 0?u:{credentials:this.includeCredentials?"include":"same-origin"},w.next=8,fetch(l.href,r);case 8:s=w.sent,w.next=15;break;case 11:return w.prev=11,w.t0=w.catch(4),d=_instanceof(w.t0,Error)?w.t0.message:typeof w.t0=="string"?w.t0:"Unknown error",w.abrupt("return",this.getErrorResult(Zs.networkError,d));case 15:return w.prev=15,w.next=18,s.json();case 18:if(c=w.sent,h=c.error,!h){w.next=25;break}return f=c.forensics,w.abrupt("return",this.getErrorResult(Zs.searchEngineError,h,f));case 25:return w.abrupt("return",{success:c});case 26:w.next=32;break;case 28:return w.prev=28,w.t1=w.catch(15),v=_instanceof(w.t1,Error)?w.t1.message:typeof w.t1=="string"?w.t1:"Unknown error",w.abrupt("return",this.getErrorResult(Zs.decodingError,v));case 32:case"end":return w.stop()}},o,this,[[4,11],[15,28]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new fh(e,n,o)}}}]),S}(),dm=function(){"use strict";function S(t){_classCallCheck(this,S),this.searchBackend=t}return _createClass(S,[{key:"search",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.searchBackend.performSearch(e);case 2:return o=l.sent,l.abrupt("return",o.error?o:{success:new SA(o.success)});case 4:case"end":return l.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return u=s.sent,s.abrupt("return",u.error?u:((o=u.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new fh(Zs.itemNotFound)}:{success:new cm(u.success)});case 5:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadataValue",value:function(e,n){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.searchBackend.fetchMetadata(e,n);case 3:return l=r.sent,r.abrupt("return",l.error?l:((u=l.success)===null||u===void 0?void 0:u.result)===void 0?{error:new fh(Zs.itemNotFound)}:{success:l.success.result});case 5:case"end":return r.stop()}},o,this)}))}}]),S}(),dm.default=new dm(new CA)}}),jA,EA=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/models/track.js":function(){OA(),jA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"archive.org";_classCallCheck(this,e);var u;return u=t.call(this,n),u.isSegmented=!1,u.private=!1,u.details=null,u.orig="",u.image="",u.duration=0,u.sources=[],u._playlistTrack=null,u.details=n.details,u.baseHost=o,_possibleConstructorReturn(u)}return _createClass(e,[{key:"setPlaylistInfo",value:function(o){this._playlistTrack=o,this.orig=o.orig,this.image=o.image,this.duration=o.duration,this.sources=o.sources}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/").concat(this.name)}},{key:"title",get:function(){var o;return((o=this._playlistTrack)===null||o===void 0?void 0:o.title)||(this===null||this===void 0?void 0:this.title)||this.name}},{key:"youtubeId",get:function(){return this.externalIds.find(function(o){return o.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(o){return o.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}}]),e}(_a)}}),PA,TA=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/models/album.js":function(){OA(),EA(),PA=function(){"use strict";function S(t,e){_classCallCheck(this,S),this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new cm(t),this.rawPlaylistTracks=e,this.tracks=e,this.filterFiles(this.item.files)}return _createClass(S,[{key:"title",get:function(){var e,n;return((n=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||n===void 0?void 0:n.values.join("; "))||""}},{key:"creator",get:function(){var e,n,o,u,l,s;return!((n=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||n===void 0)&&n.values?(u=(o=this.item.metadata)===null||o===void 0?void 0:o.creator)===null||u===void 0?void 0:u.values.join("; "):!((l=this.item.metadata.rawMetadata)===null||l===void 0)&&l.artist?(s=this.item.metadata.rawMetadata)===null||s===void 0?void 0:s.artist:""}},{key:"youtubeId",get:function(){return this.externalIds.find(function(e){return e.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(e){return e.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){var e;if(!this.item.metadata.rawMetadata)return[""];var n=this.item.metadata["external-identifier"];return!((e=n==null?void 0:n.values)===null||e===void 0)&&e.length?n.values:[(n==null?void 0:n.value)||""]}},{key:"youtubeTracks",get:function(){var e=this.tracks.filter(function(n){return n.youtubeId});return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}},{key:"spotifyTracks",get:function(){var e=this.tracks.filter(function(n){return n.spotifyId});return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}},{key:"albumImage",get:function(){var e=this.images.find(function(u){return u.format==="Item Image"}),n="https://".concat(this.baseHost,"/download/").concat(this.item.metadata.identifier,"/");if(e)return"".concat(n).concat(e.name);var o=this.images.find(function(u){var l=["Item Image","JPEG Thumb"];return u.source==="original"&&!l.includes(u.format)});return o?"".concat(n).concat(o.name):"".concat(n,"__ia_thumb.jpg")}},{key:"albumTrackOption",value:function(e){var n={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return Ei(Jr({},n),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return Ei(Jr({},n),{spotifyId:this.spotifyId})}},{key:"isAlbumRelatedFile",value:function(e){var n,o;return!!(!((n=e.name.match(/.(ffp|md5)$/g))===null||n===void 0)&&n.length)&&!!(!((o=e.original)===null||o===void 0)&&o.length)&&e.source==="derivative"}},{key:"isValidAudioFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/.(png|jpg|jpeg)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFileFormat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(png|jpg|jpeg)/gi))===null||n===void 0)&&n.length)}},{key:"isValidSegmentFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_segments.(json|xml)$/gi))===null||n===void 0)&&n.length)}},{key:"isSpectrogram",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/spectrogram/gi))===null||n===void 0)&&n.length)}},{key:"isSampleMP3",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_sample\.mp3$/gi))===null||n===void 0)&&n.length)}},{key:"hasScannedLinerNotes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_jp2.(zip|tar)/gi))===null||n===void 0)&&n.length)}},{key:"filterFiles",value:function(e){var n=this,o=[],u={};e.forEach(function(s){var r,d,c=s.rawValue,h=n.isValidAudioFile(c.name);if(n.isAlbumRelatedFile(c)){n.relatedFiles.push(c);return}if(n.isValidSegmentFile(c.name)&&(n.tracksAreSegmented=!0,n.relatedFiles.push(c),c.original&&n.isValidAudioFile(c.name)&&!u[c.original]&&(u[c.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),c.source==="original"&&!u[c.name]&&h&&(u[c.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),c.original&&n.isValidAudioFile(c.original)&&!u[c.original]&&(u[c.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.hasScannedLinerNotes(c.name)&&n.linerNotes.push(c),n.isValidImageFile(c.name)){c.original&&n.isValidAudioFile(c.original)?u[c.original].spectrogram=c:o.push(c);return}if(c.original&&n.isValidAudioFile(c.original)&&!n.isValidAudioFile(c.name)){u[c.original].related.push(c);return}if(!(!n.isValidAudioFile(c.name)||!n.isValidImageFile(c.name)&&!n.isValidAudioFile(c.name))){var f=n.isValidSegmentFile(c.original)&&n.isValidAudioFile(c.name);if(c.source==="original"&&n.isValidAudioFile(c.name)||f){u[c.name]||(u[c.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),u[c.name].primary=c;return}if(!((r=c.name.match(/_sample\.mp3$/))===null||r===void 0)&&r.length&&c.original){u[c.original].sampleMp3=new _a(c);return}n.isValidAudioFile(c.name)&&!n.isSampleMP3(c.name)&&n.isValidAudioFile(c.original)&&c.original&&(!((d=c.name.match(/.mp3$/))===null||d===void 0)&&d.length?u[c.original].fullMp3=c:u[c.original].related.push(c))}}),this.images=o;var l=[];this.tracks.forEach(function(s,r){var d=u[s.orig].primary,c=new jA(Ei(Jr(Jr({},s),d),{details:u[s.orig]}),"archive.org");c.setPlaylistInfo(s),l[r]=c}),this.tracks=l}}]),S}()}}),Rj=Tt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/models/album":function(){TA()}});function uu(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===fu)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=du(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=uu(S,r._$AS(S,t.values),r,n)),t}var hm,Mc,el,fm,ph,ka,pm,IA,as,cu,du,vm,MA,vh,hu,gm,mm,ss,ym,bm,wm,_m,Lj,Dj,fu,gi,km,ls,RA,Rc,LA,Lc,Dc,DA,$A,BA,NA,zA,xm,HA,Sm,FA,$j=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/cache.js":function(){Zu(),D6(),Mc=window,el=Mc.trustedTypes,fm=el?el.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,ph="$lit$",ka="lit$".concat((Math.random()+"").slice(9),"$"),pm="?"+ka,IA="<".concat(pm,">"),as=document,cu=function(){return as.createComment("")},du=function(S){return S===null||typeof S!="object"&&typeof S!="function"},vm=Array.isArray,MA=function(S){return vm(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},vh="[ 	\n\f\r]",hu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gm=/-->/g,mm=/>/g,ss=RegExp(">|".concat(vh,"(?:([^\\s\"'>=/]+)(").concat(vh,"*=").concat(vh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),ym=/'/g,bm=/"/g,wm=/^(?:script|style|textarea|title)$/i,_m=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},Lj=_m(1),Dj=_m(2),fu=Symbol.for("lit-noChange"),gi=Symbol.for("lit-nothing"),km=new WeakMap,ls=as.createTreeWalker(as,129,null,!1),RA=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=hu,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===hu?c[1]==="!--"?l=gm:c[1]!==void 0?l=mm:c[2]!==void 0?(wm.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=ss):c[3]!==void 0&&(l=ss):l===ss?c[0]===">"?(l=o!=null?o:hu,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?ss:c[3]==='"'?bm:ym):l===bm||l===ym?l=ss:l===gm||l===mm?l=hu:(l=ss,o=void 0);var v=l===ss&&S[s+1].startsWith("/>")?" ":"";u+=l===hu?r+IA:h>=0?(n.push(d),r.slice(0,h)+ph+r.slice(h)+ka+v):r+ka+(h===-2?(n.push(void 0),s):v)}return[m0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},Rc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(RA(n,o),2),h=c[0],f=c[1];if(this.el=Rc.createElement(h,e),ls.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=ls.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(ph)||a.startsWith(ka)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+ph).split(ka),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?DA:y[1]==="?"?BA:y[1]==="@"?NA:Dc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(wm.test(u.tagName)){var J=u.textContent.split(ka),F=J.length-1;if(F>0){u.textContent=el?el.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],cu()),ls.nextNode(),d.push({type:2,index:++l});u.append(J[F],cu())}}}else if(u.nodeType===8)if(u.data===pm)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(ka,re+1))!==-1;)d.push({type:7,index:l}),re+=ka.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=as.createElement("template");return o.innerHTML=e,o}}]),S}(),LA=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:as).importNode(l,!0);ls.currentNode=r;for(var d=ls.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Lc(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new zA(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=ls.nextNode(),c++)}return ls.currentNode=as,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),Lc=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=gi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=uu(this,e,n),du(e)?e===gi||e==null||e===""?(this._$AH!==gi&&this._$AR(),this._$AH=gi):e!==this._$AH&&e!==fu&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):MA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==gi&&du(this._$AH)?this._$AA.nextSibling.data=e:this.$(as.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=Rc.createElement(m0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new LA(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=km.get(e.strings);return n===void 0&&km.set(e.strings,n=new Rc(e)),n}},{key:"T",value:function(e){vm(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new Lc(this.k(cu()),this.k(cu()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),Dc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=gi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=gi}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=uu(this,e,n,0),s=!du(e)||e!==this._$AH&&e!==fu,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=uu(this,r[o+d],n,d),c===fu&&(c=this._$AH[d]),s||(s=!du(c)||c!==this._$AH[d]),c===gi?e=gi:e!==gi&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===gi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),DA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===gi?void 0:o}}]),e}(Dc),$A=el?el.emptyScript:"",BA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==gi?this.element.setAttribute(this.name,$A):this.element.removeAttribute(this.name)}}]),e}(Dc),NA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=uu(this,o,u,0))!==null&&l!==void 0?l:gi)!==fu){var s=this._$AH,r=o===gi&&s!==gi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==gi&&(s===gi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(Dc),zA=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){uu(this,e)}}]),S}(),xm=Mc.litHtmlPolyfillSupport,xm==null||xm(Rc,Lc),((hm=Mc.litHtmlVersions)!==null&&hm!==void 0?hm:Mc.litHtmlVersions=[]).push("2.8.0"),HA=function(S,t,e){var n,o,u=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,l=u._$litPart$;if(l===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;u._$litPart$=l=new Lc(t.insertBefore(cu(),s),s,void 0,e!=null?e:{})}return l._$AI(S),l},Sm=function(S){return M6(S)?S._$litType$.h:S.strings},FA=Ml(function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.tt=new WeakMap,_possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return[o]}},{key:"update",value:function(o,u){var l=_slicedToArray(u,1),s=l[0],r=rg(this.et)?Sm(this.et):null,d=rg(s)?Sm(s):null;if(r!==null&&(d===null||r!==d)){var c=qd(o).pop(),h=this.tt.get(r);if(h===void 0){var f=document.createDocumentFragment();h=HA(gi,f),h.setConnected(!1),this.tt.set(r,h)}Wd(h,[c]),Xa(h,void 0,c)}if(d!==null){if(r===null||r!==d){var v=this.tt.get(d);if(v!==void 0){var x=qd(v).pop();L6(o),Xa(o,void 0,x),Wd(o,[x])}}this.et=s}else this.et=void 0;return this.render(s)}}]),e}(Rl))}}),Bj=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/cache.js":function(){$j()}}),Vo,Nj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-dropdown@1.0.5/deno/dist/src/ia-dropdown.js":function(){Qr(),_n(),ei(),Vo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.open=!1,n.displayCaret=!1,n.selectedOption="",n.options=[],n.optionGroup="options",n.optionSelected=function(){},_possibleConstructorReturn(n)}return _createClass(e,[{key:"renderOption",value:function(o){var u=this,l=o.label,s=o.url,r=s===void 0?void 0:s,d=o.id,c,h=this.selectedOption===d?"selected":"";return r?c=Ot(_templateObject309(),r,function(){return u.optionClicked(o)},l):c=Ot(_templateObject310(),function(){return u.optionClicked(o)},l),Ot(_templateObject311(),h,c)}},{key:"optionClicked",value:function(o){this.selectedOption=o.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:o}})),o.selectedHandler&&(o==null||o.selectedHandler(o))}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"caret",get:function(){return this.open?this.caretUp:this.caretDown}},{key:"dropdownState",get:function(){return this.open?"open":"closed"}},{key:"caretUp",get:function(){return Ta(_templateObject312())}},{key:"caretDown",get:function(){return Ta(_templateObject313())}},{key:"availableOptions",get:function(){var o=this;return this.options.filter(function(u){return o.selectedOption!==u.id})}},{key:"render",value:function(){var o=this;return Ot(_templateObject315(),this.toggleOptions,this.optionGroup,this.displayCaret?Ot(_templateObject314(),this.caret):Un,this.dropdownState,this.availableOptions.map(function(u){return o.renderOption(u)}))}}]),e}(Xn),Vo.styles=Kt(_templateObject316()),A([Xt({type:Boolean,attribute:!0})],Vo.prototype,"open",void 0),A([Xt({type:Boolean,attribute:!0})],Vo.prototype,"displayCaret",void 0),A([Xt({type:String,attribute:!0})],Vo.prototype,"selectedOption",void 0),A([Xt({type:Array})],Vo.prototype,"options",void 0),A([Xt({type:String})],Vo.prototype,"optionGroup",void 0),A([Xt({type:Function})],Vo.prototype,"optionSelected",void 0),Vo=A([zr("ia-dropdown")],Vo)}}),UA,zj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/channel-selector/style-radio.js":function(){_n(),UA=Kt(_templateObject317())}}),gh,Hj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-dropdown@1.0.5/deno/dist/src/ia-icon-label.js":function(){Qr(),_n(),ei(),gh=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject318())}}]),e}(Xn),gh.styles=Kt(_templateObject319()),gh=A([zr("ia-icon-label")],gh)}});function pu(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l,s;if(t===nl)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=vu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((u=r==null?void 0:r._$AO)===null||u===void 0||u.call(r,!1),d===void 0?r=void 0:(r=new d(S),r._$AT(S,e,n)),n!==void 0?((l=(s=e)._$Co)!==null&&l!==void 0?l:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=pu(S,r._$AS(S,t.values),r,n)),t}var Am,$c,tl,Cm,mh,xa,Om,VA,us,Bc,vu,jm,WA,yh,gu,Em,Pm,cs,Tm,Im,Mm,Rm,Fj,Uj,nl,ji,Lm,ds,qA,Nc,GA,bh,zc,YA,XA,KA,JA,QA,Dm,$m,ZA,wh,Vj=Tt({"https-url:https://esm.archive.org/v99/lit-html@2.8.0/deno/directives/style-map.js":function(){Zu(),$c=window,tl=$c.trustedTypes,Cm=tl?tl.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,mh="$lit$",xa="lit$".concat((Math.random()+"").slice(9),"$"),Om="?"+xa,VA="<".concat(Om,">"),us=document,Bc=function(){return us.createComment("")},vu=function(S){return S===null||typeof S!="object"&&typeof S!="function"},jm=Array.isArray,WA=function(S){return jm(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},yh="[ 	\n\f\r]",gu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Em=/-->/g,Pm=/>/g,cs=RegExp(">|".concat(yh,"(?:([^\\s\"'>=/]+)(").concat(yh,"*=").concat(yh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Tm=/'/g,Im=/"/g,Mm=/^(?:script|style|textarea|title)$/i,Rm=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},Fj=Rm(1),Uj=Rm(2),nl=Symbol.for("lit-noChange"),ji=Symbol.for("lit-nothing"),Lm=new WeakMap,ds=us.createTreeWalker(us,129,null,!1),qA=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=gu,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===gu?c[1]==="!--"?l=Em:c[1]!==void 0?l=Pm:c[2]!==void 0?(Mm.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=cs):c[3]!==void 0&&(l=cs):l===cs?c[0]===">"?(l=o!=null?o:gu,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?cs:c[3]==='"'?Im:Tm):l===Im||l===Tm?l=cs:l===Em||l===Pm?l=gu:(l=cs,o=void 0);var v=l===cs&&S[s+1].startsWith("/>")?" ":"";u+=l===gu?r+VA:h>=0?(n.push(d),r.slice(0,h)+mh+r.slice(h)+xa+v):r+xa+(h===-2?(n.push(void 0),s):v)}return[y0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},Nc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(qA(n,o),2),h=c[0],f=c[1];if(this.el=Nc.createElement(h,e),ds.currentNode=this.el.content,o===2){var v,x=this.el.content,w=x.firstChild;w.remove(),(v=x).append.apply(v,_toConsumableArray(w.childNodes))}for(;(u=ds.nextNode())!==null&&d.length<r;){if(u.nodeType===1){if(u.hasAttributes()){var b=[],C=!0,P=!1,E=void 0;try{for(var T=u.getAttributeNames()[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=m.value;if(a.endsWith(mh)||a.startsWith(xa)){var p=f[s++];if(b.push(a),p!==void 0){var g=u.getAttribute(p.toLowerCase()+mh).split(xa),y=/([.?@])?(.*)/.exec(p);d.push({type:1,index:l,name:y[2],strings:g,ctor:y[1]==="."?YA:y[1]==="?"?KA:y[1]==="@"?JA:zc})}else d.push({type:6,index:l})}}}catch(V){P=!0,E=V}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}var _=!0,j=!1,R=void 0;try{for(var D=b[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value;u.removeAttribute(K)}}catch(V){j=!0,R=V}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}}if(Mm.test(u.tagName)){var J=u.textContent.split(xa),F=J.length-1;if(F>0){u.textContent=tl?tl.emptyScript:"";for(var de=0;de<F;de++)u.append(J[de],Bc()),ds.nextNode(),d.push({type:2,index:++l});u.append(J[F],Bc())}}}else if(u.nodeType===8)if(u.data===Om)d.push({type:2,index:l});else for(var re=-1;(re=u.data.indexOf(xa,re+1))!==-1;)d.push({type:7,index:l}),re+=xa.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=us.createElement("template");return o.innerHTML=e,o}}]),S}(),GA=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:us).importNode(l,!0);ds.currentNode=r;for(var d=ds.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new bh(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new QA(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=ds.nextNode(),c++)}return ds.currentNode=us,r}},{key:"v",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),bh=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=ji,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(u=o==null?void 0:o.isConnected)===null||u===void 0||u}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=pu(this,e,n),vu(e)?e===ji||e==null||e===""?(this._$AH!==ji&&this._$AR(),this._$AH=ji):e!==this._$AH&&e!==nl&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):WA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==ji&&vu(this._$AH)?this._$AA.nextSibling.data=e:this.$(us.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=Nc.createElement(y0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===l)this._$AH.v(o);else{var s=new GA(l,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Lm.get(e.strings);return n===void 0&&Lm.set(e.strings,n=new Nc(e)),n}},{key:"T",value:function(e){jm(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new bh(this.k(Bc()),this.k(Bc()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),S}(),zc=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=ji,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ji}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=pu(this,e,n,0),s=!vu(e)||e!==this._$AH&&e!==nl,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=pu(this,r[o+d],n,d),c===nl&&(c=this._$AH[d]),s||(s=!vu(c)||c!==this._$AH[d]),c===ji?e=ji:e!==ji&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.j(e)}},{key:"j",value:function(e){e===ji?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),YA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===ji?void 0:o}}]),e}(zc),XA=tl?tl.emptyScript:"",KA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==ji?this.element.setAttribute(this.name,XA):this.element.removeAttribute(this.name)}}]),e}(zc),JA=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=pu(this,o,u,0))!==null&&l!==void 0?l:ji)!==nl){var s=this._$AH,r=o===ji&&s!==ji||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==ji&&(s===ji||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)===null||u===void 0?void 0:u.host)!==null&&l!==void 0?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(zc),QA=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){pu(this,e)}}]),S}(),Dm=$c.litHtmlPolyfillSupport,Dm==null||Dm(Nc,bh),((Am=$c.litHtmlVersions)!==null&&Am!==void 0?Am:$c.litHtmlVersions=[]).push("2.8.0"),$m="important",ZA=" !"+$m,wh=Ml(function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,u;if(o=t.call(this,n),n.type!==Qu.ATTRIBUTE||n.name!=="style"||((u=n.strings)===null||u===void 0?void 0:u.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return Object.keys(o).reduce(function(u,l){var s=o[l];return s==null?u:u+"".concat(l=l.includes("-")?l:l.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(s,";")},"")}},{key:"update",value:function(o,u){var l=_slicedToArray(u,1),s=l[0],r=this,d=o.element,c=d.style;if(this.ht===void 0){this.ht=new Set;for(var h in s)this.ht.add(h);return this.render(s)}this.ht.forEach(function(w){s[w]==null&&(r.ht.delete(w),w.includes("-")?c.removeProperty(w):c[w]="")});for(var f in s){var v=s[f];if(v!=null){this.ht.add(f);var x=typeof v=="string"&&v.endsWith(ZA);f.includes("-")||x?c.setProperty(f,x?v.slice(0,-11):v,x?$m:""):c[f]=v}}return nl}}]),e}(Rl))}}),Wj=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/directives/style-map.js":function(){Vj()}}),_r,Ji,jo,Hc,Bm,Nm,zm,Hm,e5,t5,n5,r5,i5,o5,a5,s5,l5,u5,c5,d5,h5,f5=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/channel-selector/channels.js":function(){_n(),Hj(),Wj(),Nd(),function(S){S.ia="ia",S.beta="beta",S.youtube="youtube",S.spotify="spotify",S.webamp="webamp"}(_r||(_r={})),function(S){S.iaSamples="Samples",S.iaPlayer="Player",S.beta="Beta",S.spotify="Spotify",S.webamp="Webamp",S.youtube="YouTube"}(Ji||(Ji={})),jo={ia:Ot(_templateObject320()),beta:Ot(_templateObject321()),spotify:Ot(_templateObject322()),webamp:Ot(_templateObject323()),youtube:Ot(_templateObject324())},Hc=function(S){var t=S.label,e=t===void 0?Ji.iaPlayer:t,n=S.selected,o=wh({filter:n?"invert(1)":"invert(0)",height:"20px",width:"20px"}),u=Fa({selected:n,"invert-icon-at-hover-selected":n});return Ot(_templateObject325(),u,o,jo.ia,e)},Bm=function(S){var t=wh({filter:S?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=Fa({selected:S,"invert-icon-at-hover-selected":S});return Ot(_templateObject326(),e,t,jo.beta,Ji.beta)},Nm=function(S){return Ot(_templateObject327(),S?"selected":"",jo.spotify,Ji.spotify)},zm=function(S){var t=wh({filter:S?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=Fa({selected:S,"invert-icon-at-hover-selected":S});return Ot(_templateObject328(),e,t,jo.webamp)},Hm=function(S){return Ot(_templateObject329(),S?"selected":"",jo.youtube,Ji.youtube)},e5=function(S){var t=S.samples,e=S.onClick,n=S.href,o=S.selected,u=t?Ji.iaSamples:Ji.iaPlayer;return Ot(_templateObject330(),n,function(){return e()},Hc({label:u,selected:o}))},t5=function(S){var t=S.samples,e=S.onClick,n=S.selected,o=t?Ji.iaSamples:Ji.iaPlayer;return Ot(_templateObject331(),function(u){return e(u)},Hc({label:o,selected:n}))},n5=function(S){var t=S.onClick,e=S.selected;return Ot(_templateObject332(),function(n){return t(n)},Bm(e))},r5=function(S){var t=S.onClick,e=S.selected;return Ot(_templateObject333(),function(n){return t(n)},Nm(e))},i5=function(S){var t=S.onClick,e=S.href,n=S.selected,o="".concat(e,"?webamp=default");return Ot(_templateObject334(),o,function(u){return t(u)},zm(n))},o5=function(S){var t=S.onClick,e=S.selected;return Ot(_templateObject335(),function(n){return t(n)},Hm(e))},a5=function(S){var t=S.samples,e=S.onClick,n=S.href,o=S.selectedOption;return{url:n,selectedHandler:function(u){e(u)},label:Hc({label:t?Ji.iaSamples:Ji.iaPlayer,selected:o===_r.ia}),id:_r.ia}},s5=function(S){var t=S.samples,e=S.onClick,n=S.selectedOption;return{selectedHandler:function(o){e(o)},label:Hc({label:t?Ji.iaSamples:Ji.iaPlayer,selected:n===_r.ia}),id:_r.ia}},l5=function(S){var t=S.onClick,e=S.selectedOption;return{selectedHandler:function(n){t(n)},label:Bm(e===_r.beta),id:_r.beta}},u5=function(S){var t=S.onClick,e=S.selectedOption;return{selectedHandler:function(n){t(n)},label:Nm(e===_r.spotify),id:_r.spotify}},c5=function(S){var t=S.href,e=S.onClick,n=S.selectedOption,o=function(u){e(u)};return{url:"".concat(t,"?webamp=default"),selectedHandler:o,label:zm(n===_r.webamp),id:_r.webamp}},d5=function(S){var t=S.onClick,e=S.selectedOption;return{selectedHandler:function(n){t(n)},label:Hm(e===_r.youtube),id:_r.youtube}},h5=function(S){var t=S.spotify,e=S.beta,n=S.youtube,o=S.selectedOption;return[o===_r.webamp?a5(S):s5(S),e?l5(S):null,t?u5(S):null,n?d5(S):null,c5(S)].filter(Boolean)}}}),_h,Qi,qj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/channel-selector/channel-selector.js":function(){Qr(),_n(),ei(),Bj(),Nj(),zj(),f5(),function(S){S.postInit="postInit",S.channelChange="channelChange"}(_h||(_h={})),Qi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.youtube=!1,n.spotify=!1,n.beta=!1,n.webamp=!0,n.samples=!1,n.backgroundTheme="dark",n.selected=_r.ia,n.displayStyle="radio",n.url="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.dispatchEvent(new CustomEvent(_h.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"emitChannelChanged",value:function(){this.dispatchEvent(new CustomEvent(_h.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"iaClicked",value:function(){this.selected!==_r.ia&&(this.selected=_r.ia,this.emitChannelChanged())}},{key:"betaClicked",value:function(){this.selected!==_r.beta&&(this.selected=_r.beta,this.emitChannelChanged())}},{key:"spotifyClicked",value:function(){this.selected!==_r.spotify&&(this.selected=_r.spotify,this.emitChannelChanged())}},{key:"webampClicked",value:function(){this.selected!==_r.webamp&&(this.selected=_r.webamp,this.emitChannelChanged())}},{key:"youtubeClicked",value:function(){this.selected!==_r.youtube&&(this.selected=_r.youtube,this.emitChannelChanged())}},{key:"dropdownOptionSelected",value:function(o){this.selected=o.id,this.emitChannelChanged(),this.iaDropdown.open=!1}},{key:"iaLinkSelector",get:function(){var o=this,u=this.selected===_r.ia?"selected":"";return Ot(_templateObject336(),u,e5({samples:this.samples,selected:this.selected===_r.ia,onClick:function(){return o.iaClicked()},href:this.url}))}},{key:"iaButtonSelector",get:function(){var o=this,u=this.selected===_r.ia?"selected":"";return Ot(_templateObject337(),u,t5({samples:this.samples,selected:this.selected===_r.ia,onClick:function(){return o.iaClicked()}}))}},{key:"iaBetaSelector",get:function(){var o=this,u=this.selected===_r.beta?"selected":"";return Ot(_templateObject338(),u,n5({selected:this.selected===_r.beta,onClick:function(){return o.betaClicked()}}))}},{key:"spotifySelector",get:function(){var o=this,u=this.selected===_r.spotify?"selected":"";return Ot(_templateObject339(),u,r5({selected:this.selected===_r.spotify,onClick:function(){return o.spotifyClicked()}}))}},{key:"webampSelector",get:function(){var o=this,u=this.selected===_r.webamp?"selected":"";return Ot(_templateObject340(),u,i5({href:this.url||window.location.href,selected:this.selected===_r.webamp,onClick:function(){return o.webampClicked()}}))}},{key:"youtubeSelector",get:function(){var o=this,u=this.selected===_r.youtube?"selected":"";return Ot(_templateObject341(),u,o5({selected:this.selected===_r.youtube,onClick:function(){return o.youtubeClicked()}}))}},{key:"properIaSelector",get:function(){return this.selected===_r.webamp?this.iaLinkSelector:this.iaButtonSelector}},{key:"toggleDisplayStyle",value:function(){var o=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=o}},{key:"shouldShowChannelType",value:function(o){var u=this.selected===o;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&u)}},{key:"dropdownOptions",get:function(){var o=this,u=o.samples,l=o.beta,s=o.spotify,r=o.webamp,d=o.youtube,c=o.url,h=o.selected;return h5({selectedOption:h,samples:!!u,beta:l,spotify:s,webamp:r,youtube:d,href:c,onClick:this.dropdownOptionSelected.bind(this)})}},{key:"currentlySelectedIcon",get:function(){switch(this.selected){case _r.beta:return jo.beta;case _r.spotify:return jo.spotify;case _r.youtube:return jo.youtube;case _r.webamp:return jo.webamp;default:return jo.ia}}},{key:"dropdown",get:function(){return Ot(_templateObject342(),this.dropdownOptions,this.selected,this.backgroundTheme,this.currentlySelectedIcon)}},{key:"radioView",get:function(){return Ot(_templateObject343(),this.properIaSelector,this.beta?this.iaBetaSelector:Un,this.youtube?this.youtubeSelector:Un,this.spotify?this.spotifySelector:Un,this.webamp?this.webampSelector:Un)}},{key:"render",value:function(){return Ot(_templateObject344(),this.displayStyle,this.displayStyle,this.backgroundTheme,FA(this.displayStyle==="radio"?this.radioView:this.dropdown))}}]),e}(Xn),Qi.styles=[Kt(_templateObject345()),UA],A([Xt({attribute:!0,type:Boolean,reflect:!0})],Qi.prototype,"youtube",void 0),A([Xt({attribute:!0,type:Boolean,reflect:!0})],Qi.prototype,"spotify",void 0),A([Xt({attribute:!0,type:Boolean,reflect:!0})],Qi.prototype,"beta",void 0),A([Xt({attribute:!0,type:Boolean,reflect:!0})],Qi.prototype,"webamp",void 0),A([Xt({attribute:!0,type:Boolean,reflect:!0})],Qi.prototype,"samples",void 0),A([Xt({attribute:!0,type:String,reflect:!0})],Qi.prototype,"backgroundTheme",void 0),A([Xt({type:String,reflect:!0})],Qi.prototype,"selected",void 0),A([Xt({type:String,reflect:!0})],Qi.prototype,"displayStyle",void 0),A([Xt({type:String})],Qi.prototype,"url",void 0),A([ri("ia-dropdown")],Qi.prototype,"iaDropdown",void 0),Qi=A([zr("channel-selector")],Qi)}}),p5,v5,Gj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-close-circle@1.3.6/deno/icon-close-circle.js":function(){_n(),_n(),p5=Ot(_templateObject346()),v5=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return p5}}],[{key:"styles",get:function(){return Kt(_templateObject347())}}]),e}(Xn),customElements.define("ia-icon-close-circle",v5)}}),g5,m5,Yj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-audio@1.3.4/deno/icon-audio.js":function(){_n(),_n(),g5=Ot(_templateObject348()),m5=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return g5}}],[{key:"styles",get:function(){return Kt(_templateObject349())}}]),e}(Xn),customElements.define("ia-icon-audio",m5)}}),mu,y5=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/photo-viewer/image-placeholder.js":function(){Qr(),_n(),ei(),Yj(),mu=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaIdentifier="",n.gradType="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("iaIdentifier")&&this.setGradType()}},{key:"hashStrToInt",value:function(o){return o.split("").reduce(function(u,l){return u+l.charCodeAt(0)},0)}},{key:"setGradType",value:function(){var o=0;this.iaIdentifier?(o=this.hashStrToInt(this.iaIdentifier)%6,this.gradType="grad".concat(o)):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:o,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}},{key:"render",value:function(){return Ot(_templateObject350(),this.gradType)}}]),e}(Xn),mu.styles=Kt(_templateObject351()),A([Xt({type:String,reflect:!0,attribute:!0})],mu.prototype,"iaIdentifier",void 0),A([Xt({type:String,reflect:!0})],mu.prototype,"gradType",void 0),mu=A([zr("iamusic-noimage")],mu)}}),b5,Xj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/photo-viewer/more-inside-icon.js":function(){_n(),b5=Ot(_templateObject352())}}),Mi,Kj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/photo-viewer/photo-viewer.js":function(){Qr(),_n(),ei(),Gj(),mA(),y5(),Xj(),Mi=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.showAllPhotos=!1,n.baseHost="archive.org",n.signedIn=!1,n.itemIdentifier="",n.fullscreenActive=!1,n.reInitBrAtFullscreen=!1,n.noImageAvailable=!1,n.backgroundTheme="dark",n.bindBrEvents=function(){window.addEventListener("BookReader:PostInit",n.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",function(){var o;n.fullscreenActive=((o=n.bookreader)===null||o===void 0?void 0:o.isFullscreen())||!1;var u=n.fullscreenActive?"fullscreenOpened":"fullscreenClosed";n.dispatchEvent(new Event(u))})},_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}},{key:"firstUpdated",value:function(){this.bindBrEvents()}},{key:"updated",value:function(o){o.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),o.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}},{key:"render",value:function(){if(this.noImageAvailable)return Ot(_templateObject353(),this.itemIdentifier);var o=this.backgroundTheme==="light"?"light":"",u=this.showAllPhotos?"show-back":"",l=this.fullscreenActive?"fullscreenActive":"";return Ot(_templateObject354(),"flip-card ".concat(u," ").concat(l," ").concat(o),this.photoAlbumCover,this.linerNotesView)}},{key:"togglePhotoViewer",value:function(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}},{key:"imageBaseUrl",get:function(){return"https://".concat(this.baseHost,"/download/").concat(this.itemIdentifier)}},{key:"primaryImage",get:function(){var o;if(this.linerNotesManifest){var u=(o=this.linerNotesManifest.brOptions.data)===null||o===void 0?void 0:o.flat()[0];return(u==null?void 0:u.uri)||void 0}}},{key:"linerNotesView",get:function(){var o=this;return Ot(_templateObject355(),"photo-viewer-container",function(){var u;(u=o.bookreader)===null||u===void 0||u.exitFullScreen(),o.togglePhotoViewer()},this.linerNotesManifest,this.baseHost,this.signedIn)}},{key:"photoAlbumCover",get:function(){var o=this,u,l,s=(l=(u=this.itemMD)===null||u===void 0?void 0:u.title)!==null&&l!==void 0?l:this.itemIdentifier,r=this.primaryImage?this.primaryImage:"//".concat(this.baseHost,"/services/img/").concat(this.itemIdentifier);return Ot(_templateObject356(),function(){return Sr(o,null,_regeneratorRuntime.default.mark(function d(){return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.togglePhotoViewer();case 1:case"end":return h.stop()}},d,this)}))},r,"primary image for ".concat(s),function(d){var c=d.target,h=c.getBoundingClientRect(),f=h.width,v=h.height;o.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:f,height:v,target:c}}))},s,b5)}},{key:"handleBrPostInit",value:function(o){var u=this;this.bookreader=o==null?void 0:o.detail.props,window.br=this.bookreader,setTimeout(function(){var l,s;(l=u.bookreader)===null||l===void 0||l.jumpToIndex(0),(s=u.bookreader)===null||s===void 0||s.resize()},1e3)}},{key:"prepareLightDomHook",value:function(){var o,u,l=(o=this.lightDomHook)===null||o===void 0?void 0:o.querySelector("div.bookreader-slot");l&&((u=this.lightDomHook)===null||u===void 0||u.removeChild(l))}},{key:"loadFreshBookReaderFromManifest",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.mountBookReaderLightDomHook();case 2:return l.next=4,this.initBr();case 4:case"end":return l.stop()}},o,this)}))}},{key:"initBr",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Sr(this,null,_regeneratorRuntime.default.mark(function u(){var l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=this,console.log("&&&& INIT BR"),r.next=4,new Promise(function(d){var c=l;setTimeout(function(){var h,f;c.bookreader=c.linerNotesManifest&&IO(c.linerNotesManifest),console.log("&&&& BR OPTIONS",(h=c.bookreader)===null||h===void 0?void 0:h.options),(f=c.bookreader)===null||f===void 0||f.init(),d()},o)});case 4:case"end":return r.stop()}},u,this)}))}},{key:"mountBookReaderLightDomHook",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u=this,s.next=3,new Promise(function(r){var d,c,h,f=(d=u.lightDomHook)===null||d===void 0?void 0:d.querySelector("div.bookreader-slot");f&&((c=u.lightDomHook)===null||c===void 0||c.removeChild(f));var v=document.createElement("div");v.setAttribute("slot","main"),v.classList.add("bookreader-slot");var x=document.createElement("div");x.classList.add("liner-notes"),v.append(x),(h=u.lightDomHook)===null||h===void 0||h.append(v),x.setAttribute("id","BookReader"),x.classList.add("BookReader"),r(!0)});case 3:case"end":return s.stop()}},o,this)}))}}]),e}(Xn),Mi.styles=Kt(_templateObject357()),A([Xt({type:Boolean,reflect:!0})],Mi.prototype,"showAllPhotos",void 0),A([Xt({type:String,attribute:!0,reflect:!0})],Mi.prototype,"baseHost",void 0),A([Xt({type:Boolean,reflect:!0})],Mi.prototype,"signedIn",void 0),A([Xt({type:String,reflect:!0,attribute:!0})],Mi.prototype,"itemIdentifier",void 0),A([Xt({type:Object})],Mi.prototype,"itemMD",void 0),A([Xt({type:Object})],Mi.prototype,"linerNotesManifest",void 0),A([Xt({type:Object})],Mi.prototype,"bookreader",void 0),A([Xt({type:Boolean,reflect:!0})],Mi.prototype,"fullscreenActive",void 0),A([Xt({type:Boolean})],Mi.prototype,"reInitBrAtFullscreen",void 0),A([Xt({type:Boolean,reflect:!0})],Mi.prototype,"noImageAvailable",void 0),A([Xt({attribute:!0,type:String,reflect:!0})],Mi.prototype,"backgroundTheme",void 0),A([Xt({type:Object})],Mi.prototype,"lightDomHook",void 0),A([ri("button.click-for-photos img")],Mi.prototype,"coverImage",void 0),Mi=A([zr("iaux-photo-viewer")],Mi)}}),rl,Jj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/players/youtube-player.js":function(){Qr(),_n(),ei(),rl=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",n.display=!1,n.baseHost="https://archive.org",_possibleConstructorReturn(n)}return _createClass(e,[{key:"youTubeUrl",get:function(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";var o=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),u="origin=".concat(this.baseHost,"&widgetid=1&autoplay=1&rel=0");return"https://www.youtube.com/embed/".concat(o,"?").concat(u)}},{key:"render",value:function(){var o=this.youTubeUrl;return o?Ot(_templateObject358(),o):Un}}],[{key:"styles",get:function(){return[Kt(_templateObject359())]}}]),e}(Xn),A([Xt({type:String,reflect:!0})],rl.prototype,"iaUrn",void 0),A([Xt({type:Boolean,reflect:!0})],rl.prototype,"display",void 0),A([Xt({type:String})],rl.prototype,"baseHost",void 0),A([ri("iframe")],rl.prototype,"iframe",void 0),rl=A([zr("youtube-player")],rl)}}),Fc,Qj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/players/spotify-player.js":function(){Qr(),_n(),ei(),Fc=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"spotifyUrl",get:function(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":"https://open.spotify.com/embed/".concat(this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/"))}},{key:"render",value:function(){var o=this.spotifyUrl;return o?Ot(_templateObject360(),o):Ot(_templateObject361(),this.iaUrn)}}],[{key:"styles",get:function(){return[Kt(_templateObject362())]}}]),e}(Xn),A([Xt({type:String,attribute:!0,reflect:!0})],Fc.prototype,"iaUrn",void 0),A([ri("iframe")],Fc.prototype,"iframe",void 0),Fc=A([zr("spotify-player")],Fc)}}),Wo,Zj=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/src/players/externalchannels-player.js":function(){Qr(),_n(),ei(),Jj(),Qj(),f5(),Wo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.selectedChannel="",n.playerApi=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("album")&&this.album&&this.dispatchAlbumInfo(),o.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),o.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}},{key:"dispatchSelectedTrack",value:function(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}},{key:"dispatchAlbumInfo",value:function(){var o,u;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((o=this.album)===null||o===void 0?void 0:o.spotifyTracks)||[],youtubeTracks:((u=this.album)===null||u===void 0?void 0:u.youtubeTracks)||[]}}))}},{key:"onTracklistClickCallback",value:function(o){var u=this,l,s,r,d,c;this.currentTrackNum=o+1;var h=(l=this.album)===null||l===void 0?void 0:l.tracks.find(function(b){return b.track===u.currentTrackNum});if(this.selectedChannel===_r.spotify){var f=this,v=(s=this.album)===null||s===void 0?void 0:s.spotifyTracks.find(function(b){return b.track===f.currentTrackNum});h=v!=null?v:(r=this.album)===null||r===void 0?void 0:r.spotifyTracks[0]}else if(this.selectedChannel===_r.youtube){var x=this,w=(d=this.album)===null||d===void 0?void 0:d.youtubeTracks.find(function(b){return b.track===x.currentTrackNum});h=w!=null?w:(c=this.album)===null||c===void 0?void 0:c.youtubeTracks[0]}this.selectedTrack=h,console.log("*** onTracklistClickCallback ** ",{selectedTrack:h,iaTrackNum:o,currentTrackNum:this.currentTrackNum})}},{key:"updateToSelectedChannel",value:function(){var o,u,l,s,r;if(this.selectedChannel==="youtube"){var d=this.album.youtubeTracks||[],c=[];if(console.log("youtubeTracks",d),d.length){var h=this,f=d.reduce(function(C,P){var E=Number.isInteger(P.track)?"".concat(P.track):"n/a";if(C.push(E),E!=="n/a"){var T=Number(E)-1;c.push(T)}return C},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:f,iaYtTracklist:c}),(o=this.playerApi)===null||o===void 0||o.headless(c,function(C){return h.onTracklistClickCallback(C)})}}else if(this.selectedChannel==="spotify"){var v=((u=this.album)===null||u===void 0?void 0:u.spotifyTracks)||[],x=[];if(console.log("spotifyTracks",v),v.length){var w=this,b=((l=this.album)===null||l===void 0?void 0:l.spotifyTracks.reduce(function(C,P){var E=Number.isInteger(P.track)?"".concat(P.track):"n/a";if(C.push(E),E!=="n/a"){var T=Number(E)-1;x.push(T)}return C},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:b,iaSpTracklist:x}),(s=this.playerApi)===null||s===void 0||s.headless(x,function(C){return w.onTracklistClickCallback(C)})}}else(r=this.playerApi)===null||r===void 0||r.headless()}},{key:"render",value:function(){var o,u;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Un;if(this.selectedChannel==="spotify"){var l=this,s=(o=this.album)===null||o===void 0?void 0:o.spotifyTracks.find(function(c){var h;return(c==null?void 0:c.track)===((h=l.selectedTrack)===null||h===void 0?void 0:h.track)});if(s)return Ot(_templateObject363(),s==null?void 0:s.spotifyId)}else if(this.selectedChannel==="youtube"){var r=this,d=(u=this.album)===null||u===void 0?void 0:u.youtubeTracks.find(function(c){var h;return c.track===((h=r.selectedTrack)===null||h===void 0?void 0:h.track)});if(console.log("~~~~ trackFound YT ID",d==null?void 0:d.youtubeId,d),d)return Ot(_templateObject364(),d.youtubeId)}return Un}}]),e}(Xn),A([Xt({type:String,attribute:!0,reflect:!0})],Wo.prototype,"selectedChannel",void 0),A([Xt({type:Object})],Wo.prototype,"playerApi",void 0),A([Xt({type:Object})],Wo.prototype,"album",void 0),A([Xt({type:Object})],Wo.prototype,"selectedTrack",void 0),A([ii()],Wo.prototype,"currentTrackNum",void 0),A([ri("spotify-player")],Wo.prototype,"spotifyPlayer",void 0),A([ri("youtube-player")],Wo.prototype,"youtubePlayer",void 0),Wo=A([zr("externalchannels-player")],Wo)}}),eE=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-music-player@1.2.0/deno/dist/index.js":function(){qj(),Kj(),y5(),Zj(),TA(),EA()}}),tE=Tt({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/index.js":function(){eE()}}),w5={};qr(w5,{IaMusicTheater:function(){return Fm}});var Fm,nE=Tt({"components/ia-music-theater/ia-music-theater.js":function(){lu(),Mj(),Rj(),Tp(),tE(),vo(),$w(),window.SharedResizeObserver||(window.SharedResizeObserver=$a),dn("** ia-music-player@1.2.0 **"),Fm=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.baseHost="",n.signedIn=!1,n.hasFullAudioAccess=!0,n.identifier="",n.sharedRO=void 0,n.displayStyle="one-col",n.bgTheme="dark",n.linerNotesUrl="",n.linerNotesManifest=void 0,n.itemInfo=void 0,n.looseImageInfo=[],n.linerNotesFullscreen=!1,n.noImageAvailable=!1,n.photoViewerReady=!1,n.iaPlaylist=void 0,n.hasSpotifyTracks=!1,n.hasYoutubeTracks=!1,n.album=void 0,n.analyticsHandler=new Ip,n.selectedChannel="ia",n.currComponentWidth=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload","".concat(this.selectedChannel));var u=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(u),rawString:u};var l=document.querySelector(".js-iaux-loose-images").value,s=((o=JSON.parse(l))==null?void 0:o.image_filenames)||[];dn("~~~~ parsedImageInfo: ",s,"~~~~");var r=(s==null?void 0:s.includes("_"))&&(s==null?void 0:s.length)===1;this.looseImageInfo=!r&&(s==null?void 0:s.length)?s:[];var d=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(d),this.album=new PA(this.itemInfo.metadata,this.iaPlaylist)}},{key:"updated",value:function(o){var u;o.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(o.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),o.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),o.has("looseImageInfo")&&((u=this.looseImageInfo)==null?void 0:u.length)&&this.createManifestToLoad()}},{key:"createManifestToLoad",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.manifestFetchStarted){s.next=2;break}return s.abrupt("return");case 2:return this.manifestFetchStarted=!0,s.next=5,LO({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});case 5:u=s.sent,dn("*** manifest ***",u),this.linerNotesManifest=u,this.manifestFetchStarted=!1;case 9:case"end":return s.stop()}},o,this)}))}},{key:"removeBookReaderMobileViewClasses",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.remove("iaux-music-theater-mobile-view")}},{key:"setBookReaderClassesForMobileView",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.add("iaux-music-theater-mobile-view")}},{key:"fetchLinerNotes",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,$.ajax({url:"/embed/".concat(this.identifier,"?output=json"),type:"GET",dataType:"json",crossDomain:!0}).then(function(d){return d}).catch(function(){return[]});case 4:u=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),u=[];case 10:return this.jwplayerPlaylist=u,dn("*** jwplayerPlaylist ***",u),r.prev=13,r.next=16,$.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(d){return d}).catch(function(){return null});case 16:l=r.sent,r.next=22;break;case 19:r.prev=19,r.t1=r.catch(13),l=void 0;case 22:this.linerNotesManifest=l==null?void 0:l.data,dn("*** linerNotesManifest ***",l);case 24:case"end":return r.stop()}},o,this,[[1,7],[13,19]])}))}},{key:"itemUrl",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.identifier)}},{key:"iauxPhotoViewer",get:function(){return this.shadowRoot.querySelector("iaux-photo-viewer")}},{key:"channelSelector",get:function(){return this.shadowRoot.querySelector("channel-selector")}},{key:"setupResizeObserver",value:function(){this.sharedRO=new $a,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}},{key:"handleResize",value:function(o){var u,l,s=o.contentRect;if(s.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s.height),"px"))),document.body.style.removeProperty("--linerNotesInTheaterHeight"),s.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";var r=(l=(u=this.iauxPhotoViewer)==null?void 0:u.coverImage)==null?void 0:l.getBoundingClientRect();if(!r)return;var d=r.height,c=r.width,h=Math.floor(d),f=950;if(s.width<f){this.setBookReaderHeight(h);return}var v=Math.floor(d/c),x=Math.floor(this.offsetHeight-d),w=this.offsetHeight>=d&&x>250,b=v===1&&x>170,C=x<0;(C||b||w)&&(h=this.offsetHeight-20),this.setBookReaderHeight(h)}dn("music-player handleResize",{width:s.width,displayStyle:this.displayStyle})}}},{key:"channelChange",value:function(o){var u=o.detail,l=(u==null?void 0:u.channel)||"unknown";dn("channel change",l),this.selectedChannel=l,this.analyticsHandler.send_event("ia-music-theater","channel-change","".concat(this.selectedChannel))}},{key:"setBookReaderHeight",value:function(o){var u=Math.floor(o);!o||!u||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight","".concat(u,"px")))}},{key:"render",value:function(){var o=this,u;dn("~~~ render: linerNotesManifest ",this.linerNotesManifest);var l=this.linerNotesFullscreen?"linerNotesFullscreen":"";return Hr(_templateObject368(),"".concat(this.displayStyle," ").concat(l," ").concat(this.bgTheme," ").concat(this.noImageAvailable?"noimageavailable":"hasimage"),this.bgTheme,this.hasYoutubeTracks,this.hasSpotifyTracks,this.itemUrl,this.selectedChannel,function(s){return o.channelChange(s)},this.displayStyle==="one-col"?"dropdown":"radio",this.noImageAvailable?Hr(_templateObject365(),this.identifier):Hr(_templateObject366(),this.noImageAvailable,this.linerNotesManifest?"":"hide",this.bgTheme,this.baseHost,this.identifier,(u=this.itemInfo)==null?void 0:u.metadata,this.signedIn,this.linerNotesManifest,this,this.sharedRO,function(){if(o.displayStyle==="one-col"){var s=window.innerHeight;o.style.removeProperty("--linerNotesFullscreenHeight"),o.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s),"px"))}o.linerNotesFullscreen=!0},function(){o.displayStyle==="one-col"&&o.style.removeProperty("--linerNotesFullScreenHeight"),o.linerNotesFullscreen=!1},function(){o.displayStyle==="one-col"&&o.setBookReaderClassesForMobileView(),o.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed","".concat(o.displayStyle))},function(s){var r,d=!o.noImageAvailable&&!((r=o.looseImageInfo)!=null&&r.length)&&!o.linerNotesManifest;if(!d){var c=s.detail,h=c.height,f=c.width,v=h;if(o.displayStyle==="one-col")v=250;else{var x=Math.round(h/f);(x===1||h>=o.offsetHeight)&&(v=o.offsetHeight-20)}o.setBookReaderHeight(v),o.photoViewerReady=!0}}),this.photoViewerReady?vi:Hr(_templateObject367()),this.album,this.selectedChannel,window==null?void 0:window.Play,function(s){var r=s.detail,d=r.youtubeTracks,c=r.spotifyTracks,h=r.album;o.hasYoutubeTracks=!!d.length,o.hasSpotifyTracks=!!c.length,o.album=h,dn("*** external player loaded",s.detail)},function(s){dn("*** external player selected track Received",s.detail)})}}],[{key:"properties",get:function(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}},{key:"styles",get:function(){return Cc(_templateObject369())}}]),e}(Oo),customElements.define("ia-music-theater",Fm)}}),Um=Tt({"https-url:https://archive.org/components/util/jquery.js":function(){_d(),window.jQuery=ee,window.$=ee}}),Vm,rE=Tt({"https-url:https://archive.org/components/util/message.js":function(){Vm=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),S}()}}),iE=Tt({"https-url:https://archive.org/components/tilebars/tilebars.js":function(){Um()}}),_5,oE=Tt({"https-url:https://archive.org/components/util/throttler.js":function(){_5=function(){"use strict";function S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,S),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(S,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),S}()}}),k5,aE=Tt({"https-url:https://archive.org/components/util/scroll-proximity-handler.js":function(){Um(),oE(),k5=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=ee(window),this.throttler=new _5(this.scrollListener,100,this)}return _createClass(S,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),S}()}}),x5,sE=Tt({"https-url:https://archive.org/components/util/is-bot.js":function(){x5=/bot|crawl|spider/i.test(navigator.userAgent)}}),qo,S5=Tt({"https-url:https://archive.org/components/related/related.js":function(){Um(),rE(),iE(),aE(),sE(),qo=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"setup",value:function(){var e=ee("#js-related");if(e.length&&(hf(),ee(window).on("resize  orientationchange",function(o){clearTimeout(qo.also_found_throttler),qo.also_found_throttler=setTimeout(hf,250)})),!(!e.length||x5)){var n=ee("#also-found");this.scrollProximityHandler=new k5("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(Vm.LoadingMessage({message:"Fetching items"})),qo.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=ee("#also-found").data("identifier"),n=ee("#js-related");return qo.getRelatedItems(e).then(function(o){n.html(o),hf()}).catch(function(o){ee("#playplayset").hide(),n.html(Vm.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,u){var l="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";ee.get(l,function(r){r===""&&u(new Error("No similar items found.")),r==="service_disabled"&&u(new Error(s)),o(r)}).fail(function(){u(new Error(s))})})}}]),S}(),ee(function(){return qo.setup()})}}),A5=Tt({"https-url:https://av.dev.archive.org/js/util/jquery.js":function(){_d(),window.jQuery=ee,window.$=ee}}),Sa,Wm=Tt({"https-url:https://av.dev.archive.org/js/util/cgiarg.js":function(){Sa=DO}}),C5,Ln,lE,il=Tt({"https-url:https://av.dev.archive.org/js/util/log.js":function(){Ln=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((C5=window==null?void 0:window.navigator)==null?void 0:C5.onLine)===!1?console.log.bind(console):function(){},lE=console.error.bind(console)}}),uE=Tt({"https-url:https://av.dev.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(S){var t=function(c){for(var h,f,v=c[0],x=c[1],w=0,b=[];w<v.length;w++)f=v[w],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&b.push(n[f][0]),n[f]=0;for(h in x)Object.prototype.hasOwnProperty.call(x,h)&&(S[h]=x[h]);for(r&&r(c);b.length;)b.shift()()},e={},n={0:0};function o(d){if(e[d])return e[d].exports;var c=e[d]={i:d,l:!1,exports:{}};return S[d].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.e=function(d){var c=[],h=n[d];if(h!==0)if(h)c.push(h[2]);else{var f=new Promise(function(C,P){h=n[d]=[C,P]});c.push(h[2]=f);var v,x=document.createElement("script");x.charset="utf-8",x.timeout=120,o.nc&&x.setAttribute("nonce",o.nc),x.src=function(C){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[C]||C)+".js"}(d);var w=new Error;v=function(P){x.onerror=x.onload=null,clearTimeout(b);var E=n[d];if(E!==0){if(E){var T=P&&(P.type==="load"?"missing":P.type),m=P&&P.target&&P.target.src;w.message="Loading chunk "+d+" failed.\n("+T+": "+m+")",w.name="ChunkLoadError",w.type=T,w.request=m,E[1](w)}n[d]=void 0}};var b=setTimeout(function(){v({type:"timeout",target:x})},12e4);x.onerror=x.onload=v,document.head.appendChild(x)}return Promise.all(c)},o.m=S,o.c=e,o.d=function(d,c,h){o.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:h})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,c){if(1&c&&(d=o(d)),8&c||4&c&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&c&&typeof d!="string")for(var f in d)o.d(h,f,function(v){return d[v]}.bind(null,f));return h},o.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(c,"a",c),c},o.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},o.p="",o.oe=function(d){throw console.error(d),d};var u=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var r=l;return o(o.s=56)}([function(S,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return y}),e.d(t,"i",function(){return K}),e.d(t,"h",function(){return F}),e.d(t,"z",function(){return je}),e.d(t,"b",function(){return Le}),e.d(t,"j",function(){return Ze}),e.d(t,"e",function(){return Ve}),e.d(t,"l",function(){return Xe}),e.d(t,"a",function(){return yt}),e.d(t,"A",function(){return Je}),e.d(t,"m",function(){return rt}),e.d(t,"d",function(){return ht}),e.d(t,"g",function(){return at}),e.d(t,"x",function(){return ut}),e.d(t,"p",function(){return bt}),e.d(t,"r",function(){return wt}),e.d(t,"s",function(){return _t}),e.d(t,"o",function(){return st}),e.d(t,"q",function(){return ye}),e.d(t,"n",function(){return N}),e.d(t,"t",function(){return We}),e.d(t,"k",function(){return et}),e.d(t,"y",function(){return L}),e.d(t,"w",function(){return ue}),e.d(t,"u",function(){return pe});var n=e(16),o={},u=Array.prototype,l=Object.prototype,s=Function.prototype,r=u.slice,d=u.concat,c=l.toString,h=l.hasOwnProperty,f=u.map,v=u.reduce,x=u.forEach,w=u.filter,b=u.every,C=u.some,P=u.indexOf,E=Array.isArray,T=Object.keys,m=s.bind,a=window.isFinite,p=function(Q,be,Ce){var xe,Ge;if(Q==null)return Q;if(x&&Q.forEach===x)Q.forEach(be,Ce);else if(Q.length===+Q.length){for(xe=0,Ge=Q.length;xe<Ge;xe++)if(be.call(Ce,Q[xe],xe,Q)===o)return}else{var Be=Ye(Q);for(xe=0,Ge=Be.length;xe<Ge;xe++)if(be.call(Ce,Q[Be[xe]],Be[xe],Q)===o)return}return Q},g=p,y=function(Q,be,Ce){var xe=[];return Q==null?xe:f&&Q.map===f?Q.map(be,Ce):(p(Q,function(Ge,Be,Ke){xe.push(be.call(Ce,Ge,Be,Ke))}),xe)},_=y,j="Reduce of empty array with no initial value",R=function(Q,be,Ce,xe){var Ge=arguments.length>2;if(Q==null&&(Q=[]),v&&Q.reduce===v)return xe&&(be=yt(be,xe)),Ge?Q.reduce(be,Ce):Q.reduce(be);if(p(Q,function(Be,Ke,Pt){Ge?Ce=be.call(xe,Ce,Be,Ke,Pt):(Ce=Be,Ge=!0)}),!Ge)throw new TypeError(j);return Ce},D=R,H=R,K=function(Q,be,Ce){var xe;return X(Q,function(Ge,Be,Ke){if(be.call(Ce,Ge,Be,Ke))return xe=Ge,!0}),xe},J=K,F=function(Q,be,Ce){var xe=[];return Q==null?xe:w&&Q.filter===w?Q.filter(be,Ce):(p(Q,function(Ge,Be,Ke){be.call(Ce,Ge,Be,Ke)&&xe.push(Ge)}),xe)},de=F,re=function(Q,be,Ce){be||(be=et);var xe=!0;return Q==null?xe:b&&Q.every===b?Q.every(be,Ce):(p(Q,function(Ge,Be,Ke){if(!(xe=xe&&be.call(Ce,Ge,Be,Ke)))return o}),!!xe)},V=re,X=function(Q,be,Ce){be||(be=et);var xe=!1;return Q==null?xe:C&&Q.some===C?Q.some(be,Ce):(p(Q,function(Ge,Be,Ke){if(xe||(xe=be.call(Ce,Ge,Be,Ke)))return o}),!!xe)},oe=X,G=function(Q,be){var Ce;return function(){return--Q>0&&(Ce=be.apply(this,arguments)),Q<=1&&(be=null),Ce}},Y=function(Q){return Q==null?et:bt(Q)?Q:L(Q)},Z=function(Q){return function(be,Ce,xe){var Ge={};return Ce=Y(Ce),p(be,function(Be,Ke){var Pt=Ce.call(xe,Be,Ke,be);Q(Ge,Pt,Be)}),Ge}},ae=Z(function(he,Q,be){Ie(he,Q)?he[Q].push(be):he[Q]=[be]}),ie=Z(function(he,Q,be){he[Q]=be}),je=function(Q,be,Ce,xe){for(var Ge=(Ce=Y(Ce)).call(xe,be),Be=0,Ke=Q.length;Be<Ke;){var Pt=Be+Ke>>>1;Ce.call(xe,Q[Pt])<Ge?Be=Pt+1:Ke=Pt}return Be},Le=function(Q,be){return Q!=null&&(Q.length!==+Q.length&&(Q=Te(Q)),Xe(Q,be)>=0)},ke=Le,Ze=function(Q,be){return K(Q,ue(be))},Ve=function(Q){var be=d.apply(u,r.call(arguments,1));return F(Q,function(Ce){return!Le(be,Ce)})},Xe=function(Q,be,Ce){if(Q==null)return-1;var xe=0,Ge=Q.length;if(Ce){if(typeof Ce!="number")return Q[xe=je(Q,be)]===be?xe:-1;xe=Ce<0?Math.max(0,Ge+Ce):Ce}if(P&&Q.indexOf===P)return Q.indexOf(be,Ce);for(;xe<Ge;xe++)if(Q[xe]===be)return xe;return-1},dt=function(){},yt=function(Q,be){var Ce,xe;if(m&&Q.bind===m)return m.apply(Q,r.call(arguments,1));if(!bt(Q))throw new TypeError;return Ce=r.call(arguments,2),xe=function(){if(!_instanceof(this,xe))return Q.apply(be,Ce.concat(r.call(arguments)));dt.prototype=Q.prototype;var Ge=new dt;dt.prototype=null;var Be=Q.apply(Ge,Ce.concat(r.call(arguments)));return Object(Be)===Be?Be:Ge}},pt=function(Q){var be=r.call(arguments,1);return function(){for(var Ce=0,xe=be.slice(),Ge=0,Be=xe.length;Ge<Be;Ge++)Ie(xe[Ge],"partial")&&(xe[Ge]=arguments[Ce++]);for(;Ce<arguments.length;)xe.push(arguments[Ce++]);return Q.apply(this,xe)}},Re=pt(G,2),_e=function(Q,be){var Ce=r.call(arguments,2);return setTimeout(function(){return Q.apply(null,Ce)},be)},Ne=pt(_e,{partial:pt},1),Je=function(Q,be,Ce){var xe,Ge,Be,Ke=null,Pt=0;Ce||(Ce={});var At=function(){Pt=Ce.leading===!1?0:ce(),Ke=null,Be=Q.apply(xe,Ge),xe=Ge=null};return function(){Pt||Ce.leading!==!1||(Pt=ce);var Et=be-(ce-Pt);return xe=this,Ge=arguments,Et<=0?(clearTimeout(Ke),Ke=null,Pt=ce,Be=Q.apply(xe,Ge),xe=Ge=null):Ke||Ce.trailing===!1||(Ke=setTimeout(At,Et)),Be}},Ye=function(Q){if(!ze(Q))return[];if(T)return T(Q);var be=[];for(var Ce in Q)Ie(Q,Ce)&&be.push(Ce);return be},Te=function(Q){for(var be=Ye(Q),Ce=Ye.length,xe=Array(Ce),Ge=0;Ge<Ce;Ge++)xe[Ge]=Q[be[Ge]];return xe},rt=function(Q){for(var be={},Ce=Ye(Q),xe=0,Ge=Ce.length;xe<Ge;xe++)be[Q[Ce[xe]]]=Ce[xe];return be},ht=function(Q){return p(r.call(arguments,1),function(be){if(be)for(var Ce in be)Q[Ce]===void 0&&(Q[Ce]=be[Ce])}),Q},at=Object.assign||function(he){return p(r.call(arguments,1),function(Q){if(Q)for(var be in Q)Object.prototype.hasOwnProperty.call(Q,be)&&(he[be]=Q[be])}),he},ut=function(Q){var be={},Ce=d.apply(u,r.call(arguments,1));return p(Ce,function(xe){xe in Q&&(be[xe]=Q[xe])}),be},qe=E||function(he){return c.call(he)=="[object Array]"},ze=function(Q){return Q===Object(Q)},Fe=[];p(["Function","String","Number","Date","RegExp"],function(he){Fe[he]=function(Q){return c.call(Q)=="[object "+he+"]"}}),Fe.Function=function(he){return typeof he=="function"};var tt=Fe.Date,nt=Fe.RegExp,bt=Fe.Function,wt=Fe.Number,_t=Fe.String,st=function(Q){return a(Q)&&!ye(parseFloat(Q))},ye=function(Q){return wt(Q)&&Q!=+Q},N=function(Q){return Q===!0||Q===!1||c.call(Q)=="[object Boolean]"},We=function(Q){return Q===void 0},Ie=function(Q,be){return h.call(Q,be)},et=function(Q){return Q},L=function(Q){return function(be){return be[Q]}},ue=function(Q){return function(be){if(be===Q)return!0;for(var Ce in Q)if(Q[Ce]!==be[Ce])return!1;return!0}},ce=n.a,pe=function(Q){return wt(Q)&&!ye(Q)};t.c={after:function(Q,be){return function(){if(--Q<1)return be.apply(this,arguments)}},all:re,any:X,before:G,bind:yt,clone:function(Q){return ze(Q)?qe(Q)?Q.slice():at({},Q):Q},collect:_,compact:function(Q){return F(Q,et)},constant:function(Q){return function(){return Q}},contains:Le,debounce:function(Q,be){var Ce;return be===void 0&&(be=100),function(){for(var xe=this,Ge=arguments.length,Be=new Array(Ge),Ke=0;Ke<Ge;Ke++)Be[Ke]=arguments[Ke];clearTimeout(Ce),Ce=setTimeout(function(){Q.apply(xe,Be)},be)}},defaults:ht,defer:Ne,delay:_e,detect:J,difference:Ve,each:p,every:V,extend:at,filter:F,find:K,findWhere:Ze,foldl:D,forEach:g,groupBy:ae,has:Ie,identity:et,include:ke,indexBy:ie,indexOf:Xe,inject:H,invert:rt,isArray:qe,isBoolean:N,isDate:tt,isFinite:st,isFunction:bt,isNaN:ye,isNull:function(Q){return Q===null},isNumber:wt,isObject:ze,isRegExp:nt,isString:_t,isUndefined:We,isValidNumber:pe,keys:Ye,last:function(Q,be,Ce){if(Q!=null)return be==null||Ce?Q[Q.length-1]:r.call(Q,Math.max(Q.length-be,0))},map:y,matches:ue,max:function(Q,be,Ce){if(!be&&qe(Q)&&Q[0]===+Q[0]&&Q.length<65535)return Math.max.apply(Math,Q);var xe=-1/0,Ge=-1/0;return p(Q,function(Be,Ke,Pt){var At=be?be.call(Ce,Be,Ke,Pt):Be;At>Ge&&(xe=Be,Ge=At)}),xe},memoize:function(Q,be){var Ce={};return be||(be=et),function(){var xe=be.apply(this,arguments);return Ie(Ce,xe)?Ce[xe]:Ce[xe]=Q.apply(this,arguments)}},now:ce,omit:function(Q){var be={},Ce=d.apply(u,r.call(arguments,1));for(var xe in Q)Le(Ce,xe)||(be[xe]=Q[xe]);return be},once:Re,partial:pt,pick:ut,pluck:function(Q,be){return y(Q,L(be))},property:L,propertyOf:function(Q){return Q==null?function(){}:function(be){return Q[be]}},reduce:R,reject:function(Q,be,Ce){return F(Q,function(xe,Ge,Be){return!be.call(Ce,xe,Ge,Be)},Ce)},result:function(Q,be){if(Q!=null){var Ce=Q[be];return bt(Ce)?Ce.call(Q):Ce}},select:de,size:function(Q){return Q==null?0:Q.length===+Q.length?Q.length:Ye(Q).length},some:oe,sortedIndex:je,throttle:Je,where:function(Q,be){return F(Q,ue(be))},without:function(Q){return Ve(Q,r.call(arguments,1))}}},function(S,t,e){"use strict";var n=function(H,K,J){return _instanceof(J,R)&&J.code?J:new R(H,K,J)},o=function(H,K){var J=n(j,K,H);return J.code=(H&&_instanceof(H,R)&&H.code||0)+K,J},u=function(H){var K=H.name,J=H.message;switch(K){case"AbortError":return/pause/.test(J)?303213:/load/.test(J)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return d}),e.d(t,"q",function(){return c}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return x}),e.d(t,"s",function(){return w}),e.d(t,"e",function(){return b}),e.d(t,"i",function(){return C}),e.d(t,"a",function(){return P}),e.d(t,"f",function(){return E}),e.d(t,"c",function(){return T}),e.d(t,"g",function(){return m}),e.d(t,"h",function(){return a}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return g}),e.d(t,"k",function(){return y}),e.d(t,"m",function(){return _}),e.d(t,"n",function(){return j}),e.d(t,"o",function(){return R}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return u});var l=e(0),s=1e5,r=100001,d=100002,c=101e3,h=102e3,f=102700,v=200001,x=202e3,w=104e3,b=203e3,C=203640,P=203700,E=204e3,T=306e3,m=308e3,a=308640,p="cantPlayVideo",g="badConnection",y="cantLoadPlayer",_="liveStreamDown",j="technicalError",R=function(){var D=function(K,J,F){this.code=Object(l.u)(J)?J:0,this.sourceError=F||null,K&&(this.key=K)};return D.logMessage=function(H){var K=H%1e3,J=Math.floor((H-K)/1e3),F=H.toString();return K>=400&&K<600&&(F=J+"400-"+J+"599"),"JW Player "+(H>299999&&H<4e5?"Warning":"Error")+" "+H+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+F},D}()},function(S,t,e){"use strict";var n=function(b){return b.replace(/^\s+|\s+$/g,"")},o=function(b,C,P){for(b=""+b,P=P||"0";b.length<C;)b=P+b;return b},u=function(b,C){for(var P=b.attributes,E=0;E<P.length;E++)if(P[E].name&&P[E].name.toLowerCase()===C.toLowerCase())return P[E].value.toString();return""},l=function(b){if(!b||b.substr(0,4)==="rtmp")return"";var C=/[(,]format=(m3u8|mpd)-/i.exec(b);if(C)return C[1];var P=b.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return P!==b?P.toLowerCase():(b=b.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?b.substr(b.lastIndexOf(".")+1,b.length).toLowerCase():""},s=function(b){var C=(b/60|0)%60,P=b%60;return o((b/3600|0).toString(),2)+":"+o(C.toString(),2)+":"+o(P.toFixed(3),6)},r=function(b,C){if(!b)return 0;if(Object(v.u)(b))return b;var P=b.replace(",","."),E=P.slice(-1),T=P.split(":"),m=T.length,a=0;if(E==="s")a=x(P);else if(E==="m")a=60*x(P);else if(E==="h")a=3600*x(P);else if(m>1){var p=m-1;m===4&&(C&&(a=x(T[p])/C),p-=1),a+=x(T[p]),a+=60*x(T[p-1]),m>=3&&(a+=3600*x(T[p-2]))}else a=x(P);return Object(v.u)(a)?a:0},d=function(b,C,P){if(Object(v.s)(b)&&b.slice(-1)==="%"){var E=x(b);return C&&Object(v.u)(C)&&Object(v.u)(E)?C*E/100:null}return r(b,P)},c=function(b,C){return b.map(function(P){return C+P})},h=function(b,C){return b.map(function(P){return P+C})},f=function(b){return!!b&&Object(v.s)(b)&&b.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return u}),e.d(t,"a",function(){return l}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return d}),e.d(t,"f",function(){return c}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),x=window.parseFloat},function(S,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return u}),e.d(t,"ob",function(){return l}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return d}),e.d(t,"qb",function(){return c}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return x}),e.d(t,"r",function(){return w}),e.d(t,"Z",function(){return b}),e.d(t,"W",function(){return C}),e.d(t,"v",function(){return P}),e.d(t,"Y",function(){return E}),e.d(t,"w",function(){return T}),e.d(t,"ub",function(){return m}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return g}),e.d(t,"d",function(){return y}),e.d(t,"e",function(){return _}),e.d(t,"f",function(){return j}),e.d(t,"i",function(){return R}),e.d(t,"F",function(){return D}),e.d(t,"gb",function(){return H}),e.d(t,"Q",function(){return K}),e.d(t,"C",function(){return J}),e.d(t,"B",function(){return F}),e.d(t,"E",function(){return de}),e.d(t,"q",function(){return re}),e.d(t,"cb",function(){return V}),e.d(t,"n",function(){return X}),e.d(t,"G",function(){return oe}),e.d(t,"H",function(){return G}),e.d(t,"N",function(){return Y}),e.d(t,"O",function(){return Z}),e.d(t,"R",function(){return ae}),e.d(t,"ib",function(){return ie}),e.d(t,"bb",function(){return je}),e.d(t,"D",function(){return Le}),e.d(t,"S",function(){return ke}),e.d(t,"P",function(){return Ze}),e.d(t,"T",function(){return Ve}),e.d(t,"V",function(){return Xe}),e.d(t,"M",function(){return dt}),e.d(t,"L",function(){return yt}),e.d(t,"K",function(){return pt}),e.d(t,"I",function(){return Re}),e.d(t,"J",function(){return _e}),e.d(t,"U",function(){return Ne}),e.d(t,"p",function(){return Je}),e.d(t,"y",function(){return Ye}),e.d(t,"hb",function(){return Te}),e.d(t,"db",function(){return rt}),e.d(t,"eb",function(){return ht}),e.d(t,"g",function(){return at}),e.d(t,"h",function(){return ut}),e.d(t,"rb",function(){return qe}),e.d(t,"sb",function(){return ze}),e.d(t,"ab",function(){return Fe}),e.d(t,"A",function(){return tt}),e.d(t,"m",function(){return nt}),e.d(t,"l",function(){return bt}),e.d(t,"fb",function(){return wt}),e.d(t,"tb",function(){return _t}),e.d(t,"z",function(){return st}),e.d(t,"k",function(){return ye}),e.d(t,"X",function(){return N}),e.d(t,"j",function(){return We}),e.d(t,"x",function(){return Ie});var n="buffering",o="idle",u="complete",l="paused",s="playing",r="error",d="loading",c="stalled",h="drag",f="dragStart",v="dragEnd",x="click",w="doubleClick",b="over",C="move",P="enter",E="out",T=r,m="warning",a="adClick",p="mediaLoaded",g="adPause",y="adPlay",_="adSkipped",j="adTime",R="autostartNotAllowed",D=u,H="ready",K="seek",J="beforePlay",F="beforeComplete",de="bufferFull",re="displayClick",V="playlistComplete",X="cast",oe="mediaError",G="firstFrame",Y="playAttempt",Z="playAttemptFailed",ae="seeked",ie="setupError",je="state",Le="bufferChange",ke="time",Ze="ratechange",Ve="mediaType",Xe="volume",dt="mute",yt="metadataCueParsed",pt="meta",Re="levels",_e="levelsChanged",Ne="visualQuality",Je="controls",Ye="fullscreen",Te="resize",rt="playlistItem",ht="playlist",at="audioTracks",ut="audioTrackChanged",qe="subtitlesTracks",ze="subtitlesTrackChanged",Fe="playbackRateChanged",tt="logoClick",nt="captionsList",bt="captionsChanged",wt="providerFirstFrame",_t="userAction",st="instreamClick",ye="breakpoint",N="fullscreenchange",We="bandwidthEstimate",Ie="float"},function(S,t,e){"use strict";var n=function(d){var c="";return d&&(d.localName?c=d.localName:d.baseName&&(c=d.baseName)),c},o=function(d){var c="";return d&&(d.textContent?c=Object(s.i)(d.textContent):d.text&&(c=Object(s.i)(d.text))),c},u=function(d,c){return d.childNodes[c]},l=function(d){return d.childNodes?d.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return u}),e.d(t,"c",function(){return l});var s=e(2)},function(S,t,e){"use strict";var n=function(y){return navigator.userAgent.match(y)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&T()},u=function(){try{return window.self!==window.top}catch(y){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return d}),e.d(t,"p",function(){return c}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return x}),e.d(t,"s",function(){return w}),e.d(t,"d",function(){return b}),e.d(t,"i",function(){return C}),e.d(t,"q",function(){return P}),e.d(t,"j",function(){return E}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return T}),e.d(t,"o",function(){return m}),e.d(t,"m",function(){return u}),e.d(t,"h",function(){return a}),e.d(t,"a",function(){return p});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},d=function(){return n(/iPad/i)||l()},c=function(){return n(/Macintosh/i)&&!l()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},x=function(){return n(/SMART-TV/)},w=function(){return x()&&!n(/SamsungBrowser/)},b=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!x()},C=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},P=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||x()},E=function(){return n(/iP(hone|ad|od)/i)||l()},T=function(){return n(/Android/i)&&!n(/Windows Phone/i)},m=function(){return E()||T()||n(/Windows Phone/i)},a=function(){return!1},p=function(){return 0}},function(S,t,e){"use strict";var n=function(V,X){return V.classList.contains(X)},o=function(V){return l(V).firstChild},u=function(V,X){P(V),function(oe,G){if(!!G){for(var Y=document.createDocumentFragment(),Z=l(G).childNodes,ae=0;ae<Z.length;ae++)Y.appendChild(Z[ae].cloneNode(!0));oe.appendChild(Y)}}(V,X)},l=function(V){var X=function(Y){if(R||(R=new J,F=function(){try{if(R.parseFromString("","text/html"))return!0}catch(ae){}return!1}()),F)return R.parseFromString(Y,"text/html").body;var Z=document.implementation.createHTMLDocument("");return Y.toLowerCase().indexOf("<!doctype")>-1?Z.documentElement.innerHTML=Y:Z.body.innerHTML=Y,Z.body}(V);s(X);for(var oe=X.querySelectorAll("*"),G=oe.length;G--;)r(oe[G]);return X},s=function(V){for(var X=V.querySelectorAll("script,object,iframe,meta"),oe=X.length;oe--;){var G=X[oe];G.parentNode.removeChild(G)}return V},r=function(V){for(var X=V.attributes,oe=X.length;oe--;){var G=X[oe].name;if(/^on/.test(G)&&V.removeAttribute(G),/href/.test(G)){var Y=X[oe].value;/javascript:|javascript&colon;/.test(Y)||!de.test(Y)?V.removeAttribute(G):console.warn("Invalid or unsafe URL")}}return V},d=function(V){return V+(V.toString().indexOf("%")>0?"":"px")},c=function(V){return Object(D.s)(V.className)?V.className.split(" "):[]},h=function(V,X){X=Object(H.i)(X),V.className!==X&&(V.className=X)},f=function(V){return V.classList?V.classList:c(V)},v=function(V,X){var oe=c(V);(Array.isArray(X)?X:X.split(" ")).forEach(function(G){Object(D.b)(oe,G)||oe.push(G)}),h(V,oe.join(" "))},x=function(V,X){var oe=c(V),G=Array.isArray(X)?X:X.split(" ");h(V,Object(D.e)(oe,G).join(" "))},w=function(V,X,oe){var G=V.className||"";X.test(G)?G=G.replace(X,oe):oe&&(G+=" "+oe),h(V,G)},b=function(V,X,oe){var G=n(V,X);(oe=Object(D.n)(oe)?oe:!G)!==G&&(oe?v(V,X):x(V,X))},C=function(V,X,oe){V.setAttribute(X,oe)},P=function(V){for(;V.firstChild;)V.removeChild(V.firstChild)},E=function(V){var X=document.createElement("link");X.rel="stylesheet",X.href=V,document.getElementsByTagName("head")[0].appendChild(X)},T=function(V){V&&P(V)},m=function(V){var X={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!V||!document.body.contains(V))return X;var oe=V.getBoundingClientRect(),G=window.pageYOffset,Y=window.pageXOffset;return(oe.width||oe.height||oe.left||oe.top)&&(X.left=oe.left+Y,X.right=oe.right+Y,X.top=oe.top+G,X.bottom=oe.bottom+G,X.width=oe.right-oe.left,X.height=oe.bottom-oe.top),X},a=function(V,X){V.insertBefore(X,V.firstChild)},p=function(V){return V.nextElementSibling},g=function(V){return V.previousElementSibling},y=function(V,X,oe){if(oe===void 0&&(oe={}),de.test(V)){var G=document.createElement("a");G.href=V,G.target=X,G=r(Object(D.g)(G,oe)),K.Browser.firefox?G.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):G.click()}},_=function(){var V=window.screen.orientation;return!!V&&(V.type==="landscape-primary"||V.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},j=function(V){return function(X){var oe=document.createElement("textarea");return oe.innerHTML=X,oe.value}(V).replace(/&|<|>|"|''/gm,function(X){return"&#"+X.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return u}),e.d(t,"k",function(){return l}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return d}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return x}),e.d(t,"q",function(){return w}),e.d(t,"w",function(){return b}),e.d(t,"u",function(){return C}),e.d(t,"i",function(){return P}),e.d(t,"c",function(){return E}),e.d(t,"h",function(){return T}),e.d(t,"d",function(){return m}),e.d(t,"n",function(){return a}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return g}),e.d(t,"m",function(){return y}),e.d(t,"g",function(){return _}),e.d(t,"a",function(){return j});var R,D=e(0),H=e(2),K=e(7),J=window.DOMParser,F=!0,de=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(S,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return d});var u=navigator.userAgent,l=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(c,h){var f,v,x,w;if(c.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(c.safari)f=h.substring(h.indexOf("Version")+8);else if(c.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(c.edge){var b=h.indexOf("Edge");b===-1?b=h.indexOf("Edg")+4:b+=5,f=h.substring(b)}else c.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((w=f.indexOf(";"))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(" "))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(")"))!==-1&&(f=f.substring(0,w)),v=parseInt(f,10),x=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:x}}(this,u)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return u.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(c,h){var f,v,x;if(c.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else c.android?f=n(/Android ([._\d]+)/,h):c.iOS?f=n(/OS ([._\d]+)/,h):c.mac?f=n(/Mac OS X ([._\d]+)/,h):c.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var w=f.split(/[._]/);w&&(x=parseInt(w[1],10))}return{version:f,major:v,minor:x}}(this,u)}},d={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return c=!0}});window.addEventListener("testPassive",l,h),window.removeEventListener("testPassive",l,h)}catch(f){}return c}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(S,t,e){"use strict";var n=function(v,x,w,b){if(!w)return!0;if(typeof w=="object"){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&v[x].apply(v,[C,w[C]].concat(b));return!1}if(h.test(w)){for(var P=w.split(h),E=0,T=P.length;E<T;E++)v[x].apply(v,[P[E]].concat(b));return!1}return!0},o=function(v,x,w,b){for(var C=-1,P=v.length;++C<P;){var E=v[C];if(b)try{E.callback.apply(E.context||w,x)}catch(T){console.log('Error in "'+b+'" event handler:',T)}else E.callback.apply(E.context||w,x)}};e.d(t,"a",function(){return u}),e.d(t,"c",function(){return l}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return d}),e.d(t,"f",function(){return c});var u=function(){var f=function(){},v=f.prototype;return v.on=function(x,w,b){if(!n(this,"on",x,[w,b])||!w)return this;var C=this._events||(this._events={});return(C[x]||(C[x]=[])).push({callback:w,context:b}),this},v.once=function(x,w,b){if(!n(this,"once",x,[w,b])||!w)return this;var C=0,P=this,E=function T(){C++||(P.off(x,T),w.apply(this,arguments))};return E._callback=w,this.on(x,E,b)},v.off=function(x,w,b){if(!this._events||!n(this,"off",x,[w,b]))return this;if(!x&&!w&&!b)return delete this._events,this;for(var C=x?[x]:Object.keys(this._events),P=0,E=C.length;P<E;P++){x=C[P];var T=this._events[x];if(T){var m=this._events[x]=[];if(w||b)for(var a=0,p=T.length;a<p;a++){var g=T[a];(w&&w!==g.callback&&w!==g.callback._callback||b&&b!==g.context)&&m.push(g)}m.length||delete this._events[x]}}return this},v.trigger=function(x){for(var w=arguments.length,b=new Array(w>1?w-1:0),C=1;C<w;C++)b[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",x,b))return this;var P=this._events[x],E=this._events.all;return P&&o(P,b,this),E&&o(E,arguments,this),this},v.triggerSafe=function(x){for(var w=arguments.length,b=new Array(w>1?w-1:0),C=1;C<w;C++)b[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",x,b))return this;var P=this._events[x],E=this._events.all;return P&&o(P,b,this,x),E&&o(E,arguments,this,x),this},f}(),l=u.prototype.on,s=u.prototype.once,r=u.prototype.off,d=u.prototype.trigger,c=u.prototype.triggerSafe;u.on=l,u.once=s,u.off=r,u.trigger=d;var h=/\s+/},function(S,t,e){"use strict";var n=function(d,c){return function(){throw new l.o(l.k,d,c)}},o=function(d,c){return function(){throw new l.o(null,d,c)}},u=function(){return e.e(3).then(function(d){return e(54).default}.bind(null,e)).catch(n(l.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return u});var l=e(1),s={}},function(S,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return d==="https:"},u=function(){return d==="file:"},l=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return u}),e.d(t,"isRtmp",function(){return l}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return c});var d=window.location.protocol;function c(h,f,v){var x=Object.keys(h);return Object.keys(f).length>=x.length&&x.every(function(w){var b=h[w],C=f[w];return b&&typeof b=="object"?!(!C||typeof C!="object")&&c(b,C,v):v(w,h)})}},function(S,t,e){"use strict";var n=function(w,b,C,P){C=C||"all-players";var E="";if(typeof b=="object"){var T=document.createElement("div");o(T,b);var m=T.style.cssText;Object.prototype.hasOwnProperty.call(b,"content")&&m&&(m=m+' content: "'+b.content+'";'),P&&m&&(m=m.replace(/;/g," !important;")),E="{"+m+"}"}else typeof b=="string"&&(E=b);E!==""&&E!=="{}"?f.a.style([[w,w+E]],C):f.a.clear(C,w)},o=function(w,b){if(w!=null){var C;w.length===void 0&&(w=[w]);var P={};for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&(P[C]=l(C,b[C]));for(var E=0;E<w.length;E++){var T=w[E],m=void 0;if(T!=null)for(C in P)Object.prototype.hasOwnProperty.call(P,C)&&(m=u(C),T.style[m]!==P[C]&&(T.style[m]=P[C]))}}},u=function(w){w=w.split("-");for(var b=1;b<w.length;b++)w[b]=w[b].charAt(0).toUpperCase()+w[b].slice(1);return w.join("")},l=function(w,b){return b===""||b==null?"":typeof b=="string"&&isNaN(b)?/png|gif|jpe?g/i.test(b)&&b.indexOf("url")<0?"url("+b+")":b:b===0||w==="z-index"||w==="opacity"?""+b:/color/i.test(w)?"#"+Object(c.e)(b.toString(16).replace(/^0x/i,""),6):Math.ceil(b)+"px"},s=function(w,b){o(w,{transform:b})},r=function(w,b){var C="rgb",P=b!==void 0&&b!==100;if(P&&(C+="a"),!d){var E=document.createElement("canvas");E.height=1,E.width=1,d=E.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",d.clearRect(0,0,1,1),d.fillStyle=w,d.fillRect(0,0,1,1);var T=d.getImageData(0,0,1,1).data;return C+="("+T[0]+", "+T[1]+", "+T[2],P&&(C+=", "+b/100),C+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var d,c=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(S,t,e){"use strict";var n=function(f,v){if(v&&Object(d.exists)(v)||(v=document.location.href),!Object(d.exists)(f))return"";if(o(f))return f;var x,w=v.substring(0,v.indexOf("://")+3),b=v.substring(w.length,v.indexOf("/",w.length+1));if(f.indexOf("/")===0)x=f.split("/");else{var C=v.split("?")[0];x=(C=C.substring(w.length+b.length+1,C.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var P=[],E=0;E<x.length;E++)x[E]&&Object(d.exists)(x[E])&&x[E]!=="."&&(x[E]===".."?P.pop():P.push(x[E]));return w+b+"/"+P.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},u=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(x){}return v},l=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(c.q)(Number(f))&&!Object(c.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(c.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(c.q)(f)&&(f=parseInt(f.toString())),Object(c.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var x=f<0?"-":"";f=Math.abs(f);var w=Math.floor(f/3600),b=Math.floor((f-3600*w)/60),C=Math.floor(f%60);return x+(w?w+":":"")+(b<10?"0":"")+b+":"+(C<10?"0":"")+C};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return u}),e.d(t,"serialize",function(){return l}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var d=e(10),c=e(0)},function(S,t,e){"use strict";var n=function(y){var _=o(y),j=_.indexOf("_");return j===-1?_:_.substring(0,j)},o=function(y){return y.toLowerCase().replace("-","_")},u=function(y){return y?Object.keys(y).reduce(function(_,j){return _[o(j)]=y[j],_},{}):{}},l=function(y){var _=y.querySelector("html");return _?_.getAttribute("lang"):null},s=function(){var y=l(document);if(!y&&Object(C.m)())try{y=l(window.top.document)}catch(_){}return y||navigator.language||"en"},r=function(y){return y.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(y)},d=function(y){return p.indexOf(n(y))>=0},c=function(y,_,j){return Object(b.g)({},function(R){var D=R.advertising,H=R.related,K=R.sharing,J=R.abouttext,F=Object(b.g)({},R.localization);D&&(F.advertising=F.advertising||{},h(F.advertising,D,"admessage"),h(F.advertising,D,"cuetext"),h(F.advertising,D,"loadingAd"),h(F.advertising,D,"podmessage"),h(F.advertising,D,"skipmessage"),h(F.advertising,D,"skiptext")),typeof F.related=="string"?F.related={heading:F.related}:F.related=F.related||{},H&&h(F.related,H,"autoplaymessage"),K&&(F.sharing=F.sharing||{},h(F.sharing,K,"heading"),h(F.sharing,K,"copied")),J&&h(F,R,"abouttext");var de=F.close||F.nextUpClose;return de&&(F.close=de),F}(y),_[n(j)],_[o(j)])},h=function(y,_,j){var R=y[j]||_[j];R&&(y[j]=R)},f=function(y){return Object(E.isDeepKeyCompliant)(T.a,y,function(_,j){return typeof j[_]=="string"})},v=function(y,_){var j,R=m[_];if(!R){var D=y+"translations/"+(j=n(_),(/^n[bn]$/.test(j)?"no":j)+".json");m[_]=R=new Promise(function(H,K){Object(P.a)({url:D,oncomplete:H,onerror:function(F,de,re,V){m[_]=null,K(V)},responseType:"json"})})}return R},x=function(y,_){var j=Object(b.g)({},y,_);return w(j,"errors",y,_),w(j,"related",y,_),w(j,"sharing",y,_),w(j,"advertising",y,_),w(j,"shortcuts",y,_),w(j,"captionsStyles",y,_),j},w=function(y,_,j,R){y[_]=Object(b.g)({},j[_],R[_])};e.d(t,"h",function(){return u}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return d}),e.d(t,"b",function(){return c}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return x});var b=e(0),C=e(5),P=e(21),E=e(10),T=e(30),m={},a={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(b.m)(a);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(S,t,e){"use strict";t.a=[]},function(S,t,e){"use strict";var n=e(49),o=e(10),u=document.createElement("video");e.d(t,"a",function(){return s});var l={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(d){if(!u||!u.canPlayType||Object(n.a)(d)===!1)return!1;var c=d.file,h=d.type;if(Object(o.isRtmp)(c,h))return!1;var f=d.mimeType||l[h];if(!f)return!1;var v=d.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!u.canPlayType(f)}}]},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(S,t,e){"use strict";t.a={debug:!1}},function(S,t,e){"use strict";var n=function(T,m){return v[T]?T:v[m]?m:"metadata"},o=function(T,m,a){var p=Object(f.g)({},a);return delete p.playlist,T.map(function(g){return l(m,g,p)}).filter(function(g){return!!g})},u=function(T){if(!Array.isArray(T)||T.length===0)throw new C.o(C.l,630)},l=function(T,m,a){var p=T.getProviders(),g=T.get("preload"),y=Object(f.g)({},m);if(y.preload=n(m.preload,g),y.allSources=r(y,T),y.sources=d(y.allSources,p),y.sources.length)return y.file=y.sources[0].file,y.feedData=a,function(_){var j=_.sources[0].liveSyncDuration;return j&&(_.liveSyncDuration=_.dvrSeekLimit=j),_}(y)},s=function(T,m){var a=(parseInt(T,10)||0)%m;return a<0&&(a+=m),a},r=function(T,m){var a=m.attributes,p=T.sources,g=T.allSources,y=T.preload,_=T.drm,j=c(T.withCredentials,a.withCredentials);return(g||p).map(function(R){if(R!==Object(R))return null;h(R,a,"androidhls"),h(R,a,"hlsjsdefault"),h(R,a,"safarihlsjs"),function(K,J,F){if(!K.liveSyncDuration){var de=J.liveSyncDuration?J:F;h(K,de,"liveSyncDuration")}}(R,T,a),h(R,a,"_hlsjsProgressive"),R.preload=n(R.preload,y);var D=R.drm||_||a.drm;D&&(R.drm=D);var H=c(R.withCredentials,j);return H!==void 0&&(R.withCredentials=H),Object(w.a)(R)}).filter(function(R){return!!R})},d=function(T,m){m&&m.choose||(m=new b.a);var a=function(y,_){for(var j=0;j<y.length;j++){var R=y[j],D=_.choose(R).providerToCheck;if(D)return{type:R.type,provider:D}}return null}(T,m);if(!a)return[];var p=a.provider,g=a.type;return T.filter(function(y){return y.type===g&&m.providerSupports(p,y)})},c=function(T,m){return T===void 0?m:T},h=function(T,m,a){a in m&&(T[a]=m[a])},f=e(0),v={none:!0,metadata:!0,auto:!0},x=e(24),w=e(27),b=e(32),C=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return u}),e.d(t,"d",function(){return l}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return P});var P=function(T,m){return d(r(T,m),m.getProviders())};t.a=function(E){return(Array.isArray(E)?E:[E]).map(x.a)}},function(S,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return u}),e.d(t,"versionCheck",function(){return l}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(d){for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var f=c[h].src;if(f){var v=f.lastIndexOf("/"+d);if(v>=0)return f.substr(0,v+1)}}return""}),u=function(){return o("jwplayer.js")},l=function(d){var c=("0"+d).split(/\W/),h=n.a.split(/\W/),f=parseFloat(c[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+c[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(S,t,e){"use strict";var n=function(d){var c=d.getName().name;if(!o.a[c]){if(!Object(s.i)(u.a,Object(s.w)({name:c}))){if(!Object(s.p)(d.supports))throw new Error("Tried to register a provider with an invalid object");u.a.unshift({name:c,supports:d.supports})}Object(s.d)(d.prototype,l.a),o.a[c]=d}};e.d(t,"a",function(){return n});var o=e(26),u=e(15),l=e(50),s=e(0);e(8)},function(S,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,x,w,b){v.onerror(x,v.url,v.xhr,new d.o(x,w,b))},u=function(v,x,w){var b=x.documentElement;if(!w.requireValidXML||b.nodeName!=="parsererror"&&!b.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(l.g)({},v,{responseXML:x})),w.oncomplete(v);o(w,d.l,601)};e.d(t,"a",function(){return h});var l=e(0),s=e(12),r=e(10),d=e(1),c=function(){};function h(f,v,x,w){var b;f===Object(f)&&(f=(w=f).url);var C=Object(l.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||c,onerror:x||c,mimeType:w&&!w.responseType?"text/xml":"",requireValidXML:!1,responseType:w&&w.plainText?"text":"",useDomParser:!1,requestFilter:null},w),P=function(T,m){return function(a,p){var g=a.currentTarget||m.xhr;if(clearTimeout(m.timeoutId),m.retryWithoutCredentials&&m.xhr.withCredentials)return n(g),void h(Object(l.g)({},m,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&g.status>=400&&g.status<600&&(p=g.status),o(m,p?d.l:d.n,p||6,a)}}(0,C);if("XMLHttpRequest"in window){if(b=C.xhr=C.xhr||new window.XMLHttpRequest,typeof C.requestFilter=="function"){var E;try{E=C.requestFilter({url:f,xhr:b})}catch(T){return P(T,5),b}E&&"open"in E&&"send"in E&&(b=C.xhr=E)}b.onreadystatechange=function(T){return function(m){var a=m.currentTarget||T.xhr;if(a.readyState===4){clearTimeout(T.timeoutId);var p=a.status;if(p>=400)return void o(T,d.l,p<600?p:6);if(p===200)return function(g){return function(y){var _=y.currentTarget||g.xhr;if(clearTimeout(g.timeoutId),g.responseType){if(g.responseType==="json")return function(D,H){if(!D.response||typeof D.response=="string"&&D.responseText.substr(1)!=='"')try{D=Object(l.g)({},D,{response:JSON.parse(D.responseText)})}catch(K){return void o(H,d.l,611,K)}return H.oncomplete(D)}(_,g)}else{var j,R=_.responseXML;if(R)try{j=R.firstChild}catch(D){}if(R&&j||g.useDomParser&&_.responseText&&!R&&(R=Object(s.parseXML)(_.responseText))&&R.firstChild)return u(_,R,g);if(g.requireValidXML)return void o(g,d.l,602)}g.oncomplete(_)}}(T)(m);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(T.url)&&o(T,d.l,7)}}}(C),b.onerror=P,"overrideMimeType"in b?C.mimeType&&b.overrideMimeType(C.mimeType):C.useDomParser=!0;try{f=f.replace(/#.*$/,""),b.open("GET",f,!0)}catch(T){return P(T,3),b}if(C.responseType)try{b.responseType=C.responseType}catch(T){}C.timeout&&(C.timeoutId=setTimeout(function(){n(b),o(C,d.n,1)},C.timeout),b.onabort=function(){clearTimeout(C.timeoutId)});try{C.withCredentials&&"withCredentials"in b&&(b.withCredentials=!0),b.send()}catch(T){P(T,4)}return b}o(C,d.n,2)}},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(S,t,e){"use strict";var n=function(){return s+l.now()},o=e(0),u=e(16),l=window.performance||{timing:{}},s=l.timing.navigationStart||Object(u.a)();"now"in l||(l.now=function(){return Object(u.a)()-s});var r=function(){var d=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},c=d.prototype;return c.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},c.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},c.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},c.tick=function(h){this.ticks[h]=n()},c.clear=function(h){delete this.ticks[h]},c.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},d}();t.a=r},function(S,t,e){"use strict";var n=e(0),o=e(27),u=["captions","metadata","thumbnails","chapters"],l=function(c){if(c&&c.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},c);return f.kind=(h=f.kind,u.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(d){r((d=d||{}).tracks)||delete d.tracks;var c=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},d);c.sources!==Object(c.sources)||r(c.sources)||(c.sources=[Object(o.a)(c.sources)]),r(c.sources)&&c.sources.length!==0||(d.levels?c.sources=d.levels:c.sources=[Object(o.a)(d)]);for(var h=0;h<c.sources.length;h++){var f=c.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",c.sources[h].label||(c.sources[h].label=h.toString()),c.sources[h]=Object(o.a)(c.sources[h])}}return c.sources=c.sources.filter(function(x){return!!x}),r(c.tracks)||(c.tracks=[]),r(c.captions)&&(c.tracks=c.tracks.concat(c.captions),delete c.captions),c.tracks=c.tracks.map(l).filter(function(x){return!!x}),c}},function(S,t,e){"use strict";var n=function(T,m){var a=T.get("plugins");return window.jwplayerPluginJsonp=P,(T.pluginLoader=T.pluginLoader||new s).load(m,C,a,T).then(function(p){if(!T.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),u=e(0),l=function(T){return T.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(T,m,a,p){return a&&typeof a=="object"?Promise.all(Object.keys(a).filter(function(g){return g}).map(function(g){var y=a[g];return m.setupPlugin(g).then(function(_){if(!p.attributes._destroyed)return function(j,R,D){var H=j.name,K=Object(u.g)({},R),J=document.createElement("div");J.id=D.id+"_"+H,J.className="jw-plugin jw-reset";var F=j.getNewInstance(D,K,J);return D.addPlugin(H,F),F}(_,y,T)}).catch(function(_){return m.removePlugin(g),_.code?_:new o.o(null,305e3,_)})})):Promise.resolve()}},r=e(35),d=e(12),c=e(2),h=function(T){if(typeof T=="string"){var m=(T=T.split("?")[0]).indexOf("://");if(m>0)return 0;var a=T.indexOf("/"),p=Object(c.a)(T);return!(m<0&&a<0)||p&&isNaN(p)?1:2}},f=function(T){this.url=T,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(u.g)(f.prototype,{load:function(){var T=this,m=this.promise_;if(!m){if(h(this.url)===2)return Promise.resolve(this);var a=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(d.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=a,m=a.load().then(function(){return T}),this.promise_=m}return m},registerPlugin:function(T,m,a){this.name=T,this.target=m,this.js=a},getNewInstance:function(T,m,a){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var g=new p(T,m,a);return g.addToPlayer=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&(a.left=y.style.left,a.top=y.style.top,y.appendChild(a))},g.resizeHandler=function(){var y=this.getContainer().querySelector(".jw-overlays");y&&g.resize(y.clientWidth,y.clientHeight)},g}});var v=f,x=e(36),w={},b=function(){var E=function(){},T=E.prototype;return T.setupPlugin=function(m){var a=this.getPlugin(m);return a?(a.url!==m&&Object(x.a)('JW Plugin "'+l(m)+'" already loaded from "'+a.url+'". Ignoring "'+m+'."'),a.promise):this.addPlugin(m).load()},T.addPlugin=function(m){var a=l(m),p=w[a];return p||(p=new v(m),w[a]=p),p},T.getPlugin=function(m){return w[l(m)]},T.removePlugin=function(m){delete w[l(m)]},T.getPlugins=function(){return w},E}();e.d(t,"b",function(){return P}),e.d(t,"a",function(){return n});var C=new b,P=function(T,m,a){var p=C.addPlugin(T);p.js||p.registerPlugin(T,m,a)}},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(S,t,e){"use strict";var n=e(0),o=e(10),u=e(2);t.a=function(l){if(l&&l.file){var s=Object(n.g)({},{default:!1,type:""},l);s.file=Object(u.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,d=s.type;if(r.test(d)&&(s.mimeType=d,s.type=d.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(u.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(c){s[c]===""&&delete s[c]}),s}}}},function(S,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return u}),e.d(t,"a",function(){return l});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},u=120,l=25},function(S,t,e){"use strict";var n=function(){return l||(l=u.OS.tizenApp?e.e(2).then(function(d){var c=e(55).default;return s.controls=c,c}.bind(null,e)).catch(function(){l=null,Object(o.c)(301133)()}):e.e(1).then(function(d){var c=e(52).default;return s.controls=c,c}.bind(null,e)).catch(function(){l=null,Object(o.c)(301130)()})),l};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),u=e(7),l=null,s={}},function(S,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(S,t){var e=function(v){var x=document.createElement("style");return x.type="text/css",x.setAttribute("data-jwplayer-id",v),function(w){d().appendChild(w)}(x),x},n=function(v,x){var w,b,C,P=r[v];P||(P=r[v]={element:e(v),counter:0});var E=P.counter++;return w=P.element,C=function(){o(w,E,"")},(b=function(m){o(w,E,m)})(x.css),function(T){if(T){if(T.css===x.css&&T.media===x.media)return;b((x=T).css)}else C()}},o=function(v,x,w){if(v.styleSheet)v.styleSheet.cssText=h(x,w);else{var b=document.createTextNode(w),C=v.childNodes[x];C?v.replaceChild(b,C):v.appendChild(b)}},u,l,s={},r={},d=(u=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return l===void 0&&(l=u.apply(this,arguments)),l});S.exports={style:function(v,x){(function(w,b){for(var C=0;C<b.length;C++){var P=b[C],E=(s[w]||{})[P.id];if(E){for(var T=0;T<E.parts.length;T++)E.parts[T](P.parts[T]);for(;T<P.parts.length;T++)E.parts.push(n(w,P.parts[T]))}else{var m=[];for(T=0;T<P.parts.length;T++)m.push(n(w,P.parts[T]));s[w]=s[w]||{},s[w][P.id]={id:P.id,parts:m}}}})(x,function(w){for(var b=[],C={},P=0;P<w.length;P++){var E=w[P],T=E[0],m=E[1],a=E[2],p={css:m,media:a};C[T]?C[T].parts.push(p):b.push(C[T]={id:T,parts:[p]})}return b}(v))},clear:function(v,x){var w=s[v];if(!!w){if(x){var b=w[x];if(b)for(var C=0;C<b.parts.length;C+=1)b.parts[C]();return}for(var P=Object.keys(w),E=0;E<P.length;E+=1)for(var T=w[P[E]],m=0;m<T.parts.length;m+=1)T.parts[m]();delete s[v]}}};var c,h=(c=[],function(v,x){return c[v]=x,c.filter(Boolean).join("\n")})},function(S,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),u=e(15),l=e(26),s=e(20),r=e(9),d={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=d[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var x=l.a[h];return x||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=u.a.length,v=0;v<f;v++){var x=u.a[v];if(this.providerSupports(x,h))return{priority:f-v-1,name:x.name,type:h.type,providerToCheck:x,provider:l.a[x.name]}}return{}}}),t.a=n},function(S,t,e){"use strict";var n=function(s,r){var d=r.message,c=r.code,h=function(w,b,C,P){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(b||"")+'<span class="jw-break jw-reset"></span>'+(P?("("+C+": "+P+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),d,s.get("localization").errors.errorCode,c.toString()),f=s.get("width"),v=s.get("height"),x=Object(o.f)(h);return Object(u.d)(x,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),x},o=e(6),u=e(11);e.d(t,"a",function(){return n})},function(S,t,e){"use strict";var n=function(l){return l.slice&&l.slice(-2)==="px"&&(l=l.slice(0,-2)),l},o=function(l,s){if(s.toString().indexOf("%")===-1||typeof l!="string"||!l)return 0;if(/^\d*\.?\d+%$/.test(l))return l;var r=l.indexOf(":");if(r===-1)return 0;var d=parseFloat(l.substr(0,r)),c=parseFloat(l.substr(r+1));return d<=0||c<=0?0:c/d*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(S,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},u=e(0),l=e(8),s=e(3),r={},d=function(h,f,v){var x=function(E){C=2,b.trigger(s.w,E).off()},w=function(E){C=3,b.trigger(s.kb,E).off()},b=this,C=0;this.getStatus=function(){return C},this.load=function(){var P=r[h];return C!==0||(P&&P.then(w).catch(x),C=1,P=new Promise(function(E,T){var m=(f?n:o)(h,v),a=function(){m.onerror=m.onload=null,clearTimeout(g)},p=function(j){a(),x(j),T(j)},g=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);m.onerror=function(){p(new Error("Failed to load "+h))},m.onload=function(_){a(),w(_),E(_)};var y=document.getElementsByTagName("head")[0]||document.documentElement;y.insertBefore(m,y.firstChild)}),r[h]=P),P}};Object(u.g)(d.prototype,l.a),t.a=d},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(S,t,e){"use strict";var n=function(F){return F&&!(H.test(F)||typeof F=="object")},o=function(F){if(!F.handlers.init){var de=F.el,re=F.passive,V=!!j&&{passive:re},X=function(Y){if(F.dragged)f(F,C.s,Y);else{var Z=v(Y),ae=Z.pageX,ie=Z.pageY,je=ae-F.startX,Le=ie-F.startY;je*je+Le*Le>36&&(f(F,C.u,Y),F.dragged=!0,f(F,C.s,Y))}var ke;re||Y.type!=="touchmove"||(ke=Y).preventDefault&&ke.preventDefault()},oe=function(Y){clearTimeout(a),F.el&&(c(F),d(F,"window"),F.dragged&&(F.dragged=!1,f(F,C.t,Y)))};l(F,"init"),w(F,"init",function(G){if(Object(T.p)(de,"jw-tab-focus"),!x(G)){var Y=G.target,Z=G.type;if(!F.directSelect||Y===de){var ae=v(G),ie=ae.pageX,je=ae.pageY;if(F.dragged=!1,F.startX=ie,F.startY=je,d(F,"window"),Z==="pointerdown"&&G.isPrimary){if(!re){var Le=G.pointerId;F.pointerId=Le,de.setPointerCapture(Le)}r(F,"window","pointermove",X,V),r(F,"window","pointercancel",oe),r(F,"window","pointerup",oe)}else Z==="mousedown"?(r(F,"window","mousemove",X,V),r(F,"window","mouseup",oe)):Z==="touchstart"&&(r(F,"window","touchmove",X,V),r(F,"window","touchcancel",oe),r(F,"window","touchend",oe))}}},V),p||(p=new D(document).on("interaction"))}},u=function(F){if(!F.handlers.select){var de=F.el;l(F,"select"),w(F,"select",function(re){var V=re.target;x(re)||F.directSelect&&V!==de||(re.isPrimary&&V.tageName==="BUTTON"&&V.focus(),F.lastStart=Object(E.a)(),F.clicking=!0)}),r(F,"select","click",function(re){x(re)||F.directSelect&&re.target!==de||(Object(E.a)()-F.lastStart>500&&F.clicking===!0||(function(V,X){V.enableDoubleClick&&(Object(E.a)()-V.lastClick<300?(f(V,C.r,X),V.lastClick=0):V.lastClick=Object(E.a)())}(F,re),f(F,C.o,re)),F.clicking=!1)})}},l=function(F,de){if(!F.handlers.init&&!F.handlers.select){var re=F.el;r(F,de,"blur",function(){Object(T.p)(re,"jw-tab-focus"),F.clicking=!1}),r(F,de,"focus",function(){p.event&&p.event.type==="keydown"&&Object(T.b)(re,"jw-tab-focus")})}},s=function(F){var de=F.ownerDocument||F;return de.defaultView||de.parentWindow||window},r=function(F,de,re,V,X){X===void 0&&(X=R);var oe=F.handlers[de],G=F.options[de];if(oe||(oe=F.handlers[de]={},G=F.options[de]={}),oe[re])throw new Error(de+" "+re+" already registered");oe[re]=V,G[re]=X;var Y=F.el;(de==="window"?s(Y):Y).addEventListener(re,V,X)},d=function(F,de){var re=F.el,V=F.handlers,X=F.options,oe=de==="window"?s(re):re,G=V[de],Y=X[de];G&&(Object.keys(G).forEach(function(Z){var ae=Y[Z];typeof ae=="boolean"?oe.removeEventListener(Z,G[Z],ae):oe.removeEventListener(Z,G[Z])}),V[de]=null,X[de]=null)},c=function(F){var de=F.el;F.pointerId!==null&&(de.releasePointerCapture(F.pointerId),F.pointerId=null)},h=function(F,de,re){var V=F.el,X=re.target;F.trigger(de,{type:de,sourceEvent:re,currentTarget:V,target:X})},f=function(F,de,re){var V=function(X,oe,G){var Y,Z=oe.target,ae=oe.touches,ie=oe.changedTouches,je=oe.pointerType;ae||ie?(Y=ae&&ae.length?ae[0]:ie[0],je=je||"touch"):(Y=oe,je=je||"mouse");var Le=Y,ke=Le.pageX,Ze=Le.pageY;return{type:X,pointerType:je,pageX:ke,pageY:Ze,sourceEvent:oe,currentTarget:G,target:Z}}(de,re,F.el);F.trigger(de,V)},v=function(F){return F.type.indexOf("touch")===0?(F.originalEvent||F).changedTouches[0]:F},x=function(F){return!(!F.ctrlKey||F.type!=="click")||("which"in F?F.which===3:"button"in F&&F.button===2)},w=function(F,de,re,V){y?r(F,de,"pointerdown",re,V):(_&&r(F,de,"mousedown",re,V),r(F,de,"touchstart",re,V))};e.d(t,"a",function(){return D}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return x});var b=e(7),C=e(3),P=e(8),E=e(16),T=e(6);function m(J,F){return(m=Object.setPrototypeOf||function(de,re){return de.__proto__=re,de})(J,F)}var a,p,g="ontouchstart"in window,y="PointerEvent"in window&&!b.OS.android,_=!(y||g&&b.OS.mobile),j=b.Features.passiveEvents,R=!!j&&{passive:!0},D=function(J){var F=function(oe,G){var Y;Y=J.call(this)||this;var Z=!(G=G||{}).preventScrolling;return Y.directSelect=!!G.directSelect,Y.dragged=!1,Y.enableDoubleClick=!1,Y.el=oe,Y.handlers={},Y.options={},Y.lastClick=0,Y.lastStart=0,Y.passive=Z,Y.pointerId=null,Y.startX=0,Y.startY=0,Y.event=null,Y.clicking=!1,Y},de,re;re=J,(de=F).prototype=Object.create(re.prototype),de.prototype.constructor=de,m(de,re);var V=F.prototype;return V.on=function(X,oe,G){return n(X)&&(this.handlers[X]||K[X](this)),J.prototype.on.call(this,X,oe,G)},V.off=function(X,oe,G){var Y=this;if(n(X))d(this,X);else if(!X){var Z=this.handlers;Object.keys(Z).forEach(function(ae){d(Y,ae)})}return J.prototype.off.call(this,X,oe,G)},V.destroy=function(){this.el&&(this.off(),y&&c(this),this.el=null)},F}(P.a),H=/\s+/,K={drag:function(F){o(F)},dragStart:function(F){o(F)},dragEnd:function(F){o(F)},click:function(F){u(F)},doubleClick:function(F){F.enableDoubleClick=!0,u(F)},longPress:function(F){if(b.OS.iOS){var de=function(){clearTimeout(a)};r(F,"longPress","touchstart",function(re){de(),a=setTimeout(function(){f(F,"longPress",re)},500)}),r(F,"longPress","touchmove",de),r(F,"longPress","touchcancel",de),r(F,"longPress","touchend",de)}else F.el.oncontextmenu=function(re){return f(F,"longPress",re),!1}},focus:function(F){r(F,"focus","focus",function(de){h(F,"focus",de)})},blur:function(F){r(F,"blur","blur",function(de){h(F,"blur",de)})},over:function(F){(y||_)&&r(F,C.Z,y?"pointerover":"mouseover",function(de){de.pointerType!=="touch"&&f(F,C.Z,de)})},out:function(F){if(y){var de=F.el;r(F,C.Y,"pointerout",function(re){if(re.pointerType!=="touch"&&"clientX"in re){var V=document.elementFromPoint(re.clientX,re.clientY);de.contains(V)||f(F,C.Y,re)}})}else _&&r(F,C.Y,"mouseout",function(re){f(F,C.Y,re)})},move:function(F){(y||_)&&r(F,C.W,y?"pointermove":"mousemove",function(de){de.pointerType!=="touch"&&f(F,C.W,de)})},enter:function(F){r(F,C.v,"keydown",function(de){de.key!=="Enter"&&de.keyCode!==13||(de.stopPropagation(),h(F,C.v,de))})},keydown:function(F){r(F,"keydown","keydown",function(de){h(F,"keydown",de)},!1)},gesture:function(F){var de=function(V){return f(F,"gesture",V)};r(F,"gesture","click",de),r(F,"gesture","keydown",de)},interaction:function(F){var de=function(V){F.event=V};r(F,"interaction","mousedown",de,!0),r(F,"interaction","keydown",de,!0)},tap:function(){},doubleTap:function(){}}},function(S,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(u){return setTimeout(u,17)},o=window.cancelAnimationFrame||clearTimeout},function(S,t,e){"use strict";var n=function(T,m){this.name=T,this.message=m.message||m.toString(),this.error=m},o=e(0),u=e(19),l=e(10),s=e(12),r=e(2),d=e(23),c=e(17),h=e(5),f=e(6),v=e(11),x=e(21),w=e(40),b=e(36),C=e(41),P=Object(o.g)({},s,l,u,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:x.a,crossdomain:function(T){var m=window.URL;try{var a=new m(T,location.origin);return location.protocol+"//"+location.host!=a.protocol+"//"+a.host}catch(p){}return!0},tryCatch:function(T,m,a){if(a===void 0&&(a=[]),c.a.debug)return T.apply(m||this,a);try{return T.apply(m||this,a)}catch(p){return new n(T.name,p)}},Error:n,Timer:d.a,log:b.a,genId:C.b,between:w.a,foreach:function(T,m){for(var a in T)Object.prototype.hasOwnProperty.call(T,a)&&m(a,T[a])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=P},function(S,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(u,l,s){return Math.max(Math.min(u,s),l)}},function(S,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return u}),e.d(t,"b",function(){return o});var u=12},function(S,t,e){"use strict";var n=function(u,l,s){var r=[],d={};function c(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(d[f]||u[f]).apply(u,v)}}l.forEach(function(h){var f=u[h];d[h]=f,u[h]=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];s()?r.push({command:h,args:x}):(c(),f&&f.apply(this,x))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=c,this.empty=function(){r.length=0},this.off=function(){l.forEach(function(h){var f=d[h];f&&(u[h]=f,delete d[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(S,t,e){"use strict";function n(u,l){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(u,l)}e.d(t,"a",function(){return o});var o=function(u){var l=function(){var h;return(h=u.call(this)||this).attributes=Object.create(null),h},s,r;r=u,(s=l).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var d=l.prototype;return d.addAttributes=function(c){var h=this;Object.keys(c).forEach(function(f){h.add(f,c[f])})},d.add=function(c,h){var f=this;Object.defineProperty(this,c,{get:function(){return f.attributes[c]},set:function(x){return f.set(c,x)},enumerable:!1}),this.attributes[c]=h},d.get=function(c){return this.attributes[c]},d.set=function(c,h){if(this.attributes[c]!==h){var f=this.attributes[c];this.attributes[c]=h,this.trigger("change:"+c,this,h,f)}},d.clone=function(){var c={},h=this.attributes;if(h)for(var f in h)c[f]=h[f];return c},d.change=function(c,h,f){this.on("change:"+c,h,f);var v=this.get(c);return h.call(f,this,v,v),this},l}(e(8).a)},function(S,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return u});var n=4,o=5,u=1},function(S,t,e){"use strict";var n=function(l,s){return Object(o.g)({},s,{prime:function(){l.src||l.load()},getPrimedElement:function(){return l},clean:function(){s.clean(l)},recycle:function(){s.clean(l)}})};e.d(t,"a",function(){return n});var o=e(0)},function(S,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(S,t,e){"use strict";var n=function(Re){return F||(F=function(_e){var Ne=_e.get("controls"),Je=o(),Ye=function(rt,ht){var at=rt.get("playlist");if(Array.isArray(at)&&at.length)for(var ut=Object(R.f)(rt.get("item"),at.length),qe=Object(R.c)(Object(j.a)(at[ut]),rt),ze=0;ze<qe.length;ze++)for(var Fe=qe[ze],tt=rt.getProviders(),nt=0;nt<D.a.length;nt++){var bt=D.a[nt];if(tt.providerSupports(bt,Fe))return bt.name===ht}return!1}(_e,"html5");if(m.OS.tizen)return u();if(Ne&&Je&&Ye)return Te=e.e(7).then(function(rt){e(116);var ht=e(54).default;return K.a.controls=e(52).default,Object(H.a)(e(117).default),ht}.bind(null,e)).catch(Object(_.b)(J.q+105)),_.a.html5=Te,Te;var Te;return Ne&&Ye?function(){var rt=e.e(5).then(function(ht){var at=e(54).default;return K.a.controls=e(52).default,Object(H.a)(e(117).default),at}.bind(null,e)).catch(Object(_.b)(J.q+104));return _.a.html5=rt,rt}():Ne&&Je?e.e(6).then(function(rt){e(116);var ht=e(54).default;return K.a.controls=e(52).default,ht}.bind(null,e)).catch(Object(_.b)(J.q+103)):Ne?e.e(4).then(function(rt){var ht=e(54).default;return K.a.controls=e(52).default,ht}.bind(null,e)).catch(Object(_.b)(J.q+102)):u()}(Re)),F},o=function(){var Re=window.IntersectionObserverEntry;return!Re||!("IntersectionObserver"in window)||!("intersectionRatio"in Re.prototype)},u=function(){return function(){return o()?e.e(8).then(function(Re){return e(116)}.bind(null,e)).catch(Object(_.b)(J.q+120)):Promise.resolve()}().then(_.d)},l=function(Re,_e,Ne){var Je=Re.attributes;Je.playlist=Object(R.a)(_e),Je.feedData=Ne},s=function(Re){return function(_e){var Ne=_e.get("playlist");return new Promise(function(Je,Ye){if(typeof Ne!="string"){var Te=_e.get("feedData")||{};return l(_e,Ne,Te),Je()}var rt=new re.a;rt.on(de.eb,function(ht){var at=ht.playlist;delete ht.playlist,l(_e,at,ht),Je()}),rt.on(de.w,function(ht){l(_e,[],{}),Ye(Object(J.w)(ht,J.r))}),rt.load(Ne)})}(Re).then(function(){if(!c(Re)){var _e=Object(R.b)(Re.get("playlist"),Re);Re.attributes.playlist=_e;try{Object(R.e)(_e)}catch(ht){throw ht.code+=J.r,ht}var Ne=Re.getProviders(),Je=Object(R.f)(Re.get("item"),_e.length),Ye=Ne.choose(_e[Je].sources[0]),Te=Ye.provider,rt=Ye.name;return typeof Te=="function"?Te:_.a.html5&&rt==="html5"?_.a.html5:Ne.load(rt).catch(function(ht){throw Object(J.w)(ht,J.s)})}})},r=function(Re){var _e=Re.get("skin")?Re.get("skin").url:void 0;return typeof _e=="string"&&!function(Ne){for(var Je=document.styleSheets,Ye=0,Te=Je.length;Ye<Te;Ye++)if(Je[Ye].href===Ne)return!0;return!1}(_e)?new V.a(_e,!0).load().catch(function(Ne){return Ne}):Promise.resolve()},d=function(Re){var _e=Re.attributes,Ne=_e.language,Je=_e.base,Ye=_e.setupConfig,Te=_e.intl,rt=Object(p.b)(Ye,Te,Ne);return!Object(p.f)(Ne)||Object(p.d)(rt)?Promise.resolve():new Promise(function(ht){return Object(p.g)(Je,Ne).then(function(at){var ut=at.response;if(!c(Re)){if(!ut)throw new J.o(null,J.h);_e.localization=Object(p.a)(ut,rt),ht()}}).catch(function(at){ht(at.code===J.h?at:Object(J.w)(at,J.g))})})},c=function(Re){return Re.attributes._destroyed},h=function(Re){Re.src||Re.load()},f=function(Re){var _e=document.createElement("video");return _e.className="jw-video jw-reset",_e.setAttribute("tabindex","-1"),_e.setAttribute("disableRemotePlayback",""),_e.setAttribute("webkit-playsinline",""),_e.setAttribute("playsinline",""),Re&&Object.keys(Re).forEach(function(Ne){_e.setAttribute(Ne,Re[Ne])}),_e},v=function(Re,_e){_e&&_e.code&&(_e.sourceError&&console.error(_e.sourceError),console.error(J.o.logMessage(_e.code)))},x=function(Re){Re&&Re.code&&console.warn(J.o.logMessage(Re.code))},w=function(Re,_e){if(!document.body.contains(Re.currentContainer)){var Ne=document.getElementById(Re.get("id"));Ne&&(Re.currentContainer=Ne)}Re.currentContainer.parentElement&&Re.currentContainer.parentElement.replaceChild(_e,Re.currentContainer),Re.currentContainer=_e},b=e(0),C=e(42),P=e(34),E=e(19),T=e(12),m=e(7),a=e(30),p=e(13),g={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:a.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(Re,_e){var Ne=Object(b.g)({},(window.jwplayer||{}).defaults,_e,Re);(function(st){Object.keys(st).forEach(function(ye){ye!=="id"&&(st[ye]=Object(T.serialize)(st[ye]))})})(Ne);var Je=Ne.forceLocalizationDefaults?g.language:Object(p.c)(),Ye=Object(p.h)(Ne.intl);Ne.localization=Object(p.a)(a.a,Object(p.b)(Ne,Ye,Je));var Te=Object(b.g)({},g,Ne);Te.base==="."&&(Te.base=Object(E.getScriptPath)("jwplayer.js")),Te.base=(Te.base||Object(E.loadFrom)()).replace(/\/?$/,"/"),e.p=Te.base,Te.width=Object(P.b)(Te.width),Te.height=Object(P.b)(Te.height),Te.aspectratio=Object(P.a)(Te.aspectratio,Te.width),Te.volume=Object(b.u)(Te.volume)?Math.min(Math.max(0,Te.volume),100):g.volume,Te.mute=!!Te.mute,Te.language=Je,Te.intl=Ye;var rt=Te.playlistIndex;rt&&(Te.item=rt),Object(b.r)(Te.item)||(Te.item=0);var ht=Ne.autoPause;ht&&(Te.autoPause.viewability=!("viewability"in ht)||!!ht.viewability);var at=Te.playbackRateControls;if(at){var ut=Te.playbackRates;Array.isArray(at)&&(ut=at),(ut=ut.filter(function(st){return Object(b.r)(st)&&st>=.25&&st<=4}).map(function(st){return Math.round(100*st)/100})).indexOf(1)<0&&ut.push(1),ut.sort(),Te.playbackRateControls=!0,Te.playbackRates=ut}(!Te.playbackRateControls||Te.playbackRates.indexOf(Te.defaultPlaybackRate)<0)&&(Te.defaultPlaybackRate=1),Te.playbackRate=Te.defaultPlaybackRate,Te.aspectratio||delete Te.aspectratio;var qe=Te.playlist;if(qe)Array.isArray(qe.playlist)&&(Te.feedData=qe,Te.playlist=qe.playlist);else{var ze=Object(b.x)(Te,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);Te.playlist=[ze]}Te.qualityLabels=Te.qualityLabels||Te.hlslabels,delete Te.duration;var Fe=Te.liveTimeout;Fe!==null&&(Object(b.u)(Fe)?Fe!==0&&(Fe=Math.max(30,Fe)):Fe=null,Te.liveTimeout=Fe);var tt,nt,bt,wt=parseFloat(Te.bandwidthEstimate),_t=parseFloat(Te.bitrateSelection);return Te.bandwidthEstimate=Object(b.u)(wt)?wt:(tt=Te.defaultBandwidthEstimate,nt=parseFloat(tt),Object(b.u)(nt)?Math.max(nt,1):g.bandwidthEstimate),Te.bitrateSelection=Object(b.u)(_t)?_t:g.bitrateSelection,Te.liveSyncDuration=(bt=Te.liveSyncDuration)<5?5:bt>30?30:bt,Te.backgroundLoading=Object(b.n)(Te.backgroundLoading)?Te.backgroundLoading:m.Features.backgroundLoading,Te},_=e(9),j=e(24),R=e(18),D=e(15),H=e(20),K=e(29),J=e(1),F=null,de=e(3),re=e(48),V=e(35),X=e(25),oe=function(Re){var _e;this.start=function(Ne){var Je=function(rt,ht){return Object(X.a)(rt,ht)}(Re,Ne),Ye=Promise.all([n(Re),Je,s(Re),Promise.resolve(),r(Re),d(Re)]),Te=new Promise(function(rt,ht){_e=setTimeout(function(){ht(new J.o(J.k,J.u))},6e4);var at=function(){clearTimeout(_e),setTimeout(rt,6e4)};Ye.then(at).catch(at)});return Promise.race([Ye,Te]).catch(function(rt){var ht=function(){throw rt};return Je.then(ht).catch(ht)}).then(function(rt){return function(ht){if(!ht||!ht.length)return{core:null,warnings:[]};var at=ht.reduce(function(ut,qe){return ut.concat(qe)},[]).filter(function(ut){return ut&&ut.code});return{core:ht[0],warnings:at}}(rt)})},this.destroy=function(){clearTimeout(_e),Re.set("_destroyed",!0),Re=null}},G=e(32),Y=e(23),Z=e(17),ae={removeItem:function(Re){}};try{ae=window.localStorage||ae}catch(pt){}var ie=function(){var pt=function(Ne,Je){this.namespace=Ne,this.items=Je},Re=pt.prototype;return Re.getAllItems=function(){var _e=this;return this.items.reduce(function(Ne,Je){var Ye=ae[_e.namespace+"."+Je];return Ye&&(Ne[Je]=Je!=="captions"?Object(T.serialize)(Ye):JSON.parse(Ye)),Ne},{})},Re.track=function(_e){var Ne=this;this.items.forEach(function(Je){_e.on("change:"+Je,function(Ye,Te){try{Je==="captions"&&(Te=JSON.stringify(Te)),ae[Ne.namespace+"."+Je]=Te}catch(rt){Z.a.debug&&console.error(rt)}})})},Re.clear=function(){var _e=this;this.items.forEach(function(Ne){ae.removeItem(_e.namespace+"."+Ne)})},pt}(),je=e(43),Le=e(28),ke=e(8),Ze=e(33),Ve=e(44),Xe=e(45),dt=e(37);e(51),e(53),e.d(t,"b",function(){return w});var yt=function(Re){this._events={},this.modelShim=new je.a,this.modelShim._qoeItem=new Y.a,this.mediaShim={},this.setup=new oe(this.modelShim),this.currentContainer=this.originalContainer=Re,this.apiQueue=new C.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(b.g)(yt.prototype,{on:ke.a.on,once:ke.a.once,off:ke.a.off,trigger:ke.a.trigger,init:function(Re,_e){var Ne=this,Je=this.modelShim,Ye=new ie("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),Te=Ye&&Ye.getAllItems();Je.attributes=Je.attributes||{},Object(b.g)(this.mediaShim,Le.c);var rt=Re,ht=y(Object(b.g)({},Re),Te);ht.id=_e.id,ht.setupConfig=rt,Object(b.g)(Je.attributes,ht,Le.d),Je.getProviders=function(){return new G.a(ht)},Je.setProvider=function(){};var at=function(){for(var qe=Ve.c,ze=[],Fe=[],tt=0;tt<qe;tt++){var nt=f();ze.push(nt),Fe.push(nt),h(nt)}var bt=Fe.shift(),wt=Fe.shift(),_t=!1;return{primed:function(){return _t},prime:function(){ze.forEach(h),_t=!0},played:function(){_t=!0},getPrimedElement:function(){return Fe.shift()||null},getAdElement:function(){return bt},getTestElement:function(){return wt},clean:function(ye){if(ye.src){ye.removeAttribute("src");try{ye.load()}catch(N){}}},recycle:function(ye){ye&&!Fe.some(function(N){return N===ye})&&(this.clean(ye),Fe.push(ye))},syncVolume:function(ye){var N=Math.min(Math.max(0,ye/100),1);ze.forEach(function(We){We.volume=N})},syncMute:function(ye){ze.forEach(function(N){N.muted=ye})}}}();Je.get("backgroundLoading")||(at=Object(Xe.a)(at.getPrimedElement(),at));var ut=this.primeUi=new dt.a(Object(dt.b)(this.originalContainer)).once("gesture",function(){at.prime(),Ne.preload(),ut.destroy()});return Je.on("change:errorEvent",v),this.setup.start(_e).then(function(qe){var ze=qe.core;if(!ze)throw Object(J.w)(null,J.t);if(Ne.setup){Ne.on(de.ub,x),qe.warnings.forEach(function(bt){Ne.trigger(de.ub,bt)});var Fe=Ne.modelShim.clone();if(Fe.error)throw Fe.error;var tt=Ne.apiQueue.queue.slice(0);Ne.apiQueue.destroy(),Object(b.g)(Ne,ze.prototype),Ne.playerSetup(Fe,_e,Ne.originalContainer,Ne._events,tt,at);var nt=Ne._model;return Je.off("change:errorEvent",v),nt.on("change:errorEvent",v),Ye.track(nt),Ne.updatePlaylist(nt.get("playlist"),nt.get("feedData")).catch(function(bt){var wt=bt.code===J.a?J.p:J.r;throw Object(J.w)(bt,wt)})}}).then(function(){Ne.setup&&Ne.playerReady()}).catch(function(qe){Ne.setup&&function(ze,Fe,tt){Promise.resolve().then(function(){var nt=Object(J.x)(J.n,J.v,tt),bt=ze._model||ze.modelShim;nt.message=nt.message||bt.get("localization").errors[nt.key],delete nt.key;var wt=bt.get("contextual");if(!wt){var _t=Object(Ze.a)(ze,nt);Ze.a.cloneIcon&&_t.querySelector(".jw-icon").appendChild(Ze.a.cloneIcon("error")),w(ze,_t)}bt.set("errorEvent",nt),bt.set("state",de.lb),ze.trigger(de.ib,nt),wt&&Fe.remove()})}(Ne,_e,qe)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&w(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Re){if(this.modelShim)return Re in this.mediaShim?this.mediaShim[Re]:this.modelShim.get(Re)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Re){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Re)},getConfig:function(){return Object(b.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=yt},function(S,t,e){"use strict";var n=function(P){var E={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return E[P]?E[P]:P},o=function(P){for(var E=[],T=0;T<Object(r.c)(P);T++){var m=P.childNodes[T];m.prefix==="jwplayer"&&Object(r.b)(m).toLowerCase()==="mediatypes"&&E.push(Object(r.d)(m))}return E},u=function(P){for(var E={},T=0;T<P.childNodes.length;T++){var m=P.childNodes[T],a=Object(r.b)(m);if(a)switch(a.toLowerCase()){case"enclosure":E.file=Object(d.j)(m,"url");break;case"title":E.title=Object(r.d)(m);break;case"guid":E.mediaid=Object(r.d)(m);break;case"pubdate":E.date=Object(r.d)(m);break;case"description":E.description=Object(r.d)(m);break;case"link":E.link=Object(r.d)(m);break;case"category":E.tags?E.tags+=Object(r.d)(m):E.tags=Object(r.d)(m)}}return new v.a(f(P,c(P,E)))},l=e(0),s=e(3),r=e(4),d=e(2),c=function C(P,E){for(var T=[],m=0;m<Object(r.c)(P);m++){var a=P.childNodes[m];if(a.prefix==="media"){if(!Object(r.b)(a))continue;switch(Object(r.b)(a).toLowerCase()){case"content":if(Object(d.j)(a,"duration")&&(E.duration=Object(d.g)(Object(d.j)(a,"duration"))),Object(d.j)(a,"url")){E.sources||(E.sources=[]);var p={file:Object(d.j)(a,"url"),type:Object(d.j)(a,"type"),width:Object(d.j)(a,"width"),label:Object(d.j)(a,"label")},g=o(a);g.length&&(p.mediaTypes=g),E.sources.push(p)}Object(r.c)(a)>0&&(E=C(a,E));break;case"title":E.title=Object(r.d)(a);break;case"description":E.description=Object(r.d)(a);break;case"guid":E.mediaid=Object(r.d)(a);break;case"thumbnail":E.image||(E.image=Object(d.j)(a,"url"));break;case"group":C(a,E);break;case"subtitle":var y={file:Object(d.j)(a,"url"),kind:"captions"};Object(d.j)(a,"lang").length>0&&(y.label=n(Object(d.j)(a,"lang"))),T.push(y)}}}E.tracks||(E.tracks=[]);for(var _=0;_<T.length;_++)E.tracks.push(T[_]);return E},h=e(12),f=function(P,E){for(var T="default",m=[],a=[],p=E,g=0;g<P.childNodes.length;g++){var y=P.childNodes[g];if(y.prefix==="jwplayer"){var _=Object(r.b)(y);_==="source"?(delete E.sources,m.push({file:Object(d.j)(y,"file"),default:Object(d.j)(y,T),label:Object(d.j)(y,"label"),type:Object(d.j)(y,"type")})):_==="track"?(delete E.tracks,a.push({file:Object(d.j)(y,"file"),default:Object(d.j)(y,T),kind:Object(d.j)(y,"kind"),label:Object(d.j)(y,"label")})):(E[_]=Object(h.serialize)(Object(r.d)(y)),_==="file"&&E.sources&&delete E.sources)}E.file||(E.file=E.link)}if(m.length){E.sources=[];for(var j=0;j<m.length;j++){var R=m[j];R.file.length>0&&(R[T]=m[j][T]==="true",R.label||delete R.label,p.sources.push(R))}}if(a.length){E.tracks=[];for(var D=0;D<a.length;D++){var H=a[D];H.file&&H.file.length>0&&(H[T]=a[D][T]==="true",H.kind=a[D].kind.length?a[D].kind:"captions",H.label||delete H.label,p.tracks.push(H))}}return p},v=e(24),x=e(21),w=e(8),b=e(1);t.a=function(){var C=function(m){try{var a,p=m.responseXML?m.responseXML.childNodes:null,g=null;if(p){for(var y=0;y<p.length&&(g=p[y]).nodeType===8;y++);if(g&&Object(r.b)(g)==="xml"&&(g=g.nextSibling),g&&Object(r.b)(g)==="rss"){var _=function(R){var D=[];D.feedData={};for(var H=0;H<Object(r.c)(R);H++){var K=Object(r.a)(R,H);if(Object(r.b)(K).toLowerCase()==="channel")for(var J=0;J<Object(r.c)(K);J++){var F=Object(r.a)(K,J),de=Object(r.b)(F).toLowerCase();de==="item"?D.push(u(F)):de&&(D.feedData[de]=Object(r.d)(F))}}return D}(g);a=Object(l.g)({playlist:_},_.feedData)}}if(!a)try{var j=JSON.parse(m.responseText);if(Array.isArray(j))a={playlist:j};else{if(!Array.isArray(j.playlist))throw Error("Playlist is not an array");a=j}}catch(R){throw new b.o(b.l,621,R)}E.trigger(s.eb,a)}catch(R){P(R)}},P=function(m){_instanceof(m,b.o)&&!m.code&&(m=new b.o(b.l,0)),E.trigger(s.w,m)},E=Object(l.g)(this,w.a);this.load=function(T){Object(x.a)(T,C,function(m,a,p,g){P(g)})},this.destroy=function(){this.off()}}},function(S,t,e){"use strict";var n=function(l){return l.type==="hls"&&o.OS.android?l.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(S,t,e){"use strict";var n=e(3),o=function(){},u=function(){return!1},l={name:"default"},s={supports:u,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:u,supportsFullscreen:u,getContainer:o,setContainer:o,getName:function(){return l},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(d){this.state=d,this.trigger(n.bb,{newstate:d})},sendMediaType:function(d){var c=d[0],h=c.type,f=c.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(S,t,e){"use strict";var n=function(T,m){for(var a=m.length;a--;){var p=m[a];if(T.target===p.getContainer()){p.setIntersection(T);break}}},o=function(){f.forEach(function(T){var m=T.model;if(!(m.get("audioMode")||m.get("isFloating")||!m.get("controls")||m.get("visibility")<.75)){var a=m.get("state"),p=Object(h.g)();!p&&a==="paused"&&T.api.getFullscreen()?T.api.setFullscreen(!1):a==="playing"&&T.api.setFullscreen(p)}})},u=function(){f.forEach(function(T){T.model.set("activeTab",Object(d.a)())})},l=function(T,m){var a=m.indexOf(T);a!==-1&&m.splice(a,1)},s=function(T){x.forEach(function(m){m(T)})},r,d=e(46),c=e(7),h=e(6),f=[],v=[],x=[],w={},b="screen"in window&&"orientation"in window.screen,C=c.OS.android&&c.Browser.chrome,P=!1;document.addEventListener("visibilitychange",u),document.addEventListener("webkitvisibilitychange",u),C&&b&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",u),document.removeEventListener("webkitvisibilitychange",u),window.removeEventListener("scroll",s),C&&b&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(T){f.push(T)},remove:function(T){l(T,f)},addScrollHandler:function(T){P||(P=!0,window.addEventListener("scroll",s)),x.push(T)},removeScrollHandler:function(T){var m=x.indexOf(T);m!==-1&&x.splice(m,1)},addWidget:function(T){v.push(T)},removeWidget:function(T){l(T,v)},size:function(){return f.length},observe:function(T){var m;m=window.IntersectionObserver,r||(r=new m(function(a){if(a&&a.length)for(var p=a.length;p--;){var g=a[p];n(g,f),n(g,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),w[T.id]||(w[T.id]=!0,r.observe(T))},unobserve:function(T){r&&w[T.id]&&(delete w[T.id],r.unobserve(T))}}},,function(S,t,e){"use strict";var n=function(){Object(u.a)(d),d=Object(u.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return c});var o=e(0),u=e(38),l=e(6),s=e(11),r=[],d=-1,c=function(){var h=function(v,x,w){var b={display:"block",position:"absolute",top:0,left:0},C={width:"100%",height:"100%"},P=Object(l.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),E=P.firstChild,T=E.firstChild,m=E.nextSibling;Object(s.d)([E,m],Object(o.g)({overflow:"auto"},b,C)),Object(s.d)(P,Object(o.g)({},b,C)),this.expandElement=E,this.expandChild=T,this.contractElement=m,this.hiddenElement=P,this.element=v,this.view=x,this.model=w,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(P,v.firstChild):v.appendChild(P),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(S,t,e){"use strict";var n=function(){},o=function(V,X){for(;V._state===3;)V=V._value;V._state!==0?(V._handled=!0,b._immediateFn(function(){var oe=V._state===1?X.onFulfilled:X.onRejected;if(oe!==null){var G;try{G=oe(V._value)}catch(Y){return void l(X.promise,Y)}u(X.promise,G)}else(V._state===1?u:l)(X.promise,V._value)})):V._deferreds.push(X)},u=function(V,X){try{if(X===V)throw new TypeError("A promise cannot be resolved with itself.");if(X&&(typeof X=="object"||typeof X=="function")){var oe=X.then;if(_instanceof(X,b))return V._state=3,V._value=X,void s(V);if(typeof oe=="function")return void d((G=oe,Y=X,function(){G.apply(Y,arguments)}),V)}V._state=1,V._value=X,s(V)}catch(Z){l(V,Z)}var G,Y},l=function(V,X){V._state=2,V._value=X,s(V)},s=function(V){V._state===2&&V._deferreds.length===0&&b._immediateFn(function(){V._handled||b._unhandledRejectionFn(V._value)});for(var X=0,oe=V._deferreds.length;X<oe;X++)o(V,V._deferreds[X]);V._deferreds=null},r=function(V,X,oe){this.onFulfilled=typeof V=="function"?V:null,this.onRejected=typeof X=="function"?X:null,this.promise=oe},d=function(V,X){var oe=!1;try{V(function(G){oe||(oe=!0,u(X,G))},function(G){oe||(oe=!0,l(X,G))})}catch(G){if(oe)return;oe=!0,l(X,G)}},c=function(V,X){var oe=new R.a(X);return oe.on(D.gb,function(G){V._qoe.tick("ready"),G.setupTime=V._qoe.between("setup","ready")}),oe.on("all",function(G,Y){V.trigger(G,Y)}),oe},h=function(V,X){var oe=V.plugins,G=Object.keys(oe).map(function(Y){var Z=oe[Y];return delete oe[Y],Z});X.get("setupConfig")&&V.trigger("remove"),V.off(),X.playerDestroy(),G.forEach(function(Y){if(Y.destroy)try{Y.destroy()}catch(Z){}}),X.getContainer().removeAttribute("data-jwplayer-id")},f=function(V){var X=++F,oe=V.id||"player-"+X,G=new H.a,Y={},Z=c(this,V);G.tick("init"),V.setAttribute("data-jwplayer-id",oe),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe}},uniqueId:{enumerable:!0,get:function(){return X}},plugins:{enumerable:!0,get:function(){return Y}},_qoe:{enumerable:!0,get:function(){return G}},version:{enumerable:!0,get:function(){return g.a}},Events:{enumerable:!0,get:function(){return K.a}},utils:{enumerable:!0,get:function(){return J.a}},_:{enumerable:!0,get:function(){return y.c}}}),Object(y.g)(this,{_events:{},setup:function(ie){return G.clear("ready"),G.tick("setup"),Z&&h(this,Z),(Z=c(this,V)).init(ie,this),this.on(ie.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ie){for(var je=E.a.length;je--;)if(E.a[je].uniqueId===ie.uniqueId){E.a.splice(je,1);break}}(this),Z&&h(this,Z),Object.keys(Y).forEach(function(ie){delete Y[ie]}),this},qoe:function(){var ie=Z.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ie.getFirstFrame?ie.getFirstFrame():null,player:this._qoe.dump(),item:ie.dump()}},addCues:function(ie){return Array.isArray(ie)&&Z.addCues(ie),this},getAudioTracks:function(){return Z.getAudioTracks()},getBuffer:function(){return Z.get("buffer")},getCaptions:function(){return Z.get("captions")},getCaptionsList:function(){return Z.getCaptionsList()},getConfig:function(){return Z.getConfig()},getContainer:function(){return Z.getContainer()},getControls:function(){return Z.get("controls")},getCues:function(){return Z.get("cues")},getCurrentAudioTrack:function(){return Z.getCurrentAudioTrack()},getCurrentCaptions:function(){return Z.getCurrentCaptions()},getCurrentQuality:function(){return Z.getCurrentQuality()},getCurrentTime:function(){return Z.get("currentTime")},getDuration:function(){return Z.get("duration")},getEnvironment:function(){return j},getFullscreen:function(){return Z.get("fullscreen")},getHeight:function(){return Z.getHeight()},getItemMeta:function(){return Z.get("itemMeta")||{}},getMute:function(){return Z.getMute()},getPercentViewable:function(){return Z.get("visibility")},getPip:function(){return Z.get("pip")},getPlaybackRate:function(){return Z.get("playbackRate")},getPlaylist:function(){return Z.get("playlist")},getPlaylistIndex:function(){return Z.get("item")},getPlaylistItem:function(ie){if(!J.a.exists(ie))return Z.get("playlistItem");var je=this.getPlaylist();return je?je[ie]:null},getPosition:function(){return Z.get("position")},getProvider:function(){return Z.getProvider()},getQualityLevels:function(){return Z.getQualityLevels()},getSafeRegion:function(ie){return ie===void 0&&(ie=!0),Z.getSafeRegion(ie)},getState:function(){return Z.getState()},getStretching:function(){return Z.get("stretching")},getViewable:function(){return Z.get("viewable")},getVisualQuality:function(){return Z.getVisualQuality()},getVolume:function(){return Z.get("volume")},getWidth:function(){return Z.getWidth()},setCaptions:function(ie){return Z.setCaptions(ie),this},setConfig:function(ie){return Z.setConfig(ie),this},setControls:function(ie){return Z.setControls(ie),this},setCurrentAudioTrack:function(ie){Z.setCurrentAudioTrack(ie)},setCurrentCaptions:function(ie){Z.setCurrentCaptions(ie)},setCurrentQuality:function(ie){Z.setCurrentQuality(ie)},setFullscreen:function(ie){return Z.setFullscreen(ie),this},setAllowFullscreen:function(ie){return Z.setAllowFullscreen(ie),this},setMute:function(ie){return Z.setMute(ie),this},setPip:function(ie){return Z.setPip(ie),this},setPlaybackRate:function(ie){return Z.setPlaybackRate(ie),this},setPlaylistItem:function(ie,je){return Z.setPlaylistItem(ie,je),this},setCues:function(ie){return Array.isArray(ie)&&Z.setCues(ie),this},setVolume:function(ie){return Z.setVolume(ie),this},load:function(ie,je){return Z.load(ie,je),this},play:function(ie){return Z.play(ie),this},pause:function(ie){return Z.pause(ie),this},playToggle:function(ie){switch(this.getState()){case D.pb:case D.jb:return this.pause(ie);default:return this.play(ie)}},seek:function(ie,je){return Z.seek(ie,je),this},playlistItem:function(ie,je){return Z.playlistItem(ie,je),this},playlistNext:function(ie){return Z.playlistNext(ie),this},playlistPrev:function(ie){return Z.playlistPrev(ie),this},next:function(ie){return Z.next(ie),this},requestPip:function(ie){return Z.requestPip(ie),this},castToggle:function(){return Z.castToggle(),this},stopCasting:function(){return Z.stopCasting(),this},createInstream:function(){return Z.createInstream()},stop:function(){return Z.stop(),this},resize:function(ie,je){return Z.resize(ie,je),this},addButton:function(ie,je,Le,ke,Ze){return Z.addButton(ie,je,Le,ke,Ze),this},removeButton:function(ie){return Z.removeButton(ie),this},attachMedia:function(){return Z.attachMedia(),this},detachMedia:function(){return Z.detachMedia(),this},isBeforeComplete:function(){return Z.isBeforeComplete()},isBeforePlay:function(){return Z.isBeforePlay()},setPlaylistItemCallback:function(ie,je){Z.setItemCallback(ie,je)},removePlaylistItemCallback:function(){Z.setItemCallback(null)},getPlaylistItemPromise:function(ie){return Z.getItemPromise(ie)},getFloating:function(){return!!Z.get("isFloating")},setFloating:function(ie){Z.setConfig({floating:{mode:ie?"always":"never"}})}})},v=function(V){for(var X=0;X<E.a.length;X++)if(E.a[X].id===V)return E.a[X];return null},x=function(V){Object.defineProperties(V,{api:{get:function(){return a},set:function(){}},version:{get:function(){return g.a},set:function(){}},debug:{get:function(){return _.a.debug},set:function(oe){_.a.debug=!!oe}}})};e.r(t);var w=setTimeout;function b(re){if(!_instanceof(this,b))throw new TypeError("Promises must be constructed via new");if(typeof re!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(re,this)}b.prototype.catch=function(re){return this.then(null,re)},b.prototype.then=function(re,V){var X=new this.constructor(n);return o(this,new r(re,V,X)),X},b.prototype.finally=function(re){var V=this.constructor;return this.then(function(X){return V.resolve(re()).then(function(){return X})},function(X){return V.resolve(re()).then(function(){return V.reject(X)})})},b.all=function(re){return new b(function(V,X){if(!re||re.length===void 0)throw new TypeError("Promise.all accepts an array");var oe=Array.prototype.slice.call(re);if(oe.length===0)return V([]);var G=oe.length;function Y(ae,ie){try{if(ie&&(typeof ie=="object"||typeof ie=="function")){var je=ie.then;if(typeof je=="function")return void je.call(ie,function(Le){Y(ae,Le)},X)}oe[ae]=ie,--G==0&&V(oe)}catch(Le){X(Le)}}for(var Z=0;Z<oe.length;Z++)Y(Z,oe[Z])})},b.resolve=function(re){return re&&typeof re=="object"&&re.constructor===b?re:new b(function(V){V(re)})},b.reject=function(re){return new b(function(V,X){X(re)})},b.race=function(re){return new b(function(V,X){for(var oe=0,G=re.length;oe<G;oe++)re[oe].then(V,X)})},b._immediateFn=typeof setImmediate=="function"&&function(re){setImmediate(re)}||function(re){w(re,0)},b._unhandledRejectionFn=function(re){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",re)};var C=b;window.Promise||(window.Promise=C);var P=e(19),E=e(14),T=e(15),m=e(20),a={availableProviders:T.a,registerProvider:m.a},p=e(25),g=e(22),y=e(0),_=e(17),j=e(7),R=e(47),D=e(3),H=e(23),K=e(8),J=e(39),F=0;Object(y.g)(f.prototype,{on:function(V,X,oe){return K.c.call(this,V,X,oe)},once:function(V,X,oe){return K.d.call(this,V,X,oe)},off:function(V,X,oe){return K.b.call(this,V,X,oe)},trigger:function(V,X){return(X=y.c.isObject(X)?Object(y.g)({},X):{}).type=V,_.a.debug?K.e.call(this,V,X):K.f.call(this,V,X)},getPlugin:function(V){return this.plugins[V]},addPlugin:function(V,X){this.plugins[V]=X,this.on("ready",X.addToPlayer),X.resize&&this.on("resize",X.resizeHandler)},registerPlugin:function(V,X,oe){Object(p.b)(V,X,oe)},getAdBlock:function(){return!1},playAd:function(V){},pauseAd:function(V){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return x}),e.p=Object(P.loadFrom)();var de=function(V){var X,oe;if(V?typeof V=="string"?(X=v(V))||(oe=document.getElementById(V)):typeof V=="number"?X=E.a[V]:V.nodeType&&(X=v((oe=V).id||oe.getAttribute("data-jwplayer-id"))):X=E.a[0],X)return X;if(oe){var G=new f(oe);return E.a.push(G),G}return{registerPlugin:p.b}};x(de),t.default=de}]).default}}),O5,Fr,j5=Tt({"https-url:https://av.dev.archive.org/js/jwplayer.js":function(){uE(),O5=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8";var S;S=window,Fr=S.jwplayer}}),kh=Tt({"https-url:https://av.dev.archive.org/js/util/strings.js":function(){}}),cE=Tt({"https-url:https://av.dev.archive.org/js/tv/tuners.js":function(){}}),dE=Tt({"https-url:https://av.dev.archive.org/js/items.js":function(){kh()}}),hE=Tt({"https-url:https://av.dev.archive.org/js/util/fetch.js":function(){}}),fE=Tt({"https-url:https://av.dev.archive.org/iso/hostname.js":function(){}}),E5,pE,P5,vE,gE,T5=Tt({"https-url:https://av.dev.archive.org/js/tv.js":function(){M5(),I5(),cE(),il(),qm(),dE(),hE(),fE(),kh(),pE=(E5=b0())!=null&&E5.startsWith("tvnix")?b0().split(".")[0].substr(5).toUpperCase():!1,P5="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",vE="identifier ~ '".concat(P5.slice(1).slice(0,-1),"'"),gE=BO(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),I5=Tt({"https-url:https://av.dev.archive.org/js/tv/recordings.js":function(){T5()}}),M5=Tt({"https-url:https://av.dev.archive.org/js/tv/zones.js":function(){I5(),il()}}),R5,mE,qm=Tt({"https-url:https://av.dev.archive.org/js/time.js":function(){il(),kh(),M5(),T5(),R5={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},mE=Object.keys(R5)}}),xh,hs,L5,D5,$5,Sh,B5,N5,ol,z5,yE=Tt({"https-url:https://av.dev.archive.org/js/player.js":function(){il(),Wm(),qm(),kh(),xh=!1,hs=100,L5=(location==null?void 0:location.host)==="av.dev.archive.org",D5="__ia_thumb.jpg",$5=0,Sh=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",xh?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(S){return[S,$5++]})),B5=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],N5=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],ol=function(){"use strict";function S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,S),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},u={},l={},s={},r={},d={},c={},h={},f=Sh.thumbnail2,v={};t.files.forEach(function(at){var ut=_slicedToArray(n.filter(at),1),qe=ut[0];if(!!qe){if("original"in qe){var ze=ol.val(qe.original);qe.name!==ze&&(o[qe.name]=ze)}qe.name.endsWith(".png")&&!qe.name.endsWith("_spectrogram.png")&&(c[qe.name]=1)}}),Ln(o),t.files.forEach(function(at){var ut=_slicedToArray(n.filter(at),3),qe=ut[0],ze=ut[1],Fe=ut[2];if(!!qe){var tt=qe.name,nt=Sh[ze],bt="original"in qe,wt=tt;if(bt){wt=ol.val(qe.original);for(var _t=10;_t&&wt in o;_t--)wt=o[wt];(Fe==="mp4"||Fe==="ogv")&&wt in t.files&&t.files[wt].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),wt="{$m2[1]}{$m2[2]}$origSuffix"),wt=ol.val(wt)}else"artist"in qe?v[wt]=qe.artist:"creatorxxx"in qe&&(v[wt]=qe.creatorxxx);if(!(e&&wt!==e)){if(wt in u||(u[wt]={}),"title"in qe&&(bt&&"title"in u[wt]||(u[wt].title=qe.title)),"height"in qe&&(n.heights[tt]=qe.height),"width"in qe&&(n.widths[tt]=qe.width),"autoplay"in qe&&(r[tt]=qe.autoplay),"length"in qe){var st=ff(String(ol.val(qe.length)));n.durations[tt]=st,bt&&(h[wt]=1),(bt||!("length"in u[wt])||!(wt in h))&&(u[wt].length=Math.round(st))}if(!!nt){if(bt){if(ze==="h.264 720p"){u[wt].HD=tt;return}}else{var ye=qe.title;if(ze==="h.264 hd"||ze==="h.264 mpeg4"&&(ye.indexOf("[HD]")>0||ye.indexOf(" HD ")>0||ye.endsWith(" HD"))){u[wt].HD=tt;return}if(xh&&ze==="h.264 4k"){u[wt]["4K"]=tt;return}nt>1&&(nt+=hs)}nt>1&&(B5.indexOf(ze)>=0?(l[wt]=1,d[tt]=1):s[wt]=1),wt in u||(u[wt]={}),nt in u[wt]?ze==="thumbnail"&&f in u[wt]&&(u[wt][f]=tt):(u[wt][nt]=tt,nt<hs&&nt+hs in u[wt]?delete u[wt][nt+hs]:nt>hs&&nt-hs in u[wt]&&delete u[wt][nt-hs])}}}}),Ln(u),this.haxLP&&(delete u["".concat(this.identifier,".flac")],delete u["".concat(this.identifier,".ogg")],delete u["".concat(this.identifier,".mp3")],delete u["".concat(this.identifier,".m4a")]);var x=Object.keys(l).length,w=Object.keys(s).length;w>0&&(w>=x||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=x?"audio":!1;var b=Object.values(v);(b.length<=1||_toConsumableArray(new Set(b)).length<=1)&&(v={});var C=this.showing==="movies"?s:l,P=this.showing==="movies"?w:x,E=!0,T=!1,m=void 0;try{for(var a=Object.entries(u)[Symbol.iterator](),p;!(E=(p=a.next()).done);E=!0){var g=_slicedToArray(p.value,2),y=g[0],_=g[1];if(y in C){var j={SRC:[]};if(0 in _)j.POSTER=_[0];else if(1 in _)j.POSTER=_[1];else{var R=!0,D=!1,H=void 0;try{for(var K=Object.entries(_)[Symbol.iterator](),J;!(R=(J=K.next()).done);R=!0){var F=_slicedToArray(J.value,2),de=F[0],re=F[1];if(parseInt(de,10)){var V=re.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");V!==re&&V in c&&(j.POSTER=V)}}}catch(at){D=!0,H=at}finally{try{!R&&K.return!=null&&K.return()}finally{if(D)throw H}}}y in r&&(j.AUTOPLAY=!1);var X=!0,oe=!1,G=void 0;try{for(var Y=Object.entries(_)[Symbol.iterator](),Z;!(X=(Z=Y.next()).done);X=!0){var ae=_slicedToArray(Z.value,2),ie=ae[0],je=ae[1];if(parseInt(ie,10)&&ie>1){if(this.showing==="movies"&&d[je]||this.showing!=="movies"&&!d[je])continue;j.SRC.push(je)}}}catch(at){oe=!0,G=at}finally{try{!X&&Y.return!=null&&Y.return()}finally{if(oe)throw G}}!j.SRC.length||(j.TITLE="title"in _?ol.val(_.title):y.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),j.ORIG=y,y in v&&(j.ARTIST=v[y]),"length"in _?j.length=_.length:j.length=this.runtime(t,P,y),"HD"in _&&(j.HD=_.HD),xh&&"4K"in _&&(j["4K"]=_["4K"]),this.groups.push(j))}}}catch(at){T=!0,m=at}finally{try{!E&&a.return!=null&&a.return()}finally{if(T)throw m}}if(this.captions(),L5&&Ln("player",this),this.showing==="audio"){var Le=!0,ke=!1,Ze=void 0;try{for(var Ve=this.groups[Symbol.iterator](),Xe;!(Le=(Xe=Ve.next()).done);Le=!0){var dt=Xe.value,yt=!1,pt=!1,Re=!0,_e=!1,Ne=void 0;try{for(var Je=Object.entries(dt.SRC)[Symbol.iterator](),Ye;!(Re=(Ye=Je.next()).done);Re=!0){var Te=_slicedToArray(Ye.value,2),rt=Te[0],ht=Te[1];ht.endsWith("_sample.mp3")?yt=rt:ht.endsWith(".mp3")&&(pt=!0)}}catch(at){_e=!0,Ne=at}finally{try{!Re&&Je.return!=null&&Je.return()}finally{if(_e)throw Ne}}pt&&yt!==!1&&dt.SRC.splice(yt,1)}}catch(at){ke=!0,Ze=at}finally{try{!Le&&Ve.return!=null&&Ve.return()}finally{if(ke)throw Ze}}}}return _createClass(S,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),u=e.format.toLowerCase();if(N5.includes(u)||n===D5)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var l=Sh[u];return o==="mp3"&&!l?[e,"64kbps mp3",o]:[e,u,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=[],l="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?Sa("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(H){return[H,r++]}));var d=!0,c=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(d=(v=f.next()).done);d=!0){var x=v.value,w={sources:[],title:$O(x.TITLE,100,!0)};"ORIG"in x&&(w.orig=x.ORIG,"ARTIST"in x&&(w.artist=x.ARTIST)),"AUTOPLAY"in x&&(w.autoplay=x.AUTOPLAY);var b=Sa("poster");b?w.image=this.url(b.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in x||this.showing==="audio"&&"POSTER"in x)&&(w.image=this.url(l+x.POSTER),o.length||o.push(this.url(l+x.POSTER))),"length"in x&&(w.duration=x.length),"HD"in x&&x.SRC.push(x.HD);var C={},P=!0,E=!1,T=void 0;try{for(var m=x.SRC[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=a.value,g=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(g==="ogg"||g==="ogv"))){var y="",_=[640,480];switch(g){case"mp3":y="mp3";break;case"ogg":y="ogg";break;case"m4a":y="aac";break;case"ogv":y="ogg",_=[400,300];break;case"mp4":y="mp4";break;case"mpeg4":y="mp4";break;case"m4v":y="mp4";break;case"mov":y="mp4";break;case"flv":y="video/x-flv";break;case"swf":y="video/x-flv";break;default:y=""}var j=p in this.widths?this.widths[p]:_[0],R=p in this.heights?this.heights[p]:_[1],D={file:this.url(l+p),width:j,height:R};y!==""&&(D.type=y),this.showing==="movies"&&(D.label="".concat(R,"p").concat(R>=720?" HD":"")),!(y&&parseInt(R,10)===parseInt(C[y],10))&&(C[y]=R,w.sources.push(D),this.showing==="movies"&&"image"in w&&(w.tracks=[{kind:"thumbnails",file:"".concat(w.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(w.duration=Math.max(w.duration,this.durations[p])))}}}catch(H){E=!0,T=H}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}Ln(e.tv),u.push(w)}}catch(H){c=!0,h=H}finally{try{!d&&f.return!=null&&f.return()}finally{if(c)throw h}}return u}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),S}(),z5=ol}}),Ah,bE=Tt({"https-url:https://av.dev.archive.org/js/util/onclick.js":function(){Ah=NO}}),gr,H5,wE=Tt({"https-url:https://av.dev.archive.org/js/playset.js":function(){A5(),Wm(),il(),bE(),j5(),gr=function(){"use strict";function S(){if(_classCallCheck(this,S),gr.avplayer="#jw6",gr.resizer_listening=!1,gr.unplayable_timer=null,gr.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!gr.is_local_storage_available()){this.selector_play_items=ee(".js-playset-items"),this.selector_playlist=ee(".js-playset-list");var t=ee(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(ee(this.selector_play_items).append('<span id="playplayset"/>'),ee("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),Ah("#playplayset",gr.create_playlist_goto_first_item),Sa("autoplay",!0)&&!Sa("playset",!0)&&setTimeout(gr.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,Sa("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;ee("#playset-xs").length||ee("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),gr.skip_unplayable_item(),gr.resizer()}Ln("playset ready")}}return _createClass(S,[{key:"show_playlist",value:function(){var e=this,n=gr.get_playset();if(!!n){var o=!1,u="",l=!0,s=!1,r=void 0;try{for(var d=n.list[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u+=gr.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}if(!!o){var f="\n".concat(gr.playlist_header(n),'\n<div class="playset-list">\n').concat(u,"\n</div>\n");ee("body").addClass("playset"),ee("body").addClass(ee("#theatre-ia-wrap").length?"":" playset-hdr-only"),ee(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),Ah("#playset-pp .js-playset-play",gr.play),Ah("#playset-pp .js-playset-pause",gr.pause),setTimeout(function(){e.autoscroll_playlist()},500),ee(document).ready(function(){ee("#texty iframe").on("load",function(){ee("#texty iframe").contents().click(gr.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=ee('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=ee("#playset-xs:visible").length?10:ee("#topnav").height(),o=e.top-n-ee("#playset-ia .playset-hdr").height();Ln("scrolling playset to ",o),ee("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){Ln("create_playlist_goto_first_item()");var e=[],n=ee("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";ee(o).each(function(u,l){var s=ee(l),r=s.data().id;if(!r.match(/^__/)){var d=gr.truncate(s.find(".item-ttl,.collection-title a").text(),35),c=gr.truncate(s.find(".byv").text(),75),h=s.data().year,f=gr.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,d,c.length?c:f,h])}}),gr.set_playset(e),gr.mobile?gr.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,u=!1,l=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;n.push(d[0])}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){gr.resizer_listening||(gr.resizer_listening=!0,ee(window).on("resize  orientationchange",function(){clearTimeout(gr.throttler),gr.throttler=setTimeout(gr.resizer,250)}));var e=ee("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=ee("#playset-ia").parent().attr("id");Ln("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?ee("#playset-ia").appendTo("#playset-xs > div"):ee("#playset-ia").prependTo("#".concat(e)),Ln("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(gr.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(gr.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(gr.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(gr.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,u){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(gr.item_year(u),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){gr.unplayable_timer=setTimeout(function(){(typeof Fr=="undefined"||!ee(gr.avplayer).length)&&gr.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=gr.get_playlist(),o="",u=!0,l=!1,s=void 0;try{for(var r=n[Symbol.iterator](),d;!(u=(d=r.next()).done);u=!0){var c=d.value;e===o&&(location.href="/details/".concat(c[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(c,1),o=h[0]}}catch(f){l=!0,s=f}finally{try{!u&&r.return!=null&&r.return()}finally{if(l)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),u=e.getPlaylist().length,l=o+1>=u||n&&n.done;!l||gr.goto_next_item()}},{key:"get_playlist",value:function(){var e=gr.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(Ln("playset pause"),typeof Fr!="undefined"&&ee(gr.avplayer).length){var e=Fr(gr.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),ee("#playset-pp a").toggle()),!1}return gr.unplayable_timer&&(clearTimeout(gr.unplayable_timer),gr.unplayable_timer=null,ee("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(Ln("play/resume"),typeof Fr!="undefined"&&ee(gr.avplayer).length){var e=Fr(gr.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),ee("#playset-pp a").toggle()),!1}return gr.unplayable_timer||(gr.skip_unplayable_item(),ee("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),S}(),ee(function(){return new gr}),H5=gr}}),F5,U5,_E=Tt({"https-url:https://av.dev.archive.org/js/util/ios.js":function(){F5=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,U5=F5}}),kE=Tt({"https-url:https://av.dev.archive.org/iso/s3.js":function(){}}),V5,xE=Tt({"https-url:https://av.dev.archive.org/js/mdapi.js":function(){kE(),V5=zO}}),SE=Tt({"https-url:https://av.dev.archive.org/js/play/background-play.js":function(){lu(),da(),customElements.define("background-play",function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!Gr.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,Gr.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,Gr.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return Hr(_templateObject370(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(Oo))}}),Uc,Vc,Ch,Gm,Oh,Eo,jh,Ym,Eh,W5=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@2.0.3/deno/css-tag.js":function(){Uc=globalThis,Vc=Uc.ShadowRoot&&(Uc.ShadyCSS===void 0||Uc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ch=Symbol(),Gm=new WeakMap,Oh=function(){"use strict";function S(t,e,n){if(_classCallCheck(this,S),this._$cssResult$=!0,n!==Ch)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(S,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(Vc&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=Gm.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&Gm.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),S}(),Eo=function(S){return new Oh(typeof S=="string"?S:S+"",void 0,Ch)},jh=function(S){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=S.length===1?S[0]:e.reduce(function(u,l,s){return u+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(l)+S[s+1]},S[0]);return new Oh(o,S,Ch)},Ym=function(S,t){var e=!0,n=!1,o=void 0;if(Vc)S.adoptedStyleSheets=t.map(function(c){return _instanceof(c,CSSStyleSheet)?c:c.styleSheet});else try{for(var u=t[Symbol.iterator](),l;!(e=(l=u.next()).done);e=!0){var s=l.value,r=document.createElement("style"),d=Uc.litNonce;d!==void 0&&r.setAttribute("nonce",d),r.textContent=s.cssText,S.appendChild(r)}}catch(c){n=!0,o=c}finally{try{!e&&u.return!=null&&u.return()}finally{if(n)throw o}}},Eh=Vc?function(S){return S}:function(S){return _instanceof(S,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,u=void 0;try{for(var l=t.cssRules[Symbol.iterator](),s;!(n=(s=l.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,u=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw u}}return Eo(e)}(S):S}}}),q5={};qr(q5,{CSSResult:function(){return Oh},ReactiveElement:function(){return fs},adoptStyles:function(){return Ym},css:function(){return jh},defaultConverter:function(){return Wc},getCompatibleStyle:function(){return Eh},notEqual:function(){return Ph},supportsAdoptingStyleSheets:function(){return Vc},unsafeCSS:function(){return Eo}});var G5,Y5,X5,K5,J5,Q5,al,Xm,Z5,Km,yu,Wc,Ph,Jm,eC,tC,fs,nC,Th=Tt({"https-url:https://esm.archive.org/v99/@lit/reactive-element@2.0.3/deno/reactive-element.js":function(){W5(),W5();var S;S=Object,G5=S.is,Y5=S.defineProperty,X5=S.getOwnPropertyDescriptor,K5=S.getOwnPropertyNames,J5=S.getOwnPropertySymbols,Q5=S.getPrototypeOf,al=globalThis,Xm=al.trustedTypes,Z5=Xm?Xm.emptyScript:"",Km=al.reactiveElementPolyfillSupport,yu=function(t,e){return t},Wc={toAttribute:function(e,n){switch(n){case Boolean:e=e?Z5:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute:function(e,n){var o=e;switch(n){case Boolean:o=e!==null;break;case Number:o=e===null?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(u){o=null}}return o}},Ph=function(t,e){return!G5(t,e)},Jm={attribute:!0,type:String,converter:Wc,reflect:!1,hasChanged:Ph},(eC=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(tC=al.litPropertyMetadata)!=null||(al.litPropertyMetadata=new WeakMap),fs=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call(this),o._$Ep=void 0,o.isUpdatePending=!1,o.hasUpdated=!1,o._$Em=null,o._$Ev(),_possibleConstructorReturn(o)}return _createClass(n,[{key:"_$Ev",value:function(){var u=this,l;this._$Eg=new Promise(function(s){return u.enableUpdating=s}),this._$AL=new Map,this._$ES(),this.requestUpdate(),(l=this.constructor.l)==null||l.forEach(function(s){return s(u)})}},{key:"addController",value:function(u){var l,s;((l=this._$E_)!=null?l:this._$E_=new Set).add(u),this.renderRoot!==void 0&&this.isConnected&&((s=u.hostConnected)==null||s.call(u))}},{key:"removeController",value:function(u){var l;(l=this._$E_)==null||l.delete(u)}},{key:"_$ES",value:function(){var u=new Map,l=this.constructor.elementProperties,s=!0,r=!1,d=void 0;try{for(var c=l.keys()[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.hasOwnProperty(f)&&(u.set(f,this[f]),delete this[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}u.size>0&&(this._$Ep=u)}},{key:"createRenderRoot",value:function(){var u,l=(u=this.shadowRoot)!=null?u:this.attachShadow(this.constructor.shadowRootOptions);return Ym(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var u,l;(u=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(l=this._$E_)==null||l.forEach(function(s){var r;return(r=s.hostConnected)==null?void 0:r.call(s)})}},{key:"enableUpdating",value:function(u){}},{key:"disconnectedCallback",value:function(){var u;(u=this._$E_)==null||u.forEach(function(l){var s;return(s=l.hostDisconnected)==null?void 0:s.call(l)})}},{key:"attributeChangedCallback",value:function(u,l,s){this._$AK(u,s)}},{key:"_$EO",value:function(u,l){var s,r=this.constructor.elementProperties.get(u),d=this.constructor._$Eu(u,r);if(d!==void 0&&r.reflect===!0){var c=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:Wc).toAttribute(l,r.type);this._$Em=u,c==null?this.removeAttribute(d):this.setAttribute(d,c),this._$Em=null}}},{key:"_$AK",value:function(u,l){var s,r=this.constructor,d=r._$Eh.get(u);if(d!==void 0&&this._$Em!==d){var c=r.getPropertyOptions(d),h=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)==null?void 0:s.fromAttribute)!==void 0?c.converter:Wc;this._$Em=d,this[d]=h.fromAttribute(l,c.type),this._$Em=null}}},{key:"requestUpdate",value:function(u,l,s){var r;if(u!==void 0){if(s!=null||(s=this.constructor.getPropertyOptions(u)),!((r=s.hasChanged)!=null?r:Ph)(this[u],l))return;this.C(u,l,s)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}},{key:"C",value:function(u,l,s){var r;this._$AL.has(u)||this._$AL.set(u,l),s.reflect===!0&&this._$Em!==u&&((r=this._$ET)!=null?r:this._$ET=new Set).add(u)}},{key:"_$EP",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function u(){var l;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.isUpdatePending=!0,r.prev=1,r.next=4,this._$Eg;case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),Promise.reject(r.t0);case 9:if(l=this.scheduleUpdate(),r.t1=l!=null,!r.t1){r.next=14;break}return r.next=14,l;case 14:return r.abrupt("return",(r.t1&&r.sent,!this.isUpdatePending));case 15:case"end":return r.stop()}},u,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var u,l;if(!!this.isUpdatePending){if(!this.hasUpdated){if((u=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){var s=!0,r=!1,d=void 0;try{for(var c=this._$Ep[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],x=f[1];this[v]=x}}catch(_){r=!0,d=_}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}this._$Ep=void 0}var w=this.constructor.elementProperties,b=!0,C=!1,P=void 0;if(w.size>0)try{for(var E=w[Symbol.iterator](),T;!(b=(T=E.next()).done);b=!0){var m=_slicedToArray(T.value,2),a=m[0],p=m[1];p.wrapped!==!0||this._$AL.has(a)||this[a]===void 0||this.C(a,this[a],p)}}catch(_){C=!0,P=_}finally{try{!b&&E.return!=null&&E.return()}finally{if(C)throw P}}}var g=!1,y=this._$AL;try{g=this.shouldUpdate(y),g?(this.willUpdate(y),(l=this._$E_)==null||l.forEach(function(_){var j;return(j=_.hostUpdate)==null?void 0:j.call(_)}),this.update(y)):this._$Ej()}catch(_){throw g=!1,this._$Ej(),_}g&&this._$AE(y)}}},{key:"willUpdate",value:function(u){}},{key:"_$AE",value:function(u){var l;(l=this._$E_)==null||l.forEach(function(s){var r;return(r=s.hostUpdated)==null?void 0:r.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(u)),this.updated(u)}},{key:"_$Ej",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$Eg}},{key:"shouldUpdate",value:function(u){return!0}},{key:"update",value:function(u){var l=this;this._$ET&&(this._$ET=this._$ET.forEach(function(s){return l._$EO(s,l[s])})),this._$Ej()}},{key:"updated",value:function(u){}},{key:"firstUpdated",value:function(u){}}],[{key:"addInitializer",value:function(u){var l;this._$Ei(),((l=this.l)!=null?l:this.l=[]).push(u)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys())}},{key:"createProperty",value:function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jm;if(l.state&&(l.attribute=!1),this._$Ei(),this.elementProperties.set(u,l),!l.noAccessor){var s=Symbol(),r=this.getPropertyDescriptor(u,s,l);r!==void 0&&Y5(this.prototype,u,r)}}},{key:"getPropertyDescriptor",value:function(u,l,s){var r,d=(r=X5(this.prototype,u))!=null?r:{get:function(){return this[l]},set:function(v){this[l]=v}},c=d.get,h=d.set;return{get:function(){return c==null?void 0:c.call(this)},set:function(v){var x=c==null?void 0:c.call(this);h.call(this,v),this.requestUpdate(u,x,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(u){var l;return(l=this.elementProperties.get(u))!=null?l:Jm}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(yu("elementProperties"))){var u=Q5(this);u.finalize(),u.l!==void 0&&(this.l=_toConsumableArray(u.l)),this.elementProperties=new Map(u.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(yu("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(yu("properties"))){var u=this.properties,l=_toConsumableArray(K5(u)).concat(_toConsumableArray(J5(u))),s=!0,r=!1,d=void 0;try{for(var c=l[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,u[f])}}catch(J){r=!0,d=J}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}var v=this[Symbol.metadata];if(v!==null){var x=litPropertyMetadata.get(v),w=!0,b=!1,C=void 0;if(x!==void 0)try{for(var P=x[Symbol.iterator](),E;!(w=(E=P.next()).done);w=!0){var T=_slicedToArray(E.value,2),m=T[0],a=T[1];this.elementProperties.set(m,a)}}catch(J){b=!0,C=J}finally{try{!w&&P.return!=null&&P.return()}finally{if(b)throw C}}}this._$Eh=new Map;var p=!0,g=!1,y=void 0;try{for(var _=this.elementProperties[Symbol.iterator](),j;!(p=(j=_.next()).done);p=!0){var R=_slicedToArray(j.value,2),D=R[0],H=R[1],K=this._$Eu(D,H);K!==void 0&&this._$Eh.set(K,D)}}catch(J){g=!0,y=J}finally{try{!p&&_.return!=null&&_.return()}finally{if(g)throw y}}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(u){var l=[];if(Array.isArray(u)){var s=new Set(u.flat(1/0).reverse()),r=!0,d=!1,c=void 0;try{for(var h=s[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;l.unshift(Eh(v))}}catch(x){d=!0,c=x}finally{try{!r&&h.return!=null&&h.return()}finally{if(d)throw c}}}else u!==void 0&&l.push(Eh(u));return l}},{key:"_$Eu",value:function(u,l){var s=l.attribute;return s===!1?void 0:typeof s=="string"?s:typeof u=="string"?u.toLowerCase():void 0}}]),n}(_wrapNativeSuper(HTMLElement)),fs.elementStyles=[],fs.shadowRootOptions={mode:"open"},fs[yu("elementProperties")]=new Map,fs[yu("finalized")]=new Map,Km==null||Km({ReactiveElement:fs}),((nC=al.reactiveElementVersions)!=null?nC:al.reactiveElementVersions=[]).push("2.0.3")}}),rC={};qr(rC,{_$LH:function(){return aC},html:function(){return Yo},noChange:function(){return gs},nothing:function(){return mi},render:function(){return vy},svg:function(){return oC}});function sl(S,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,n=arguments.length>3?arguments[3]:void 0,o,u,l;if(t===gs)return t;var s=n!==void 0?(o=e._$Co)==null?void 0:o[n]:e._$Cl,r=wu(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==r&&((u=s==null?void 0:s._$AO)==null||u.call(s,!1),r===void 0?s=void 0:(s=new r(S),s._$AT(S,e,n)),n!==void 0?((l=e._$Co)!=null?l:e._$Co=[])[n]=s:e._$Cl=s),s!==void 0&&(t=sl(S,s._$AS(S,t.values),s,n)),t}var qc,Gc,Qm,Ih,Go,Mh,iC,ps,bu,wu,Zm,ey,Rh,_u,ty,ny,vs,ry,iy,oy,ay,Yo,oC,gs,mi,sy,ms,ly,Yc,uy,ku,xu,cy,dy,hy,fy,aC,py,sC,vy,Lh=Tt({"https-url:https://esm.archive.org/v99/lit-html@3.1.1/deno/lit-html.js":function(){qc=globalThis,Gc=qc.trustedTypes,Qm=Gc?Gc.createPolicy("lit-html",{createHTML:function(S){return S}}):void 0,Ih="$lit$",Go="lit$".concat((Math.random()+"").slice(9),"$"),Mh="?"+Go,iC="<".concat(Mh,">"),ps=document,bu=function(){return ps.createComment("")},wu=function(S){return S===null||typeof S!="object"&&typeof S!="function"},Zm=Array.isArray,ey=function(S){return Zm(S)||typeof(S==null?void 0:S[Symbol.iterator])=="function"},Rh="[ 	\n\f\r]",_u=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ty=/-->/g,ny=/>/g,vs=RegExp(">|".concat(Rh,"(?:([^\\s\"'>=/]+)(").concat(Rh,"*=").concat(Rh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),ry=/'/g,iy=/"/g,oy=/^(?:script|style|textarea|title)$/i,ay=function(S){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:S,strings:t,values:n}}},Yo=ay(1),oC=ay(2),gs=Symbol.for("lit-noChange"),mi=Symbol.for("lit-nothing"),sy=new WeakMap,ms=ps.createTreeWalker(ps,129),ly=function(S,t){for(var e=S.length-1,n=[],o,u=t===2?"<svg>":"",l=_u,s=0;s<e;s++){for(var r=S[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(l.lastIndex=f,c=l.exec(r),c!==null);)f=l.lastIndex,l===_u?c[1]==="!--"?l=ty:c[1]!==void 0?l=ny:c[2]!==void 0?(oy.test(c[2])&&(o=RegExp("</"+c[2],"g")),l=vs):c[3]!==void 0&&(l=vs):l===vs?c[0]===">"?(l=o!=null?o:_u,h=-1):c[1]===void 0?h=-2:(h=l.lastIndex-c[2].length,d=c[1],l=c[3]===void 0?vs:c[3]==='"'?iy:ry):l===iy||l===ry?l=vs:l===ty||l===ny?l=_u:(l=vs,o=void 0);var v=l===vs&&S[s+1].startsWith("/>")?" ":"";u+=l===_u?r+iC:h>=0?(n.push(d),r.slice(0,h)+Ih+r.slice(h)+Go+v):r+Go+(h===-2?s:v)}return[w0(S,u+(S[e]||"<?>")+(t===2?"</svg>":"")),n]},Yc=function(){"use strict";function S(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,S);var u;this.parts=[];var l=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(ly(n,o),2),h=c[0],f=c[1];if(this.el=Yc.createElement(h,e),ms.currentNode=this.el.content,o===2){var v,x=this.el.content.firstChild;(v=x).replaceWith.apply(v,_toConsumableArray(x.childNodes))}for(;(u=ms.nextNode())!==null&&d.length<r;){if(u.nodeType===1){var w=!0,b=!1,C=void 0;if(u.hasAttributes())try{for(var P=u.getAttributeNames()[Symbol.iterator](),E;!(w=(E=P.next()).done);w=!0){var T=E.value;if(T.endsWith(Ih)){var m=f[s++],a=u.getAttribute(T).split(Go),p=/([.?@])?(.*)/.exec(m);d.push({type:1,index:l,name:p[2],strings:a,ctor:p[1]==="."?cy:p[1]==="?"?dy:p[1]==="@"?hy:xu}),u.removeAttribute(T)}else T.startsWith(Go)&&(d.push({type:6,index:l}),u.removeAttribute(T))}}catch(R){b=!0,C=R}finally{try{!w&&P.return!=null&&P.return()}finally{if(b)throw C}}if(oy.test(u.tagName)){var g=u.textContent.split(Go),y=g.length-1;if(y>0){u.textContent=Gc?Gc.emptyScript:"";for(var _=0;_<y;_++)u.append(g[_],bu()),ms.nextNode(),d.push({type:2,index:++l});u.append(g[y],bu())}}}else if(u.nodeType===8)if(u.data===Mh)d.push({type:2,index:l});else for(var j=-1;(j=u.data.indexOf(Go,j+1))!==-1;)d.push({type:7,index:l}),j+=Go.length-1;l++}}return _createClass(S,null,[{key:"createElement",value:function(e,n){var o=ps.createElement("template");return o.innerHTML=e,o}}]),S}(),uy=function(){"use strict";function S(t,e){_classCallCheck(this,S),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(S,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,u=o.el,l=u.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!=null?n:ps).importNode(l,!0);ms.currentNode=r;for(var d=ms.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new ku(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new fy(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=ms.nextNode(),c++)}return ms.currentNode=ps,r}},{key:"p",value:function(e){var n=0,o=!0,u=!1,l=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){u=!0,l=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(u)throw l}}}}]),S}(),ku=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S);var u;this.type=2,this._$AH=mi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cv=(u=o==null?void 0:o.isConnected)!=null?u:!0}return _createClass(S,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)==null?void 0:e._$AU)!=null?n:this._$Cv}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=sl(this,e,n),wu(e)?e===mi||e==null||e===""?(this._$AH!==mi&&this._$AR(),this._$AH=mi):e!==this._$AH&&e!==gs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):ey(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==mi&&wu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ps.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,u=e._$litType$,l=typeof u=="number"?this._$AC(e):(u.el===void 0&&(u.el=Yc.createElement(w0(u.h,u.h[0]),this.options)),u);if(((n=this._$AH)==null?void 0:n._$AD)===l)this._$AH.p(o);else{var s=new uy(l,this),r=s.u(this.options);s.p(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=sy.get(e.strings);return n===void 0&&sy.set(e.strings,n=new Yc(e)),n}},{key:"T",value:function(e){Zm(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,u=0,l=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u===n.length?n.push(o=new ku(this.k(bu()),this.k(bu()),this,this.options)):o=n[u],o._$AI(h),u++}}catch(f){s=!0,r=f}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}u<n.length&&(this._$AR(o&&o._$AB.nextSibling,u),n.length=u)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,n);e&&e!==this._$AB;){var u=e.nextSibling;e.remove(),e=u}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}]),S}(),xu=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.type=1,this._$AH=mi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=u,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=mi}return _createClass(S,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=this.strings,s=!1;if(l===void 0)e=sl(this,e,n,0),s=!wu(e)||e!==this._$AH&&e!==gs,s&&(this._$AH=e);else{var r=e,d,c;for(e=l[0],d=0;d<l.length-1;d++)c=sl(this,r[o+d],n,d),c===gs&&(c=this._$AH[d]),s||(s=!wu(c)||c!==this._$AH[d]),c===mi?e=mi:e!==mi&&(e+=(c!=null?c:"")+l[d+1]),this._$AH[d]=c}s&&!u&&this.O(e)}},{key:"O",value:function(e){e===mi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),S}(),cy=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"O",value:function(o){this.element[this.name]=o===mi?void 0:o}}]),e}(xu),dy=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"O",value:function(o){this.element.toggleAttribute(this.name,!!o&&o!==mi)}}]),e}(xu),hy=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(n,o,u,l,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,u,l,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l;if((o=(l=sl(this,o,u,0))!=null?l:mi)!==gs){var s=this._$AH,r=o===mi&&s!==mi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==mi&&(s===mi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var u,l;typeof this._$AH=="function"?this._$AH.call((l=(u=this.options)==null?void 0:u.host)!=null?l:this.element,o):this._$AH.handleEvent(o)}}]),e}(xu),fy=function(){"use strict";function S(t,e,n){_classCallCheck(this,S),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(S,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){sl(this,e)}}]),S}(),aC={j:Ih,P:Go,A:Mh,C:1,M:ly,L:uy,R:ey,V:sl,D:ku,I:xu,H:dy,N:hy,U:cy,B:fy},py=qc.litHtmlPolyfillSupport,py==null||py(Yc,ku),((sC=qc.litHtmlVersions)!=null?sC:qc.litHtmlVersions=[]).push("3.1.1"),vy=function(S,t,e){var n,o,u=(n=e==null?void 0:e.renderBefore)!=null?n:t,l=u._$litPart$;if(l===void 0){var s=(o=e==null?void 0:e.renderBefore)!=null?o:null;u._$litPart$=l=new ku(t.insertBefore(bu(),s),s,void 0,e!=null?e:{})}return l._$AI(S),l}}}),gy,lC,uC,cC,dC,my,yy,Dh,ys,hC,by,fC,pC,AE=Tt({"https-url:https://esm.archive.org/v99/lit-element@4.0.3/deno/lit-element.js":function(){Th(),Lh(),Th(),Th(),Lh(),Lh(),gy=Object.defineProperty,lC=Object.getOwnPropertyDescriptor,uC=Object.getOwnPropertyNames,cC=Object.prototype.hasOwnProperty,dC=function(S,t){for(var e in t)gy(S,e,{get:t[e],enumerable:!0})},my=function(S,t,e,n){var o=!0,u=!1,l=void 0;if(t&&typeof t=="object"||typeof t=="function")try{for(var s=function(c,h){var f=h.value;!cC.call(S,f)&&f!==e&&gy(S,f,{get:function(){return t[f]},enumerable:!(n=lC(t,f))||n.enumerable})},r=uC(t)[Symbol.iterator](),d;!(o=(d=r.next()).done);o=!0)s(r,d)}catch(c){u=!0,l=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(u)throw l}}return S},yy=function(S,t,e){return my(S,t,"default"),e&&my(e,t,"default")},Dh={},dC(Dh,{LitElement:function(){return ys},_$LE:function(){return fC}}),yy(Dh,q5),yy(Dh,rC),ys=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,u,l=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(u=(o=this.renderOptions).renderBefore)!=null||(o.renderBefore=l.firstChild),l}},{key:"update",value:function(o){var u=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=vy(u,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)==null||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)==null||o.setConnected(!1)}},{key:"render",value:function(){return gs}}]),e}(fs),ys._$litElement$=!0,ys.finalized=!0,(hC=globalThis.litElementHydrateSupport)==null||hC.call(globalThis,{LitElement:ys}),by=globalThis.litElementPolyfillSupport,by==null||by({LitElement:ys}),fC={_$AK:function(S,t,e){S._$AK(t,e)},_$AL:function(S){return S._$AL}},((pC=globalThis.litElementVersions)!=null?pC:globalThis.litElementVersions=[]).push("4.0.3")}}),CE=Tt({"https-url:https://esm.archive.org/v99/lit-html@3.1.1/deno/is-server.js":function(){}}),OE=Tt({"https-url:https://esm.archive.org/v99/lit@3.1.1/deno/lit.js":function(){Th(),Lh(),AE(),CE()}}),vC=Tt({"https-url:https://esm.archive.org/lit":function(){OE()}}),bs,Aa,wy,$h,Bh,Po,wo,_y,jE=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/transcript-view@0.0.3/deno/transcript-view.js":function(){_n(),ei(),_n(),ei(),_n(),ei(),bs=function(t,e,n,o){var u=arguments.length,l=u<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(l=(u<3?s(l):u>3?s(e,n,l):s(e,n))||l);return u>3&&l&&Object.defineProperty(e,n,l),l},Aa=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.entry=void 0,n.isActive=!1,n.isSelected=!1,n.isClickable=!1,n.isSearchResult=!1,n.isMusicEntry=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject371(),this.entry?this.entry.displayText:"")}}]),e}(Xn),bs([Xt({type:Object})],Aa.prototype,"entry",void 0),bs([Xt({type:Boolean,reflect:!0})],Aa.prototype,"isActive",void 0),bs([Xt({type:Boolean,reflect:!0})],Aa.prototype,"isSelected",void 0),bs([Xt({type:Boolean,reflect:!0})],Aa.prototype,"isClickable",void 0),bs([Xt({type:Boolean,reflect:!0})],Aa.prototype,"isSearchResult",void 0),bs([Xt({type:Boolean,reflect:!0})],Aa.prototype,"isMusicEntry",void 0),Aa=bs([zr("transcript-entry")],Aa),wy=function(t,e,n,o){var u=arguments.length,l=u<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(l=(u<3?s(l):u>3?s(e,n,l):s(e,n))||l);return u>3&&l&&Object.defineProperty(e,n,l),l},$h=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.seconds=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject372(),this.durationString)}},{key:"durationString",get:function(){if(typeof this.seconds!="number")return"";var o=Math.floor(this.seconds/3600),u=Math.floor(this.seconds/60)%60,l=Math.floor(this.seconds%60),s=o>0?"".concat(o):void 0,r=o>0&&u<10?"0".concat(u):"".concat(u),d=l<10?"0".concat(l):"".concat(l),c="".concat(r,":").concat(d);return c=s?"".concat(s,":").concat(c):c,c}}]),e}(Xn),wy([Xt({type:Number})],$h.prototype,"seconds",void 0),$h=wy([zr("duration-formatter")],$h),Bh=function(){"use strict";function S(t){_classCallCheck(this,S),this.entries=[],this.entries=t}return _createClass(S,[{key:"searchResults",get:function(){return this.entries.filter(function(e){return e.searchMatchIndex!==void 0})}}]),S}(),Po=function(t,e,n,o){var u=arguments.length,l=u<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(l=(u<3?s(l):u>3?s(e,n,l):s(e,n))||l);return u>3&&l&&Object.defineProperty(e,n,l),l},wo=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=void 0,n.currentTime=0,n.topContextHeight=50,n.bottomContextHeight=50,n.autoScroll=!0,n.selectedSearchResultIndex=0,n.showContextZones=!1,n.timeScrollTop=0,n.currentEntries=[],n.scrollTimerDelay=15e3,n.scrollResumeTimerId=-1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o=this;return Ot(_templateObject373(),this.showContextZones?this.contextZoneDevTemplates:"",this.didScroll,this.didScroll,this.timeDisplayTemplate,this.autoScrollButtonTemplate,this.transcriptEntries.map(function(u){return o.transcriptEntryTemplate(u)}))}},{key:"scrollToSelectedSearchResult",value:function(){var o=this,u=o.selectedSearchResult;u&&(this.autoScroll=!1,this.scrollToElement(u))}},{key:"autoScrollButtonTemplate",get:function(){return Ot(_templateObject374(),this.enableAutoScroll,this.autoScroll?"hidden":"")}},{key:"timeDisplayTemplate",get:function(){return Ot(_templateObject375(),this.timeScrollTop,this.currentTime)}},{key:"transcriptEntryTemplate",value:function(o){var u=this.currentEntries.find(function(d){return d.id===o.id})!==void 0,l=o.searchMatchIndex===this.selectedSearchResultIndex,s=o.searchMatchIndex!==void 0,r=o.isMusic;return Ot(_templateObject376(),o,l,u,s,r,o.searchMatchIndex,o.id,this.transcriptEntrySelected)}},{key:"contextZoneDevTemplates",get:function(){return Ot(_templateObject377(),this.topContextZoneDevTemplate,this.bottomContextZoneDevTemplate)}},{key:"topContextZoneDevTemplate",get:function(){return Ot(_templateObject378(),this.topContextHeight)}},{key:"bottomContextZoneDevTemplate",get:function(){return Ot(_templateObject379(),this.bottomContextHeight)}},{key:"transcriptEntries",get:function(){return this.config?this.config.entries:[]}},{key:"transcriptEntrySelected",value:function(o){var u=o.target,l=u.entry;if(!!l){var s=new CustomEvent("transcriptEntrySelected",{detail:{entry:l}});this.dispatchEvent(s),l.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=l.searchMatchIndex),this.autoScroll=!1}}},{key:"handleCurrentTimeChange",value:function(){var o=this,u=this.transcriptEntries;if(u.length!==0){var l=u.filter(function(s){return o.currentTime>=s.start&&o.currentTime<=s.end});this.entryArraysMatch(l,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=l)}}},{key:"entryArraysMatch",value:function(o,u){if(o.length!==u.length)return!1;var l=o.map(function(d){return d.id}).sort(),s=u.map(function(d){return d.id}).sort(),r=!0;return l.forEach(function(d,c){s[c]!==d&&(r=!1)}),!!r}},{key:"entryIdentifierClosestToTime",value:function(o){if(this.transcriptEntries.length===0)return null;var u=this.transcriptEntries[0],l=Math.abs(o-u.start),s=u.id;return this.transcriptEntries.forEach(function(r){var d=Math.abs(o-r.start);d<l&&(l=d,s=r.id)}),s}},{key:"elementClosestToTime",value:function(o){var u=this.entryIdentifierClosestToTime(o);return u?this.elementForIdentifier(u):null}},{key:"elementForIdentifier",value:function(o){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-identifier="'.concat(o,'"]'))}},{key:"didScroll",value:function(){var o=this;this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(function(){o.autoScroll=!0},this.scrollTimerDelay)}},{key:"enableAutoScroll",value:function(){this.autoScroll=!0,this.scrollToClosestEntry()}},{key:"updated",value:function(o){o.has("currentTime")&&this.handleCurrentTimeChange(),o.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),o.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),o.has("autoScroll")&&this.handleAutoScrollChange(),o.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}},{key:"scrollView",get:function(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}},{key:"activeTranscriptEntry",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}},{key:"selectedSearchResult",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-search-result-index="'.concat(this.selectedSearchResultIndex,'"]'))}},{key:"closestEntryToCurrentTime",get:function(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}},{key:"handleAutoScrollChange",value:function(){var o=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(o)}},{key:"scrollToClosestEntry",value:function(){if(!!this.autoScroll){var o=this.closestEntryToCurrentTime;o&&this.scrollToElement(o)}}},{key:"scrollToElement",value:function(o){var u=this,l=u.scrollView;if(!!l){var s=l.getBoundingClientRect(),r=o.getBoundingClientRect(),d=s.height,c=this,h=c.topContextHeight,f=this,v=f.bottomContextHeight,x=d-v;if(r.bottom>s.top+x||r.top<s.top){var w=r.top-s.top+l.scrollTop-h;this.scrollToOffsetWithDuration(w,1)}}}},{key:"updateTimePosition",value:function(){var o=this.closestEntryToCurrentTime;if(!!o){var u=o.parentNode.getBoundingClientRect(),l=o.getBoundingClientRect().top-u.top;this.timeScrollTop=l}}},{key:"scrollToOffsetWithDuration",value:function(o,u,l){var s=function(P){return P<.5?2*P*P:-1+(4-2*P)*P},r=this,d=r.scrollView;if(!d)return;var c=d.scrollTop,h=o-c,f=performance.now(),v,x,w;function b(){d&&(v=performance.now(),x=(v-f)/1e3,w=x/u,d.scrollTop=c+h*s(w),w<1?window.requestAnimationFrame(b):l&&l())}b()}}],[{key:"styles",get:function(){var o=Kt(_templateObject380()),u=Kt(_templateObject381()),l=Kt(_templateObject382()),s=Kt(_templateObject383()),r=Kt(_templateObject384()),d=Kt(_templateObject385()),c=Kt(_templateObject386()),h=Kt(_templateObject387()),f=Kt(_templateObject388()),v=Kt(_templateObject389()),x=Kt(_templateObject390()),w=Kt(_templateObject391()),b=Kt(_templateObject392()),C=Kt(_templateObject393()),P=Kt(_templateObject394()),E=Kt(_templateObject395()),T=Kt(_templateObject396()),m=Kt(_templateObject397());return Kt(_templateObject398(),x,f,c,h,v,d,r,s,u,l,o,b,C,E,P,w,T,m)}}]),e}(Xn),Po([Xt({type:Bh})],wo.prototype,"config",void 0),Po([Xt({type:Number})],wo.prototype,"currentTime",void 0),Po([Xt({type:Number})],wo.prototype,"topContextHeight",void 0),Po([Xt({type:Number})],wo.prototype,"bottomContextHeight",void 0),Po([Xt({type:Boolean})],wo.prototype,"autoScroll",void 0),Po([Xt({type:Number})],wo.prototype,"selectedSearchResultIndex",void 0),Po([Xt({type:Boolean})],wo.prototype,"showContextZones",void 0),Po([Xt({type:Number})],wo.prototype,"timeScrollTop",void 0),Po([Xt({type:Array})],wo.prototype,"currentEntries",void 0),wo=Po([zr("transcript-view")],wo),_y=function(){"use strict";function S(t,e,n,o,u,l){_classCallCheck(this,S),this.id=t,this.start=e,this.end=n,this.rawText=o,this.isMusic=u,this.searchMatchIndex=l}return _createClass(S,[{key:"displayText",get:function(){return this.isMusic?"[Transcript unavailable]":this.rawText}}]),S}()}}),gC=Tt({"https-url:https://esm.archive.org/@internetarchive/transcript-view":function(){jE()}}),EE=Tt({"https-url:https://av.dev.archive.org/js/play/transcript-viewer.js":function(){vC(),gC(),qm(),il(),customElements.define("transcript-viewer",function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?Yo(_templateObject402(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?Yo(_templateObject400()):Yo(_templateObject401()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):Yo(_templateObject399())}},{key:"transcript_toggled",value:function(){!this.transcriptConfig||(this.is_open=!this.is_open,this.is_open&&window.archive_analytics&&window.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(Ln("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var u=document.querySelector("video");if(u){var l=this;this.tracking_time=!0,u.addEventListener("timeupdate",function(){var s;l.currentTime=u.currentTime;var r=(s=l.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=l.currentTime,!l.transcript_view_tweaked)){var d=r.shadowRoot.querySelectorAll("transcript-entry");if(d.length){if(l.transcript_view_tweaked=!0,l.kind==="Lyrics (AI)"){var c=function(){return d.forEach(function(f){return f.style.display="block"})};c(),setTimeout(c,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var u=o.detail||{},l=u.entry||{};if(!!l.start){var s=l.start;this.currentTime=s;var r=document.querySelector("video");Ln({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l,s,r,d,c,h,f,v,x,w,b,C,P,E,T,m;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,u=this.captions[this.trackno],u){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return l=u.replace(/^\/download\//,"https://archive.org/cors/"),Ln({srtUrl:l}),p.next=10,fetch(l);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,d=[],c=0,h=!0,f=!1,v=void 0,p.prev=17,x=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(w=x.next()).done){p.next=29;break}if(b=w.value,c+=1,C=_slicedToArray(b.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),P=C[1],E=C[2],T=C[3],E){p.next=25;break}return p.abrupt("continue",26);case 25:d.push({id:c,start:ff(P,!0),end:ff(E,!0),text:T,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&x.return!=null&&x.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:Ln({json:d}),m=d.map(function(g){return new _y(g.id,g.start,g.end,g.text,g.is_music,g.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Bh(m);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,u;Ln("<transcript-viewer> firstUpdated()"),this.currentTime=0,this.kind="Lyrics (AI)",this.captions=[],this.transcriptConfigCache=[];var l=!0,s=!1,r=void 0;try{for(var d=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=_slicedToArray(c.value,2),f=h[0],v=h[1];if(!!v.tracks){var x={},w=!0,b=!1,C=void 0;try{for(var P=v.tracks[Symbol.iterator](),E;!(w=(E=P.next()).done);w=!0){var T=E.value;T.kind==="subtitles"&&((o=T.file)==null?void 0:o.endsWith(".srt"))&&(x[(u=T.label)!=null?u:"none"]=T.file)}}catch(m){b=!0,C=m}finally{try{!w&&P.return!=null&&P.return()}finally{if(b)throw C}}this.captions[f]=x.align||x.cc5||x.en||x.asr||x.none}}}catch(m){s=!0,r=m}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}Ln(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,u=5,l=1;return jh(_templateObject403(),Eo(o),Eo(u),Eo(l),Eo(o+2*l+2*u))}}]),e}(ys))}}),mC,ky,ll,yC=Tt({"https-url:https://esm.archive.org/v99/colorthief@2.4.0/deno/dist/color-thief.mjs.js":function(){if(!S)var S={map:function(e,n){var o={};return n?e.map(function(u,l){return o.index=l,n.call(o,u)}):e.slice()},naturalOrder:function(e,n){return e<n?-1:e>n?1:0},sum:function(e,n){var o={};return e.reduce(n?function(u,l,s){return o.index=s,u+n.call(o,l)}:function(u,l){return u+l},0)},max:function(e,n){return Math.max.apply(null,n?S.map(e,n):e)}};mC=function(){var t=function(c,h,f){return(c<<2*l)+(h<<l)+f},e=function(c){var h=[],f=!1;function v(){h.sort(c),f=!0}return{push:function(w){h.push(w),f=!1},peek:function(w){return f||v(),w===void 0&&(w=h.length-1),h[w]},pop:function(){return f||v(),h.pop()},size:function(){return h.length},map:function(w){return h.map(w)},debug:function(){return f||v(),h}}},n=function(c,h,f,v,x,w,b){var C=this;C.r1=c,C.r2=h,C.g1=f,C.g2=v,C.b1=x,C.b2=w,C.histo=b},o=function(){this.vboxes=new e(function(c,h){return S.naturalOrder(c.vbox.count()*c.vbox.volume(),h.vbox.count()*h.vbox.volume())})},u=function(c,h){if(h.count()){var f=h.r2-h.r1+1,v=h.g2-h.g1+1,x=S.max([f,v,h.b2-h.b1+1]);if(h.count()==1)return[h.copy()];var w,b,C,P,E=0,T=[],m=[];if(x==f)for(w=h.r1;w<=h.r2;w++){for(P=0,b=h.g1;b<=h.g2;b++)for(C=h.b1;C<=h.b2;C++)P+=c[t(w,b,C)]||0;T[w]=E+=P}else if(x==v)for(w=h.g1;w<=h.g2;w++){for(P=0,b=h.r1;b<=h.r2;b++)for(C=h.b1;C<=h.b2;C++)P+=c[t(b,w,C)]||0;T[w]=E+=P}else for(w=h.b1;w<=h.b2;w++){for(P=0,b=h.r1;b<=h.r2;b++)for(C=h.g1;C<=h.g2;C++)P+=c[t(b,C,w)]||0;T[w]=E+=P}return T.forEach(function(a,p){m[p]=E-a}),function(a){var p,g,y,_,j,R=a+"1",D=a+"2",H=0;for(w=h[R];w<=h[D];w++)if(T[w]>E/2){for(y=h.copy(),_=h.copy(),j=(p=w-h[R])<=(g=h[D]-w)?Math.min(h[D]-1,~~(w+g/2)):Math.max(h[R],~~(w-1-p/2));!T[j];)j++;for(H=m[j];!H&&T[j-1];)H=m[--j];return y[D]=j,_[R]=y[D]+1,[y,_]}}(x==f?"r":x==v?"g":"b")}},l=5,s=8-l,r=1e3;return n.prototype={volume:function(c){var h=this;return h._volume&&!c||(h._volume=(h.r2-h.r1+1)*(h.g2-h.g1+1)*(h.b2-h.b1+1)),h._volume},count:function(c){var h=this,f=h.histo;if(!h._count_set||c){var v,x,w,b=0;for(v=h.r1;v<=h.r2;v++)for(x=h.g1;x<=h.g2;x++)for(w=h.b1;w<=h.b2;w++)b+=f[t(v,x,w)]||0;h._count=b,h._count_set=!0}return h._count},copy:function(){var c=this;return new n(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,c.histo)},avg:function(c){var h=this,f=h.histo;if(!h._avg||c){var v,x,w,b,C=0,P=1<<8-l,E=0,T=0,m=0;for(x=h.r1;x<=h.r2;x++)for(w=h.g1;w<=h.g2;w++)for(b=h.b1;b<=h.b2;b++)C+=v=f[t(x,w,b)]||0,E+=v*(x+.5)*P,T+=v*(w+.5)*P,m+=v*(b+.5)*P;h._avg=C?[~~(E/C),~~(T/C),~~(m/C)]:[~~(P*(h.r1+h.r2+1)/2),~~(P*(h.g1+h.g2+1)/2),~~(P*(h.b1+h.b2+1)/2)]}return h._avg},contains:function(c){var h=this,f=c[0]>>s;return gval=c[1]>>s,bval=c[2]>>s,f>=h.r1&&f<=h.r2&&gval>=h.g1&&gval<=h.g2&&bval>=h.b1&&bval<=h.b2}},o.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var h=this.vboxes,f=0;f<h.size();f++)if(h.peek(f).vbox.contains(c))return h.peek(f).color;return this.nearest(c)},nearest:function(c){for(var h,f,v,x=this.vboxes,w=0;w<x.size();w++)((f=Math.sqrt(Math.pow(c[0]-x.peek(w).color[0],2)+Math.pow(c[1]-x.peek(w).color[1],2)+Math.pow(c[2]-x.peek(w).color[2],2)))<h||h===void 0)&&(h=f,v=x.peek(w).color);return v},forcebw:function(){var c=this.vboxes;c.sort(function(x,w){return S.naturalOrder(S.sum(x.color),S.sum(w.color))});var h=c[0].color;h[0]<5&&h[1]<5&&h[2]<5&&(c[0].color=[0,0,0]);var f=c.length-1,v=c[f].color;v[0]>251&&v[1]>251&&v[2]>251&&(c[f].color=[255,255,255])}},{quantize:function(c,h){var f=function(E,T){for(var m,a=E.size(),p=0;p<r;){if(a>=T||p++>r)return;if((m=E.pop()).count()){var g=u(v,m),y=g[0],_=g[1];if(!y)return;E.push(y),_&&(E.push(_),a++)}else E.push(m),p++}};if(!c.length||h<2||h>256)return!1;var v=function(P){var E,T=new Array(1<<3*l);return P.forEach(function(m){E=t(m[0]>>s,m[1]>>s,m[2]>>s),T[E]=(T[E]||0)+1}),T}(c);v.forEach(function(){});var x=function(P,E){var T,m,a,p=1e6,g=0,y=1e6,_=0,j=1e6,R=0;return P.forEach(function(D){(T=D[0]>>s)<p?p=T:T>g&&(g=T),(m=D[1]>>s)<y?y=m:m>_&&(_=m),(a=D[2]>>s)<j?j=a:a>R&&(R=a)}),new n(p,g,y,_,j,R,E)}(c,v),w=new e(function(P,E){return S.naturalOrder(P.count(),E.count())});w.push(x),f(w,.75*h);for(var b=new e(function(P,E){return S.naturalOrder(P.count()*P.volume(),E.count()*E.volume())});w.size();)b.push(w.pop());f(b,h);for(var C=new o;b.size();)C.push(b.pop());return C}}}().quantize,ky=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)},ky.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},ll=function(){},ll.prototype.getColor=function(t,e){return e===void 0&&(e=10),this.getPalette(t,5,e)[0]},ll.prototype.getPalette=function(t,e,n){var o=function(r){var d=r.colorCount,c=r.quality;if(d!==void 0&&Number.isInteger(d)){if(d===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");d=Math.max(d,2),d=Math.min(d,20)}else d=10;return(c===void 0||!Number.isInteger(c)||c<1)&&(c=10),{colorCount:d,quality:c}}({colorCount:e,quality:n}),u=new ky(t),l=function(r,d,c){for(var h,f,v,x,w,b=r,C=[],P=0;P<d;P+=c)f=b[0+(h=4*P)],v=b[h+1],x=b[h+2],((w=b[h+3])===void 0||w>=125)&&(f>250&&v>250&&x>250||C.push([f,v,x]));return C}(u.getImageData().data,u.width*u.height,o.quality),s=mC(l,o.colorCount);return s?s.palette():null},ll.prototype.getColorFromUrl=function(t,e,n){var o=this,u=document.createElement("img");u.addEventListener("load",function(){var l=o.getPalette(u,5,n);e(l[0],t)}),u.src=t},ll.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(this.status==200){var o=new Uint8Array(this.response);i=o.length;for(var u=new Array(i),l=0;l<o.length;l++)u[l]=String.fromCharCode(o[l]);var s=u.join(""),r=window.btoa(s);e("data:image/png;base64,"+r)}},n.send()},ll.prototype.getColorAsync=function(t,e,n){var o=this;this.getImageData(t,function(u){var l=document.createElement("img");l.addEventListener("load",function(){var s=o.getPalette(l,5,n);e(s[0],this)}),l.src=u})}}}),xy={};qr(xy,{default:function(){return ll}});var bC=Tt({"https-url:https://esm.archive.org/colorthief/dist/color-thief.mjs":function(){yC(),yC()}}),wC,Sy,_C,kC,xC,SC,AC,CC,OC,jC,Ay,PE,TE,IE,ME,RE,LE,DE,$E,BE,NE,zE,HE,FE,UE,VE,WE,qE,GE,YE,XE,KE,JE,QE,ZE,e9,t9,n9,r9,i9,o9,a9,s9,l9,u9,c9,d9,h9,f9,p9,v9,g9,m9,y9,b9,w9,_9,k9,x9,S9,A9,C9,O9,j9,E9,P9,T9,I9,M9,R9,L9,D9,$9,B9,N9,z9,H9,F9,U9,V9,W9,q9,G9,Y9,X9,K9,J9,Q9,Z9,eP,tP,nP,rP,iP,oP,aP,sP,lP,uP,cP,dP,hP,fP,pP,vP,gP,mP,yP,bP,wP,_P,kP,xP,SP,AP,CP,OP,jP,EP,PP,TP,IP,MP,RP,LP,DP,$P,BP,NP,zP,HP,FP,UP,VP,WP,qP,GP,YP,XP,KP,JP,QP,ZP,eT,tT,nT,rT,iT,oT,aT,sT,lT,uT,cT,dT,hT,fT,pT,vT,Vn,Cy,EC,PC,gT=Tt({"https-url:https://esm.archive.org/v99/color-name@1.1.4/deno/color-name.js":function(){wC=Object.create,Sy=Object.defineProperty,_C=Object.getOwnPropertyDescriptor,kC=Object.getOwnPropertyNames,xC=Object.getPrototypeOf,SC=Object.prototype.hasOwnProperty,AC=function(e,n){return function(){return n||e((n={exports:{}}).exports,n),n.exports}},CC=function(e,n,o,u){var l=!0,s=!1,r=void 0;if(n&&typeof n=="object"||typeof n=="function")try{for(var d=function(f,v){var x=v.value;!SC.call(e,x)&&x!==o&&Sy(e,x,{get:function(){return n[x]},enumerable:!(u=_C(n,x))||u.enumerable})},c=kC(n)[Symbol.iterator](),h;!(l=(h=c.next()).done);l=!0)d(c,h)}catch(f){s=!0,r=f}finally{try{!l&&c.return!=null&&c.return()}finally{if(s)throw r}}return e},OC=function(e,n,o){return o=e!=null?wC(xC(e)):{},CC(n||!e||!e.__esModule?Sy(o,"default",{value:e,enumerable:!0}):o,e)},jC=AC(function(e,n){"use strict";n.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),Ay=OC(jC());var S;S=Ay,PE=S.aliceblue,TE=S.antiquewhite,IE=S.aqua,ME=S.aquamarine,RE=S.azure,LE=S.beige,DE=S.bisque,$E=S.black,BE=S.blanchedalmond,NE=S.blue,zE=S.blueviolet,HE=S.brown,FE=S.burlywood,UE=S.cadetblue,VE=S.chartreuse,WE=S.chocolate,qE=S.coral,GE=S.cornflowerblue,YE=S.cornsilk,XE=S.crimson,KE=S.cyan,JE=S.darkblue,QE=S.darkcyan,ZE=S.darkgoldenrod,e9=S.darkgray,t9=S.darkgreen,n9=S.darkgrey,r9=S.darkkhaki,i9=S.darkmagenta,o9=S.darkolivegreen,a9=S.darkorange,s9=S.darkorchid,l9=S.darkred,u9=S.darksalmon,c9=S.darkseagreen,d9=S.darkslateblue,h9=S.darkslategray,f9=S.darkslategrey,p9=S.darkturquoise,v9=S.darkviolet,g9=S.deeppink,m9=S.deepskyblue,y9=S.dimgray,b9=S.dimgrey,w9=S.dodgerblue,_9=S.firebrick,k9=S.floralwhite,x9=S.forestgreen,S9=S.fuchsia,A9=S.gainsboro,C9=S.ghostwhite,O9=S.gold,j9=S.goldenrod,E9=S.gray,P9=S.green,T9=S.greenyellow,I9=S.grey,M9=S.honeydew,R9=S.hotpink,L9=S.indianred,D9=S.indigo,$9=S.ivory,B9=S.khaki,N9=S.lavender,z9=S.lavenderblush,H9=S.lawngreen,F9=S.lemonchiffon,U9=S.lightblue,V9=S.lightcoral,W9=S.lightcyan,q9=S.lightgoldenrodyellow,G9=S.lightgray,Y9=S.lightgreen,X9=S.lightgrey,K9=S.lightpink,J9=S.lightsalmon,Q9=S.lightseagreen,Z9=S.lightskyblue,eP=S.lightslategray,tP=S.lightslategrey,nP=S.lightsteelblue,rP=S.lightyellow,iP=S.lime,oP=S.limegreen,aP=S.linen,sP=S.magenta,lP=S.maroon,uP=S.mediumaquamarine,cP=S.mediumblue,dP=S.mediumorchid,hP=S.mediumpurple,fP=S.mediumseagreen,pP=S.mediumslateblue,vP=S.mediumspringgreen,gP=S.mediumturquoise,mP=S.mediumvioletred,yP=S.midnightblue,bP=S.mintcream,wP=S.mistyrose,_P=S.moccasin,kP=S.navajowhite,xP=S.navy,SP=S.oldlace,AP=S.olive,CP=S.olivedrab,OP=S.orange,jP=S.orangered,EP=S.orchid,PP=S.palegoldenrod,TP=S.palegreen,IP=S.paleturquoise,MP=S.palevioletred,RP=S.papayawhip,LP=S.peachpuff,DP=S.peru,$P=S.pink,BP=S.plum,NP=S.powderblue,zP=S.purple,HP=S.rebeccapurple,FP=S.red,UP=S.rosybrown,VP=S.royalblue,WP=S.saddlebrown,qP=S.salmon,GP=S.sandybrown,YP=S.seagreen,XP=S.seashell,KP=S.sienna,JP=S.silver,QP=S.skyblue,ZP=S.slateblue,eT=S.slategray,tT=S.slategrey,nT=S.snow,rT=S.springgreen,iT=S.steelblue,oT=S.tan,aT=S.teal,sT=S.thistle,lT=S.tomato,uT=S.turquoise,cT=S.violet,dT=S.wheat,hT=S.white,fT=S.whitesmoke,pT=S.yellow,vT=S.yellowgreen;var t;Vn=Ay,t=Vn,Cy=t.default,EC=xi(Vn,["default"]),PC=Cy!==void 0?Cy:EC}}),TC,Oy,IC,MC,RC,LC,mT,Nh,DC,$C,jy,BC,NC,zC,Vn,Ey,HC,FC,UC=Tt({"https-url:https://esm.archive.org/v99/color-convert@2.0.1/deno/color-convert.js":function(){gT(),TC=Object.create,Oy=Object.defineProperty,IC=Object.getOwnPropertyDescriptor,MC=Object.getOwnPropertyNames,RC=Object.getPrototypeOf,LC=Object.prototype.hasOwnProperty,mT=function(t){return(typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u"?Pi:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u"?Pi:e)[n]}}):t}(function(t){if((typeof Pi=="undefined"?"undefined":_typeof(Pi))<"u")return Pi.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),Nh=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},DC=function(t,e,n,o){var u=!0,l=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!LC.call(t,v)&&v!==n&&Oy(t,v,{get:function(){return e[v]},enumerable:!(o=IC(e,v))||o.enumerable})},d=MC(e)[Symbol.iterator](),c;!(u=(c=d.next()).done);u=!0)r(d,c)}catch(h){l=!0,s=h}finally{try{!u&&d.return!=null&&d.return()}finally{if(l)throw s}}return t},$C=function(t,e,n){return n=t!=null?TC(RC(t)):{},DC(e||!t||!t.__esModule?Oy(n,"default",{value:t,enumerable:!0}):n,t)},jy=Nh(function(t,e){var n=function(p,g){return ki(p[0]-g[0],2)+ki(p[1]-g[1],2)+ki(p[2]-g[2],2)},o=PC,u={},l=!0,s=!1,r=void 0;try{for(var d=Object.keys(o)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=c.value;u[o[h]]=h}}catch(a){s=!0,r=a}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}var f={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=f;var v=!0,x=!1,w=void 0;try{for(var b=Object.keys(f)[Symbol.iterator](),C;!(v=(C=b.next()).done);v=!0){var P=C.value;if(!("channels"in f[P]))throw new Error("missing channels property: "+P);if(!("labels"in f[P]))throw new Error("missing channel labels property: "+P);if(f[P].labels.length!==f[P].channels)throw new Error("channel and label counts mismatch: "+P);var E=f[P],T=E.channels,m=E.labels;delete f[P].channels,delete f[P].labels,Object.defineProperty(f[P],"channels",{value:T}),Object.defineProperty(f[P],"labels",{value:m})}}catch(a){x=!0,w=a}finally{try{!v&&b.return!=null&&b.return()}finally{if(x)throw w}}f.rgb.hsl=function(a){var p=a[0]/255,g=a[1]/255,y=a[2]/255,_=Math.min(p,g,y),j=Math.max(p,g,y),R=j-_,D,H;j===_?D=0:p===j?D=(g-y)/R:g===j?D=2+(y-p)/R:y===j&&(D=4+(p-g)/R),D=Math.min(D*60,360),D<0&&(D+=360);var K=(_+j)/2;return j===_?H=0:K<=.5?H=R/(j+_):H=R/(2-j-_),[D,H*100,K*100]},f.rgb.hsv=function(a){var p,g,y,_,j,R=a[0]/255,D=a[1]/255,H=a[2]/255,K=Math.max(R,D,H),J=K-Math.min(R,D,H),F=function(re){return(K-re)/6/J+1/2};return J===0?(_=0,j=0):(j=J/K,p=F(R),g=F(D),y=F(H),R===K?_=y-g:D===K?_=1/3+p-y:H===K&&(_=2/3+g-p),_<0?_+=1:_>1&&(_-=1)),[_*360,j*100,K*100]},f.rgb.hwb=function(a){var p=a[0],g=a[1],y=a[2],_=f.rgb.hsl(a)[0],j=1/255*Math.min(p,Math.min(g,y));return y=1-1/255*Math.max(p,Math.max(g,y)),[_,j*100,y*100]},f.rgb.cmyk=function(a){var p=a[0]/255,g=a[1]/255,y=a[2]/255,_=Math.min(1-p,1-g,1-y),j=(1-p-_)/(1-_)||0,R=(1-g-_)/(1-_)||0,D=(1-y-_)/(1-_)||0;return[j*100,R*100,D*100,_*100]},f.rgb.keyword=function(a){var p=u[a];if(p)return p;var g=1/0,y,_=!0,j=!1,R=void 0;try{for(var D=Object.keys(o)[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=H.value,J=o[K],F=n(a,J);F<g&&(g=F,y=K)}}catch(de){j=!0,R=de}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}return y},f.keyword.rgb=function(a){return o[a]},f.rgb.xyz=function(a){var p=a[0]/255,g=a[1]/255,y=a[2]/255;p=p>.04045?ki((p+.055)/1.055,2.4):p/12.92,g=g>.04045?ki((g+.055)/1.055,2.4):g/12.92,y=y>.04045?ki((y+.055)/1.055,2.4):y/12.92;var _=p*.4124+g*.3576+y*.1805,j=p*.2126+g*.7152+y*.0722,R=p*.0193+g*.1192+y*.9505;return[_*100,j*100,R*100]},f.rgb.lab=function(a){var p=f.rgb.xyz(a),g=p[0],y=p[1],_=p[2];g/=95.047,y/=100,_/=108.883,g=g>.008856?ki(g,1/3):7.787*g+16/116,y=y>.008856?ki(y,1/3):7.787*y+16/116,_=_>.008856?ki(_,1/3):7.787*_+16/116;var j=116*y-16,R=500*(g-y),D=200*(y-_);return[j,R,D]},f.hsl.rgb=function(a){var p=a[0]/360,g=a[1]/100,y=a[2]/100,_,j,R;if(g===0)return R=y*255,[R,R,R];y<.5?_=y*(1+g):_=y+g-y*g;for(var D=2*y-_,H=[0,0,0],K=0;K<3;K++)j=p+1/3*-(K-1),j<0&&j++,j>1&&j--,6*j<1?R=D+(_-D)*6*j:2*j<1?R=_:3*j<2?R=D+(_-D)*(2/3-j)*6:R=D,H[K]=R*255;return H},f.hsl.hsv=function(a){var p=a[0],g=a[1]/100,y=a[2]/100,_=g,j=Math.max(y,.01);y*=2,g*=y<=1?y:2-y,_*=j<=1?j:2-j;var R=(y+g)/2,D=y===0?2*_/(j+_):2*g/(y+g);return[p,D*100,R*100]},f.hsv.rgb=function(a){var p=a[0]/60,g=a[1]/100,y=a[2]/100,_=Math.floor(p)%6,j=p-Math.floor(p),R=255*y*(1-g),D=255*y*(1-g*j),H=255*y*(1-g*(1-j));switch(y*=255,_){case 0:return[y,H,R];case 1:return[D,y,R];case 2:return[R,y,H];case 3:return[R,D,y];case 4:return[H,R,y];case 5:return[y,R,D]}},f.hsv.hsl=function(a){var p=a[0],g=a[1]/100,y=a[2]/100,_=Math.max(y,.01),j,R;R=(2-g)*y;var D=(2-g)*_;return j=g*_,j/=D<=1?D:2-D,j=j||0,R/=2,[p,j*100,R*100]},f.hwb.rgb=function(a){var p=a[0]/360,g=a[1]/100,y=a[2]/100,_=g+y,j;_>1&&(g/=_,y/=_);var R=Math.floor(6*p),D=1-y;j=6*p-R,R&1&&(j=1-j);var H=g+j*(D-g),K,J,F;switch(R){default:case 6:case 0:K=D,J=H,F=g;break;case 1:K=H,J=D,F=g;break;case 2:K=g,J=D,F=H;break;case 3:K=g,J=H,F=D;break;case 4:K=H,J=g,F=D;break;case 5:K=D,J=g,F=H;break}return[K*255,J*255,F*255]},f.cmyk.rgb=function(a){var p=a[0]/100,g=a[1]/100,y=a[2]/100,_=a[3]/100,j=1-Math.min(1,p*(1-_)+_),R=1-Math.min(1,g*(1-_)+_),D=1-Math.min(1,y*(1-_)+_);return[j*255,R*255,D*255]},f.xyz.rgb=function(a){var p=a[0]/100,g=a[1]/100,y=a[2]/100,_,j,R;return _=p*3.2406+g*-1.5372+y*-.4986,j=p*-.9689+g*1.8758+y*.0415,R=p*.0557+g*-.204+y*1.057,_=_>.0031308?1.055*ki(_,1/2.4)-.055:_*12.92,j=j>.0031308?1.055*ki(j,1/2.4)-.055:j*12.92,R=R>.0031308?1.055*ki(R,1/2.4)-.055:R*12.92,_=Math.min(Math.max(0,_),1),j=Math.min(Math.max(0,j),1),R=Math.min(Math.max(0,R),1),[_*255,j*255,R*255]},f.xyz.lab=function(a){var p=a[0],g=a[1],y=a[2];p/=95.047,g/=100,y/=108.883,p=p>.008856?ki(p,1/3):7.787*p+16/116,g=g>.008856?ki(g,1/3):7.787*g+16/116,y=y>.008856?ki(y,1/3):7.787*y+16/116;var _=116*g-16,j=500*(p-g),R=200*(g-y);return[_,j,R]},f.lab.xyz=function(a){var p=a[0],g=a[1],y=a[2],_,j,R;j=(p+16)/116,_=g/500+j,R=j-y/200;var D=ki(j,3),H=ki(_,3),K=ki(R,3);return j=D>.008856?D:(j-16/116)/7.787,_=H>.008856?H:(_-16/116)/7.787,R=K>.008856?K:(R-16/116)/7.787,_*=95.047,j*=100,R*=108.883,[_,j,R]},f.lab.lch=function(a){var p=a[0],g=a[1],y=a[2],_;_=Math.atan2(y,g)*360/2/Math.PI,_<0&&(_+=360);var j=Math.sqrt(g*g+y*y);return[p,j,_]},f.lch.lab=function(a){var p=a[0],g=a[1],y=a[2]/360*2*Math.PI,_=g*Math.cos(y),j=g*Math.sin(y);return[p,_,j]},f.rgb.ansi16=function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=_slicedToArray(a,3),y=g[0],_=g[1],j=g[2],R=p===null?f.rgb.hsv(a)[2]:p;if(R=Math.round(R/50),R===0)return 30;var D=30+(Math.round(j/255)<<2|Math.round(_/255)<<1|Math.round(y/255));return R===2&&(D+=60),D},f.hsv.ansi16=function(a){return f.rgb.ansi16(f.hsv.rgb(a),a[2])},f.rgb.ansi256=function(a){var p=a[0],g=a[1],y=a[2];return p===g&&g===y?p<8?16:p>248?231:Math.round((p-8)/247*24)+232:16+36*Math.round(p/255*5)+6*Math.round(g/255*5)+Math.round(y/255*5)},f.ansi16.rgb=function(a){var p=a%10;if(p===0||p===7)return a>50&&(p+=3.5),p=p/10.5*255,[p,p,p];var g=(~~(a>50)+1)*.5,y=(p&1)*g*255,_=(p>>1&1)*g*255,j=(p>>2&1)*g*255;return[y,_,j]},f.ansi256.rgb=function(a){if(a>=232){var p=(a-232)*10+8;return[p,p,p]}a-=16;var g,y=Math.floor(a/36)/5*255,_=Math.floor((g=a%36)/6)/5*255,j=g%6/5*255;return[y,_,j]},f.rgb.hex=function(a){var p=(((Math.round(a[0])&255)<<16)+((Math.round(a[1])&255)<<8)+(Math.round(a[2])&255)).toString(16).toUpperCase();return"000000".substring(p.length)+p},f.hex.rgb=function(a){var p=a.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!p)return[0,0,0];var g=p[0];p[0].length===3&&(g=g.split("").map(function(D){return D+D}).join(""));var y=parseInt(g,16),_=y>>16&255,j=y>>8&255,R=y&255;return[_,j,R]},f.rgb.hcg=function(a){var p=a[0]/255,g=a[1]/255,y=a[2]/255,_=Math.max(Math.max(p,g),y),j=Math.min(Math.min(p,g),y),R=_-j,D,H;return R<1?D=j/(1-R):D=0,R<=0?H=0:_===p?H=(g-y)/R%6:_===g?H=2+(y-p)/R:H=4+(p-g)/R,H/=6,H%=1,[H*360,R*100,D*100]},f.hsl.hcg=function(a){var p=a[1]/100,g=a[2]/100,y=g<.5?2*p*g:2*p*(1-g),_=0;return y<1&&(_=(g-.5*y)/(1-y)),[a[0],y*100,_*100]},f.hsv.hcg=function(a){var p=a[1]/100,g=a[2]/100,y=p*g,_=0;return y<1&&(_=(g-y)/(1-y)),[a[0],y*100,_*100]},f.hcg.rgb=function(a){var p=a[0]/360,g=a[1]/100,y=a[2]/100;if(g===0)return[y*255,y*255,y*255];var _=[0,0,0],j=p%1*6,R=j%1,D=1-R,H=0;switch(Math.floor(j)){case 0:_[0]=1,_[1]=R,_[2]=0;break;case 1:_[0]=D,_[1]=1,_[2]=0;break;case 2:_[0]=0,_[1]=1,_[2]=R;break;case 3:_[0]=0,_[1]=D,_[2]=1;break;case 4:_[0]=R,_[1]=0,_[2]=1;break;default:_[0]=1,_[1]=0,_[2]=D}return H=(1-g)*y,[(g*_[0]+H)*255,(g*_[1]+H)*255,(g*_[2]+H)*255]},f.hcg.hsv=function(a){var p=a[1]/100,g=a[2]/100,y=p+g*(1-p),_=0;return y>0&&(_=p/y),[a[0],_*100,y*100]},f.hcg.hsl=function(a){var p=a[1]/100,g=a[2]/100*(1-p)+.5*p,y=0;return g>0&&g<.5?y=p/(2*g):g>=.5&&g<1&&(y=p/(2*(1-g))),[a[0],y*100,g*100]},f.hcg.hwb=function(a){var p=a[1]/100,g=a[2]/100,y=p+g*(1-p);return[a[0],(y-p)*100,(1-y)*100]},f.hwb.hcg=function(a){var p=a[1]/100,g=1-a[2]/100,y=g-p,_=0;return y<1&&(_=(g-y)/(1-y)),[a[0],y*100,_*100]},f.apple.rgb=function(a){return[a[0]/65535*255,a[1]/65535*255,a[2]/65535*255]},f.rgb.apple=function(a){return[a[0]/255*65535,a[1]/255*65535,a[2]/255*65535]},f.gray.rgb=function(a){return[a[0]/100*255,a[0]/100*255,a[0]/100*255]},f.gray.hsl=function(a){return[0,0,a[0]]},f.gray.hsv=f.gray.hsl,f.gray.hwb=function(a){return[0,100,a[0]]},f.gray.cmyk=function(a){return[0,0,0,a[0]]},f.gray.lab=function(a){return[a[0],0,0]},f.gray.hex=function(a){var p=Math.round(a[0]/100*255)&255,g=((p<<16)+(p<<8)+p).toString(16).toUpperCase();return"000000".substring(g.length)+g},f.rgb.gray=function(a){return[(a[0]+a[1]+a[2])/3/255*100]}}),BC=Nh(function(t,e){var n=function(){for(var d={},c=Object.keys(s),h=c.length,f=0;f<h;f++)d[c[f]]={distance:-1,parent:null};return d},o=function(d){var c=n(),h=[d];for(c[d].distance=0;h.length;)for(var f=h.pop(),v=Object.keys(s[f]),x=v.length,w=0;w<x;w++){var b=v[w],C=c[b];C.distance===-1&&(C.distance=c[f].distance+1,C.parent=f,h.unshift(b))}return c},u=function(d,c){return function(h){return c(d(h))}},l=function(d,c){for(var h=[c[d].parent,d],f=s[c[d].parent][d],v=c[d].parent;c[v].parent;)h.unshift(c[v].parent),f=u(s[c[v].parent][v],f),v=c[v].parent;return f.conversion=h,f},s=jy();e.exports=function(r){for(var d=o(r),c={},h=Object.keys(d),f=h.length,v=0;v<f;v++){var x=h[v];d[x].parent!==null&&(c[x]=l(x,d))}return c}}),NC=Nh(function(t,e){var n=function(c){var h=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];var b=x[0];return b==null?b:(b.length>1&&(x=b),c(x))};return"conversion"in c&&(h.conversion=c.conversion),h},o=function(c){var h=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];var b=x[0];if(b==null)return b;b.length>1&&(x=b);var C=c(x);if(typeof C=="object")for(var P=C.length,E=0;E<P;E++)C[E]=Math.round(C[E]);return C};return"conversion"in c&&(h.conversion=c.conversion),h},u=jy(),l=BC(),s={},r=Object.keys(u);r.forEach(function(d){s[d]={},Object.defineProperty(s[d],"channels",{value:u[d].channels}),Object.defineProperty(s[d],"labels",{value:u[d].labels});var c=l(d);Object.keys(c).forEach(function(h){var f=c[h];s[d][h]=o(f),s[d][h].raw=n(f)})}),e.exports=s}),zC=$C(NC());var S;Vn=zC,S=Vn,Ey=S.default,HC=xi(Vn,["default"]),FC=Ey!==void 0?Ey:HC}}),Py={};qr(Py,{default:function(){return FC}});var VC=Tt({"https-url:https://esm.archive.org/color-convert":function(){UC(),UC()}}),WC={};qr(WC,{default:function(){return r7}});var zh,Ty,Xc,Xo,qC,GC,Ko,YC,XC,KC,Iy,JC,Hh,My,QC,ZC,e7,t7,Fh,Ry,Pr,n7,r7,yT=Tt({"https-url:https://av.dev.archive.org/js/play.js":function(){if(S5(),da(),lu(),A5(),Wm(),il(),j5(),yE(),wE(),_E(),xE(),SE(),EE(),zh=480,Ty=640,Xc=30,Xo=60,qC=10,GC=350,Ko=Xc,YC=60,XC=140,KC=200,Iy=490,JC=Iy+55,Hh=152,My=800,QC=20,ZC=370,e7=100,t7=100,Fh=1200,Ry={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},Pr=function(l){"use strict";_inherits(r,l);var s=_createSuper(r);function r(d,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!d&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(d=f.getAttribute("jid"),c=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=Pr.headless_callback,delete Pr.headless_callback),Ln("TRIFECTA",{jid:d,playlist:c,args:h})),d||ee(".js-play8-config").each(function(v,x){h=JSON.parse(ee(x).val()),d=h.jid||"jw6";var w=ee(".js-play8");ee("play-av").length||w.attr({id:d}),Sa("playset")&&(h.onComplete=H5.onComplete),c=JSON.parse(ee(".js-play8-playlist").val())}),d?_possibleConstructorReturn(f,f.construct(d,c,h)):f}return _createClass(r,[{key:"construct",value:function(c,h,f){var v=this,x,w,b;this.jid=c;var C=this.cache();if(C)return C;ee("play-av").attr("jid")||ee("play-av").attr("jid",c),Pr.STASH[c]=this,Ln("PLAY CONFIG:",f);var P=!0,E=!1,T=void 0;try{for(var m=Object.entries(Ry)[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=_slicedToArray(a.value,2),g=p[0],y=p[1];this[g]=y}}catch(je){E=!0,T=je}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}var _=!0,j=!1,R=void 0;try{for(var D=Object.entries(f)[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=_slicedToArray(H.value,2),J=K[0],F=K[1];J in Ry&&(this[J]=F)}}catch(je){j=!0,R=je}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(c),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var de=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((x=this.triggers)==null?void 0:x.length)&&h.length&&!this.onTime?new n7(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!ee(this.jidsel).length){Ln("play.js requires #",c," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?ZC:e7),this.list_height=Math.min(this.list_height,h.length*QC)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var re=ee(window).width(),V=ee(window).height();this.width=this.audio?Math.min(re,My):re,this.height=this.audio?Ko+this.list_height:V-this.list_height}else this.aspectratio||(this.width=this.audio?GC:Ty,this.height=this.audio?Ko+this.list_height:zh);ee.each(h,function(je,Le){if(typeof Le.autoplay!="undefined"&&(de||(de=[]),de[je-1]=!Le.autoplay),typeof Le.sources=="undefined"&&typeof Le.file!="undefined"&&(Le.sources=[{file:Le.file,height:480}]),typeof Le.sources=="undefined")alert("".concat(je,": sources undefined!"));else{var ke=!0,Ze=!1,Ve=void 0;try{for(var Xe=Le.sources[Symbol.iterator](),dt;!(ke=(dt=Xe.next()).done);ke=!0){var yt=dt.value;typeof yt.file!="undefined"&&(!je&&yt.file.indexOf("/download")>=0&&(yt.file=yt.file.replace(/\/download\//,"/serve/")),yt.file=Pr.filename_char_encoder(yt.file))}}catch(pt){Ze=!0,Ve=pt}finally{try{!ke&&Xe.return!=null&&Xe.return()}finally{if(Ze)throw Ve}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var X=JSON.parse(JSON.stringify(h));X.forEach(function(je){return v.audio&&delete je.tracks,je});var oe={playlist:X,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Xc:this.height,base:O5};if(this.responsive&&!this.embed?oe.displaytitle=!1:this.aspectratio&&(oe.width="100%",oe.aspectratio=this.aspectratio,delete oe.height),this.identifier!==!1){var G=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",Y='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:Ty,'"\n                            height="').concat(this.audio?Ko:zh,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(G)).replace(/\s+/g," "),Z="[archiveorg ".concat(this.identifier).concat(G," width=640 height=").concat(this.audio?Ko:zh," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");oe.mediaid=this.identifier,ee("#embedcodehere").text(Y),ee("#embedcodehereWP").text(Z)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(oe.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||de){var ae=this,ie=this.onComplete;this.onComplete=function(je){var Le={done:ae.play_just1||de[je.getPlaylistIndex()]};Le.done&&je.stop(),ie&&ie(je,Le)}}return(w=this.HLS)==null||w.update_playlist(oe),Ln(oe),this.headless?(this.playN((b=this.headless.playN)!=null?b:0),this):(Fr(c).setup(oe),Fr(c).on("ready",function(){var je=v,Le;Ln("IA ",c," is ready");var ke=Fr(c);v.player=ke,Ln("NOTE: JW version: ",Fr.version);{var Ze=v.playlist.length,Ve=ke.getConfig().playlist.length;Ze!==Ve&&!(v.HLS&&Ve===1&&Ze>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",ke.getConfig().playlist.length)}if((Le=v.HLS)==null||Le.setup(v),v.onTime&&Ln("NOTE: onTime() is in use!"),v.onTime&&ke.on("time",function(){return je.onTime(ke)}),v.onComplete&&ke.on("complete",function(){return je.onComplete(ke)}),v.onDisplayClick&&ke.on("displayClick",function(){return je.onDisplayClick(ke)}),v.audio?ke.on("firstFrame",function(){return Pr.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(ke.on("firstFrame",function(){return Pr.track_event("Details-Video|VideoStarted")}),ke.on("complete",function(){return Pr.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),ke.once("meta",function(dt){Ln("onMeta() fired"),je.embed&&!je.audio&&je.adjust_video_width(dt),je.HLS||je.unpreload(),je.start&&(Ln("SEEK TO: ",je.start),je.pause(),Fr(c).seek(je.start))}),ke.on("playlistItem",function(dt){var yt=je,pt=dt.index;if(Ln("onPlaylistItem: ",pt),je.reloading_playlist_playlist_idx&&!pt){Ln("onPlaylistItem: ignoring since desired index ".concat(je.reloading_playlist_playlist_idx," !== ").concat(pt," -- and this is likely an event from reloading the playlist"));var Re=je.reloading_playlist_playlist_idx;je.reloading_playlist_playlist_idx=0,Fr(c).playlistItem(Re);return}je.track_change(ke,pt),je.seeker_playlist(),je.speed!==1&&setTimeout(function(){return yt.set_speed},1e3),je.waveformer_setup(ke)}),v.onPlaylistItem){var Xe=v;ke.on("playlistItem",function(dt){Ln("onPlaylistItem",{e:dt}),Xe.onPlaylistItem(ke,dt)})}ke.on("playlistComplete",function(){!je.audio&&je.collection&&!je.tv&&je.related_items_click()}),ke.on("error",function(dt){Ln("err"),Ln(dt),ee(je.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(ke)}),this)}},{key:"url_updater",value:function(c,h){if(Ln("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),x=Sa("playset",!0)?"?playset=1&autoplay=1":"";Ln("updating url to",v+x),history.replaceState({},null,v+x)}else{var w=this;Ln("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),c==null||c.once("play",function(){Ln("time to start updating urls"),w.update_url_onload=!0,w.url_updater(c,h)})}}}},{key:"waveformer_setup",value:function(c){var h=this,f;if(!(!this.audio||this.waveformed)){ee("#".concat(this.jid)).css("border-radius","".concat(Xo/2,"px 0 0 ").concat(Xo/2,"px")),this.recolor(),ee(".jw-slider-time").remove(),setTimeout(function(){ee("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';ee(".jw-icon-settings svg").html(v),ee(".jw-text-countdown").remove(),this.HLS?(ee(".jw-text-elapsed, .jw-text-duration").remove(),ee(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(Pr.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(ee(".jw-icon-settings").after(ee(".jw-text-elapsed")),ee(".jw-text-elapsed").after(ee(".jw-text-duration"))),this.canHLS&&(ee("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),ee("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),ee(".jw-settings-backgroundPlay").on("click",function(){ee(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ee("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),ee(".jw-settings-backgroundPlay").attr("aria-expanded","true"),ee(".jw-settings-playbackRates").attr("aria-expanded","")}),ee(".jw-settings-playbackRates").on("click",function(){ee(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ee("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),ee(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){ee("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),ee(".jw-settings-playbackRates").attr("aria-expanded","true"),ee(".jw-settings-backgroundPlay").attr("aria-expanded","")})),ee("#ia-scrubber").on("click",function(x){return h.waveform_clicked(x)}),c.on("time",function(x){var w;if(!!x.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,x.position/x.duration);var b="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),C=h.shadowRoot.getElementById("waveformer");C.style.width=b,h.waveformer_played_color&&(C.style.backgroundColor=h.waveformer_played_color),ee("#ia-scrubber").find(".jw-knob").css("left",b),ee("#ia-scrubber").find(".jw-progress").css({width:b,backgroundColor:(w=h.waveformer_progress_color)!=null?w:"#000"})}}),c.on("bufferChange",function(x){h.HLS?Ln("xxxhls HLS buffering"):ee("#ia-scrubber").find(".jw-buffer").css("width","".concat(x.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(c){var h=ee(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(c.offsetX/h).toFixed(2);if(Ln("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function c(){var h,f,v,x,w,b,C,P,E,T;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){a.next=5;break}return this.recolor_generic(),a.abrupt("return");case 5:if(w=(v=ee("ia-music-theater img"))==null?void 0:v.get(0),w){a.next=8;break}return a.abrupt("return");case 8:return a.t0=_slicedToArray,a.next=11,Promise.all([Promise.resolve().then(function(){return bC(),xy}),Promise.resolve().then(function(){return VC(),Py})]);case 11:a.t1=a.sent.map(function(p){return p.default}),b=(0,a.t0)(a.t1,2),C=b[0],P=b[1],E=function(){var p,g,y=new C,_=y.getPalette(w,5);if(Ln({palette:_}),!!_){var j=_[0];if(Ln({dominantColorRGB:j}),!!j){var R=(p=P.rgb).hsl.apply(p,_toConsumableArray(j));Ln({HSL:R});var D=Math.round(j.reduce(function(J,F){return J+F})/j.length),H=D>=128?"black":"white";Ln({avgVal:D});var K=(g=document.getElementById("theatre-ia-wrap"))!=null?g:document.getElementsByTagName("body")[0];K.style.color=H,K.style.backgroundImage="linear-gradient(rgb(".concat(j.join(","),"), black)"),K.style.backgroundRepeat="no-repeat",H==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(R[0],",").concat(R[1],"%,").concat(Math.min(100,1.5*R[2]),"%)")}}},T=(x=document.getElementById("theatre-ia-wrap"))!=null?x:document.getElementsByTagName("body")[0],T.style.backgroundImage="linear-gradient(#aaa, black)",T.style.backgroundRepeat="no-repeat",T.style.backgroundColor="black",w.crossOrigin="Anonymous",w.complete?E():w.addEventListener("load",E);case 22:case"end":return a.stop()}},c,this)}))}},{key:"recolor_generic",value:function(){var c,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],x=Pr.hash_string(this.identifier)%6,w=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];w.style.backgroundImage=h[x],this.waveformer_played_color=f[x],this.waveformer_progress_color=v[x]}},{key:"on",value:function(c,h){var f=Fr&&Fr(this.jid);return f&&f.on(c,h),this}},{key:"adjust_video_width",value:function(c){!c.width||!c.height||(c.height&&c.width&&c.height>0&&c.width>0&&parseInt(c.height,10)>0&&(this.DAR=parseInt(c.width,10)/parseInt(c.height,10),Ln("DAR: ",this.DAR,c.width,"x",c.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!Fr||!Fr(this.jid))){if(this.audio){Fr(this.jid).resize(Math.min(My,ee(window).width()),Ko);return}var c=ee(window).width(),h=ee(window).height()-this.list_height;Fr(this.jid).resize(c,h)}}},{key:"playN",value:function(c,h){if(this.headless)return this.onPlaylistItem(c-(this.headless.has_full_album?1:0)),this.track_change(void 0,c);var f=Fr(this.jid);return Ln("playN",{readyIA:this.readyIA,idx:c,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(c?this.triggers[c-1]-this.HLS.WIGGLE:0),this.track_change(f,c),!1):(f.playlistItem(c),!1)}},{key:"track_change",value:function(c,h){Ln("track_change",{idx:h}),this.trackno=h,this.url_updater(c,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var c=this;Fr(this.jid).once("seek",function(){c.pause(),Ln("... paused first seek!")})}!this.start||(this.pause(),Fr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var c=this;ee(window).on("resize  orientationchange",function(){var h=c;clearTimeout(Pr.throttler2),Pr.throttler2=setTimeout(function(){new Pr(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var c=Fr(this.jid),h=c.getPlaylist(),f=c.getPlaylistIndex();if(Ln("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,x=!1,w=void 0;try{for(var b=h[0].sources[Symbol.iterator](),C;!(v=(C=b.next()).done);v=!0){var P=C.value;P.file=P.file.replace(/\/serve\//,"/download/")}}catch(E){x=!0,w=E}finally{try{!v&&b.return!=null&&b.return()}finally{if(x)throw w}}}f?(c.on("playlist",function(){Ln("unpreload: onplaylist:",{startPlaylistIdx:f}),c.playlistIndex=f,c.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),c.load(h)}},{key:"details_setup",value:function(){Ln("details_setup");var c=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));Ln("looking for: ",v);for(var x in this.playlist){var w=Number(x);if(this.playlist[w].orig===v){Ln("player should seek to track #",w),c=w;break}}}if(!c&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(c||this.start))if(Ln("seek #",c," to ",this.start),this.HLS){var b=this;setTimeout(function(){return b.playN(0,!0)},500),setTimeout(function(){return b.playN(c,!0)},1e3)}else{var C=Fr(this.jid);C.playlistItem(c)}}},{key:"pause",value:function(){var c=Fr(this.jid);this.readyIA&&c&&c.getState&&c.getState()==="playing"&&c.pause()}},{key:"remove",value:function(){this.pause();var c=Fr(this.jid);this.readyIA&&c&&c.getConfig()&&c.remove(),delete Pr.STASH[this.jid]}},{key:"set_speed",value:function(){var c,h=ee("#".concat(this.jid," video")).get(0);h.playbackRate=(c=this.speed)!=null?c:1,Ln("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(c){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',x='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var C=this,P=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";c.addButton("/images/glogo-jw.png",P,function(){var g=document.createElement("a");g.setAttribute("href",C.details),g.setAttribute("target","_blank"),document.body.appendChild(g),g.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var E=this;c.addButton("/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(E.identifier)},"btn-mbd")}window.AJS&&(c.addButton(w,"share",function(){var g=ee(".jw-icon[button=btn-shr]").get(0);window.AJS.modal_go(g,{ignore_lnk:1,shown:window.AJS.embed_codes_adjust})},"btn-shr"),ee(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var T=this;c.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){window.top.location.href=T.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var m=this;c.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){m.related_items_click()},"btn-rel")}if(!1)var a;if(ee(".jw-icon-settings").css("display","flex"),ee(".jw-slider-time").remove(),ee(".jw-icon-settings").on("click",function(){return h.settings_opened()}),ee(".jw-settings-close").on("click",function(){return h.settings_closed()}),c.on("playbackRateChanged",function(){return h.settings_closed()}),ee(".jw-icon-volume").on("mouseover",function(){ee('div[button="btn-prv"]').hide(),ee('div[button="btn-nxt"]').hide(),ee(".jw-icon-settings").hide()}),ee("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){ee('div[button="btn-prv"]').show(),ee('div[button="btn-nxt"]').show(),ee(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;c.addButton(x,"next",function(){return(p.HLS||c).playlistNext()},"btn-nxt"),c.addButton(v,"previous",function(){return(p.HLS||c).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){ee(this.jidsel).css("overflow","visible"),ee(".jw-controls").css("overflow","visible").show(),ee("#jw-settings-menu").css({overflow:"visible",height:KC,top:Xc+5,bottom:"initial"}),ee(".jw-controlbar").show(),ee(".jw-icon-settings").removeClass("jw-icon-settings");var c=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=c-Hh+7;Ln({kebab_left:c,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){ee(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var c=this;if(window.WebKitPlaybackTargetAvailabilityEvent){ee("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(!!window.chrome){var h=function(v,x){x.play(null,function(w){Ln("media play success",v,x,w)},function(w){Ln("media play fail",w)})};this.cast_retries=0;var f=function(){var v=c;if(Ln("cast_setup #",c.cast_retries),c.cast_retries+=1,c.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(f,c.cast_retries*1e3);var x=window.chrome.cast,w=new x.SessionRequest(x.media.DEFAULT_MEDIA_RECEIVER_APP_ID),b=new x.ApiConfig(w,function(C){C.media.length&&h("onRequestSessionSuccess",C.media[0])},function(C){Ln("receiver listener fail",C)});return x.initialize(b,function(){var C=v;Ln("cast init success"),x.requestSession(function(P){Ln("request session success",P);var E=ee("".concat(C.jidsel," video")).attr("src"),T="".concat(location.protocol,"//").concat(location.host).concat(E),m=new x.media.MediaInfo(T),a=new x.media.LoadRequest(m);P.loadMedia(a,h.bind(C,"loadMedia"),function(p){Ln("onMediaError",p)})},function(P){Ln("request session fail",P),setTimeout(f,500)})},function(){return Ln("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var c=this,h=function(){ee("".concat(c.jidsel," .jw-controlbar")).one("click",function(x){ee("#related-items-bg").hide(),x.preventDefault()})};if(typeof qo!="undefined"&&!ee("#related-items").length){var f=this;ee("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),qo.getRelatedItems(this.identifier,!0).then(function(x){var w=Math.floor(x.length/2),b="",C=!0,P=!1,E=void 0;try{for(var T=Object.entries(x)[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=_slicedToArray(m.value,2),p=a[0],g=a[1];Number(p)===w&&f.collection==="prelinger"?(Pr.track_event("Details-Video|DonationEndrollDisplayed"),b+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):b+='\n<div>\n  <a href="/details/'.concat(g.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(g.title!==null?g.title:"","\n      ").concat(g.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(g.creator):"","\n      ").concat(g.downloads!==null?"<div>".concat(g.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(g.identifier,'"/>\n  </a>\n</div>\n')}}catch(y){P=!0,E=y}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}ee("#related-items").html(b),ee("#related-items-bg").show(),h()})}else{var v=ee("#related-items-bg:visible").length;v?ee("#related-items-bg").hide():(ee("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return ee("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var c=this;return this.hide_list?"":Hr(_templateObject408(),this.prior_panel,this.playlist.map(function(h,f){var v;return Hr(_templateObject406(),c.playlist_track_click,c.trackno===f?"selected":"",f,c.headless?"":Hr(_templateObject404(),f+1),(v=h.title)!=null?v:"",h.artist?Hr(_templateObject405(),h.artist):"","",h.duration?Pr.sec2hms(h.duration):c.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return Hr(_templateObject407(),c.goto_panel,f,Number(f)===c.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(c){this.playN(Number(c.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:-1*c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(c){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(c.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var c,h=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),x=h.scrollLeft;f.style.visibility=x<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var w=h.scrollWidth-h.clientWidth;v.style.visibility=x>=w?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var c;if(!this.always_single_panel&&!(ee(window).width()<Fh)){var h=(c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages");!h||(Ln("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(c){if(!!this.responsive){var h=ee(this.jidsel).offset(),f=ee(window).height()-h.top-t7;if(this.audio)this.playlist&&this.playlist.length>0&&(Ko=YC),f-=Ko,f=Math.max(XC,f),this.embed||(Ln("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Ln("aspect ratio appears to be: ",v));var x=ee(".container-ia:last").width();Ln("video max rect avail: ",x,"x",f);var w,b,C=!0,P=!1,E=void 0;try{for(var T=[960,840,720,600,480,360,240,180][Symbol.iterator](),m;!(C=(m=T.next()).done)&&(b=m.value,w=Math.round(b*v),Ln("video size try fit: ",w,"x",b),!(w<=x&&b<=f||w<=320));C=!0);}catch(p){P=!0,E=p}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}this.width=w,this.height=b,window.AJS&&window.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(c){var a=this;ee(window).on("resize  orientationchange",function(){var p=a;clearTimeout(Pr.throttler),Pr.throttler=setTimeout(function(){new Pr(p.jid).responsiveResize()},250)})}else this.audio||Fr(this.jid).resize(this.width,this.height);c||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof Pr.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return Pr.STASH[this.jid];delete Pr.STASH[this.jid]}}},{key:"updated",value:function(c){if(Ln("play updated()",c),"mdapi"in c&&Ln("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){Ln("play firstUpdated up")}},{key:"render",value:function(){var c;Ln("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&ee(this.jidsel).css("margin","auto"),this.add_buttons(this.player),ee(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),ee(".jw-controlbar").css("padding-top","8px"),this.responsive&&Ko>Xc&&ee(this.jidsel).css("height",Ko),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(c=this.playlist[this.trackno||0])==null?void 0:c.image:"";return Hr(_templateObject414(),this.audio&&!this.headless?Hr(_templateObject412(),f?Hr(_templateObject410(),f,this.waveform_clicked):Hr(_templateObject411())):"",this.show_transcripts()?Hr(_templateObject413(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var c=this,h,f,v,x,w=1600,b=1928,C=["78rpm","poohBot","edison-recordings","unlockedrecordings","georgeblood"];if(this.headless||!C.filter(function(m){var a;return(a=c.collections)==null?void 0:a.includes(m)}).length)return!1;var P=String((x=(v=(f=JSON.parse((h=ee(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?x:"6666");if(typeof P!="string")return!1;var E=P.match(/^(\d\d\d\d)$/)||P.match(/^(\d\d\d\d)-\d\d$/)||P.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!E)return!1;var T=Number(E[1]);return T<=b&&T>=w}},{key:"from_attr_identifier",value:function(){var c=this;Ln("from_attr_identifier()"),V5(this.identifier).then(function(h){c.mdapi=h}).catch(function(h){return Ln("error",h)})}},{key:"from_attr_mdapi",value:function(c){var h;Ln("from_attr_mdapi()");var f=new z5(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),x={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},w=[],b=f.jwplaylist(x,U5,w);if(Ln(b),f.showing==="audio"){var C=document.getElementsByTagName("body")[0];C.setAttribute("class","".concat((h=C.getAttribute("class"))!=null?h:""," jwaudio")),x&&!this.embed&&(x.waveformer=!0)}this.construct(c,b,x)}}},{key:"draggable_scrubber",value:function(){var c=this,h=function(w){if(!!f){var b=document.getElementById("ia-scrubber").getBoundingClientRect(),C=Math.min(b.width,Math.max(0,w.clientX-b.left));ee("#ia-scrubber .jw-knob").css({left:"".concat(C,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){c.player.pause(),f=!0}),v.addEventListener("mouseup",function(){c.player.play(),f=!1})}},{key:"headless_create",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!c.length){var h=ee("play-av:not(:first)"),f=ee("play-av:first"),v=window.Play(h.attr("jid")),x=window.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),Ln("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var w=v.headless.tracks[v.trackno];x.playN(Math.max(0,w),!0)}return}this.pause();var b={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:c,has_full_album:!1}},C=[],P=!0,E=!1,T=void 0;try{for(var m=c[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=a.value;Number(p)===-1&&(b.headless.has_full_album=!0),C.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(j){E=!0,T=j}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}var g=ee("play-av").parent(),y=ee("play-av:first").attr("jid"),_=window.Play(y).trackno;b.headless.playN=Math.max(0,c.indexOf(_)),ee("play-av:first").hide(),ee("play-av[jid=headless]").remove(),delete Pr.STASH.headless,g.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(C).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(b).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(c){return c.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome}},{key:"styles",get:function(){return Cc(_templateObject409(),pi(Xo),pi(Xo/2),pi(Xo)/2,pi(Xo/2),pi(Xo),pi(Xo),pi(Xo/2-9),pi(Fh-1),pi(Fh))}},{key:"css",value:function(){var c=document.getElementsByTagName("head")[0];if(!!c){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(qC,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(Iy,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(JC,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(Hh,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(Hh,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),c.appendChild(h)}}},{key:"sec2hms",value:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(c),x=Math.floor(v/3600),w=Math.floor((v-x*3600)/60);v-=x*3600+w*60;var b="",C="";(h||x>0)&&(C="00".concat(x),b+=C.substr(C.length-2,2),b+=":"),C="00".concat(w),b+=C.substr(C.length-2,2),b+=":",C="00".concat(v),b+=C.substr(C.length-2,2);var P=f?".".concat((c%1).toFixed(3).slice(2)):"";return"".concat(b).concat(P)}},{key:"seconds",value:function(c){var h=c.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(c){var h="".concat(c.href,"/").match(/[/#]start\/([\d.]+)\//)||c.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return Fr().seek(f),typeof history.pushState=="undefined"?location.href=c.href:history.pushState({},null,c.href),!1}},{key:"mute_click",value:function(){var c,h=!Gr.get("unmute");if((c=window.AJS)!=null&&c.emulator)window.AJS.emulator.setMute(!h);else{var f=Fr("jw6");if(f){var v=f.getVolume();v?(Pr.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof Pr.mute_click_prior_volume=="undefined"?100:Pr.mute_click_prior_volume)}}return ee("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?Gr.set("unmute",1,{path:"/details",expires:30}):Gr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var c=function(g){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+g)!=-1||document.currentScript.src.indexOf("&"+g)!=-1)},h=c("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=c("loadCastFramework")||c("loadCastApplicationFramework"),v=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},x=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],w=function(p){p.length?C(p.shift(),function(){w(p)}):E()},b=function(g){return"chrome-extension://"+g+h},C=function(g,y,_){var j=document.createElement("script");j.onerror=y,_&&(j.onload=_),j.src=g,(document.head||document.documentElement).appendChild(j)},P=function(g){return 0<=window.navigator.userAgent.indexOf(g)},E=function(){var g=v();g&&g(!1,"No cast extension found")},T=function(){if(f){var g=2,y=v(),_=function(){g--,g==0&&y&&y(!0)};window.__onGCastApiAvailable=_,C("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",E,_)}};if(P("CriOS")){var m=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;m&&(T(),m({command:"cast.sender.init"}))}else if(P("Android")&&P("Chrome/")&&window.navigator.presentation){T();var a=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);w(["//www.gstatic.com/eureka/clank/"+(a?parseInt(a[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else window.chrome&&window.navigator.presentation&&!P("Edge")?(T(),w(x.map(b))):E()}()}},{key:"filename_char_encoder",value:function(c){var h=c.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(c){if(!!window.archive_analytics){var h=_slicedToArray(c.split("|"),2),f=h[0],v=h[1];window.archive_analytics.send_event(f,v,window.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return Ln("track ".concat(v," clicked"))},f=ee("play-av:first").attr("jid");Pr.headless_callback=h,window.Play(f).headless_create(c,h)}}]),r}(Oo),n7=function(){"use strict";function l(s){_classCallCheck(this,l),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,Ln(s.triggers)}return _createClass(l,[{key:"setup",value:function(r){var d=this;this.play=r,this.p.player.on("time",function(){return d.on_time()}),this.p.player.on("meta",function(c){return Ln("HLS meta",c)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var d=this.playlist_index;if(r>=this.p.triggers[d]+this.WIGGLE)for(Ln("on_time >=",r,">=",this.p.triggers[d]+this.WIGGLE);r>=this.p.triggers[d]-this.WIGGLE;)d+=1;else if(r<this.p.triggers[d-1]+this.WIGGLE)for(Ln("on_time <",r,"<",this.p.triggers[d-1]-this.WIGGLE);d&&r<this.p.triggers[d-1]-this.WIGGLE;)d-=1;if(d!==this.playlist_index){if(Ln("HLS switching tracks:",this.playlist_index,"=>",d),this.playlist_index=d,this.play.track_change(this.p.player,this.playlist_index),ee("#play-hls-duration").html(Pr.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Ln(this.p.playlist[this.playlist_index]);var c=this.p.playlist[this.playlist_index].image;if(c){ee("#waveformer-loader").length||ee("body").append('<img id="waveformer-loader"></img>');var h=ee("#waveformer-loader").get(0);h.onload=function(){return ee(".jw-preview").css("background-color","transparent")},h.src=c,ee(".jw-preview").css("background-color","black"),ee(".jw-preview").css("background-image",'url("'.concat(c,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);ee("#play-hls-elapsed").html(Pr.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){Ln("HLS.update_playlist",r.playlist);var d=Sa("mode")==="aac"?"&mode=aac":"";if(0){var c;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(d,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,Ln("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){Ln("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){Ln("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var d=this.playlist_index,c=d?this.p.triggers[d-1]:0,h=this.p.triggers[d]-c;this.p.player.seek(c+h*r)}}]),l}(),!window.Play){Pr.STASH={},Pr.css(),window.Play=function(l,s,r){return new Pr(l,s,r)};var S=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(S=(o=n.next()).done);S=!0){var u=o.value;window.Play[u]=Pr[u]}}catch(l){t=!0,e=l}finally{try{!S&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",Pr)}r7=Pr}}),Uh=Tt({"https-url:https://av.prod.archive.org/js/util/strings.js":function(){}}),bT=Tt({"https-url:https://av.prod.archive.org/js/tv/tuners.js":function(){}}),wT=Tt({"https-url:https://av.prod.archive.org/js/items.js":function(){Uh()}}),_T=Tt({"https-url:https://av.prod.archive.org/js/util/fetch.js":function(){}}),kT=Tt({"https-url:https://av.prod.archive.org/iso/hostname.js":function(){}}),i7,xT,o7,ST,AT,a7=Tt({"https-url:https://av.prod.archive.org/js/tv.js":function(){l7(),s7(),bT(),Rs(),Ly(),wT(),_T(),kT(),Uh(),xT=(i7=_0())!=null&&i7.startsWith("tvnix")?_0().split(".")[0].substr(5).toUpperCase():!1,o7="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",ST="identifier ~ '".concat(o7.slice(1).slice(0,-1),"'"),AT=FO(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),s7=Tt({"https-url:https://av.prod.archive.org/js/tv/recordings.js":function(){a7()}}),l7=Tt({"https-url:https://av.prod.archive.org/js/tv/zones.js":function(){s7(),Rs()}}),u7,CT,Ly=Tt({"https-url:https://av.prod.archive.org/js/time.js":function(){Rs(),Uh(),l7(),a7(),u7={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},CT=Object.keys(u7)}}),Vh,ws,c7,d7,h7,Wh,f7,p7,ul,v7,OT=Tt({"https-url:https://av.prod.archive.org/js/player.js":function(){Rs(),Qf(),Ly(),Uh(),Vh=!1,ws=100,c7=(location==null?void 0:location.host)==="av.dev.archive.org",d7="__ia_thumb.jpg",h7=0,Wh=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",Vh?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(S){return[S,h7++]})),f7=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],p7=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],ul=function(){"use strict";function S(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,S),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},u={},l={},s={},r={},d={},c={},h={},f=Wh.thumbnail2,v={};t.files.forEach(function(at){var ut=_slicedToArray(n.filter(at),1),qe=ut[0];if(!!qe){if("original"in qe){var ze=ul.val(qe.original);qe.name!==ze&&(o[qe.name]=ze)}qe.name.endsWith(".png")&&!qe.name.endsWith("_spectrogram.png")&&(c[qe.name]=1)}}),Rn(o),t.files.forEach(function(at){var ut=_slicedToArray(n.filter(at),3),qe=ut[0],ze=ut[1],Fe=ut[2];if(!!qe){var tt=qe.name,nt=Wh[ze],bt="original"in qe,wt=tt;if(bt){wt=ul.val(qe.original);for(var _t=10;_t&&wt in o;_t--)wt=o[wt];(Fe==="mp4"||Fe==="ogv")&&wt in t.files&&t.files[wt].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),wt="{$m2[1]}{$m2[2]}$origSuffix"),wt=ul.val(wt)}else"artist"in qe?v[wt]=qe.artist:"creatorxxx"in qe&&(v[wt]=qe.creatorxxx);if(!(e&&wt!==e)){if(wt in u||(u[wt]={}),"title"in qe&&(bt&&"title"in u[wt]||(u[wt].title=qe.title)),"height"in qe&&(n.heights[tt]=qe.height),"width"in qe&&(n.widths[tt]=qe.width),"autoplay"in qe&&(r[tt]=qe.autoplay),"length"in qe){var st=pf(String(ul.val(qe.length)));n.durations[tt]=st,bt&&(h[wt]=1),(bt||!("length"in u[wt])||!(wt in h))&&(u[wt].length=Math.round(st))}if(!!nt){if(bt){if(ze==="h.264 720p"){u[wt].HD=tt;return}}else{var ye=qe.title;if(ze==="h.264 hd"||ze==="h.264 mpeg4"&&(ye.indexOf("[HD]")>0||ye.indexOf(" HD ")>0||ye.endsWith(" HD"))){u[wt].HD=tt;return}if(Vh&&ze==="h.264 4k"){u[wt]["4K"]=tt;return}nt>1&&(nt+=ws)}nt>1&&(f7.indexOf(ze)>=0?(l[wt]=1,d[tt]=1):s[wt]=1),wt in u||(u[wt]={}),nt in u[wt]?ze==="thumbnail"&&f in u[wt]&&(u[wt][f]=tt):(u[wt][nt]=tt,nt<ws&&nt+ws in u[wt]?delete u[wt][nt+ws]:nt>ws&&nt-ws in u[wt]&&delete u[wt][nt-ws])}}}}),Rn(u),this.haxLP&&(delete u["".concat(this.identifier,".flac")],delete u["".concat(this.identifier,".ogg")],delete u["".concat(this.identifier,".mp3")],delete u["".concat(this.identifier,".m4a")]);var x=Object.keys(l).length,w=Object.keys(s).length;w>0&&(w>=x||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=x?"audio":!1;var b=Object.values(v);(b.length<=1||_toConsumableArray(new Set(b)).length<=1)&&(v={});var C=this.showing==="movies"?s:l,P=this.showing==="movies"?w:x,E=!0,T=!1,m=void 0;try{for(var a=Object.entries(u)[Symbol.iterator](),p;!(E=(p=a.next()).done);E=!0){var g=_slicedToArray(p.value,2),y=g[0],_=g[1];if(y in C){var j={SRC:[]};if(0 in _)j.POSTER=_[0];else if(1 in _)j.POSTER=_[1];else{var R=!0,D=!1,H=void 0;try{for(var K=Object.entries(_)[Symbol.iterator](),J;!(R=(J=K.next()).done);R=!0){var F=_slicedToArray(J.value,2),de=F[0],re=F[1];if(parseInt(de,10)){var V=re.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");V!==re&&V in c&&(j.POSTER=V)}}}catch(at){D=!0,H=at}finally{try{!R&&K.return!=null&&K.return()}finally{if(D)throw H}}}y in r&&(j.AUTOPLAY=!1);var X=!0,oe=!1,G=void 0;try{for(var Y=Object.entries(_)[Symbol.iterator](),Z;!(X=(Z=Y.next()).done);X=!0){var ae=_slicedToArray(Z.value,2),ie=ae[0],je=ae[1];if(parseInt(ie,10)&&ie>1){if(this.showing==="movies"&&d[je]||this.showing!=="movies"&&!d[je])continue;j.SRC.push(je)}}}catch(at){oe=!0,G=at}finally{try{!X&&Y.return!=null&&Y.return()}finally{if(oe)throw G}}!j.SRC.length||(j.TITLE="title"in _?ul.val(_.title):y.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),j.ORIG=y,y in v&&(j.ARTIST=v[y]),"length"in _?j.length=_.length:j.length=this.runtime(t,P,y),"HD"in _&&(j.HD=_.HD),Vh&&"4K"in _&&(j["4K"]=_["4K"]),this.groups.push(j))}}}catch(at){T=!0,m=at}finally{try{!E&&a.return!=null&&a.return()}finally{if(T)throw m}}if(this.captions(),c7&&Rn("player",this),this.showing==="audio"){var Le=!0,ke=!1,Ze=void 0;try{for(var Ve=this.groups[Symbol.iterator](),Xe;!(Le=(Xe=Ve.next()).done);Le=!0){var dt=Xe.value,yt=!1,pt=!1,Re=!0,_e=!1,Ne=void 0;try{for(var Je=Object.entries(dt.SRC)[Symbol.iterator](),Ye;!(Re=(Ye=Je.next()).done);Re=!0){var Te=_slicedToArray(Ye.value,2),rt=Te[0],ht=Te[1];ht.endsWith("_sample.mp3")?yt=rt:ht.endsWith(".mp3")&&(pt=!0)}}catch(at){_e=!0,Ne=at}finally{try{!Re&&Je.return!=null&&Je.return()}finally{if(_e)throw Ne}}pt&&yt!==!1&&dt.SRC.splice(yt,1)}}catch(at){ke=!0,Ze=at}finally{try{!Le&&Ve.return!=null&&Ve.return()}finally{if(ke)throw Ze}}}}return _createClass(S,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),u=e.format.toLowerCase();if(p7.includes(u)||n===d7)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var l=Wh[u];return o==="mp3"&&!l?[e,"64kbps mp3",o]:[e,u,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=[],l="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?ca("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(H){return[H,r++]}));var d=!0,c=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(d=(v=f.next()).done);d=!0){var x=v.value,w={sources:[],title:HO(x.TITLE,100,!0)};"ORIG"in x&&(w.orig=x.ORIG,"ARTIST"in x&&(w.artist=x.ARTIST)),"AUTOPLAY"in x&&(w.autoplay=x.AUTOPLAY);var b=ca("poster");b?w.image=this.url(b.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in x||this.showing==="audio"&&"POSTER"in x)&&(w.image=this.url(l+x.POSTER),o.length||o.push(this.url(l+x.POSTER))),"length"in x&&(w.duration=x.length),"HD"in x&&x.SRC.push(x.HD);var C={},P=!0,E=!1,T=void 0;try{for(var m=x.SRC[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=a.value,g=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(g==="ogg"||g==="ogv"))){var y="",_=[640,480];switch(g){case"mp3":y="mp3";break;case"ogg":y="ogg";break;case"m4a":y="aac";break;case"ogv":y="ogg",_=[400,300];break;case"mp4":y="mp4";break;case"mpeg4":y="mp4";break;case"m4v":y="mp4";break;case"mov":y="mp4";break;case"flv":y="video/x-flv";break;case"swf":y="video/x-flv";break;default:y=""}var j=p in this.widths?this.widths[p]:_[0],R=p in this.heights?this.heights[p]:_[1],D={file:this.url(l+p),width:j,height:R};y!==""&&(D.type=y),this.showing==="movies"&&(D.label="".concat(R,"p").concat(R>=720?" HD":"")),!(y&&parseInt(R,10)===parseInt(C[y],10))&&(C[y]=R,w.sources.push(D),this.showing==="movies"&&"image"in w&&(w.tracks=[{kind:"thumbnails",file:"".concat(w.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(w.duration=Math.max(w.duration,this.durations[p])))}}}catch(H){E=!0,T=H}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}Rn(e.tv),u.push(w)}}catch(H){c=!0,h=H}finally{try{!d&&f.return!=null&&f.return()}finally{if(c)throw h}}return u}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),S}(),v7=ul}}),g7,m7,jT=Tt({"https-url:https://av.prod.archive.org/js/util/ios.js":function(){g7=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,m7=g7}}),ET=Tt({"https-url:https://av.prod.archive.org/iso/s3.js":function(){}}),y7,PT=Tt({"https-url:https://av.prod.archive.org/js/mdapi.js":function(){ET(),y7=UO}}),TT=Tt({"https-url:https://av.prod.archive.org/js/play/background-play.js":function(){lu(),da(),customElements.define("background-play",function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!Gr.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,Gr.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,Gr.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return Hr(_templateObject415(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(Oo))}}),IT=Tt({"https-url:https://av.prod.archive.org/js/play/transcript-viewer.js":function(){vC(),gC(),Ly(),Rs(),customElements.define("transcript-viewer",function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?Yo(_templateObject419(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?Yo(_templateObject417()):Yo(_templateObject418()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):Yo(_templateObject416())}},{key:"transcript_toggled",value:function(){!this.transcriptConfig||(this.is_open=!this.is_open,this.is_open&&window.archive_analytics&&window.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(Rn("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var u=document.querySelector("video");if(u){var l=this;this.tracking_time=!0,u.addEventListener("timeupdate",function(){var s;l.currentTime=u.currentTime;var r=(s=l.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=l.currentTime,!l.transcript_view_tweaked)){var d=r.shadowRoot.querySelectorAll("transcript-entry");if(d.length){if(l.transcript_view_tweaked=!0,l.kind==="Lyrics (AI)"){var c=function(){return d.forEach(function(f){return f.style.display="block"})};c(),setTimeout(c,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var u=o.detail||{},l=u.entry||{};if(!!l.start){var s=l.start;this.currentTime=s;var r=document.querySelector("video");Rn({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l,s,r,d,c,h,f,v,x,w,b,C,P,E,T,m;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,u=this.captions[this.trackno],u){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return l=u.replace(/^\/download\//,"https://archive.org/cors/"),Rn({srtUrl:l}),p.next=10,fetch(l);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,d=[],c=0,h=!0,f=!1,v=void 0,p.prev=17,x=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(w=x.next()).done){p.next=29;break}if(b=w.value,c+=1,C=_slicedToArray(b.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),P=C[1],E=C[2],T=C[3],E){p.next=25;break}return p.abrupt("continue",26);case 25:d.push({id:c,start:pf(P,!0),end:pf(E,!0),text:T,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&x.return!=null&&x.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:Rn({json:d}),m=d.map(function(g){return new _y(g.id,g.start,g.end,g.text,g.is_music,g.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Bh(m);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,u;Rn("<transcript-viewer> firstUpdated()"),this.currentTime=0,this.kind="Lyrics (AI)",this.captions=[],this.transcriptConfigCache=[];var l=!0,s=!1,r=void 0;try{for(var d=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0){var h=_slicedToArray(c.value,2),f=h[0],v=h[1];if(!!v.tracks){var x={},w=!0,b=!1,C=void 0;try{for(var P=v.tracks[Symbol.iterator](),E;!(w=(E=P.next()).done);w=!0){var T=E.value;T.kind==="subtitles"&&((o=T.file)==null?void 0:o.endsWith(".srt"))&&(x[(u=T.label)!=null?u:"none"]=T.file)}}catch(m){b=!0,C=m}finally{try{!w&&P.return!=null&&P.return()}finally{if(b)throw C}}this.captions[f]=x.align||x.cc5||x.en||x.asr||x.none}}}catch(m){s=!0,r=m}finally{try{!l&&d.return!=null&&d.return()}finally{if(s)throw r}}Rn(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,u=5,l=1;return jh(_templateObject420(),Eo(o),Eo(u),Eo(l),Eo(o+2*l+2*u))}}]),e}(ys))}}),b7={};qr(b7,{default:function(){return T7}});var qh,Dy,Kc,Jo,w7,_7,Qo,k7,x7,S7,$y,A7,Gh,By,C7,O7,j7,E7,Yh,Ny,Tr,P7,T7,MT=Tt({"https-url:https://av.prod.archive.org/js/play.js":function(){if(S5(),da(),lu(),db(),Qf(),Rs(),ep(),OT(),np(),jT(),PT(),TT(),IT(),qh=480,Dy=640,Kc=30,Jo=60,w7=10,_7=350,Qo=Kc,k7=60,x7=140,S7=200,$y=490,A7=$y+55,Gh=152,By=800,C7=20,O7=370,j7=100,E7=100,Yh=1200,Ny={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},Tr=function(l){"use strict";_inherits(r,l);var s=_createSuper(r);function r(d,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!d&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(d=f.getAttribute("jid"),c=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=Tr.headless_callback,delete Tr.headless_callback),Rn("TRIFECTA",{jid:d,playlist:c,args:h})),d||ee(".js-play8-config").each(function(v,x){h=JSON.parse(ee(x).val()),d=h.jid||"jw6";var w=ee(".js-play8");ee("play-av").length||w.attr({id:d}),ca("playset")&&(h.onComplete=tp.onComplete),c=JSON.parse(ee(".js-play8-playlist").val())}),d?_possibleConstructorReturn(f,f.construct(d,c,h)):f}return _createClass(r,[{key:"construct",value:function(c,h,f){var v=this,x,w,b;this.jid=c;var C=this.cache();if(C)return C;ee("play-av").attr("jid")||ee("play-av").attr("jid",c),Tr.STASH[c]=this,Rn("PLAY CONFIG:",f);var P=!0,E=!1,T=void 0;try{for(var m=Object.entries(Ny)[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=_slicedToArray(a.value,2),g=p[0],y=p[1];this[g]=y}}catch(je){E=!0,T=je}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}var _=!0,j=!1,R=void 0;try{for(var D=Object.entries(f)[Symbol.iterator](),H;!(_=(H=D.next()).done);_=!0){var K=_slicedToArray(H.value,2),J=K[0],F=K[1];J in Ny&&(this[J]=F)}}catch(je){j=!0,R=je}finally{try{!_&&D.return!=null&&D.return()}finally{if(j)throw R}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(c),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var de=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((x=this.triggers)==null?void 0:x.length)&&h.length&&!this.onTime?new P7(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!ee(this.jidsel).length){Rn("play.js requires #",c," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?O7:j7),this.list_height=Math.min(this.list_height,h.length*C7)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var re=ee(window).width(),V=ee(window).height();this.width=this.audio?Math.min(re,By):re,this.height=this.audio?Qo+this.list_height:V-this.list_height}else this.aspectratio||(this.width=this.audio?_7:Dy,this.height=this.audio?Qo+this.list_height:qh);ee.each(h,function(je,Le){if(typeof Le.autoplay!="undefined"&&(de||(de=[]),de[je-1]=!Le.autoplay),typeof Le.sources=="undefined"&&typeof Le.file!="undefined"&&(Le.sources=[{file:Le.file,height:480}]),typeof Le.sources=="undefined")alert("".concat(je,": sources undefined!"));else{var ke=!0,Ze=!1,Ve=void 0;try{for(var Xe=Le.sources[Symbol.iterator](),dt;!(ke=(dt=Xe.next()).done);ke=!0){var yt=dt.value;typeof yt.file!="undefined"&&(!je&&yt.file.indexOf("/download")>=0&&(yt.file=yt.file.replace(/\/download\//,"/serve/")),yt.file=Tr.filename_char_encoder(yt.file))}}catch(pt){Ze=!0,Ve=pt}finally{try{!ke&&Xe.return!=null&&Xe.return()}finally{if(Ze)throw Ve}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var X=JSON.parse(JSON.stringify(h));X.forEach(function(je){return v.audio&&delete je.tracks,je});var oe={playlist:X,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Kc:this.height,base:Zf};if(this.responsive&&!this.embed?oe.displaytitle=!1:this.aspectratio&&(oe.width="100%",oe.aspectratio=this.aspectratio,delete oe.height),this.identifier!==!1){var G=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",Y='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:Dy,'"\n                            height="').concat(this.audio?Qo:qh,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(G)).replace(/\s+/g," "),Z="[archiveorg ".concat(this.identifier).concat(G," width=640 height=").concat(this.audio?Qo:qh," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");oe.mediaid=this.identifier,ee("#embedcodehere").text(Y),ee("#embedcodehereWP").text(Z)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(oe.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||de){var ae=this,ie=this.onComplete;this.onComplete=function(je){var Le={done:ae.play_just1||de[je.getPlaylistIndex()]};Le.done&&je.stop(),ie&&ie(je,Le)}}return(w=this.HLS)==null||w.update_playlist(oe),Rn(oe),this.headless?(this.playN((b=this.headless.playN)!=null?b:0),this):(hr(c).setup(oe),hr(c).on("ready",function(){var je=v,Le;Rn("IA ",c," is ready");var ke=hr(c);v.player=ke,Rn("NOTE: JW version: ",hr.version);{var Ze=v.playlist.length,Ve=ke.getConfig().playlist.length;Ze!==Ve&&!(v.HLS&&Ve===1&&Ze>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",ke.getConfig().playlist.length)}if((Le=v.HLS)==null||Le.setup(v),v.onTime&&Rn("NOTE: onTime() is in use!"),v.onTime&&ke.on("time",function(){return je.onTime(ke)}),v.onComplete&&ke.on("complete",function(){return je.onComplete(ke)}),v.onDisplayClick&&ke.on("displayClick",function(){return je.onDisplayClick(ke)}),v.audio?ke.on("firstFrame",function(){return Tr.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(ke.on("firstFrame",function(){return Tr.track_event("Details-Video|VideoStarted")}),ke.on("complete",function(){return Tr.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),ke.once("meta",function(dt){Rn("onMeta() fired"),je.embed&&!je.audio&&je.adjust_video_width(dt),je.HLS||je.unpreload(),je.start&&(Rn("SEEK TO: ",je.start),je.pause(),hr(c).seek(je.start))}),ke.on("playlistItem",function(dt){var yt=je,pt=dt.index;if(Rn("onPlaylistItem: ",pt),je.reloading_playlist_playlist_idx&&!pt){Rn("onPlaylistItem: ignoring since desired index ".concat(je.reloading_playlist_playlist_idx," !== ").concat(pt," -- and this is likely an event from reloading the playlist"));var Re=je.reloading_playlist_playlist_idx;je.reloading_playlist_playlist_idx=0,hr(c).playlistItem(Re);return}je.track_change(ke,pt),je.seeker_playlist(),je.speed!==1&&setTimeout(function(){return yt.set_speed},1e3),je.waveformer_setup(ke)}),v.onPlaylistItem){var Xe=v;ke.on("playlistItem",function(dt){Rn("onPlaylistItem",{e:dt}),Xe.onPlaylistItem(ke,dt)})}ke.on("playlistComplete",function(){!je.audio&&je.collection&&!je.tv&&je.related_items_click()}),ke.on("error",function(dt){Rn("err"),Rn(dt),ee(je.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(ke)}),this)}},{key:"url_updater",value:function(c,h){if(Rn("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),x=ca("playset",!0)?"?playset=1&autoplay=1":"";Rn("updating url to",v+x),history.replaceState({},null,v+x)}else{var w=this;Rn("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),c==null||c.once("play",function(){Rn("time to start updating urls"),w.update_url_onload=!0,w.url_updater(c,h)})}}}},{key:"waveformer_setup",value:function(c){var h=this,f;if(!(!this.audio||this.waveformed)){ee("#".concat(this.jid)).css("border-radius","".concat(Jo/2,"px 0 0 ").concat(Jo/2,"px")),this.recolor(),ee(".jw-slider-time").remove(),setTimeout(function(){ee("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';ee(".jw-icon-settings svg").html(v),ee(".jw-text-countdown").remove(),this.HLS?(ee(".jw-text-elapsed, .jw-text-duration").remove(),ee(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(Tr.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(ee(".jw-icon-settings").after(ee(".jw-text-elapsed")),ee(".jw-text-elapsed").after(ee(".jw-text-duration"))),this.canHLS&&(ee("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),ee("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),ee(".jw-settings-backgroundPlay").on("click",function(){ee(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ee("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),ee(".jw-settings-backgroundPlay").attr("aria-expanded","true"),ee(".jw-settings-playbackRates").attr("aria-expanded","")}),ee(".jw-settings-playbackRates").on("click",function(){ee(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),ee("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),ee(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){ee("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),ee(".jw-settings-playbackRates").attr("aria-expanded","true"),ee(".jw-settings-backgroundPlay").attr("aria-expanded","")})),ee("#ia-scrubber").on("click",function(x){return h.waveform_clicked(x)}),c.on("time",function(x){var w;if(!!x.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,x.position/x.duration);var b="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),C=h.shadowRoot.getElementById("waveformer");C.style.width=b,h.waveformer_played_color&&(C.style.backgroundColor=h.waveformer_played_color),ee("#ia-scrubber").find(".jw-knob").css("left",b),ee("#ia-scrubber").find(".jw-progress").css({width:b,backgroundColor:(w=h.waveformer_progress_color)!=null?w:"#000"})}}),c.on("bufferChange",function(x){h.HLS?Rn("xxxhls HLS buffering"):ee("#ia-scrubber").find(".jw-buffer").css("width","".concat(x.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(c){var h=ee(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(c.offsetX/h).toFixed(2);if(Rn("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function c(){var h,f,v,x,w,b,C,P,E,T;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){a.next=5;break}return this.recolor_generic(),a.abrupt("return");case 5:if(w=(v=ee("ia-music-theater img"))==null?void 0:v.get(0),w){a.next=8;break}return a.abrupt("return");case 8:return a.t0=_slicedToArray,a.next=11,Promise.all([Promise.resolve().then(function(){return bC(),xy}),Promise.resolve().then(function(){return VC(),Py})]);case 11:a.t1=a.sent.map(function(p){return p.default}),b=(0,a.t0)(a.t1,2),C=b[0],P=b[1],E=function(){var p,g,y=new C,_=y.getPalette(w,5);if(Rn({palette:_}),!!_){var j=_[0];if(Rn({dominantColorRGB:j}),!!j){var R=(p=P.rgb).hsl.apply(p,_toConsumableArray(j));Rn({HSL:R});var D=Math.round(j.reduce(function(J,F){return J+F})/j.length),H=D>=128?"black":"white";Rn({avgVal:D});var K=(g=document.getElementById("theatre-ia-wrap"))!=null?g:document.getElementsByTagName("body")[0];K.style.color=H,K.style.backgroundImage="linear-gradient(rgb(".concat(j.join(","),"), black)"),K.style.backgroundRepeat="no-repeat",H==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(R[0],",").concat(R[1],"%,").concat(Math.min(100,1.5*R[2]),"%)")}}},T=(x=document.getElementById("theatre-ia-wrap"))!=null?x:document.getElementsByTagName("body")[0],T.style.backgroundImage="linear-gradient(#aaa, black)",T.style.backgroundRepeat="no-repeat",T.style.backgroundColor="black",w.crossOrigin="Anonymous",w.complete?E():w.addEventListener("load",E);case 22:case"end":return a.stop()}},c,this)}))}},{key:"recolor_generic",value:function(){var c,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],x=Tr.hash_string(this.identifier)%6,w=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];w.style.backgroundImage=h[x],this.waveformer_played_color=f[x],this.waveformer_progress_color=v[x]}},{key:"on",value:function(c,h){var f=hr&&hr(this.jid);return f&&f.on(c,h),this}},{key:"adjust_video_width",value:function(c){!c.width||!c.height||(c.height&&c.width&&c.height>0&&c.width>0&&parseInt(c.height,10)>0&&(this.DAR=parseInt(c.width,10)/parseInt(c.height,10),Rn("DAR: ",this.DAR,c.width,"x",c.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!hr||!hr(this.jid))){if(this.audio){hr(this.jid).resize(Math.min(By,ee(window).width()),Qo);return}var c=ee(window).width(),h=ee(window).height()-this.list_height;hr(this.jid).resize(c,h)}}},{key:"playN",value:function(c,h){if(this.headless)return this.onPlaylistItem(c-(this.headless.has_full_album?1:0)),this.track_change(void 0,c);var f=hr(this.jid);return Rn("playN",{readyIA:this.readyIA,idx:c,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(c?this.triggers[c-1]-this.HLS.WIGGLE:0),this.track_change(f,c),!1):(f.playlistItem(c),!1)}},{key:"track_change",value:function(c,h){Rn("track_change",{idx:h}),this.trackno=h,this.url_updater(c,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var c=this;hr(this.jid).once("seek",function(){c.pause(),Rn("... paused first seek!")})}!this.start||(this.pause(),hr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var c=this;ee(window).on("resize  orientationchange",function(){var h=c;clearTimeout(Tr.throttler2),Tr.throttler2=setTimeout(function(){new Tr(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var c=hr(this.jid),h=c.getPlaylist(),f=c.getPlaylistIndex();if(Rn("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,x=!1,w=void 0;try{for(var b=h[0].sources[Symbol.iterator](),C;!(v=(C=b.next()).done);v=!0){var P=C.value;P.file=P.file.replace(/\/serve\//,"/download/")}}catch(E){x=!0,w=E}finally{try{!v&&b.return!=null&&b.return()}finally{if(x)throw w}}}f?(c.on("playlist",function(){Rn("unpreload: onplaylist:",{startPlaylistIdx:f}),c.playlistIndex=f,c.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),c.load(h)}},{key:"details_setup",value:function(){Rn("details_setup");var c=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));Rn("looking for: ",v);for(var x in this.playlist){var w=Number(x);if(this.playlist[w].orig===v){Rn("player should seek to track #",w),c=w;break}}}if(!c&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(c||this.start))if(Rn("seek #",c," to ",this.start),this.HLS){var b=this;setTimeout(function(){return b.playN(0,!0)},500),setTimeout(function(){return b.playN(c,!0)},1e3)}else{var C=hr(this.jid);C.playlistItem(c)}}},{key:"pause",value:function(){var c=hr(this.jid);this.readyIA&&c&&c.getState&&c.getState()==="playing"&&c.pause()}},{key:"remove",value:function(){this.pause();var c=hr(this.jid);this.readyIA&&c&&c.getConfig()&&c.remove(),delete Tr.STASH[this.jid]}},{key:"set_speed",value:function(){var c,h=ee("#".concat(this.jid," video")).get(0);h.playbackRate=(c=this.speed)!=null?c:1,Rn("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(c){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',x='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var C=this,P=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";c.addButton("/images/glogo-jw.png",P,function(){var g=document.createElement("a");g.setAttribute("href",C.details),g.setAttribute("target","_blank"),document.body.appendChild(g),g.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var E=this;c.addButton("/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(E.identifier)},"btn-mbd")}window.AJS&&(c.addButton(w,"share",function(){var g=ee(".jw-icon[button=btn-shr]").get(0);window.AJS.modal_go(g,{ignore_lnk:1,shown:window.AJS.embed_codes_adjust})},"btn-shr"),ee(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var T=this;c.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){window.top.location.href=T.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var m=this;c.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){m.related_items_click()},"btn-rel")}if(!1)var a;if(ee(".jw-icon-settings").css("display","flex"),ee(".jw-slider-time").remove(),ee(".jw-icon-settings").on("click",function(){return h.settings_opened()}),ee(".jw-settings-close").on("click",function(){return h.settings_closed()}),c.on("playbackRateChanged",function(){return h.settings_closed()}),ee(".jw-icon-volume").on("mouseover",function(){ee('div[button="btn-prv"]').hide(),ee('div[button="btn-nxt"]').hide(),ee(".jw-icon-settings").hide()}),ee("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){ee('div[button="btn-prv"]').show(),ee('div[button="btn-nxt"]').show(),ee(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;c.addButton(x,"next",function(){return(p.HLS||c).playlistNext()},"btn-nxt"),c.addButton(v,"previous",function(){return(p.HLS||c).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){ee(this.jidsel).css("overflow","visible"),ee(".jw-controls").css("overflow","visible").show(),ee("#jw-settings-menu").css({overflow:"visible",height:S7,top:Kc+5,bottom:"initial"}),ee(".jw-controlbar").show(),ee(".jw-icon-settings").removeClass("jw-icon-settings");var c=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=c-Gh+7;Rn({kebab_left:c,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){ee(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var c=this;if(window.WebKitPlaybackTargetAvailabilityEvent){ee("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(!!window.chrome){var h=function(v,x){x.play(null,function(w){Rn("media play success",v,x,w)},function(w){Rn("media play fail",w)})};this.cast_retries=0;var f=function(){var v=c;if(Rn("cast_setup #",c.cast_retries),c.cast_retries+=1,c.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(f,c.cast_retries*1e3);var x=window.chrome.cast,w=new x.SessionRequest(x.media.DEFAULT_MEDIA_RECEIVER_APP_ID),b=new x.ApiConfig(w,function(C){C.media.length&&h("onRequestSessionSuccess",C.media[0])},function(C){Rn("receiver listener fail",C)});return x.initialize(b,function(){var C=v;Rn("cast init success"),x.requestSession(function(P){Rn("request session success",P);var E=ee("".concat(C.jidsel," video")).attr("src"),T="".concat(location.protocol,"//").concat(location.host).concat(E),m=new x.media.MediaInfo(T),a=new x.media.LoadRequest(m);P.loadMedia(a,h.bind(C,"loadMedia"),function(p){Rn("onMediaError",p)})},function(P){Rn("request session fail",P),setTimeout(f,500)})},function(){return Rn("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var c=this,h=function(){ee("".concat(c.jidsel," .jw-controlbar")).one("click",function(x){ee("#related-items-bg").hide(),x.preventDefault()})};if(typeof qo!="undefined"&&!ee("#related-items").length){var f=this;ee("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),qo.getRelatedItems(this.identifier,!0).then(function(x){var w=Math.floor(x.length/2),b="",C=!0,P=!1,E=void 0;try{for(var T=Object.entries(x)[Symbol.iterator](),m;!(C=(m=T.next()).done);C=!0){var a=_slicedToArray(m.value,2),p=a[0],g=a[1];Number(p)===w&&f.collection==="prelinger"?(Tr.track_event("Details-Video|DonationEndrollDisplayed"),b+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):b+='\n<div>\n  <a href="/details/'.concat(g.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(g.title!==null?g.title:"","\n      ").concat(g.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(g.creator):"","\n      ").concat(g.downloads!==null?"<div>".concat(g.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(g.identifier,'"/>\n  </a>\n</div>\n')}}catch(y){P=!0,E=y}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}ee("#related-items").html(b),ee("#related-items-bg").show(),h()})}else{var v=ee("#related-items-bg:visible").length;v?ee("#related-items-bg").hide():(ee("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return ee("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var c=this;return this.hide_list?"":Hr(_templateObject425(),this.prior_panel,this.playlist.map(function(h,f){var v;return Hr(_templateObject423(),c.playlist_track_click,c.trackno===f?"selected":"",f,c.headless?"":Hr(_templateObject421(),f+1),(v=h.title)!=null?v:"",h.artist?Hr(_templateObject422(),h.artist):"","",h.duration?Tr.sec2hms(h.duration):c.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return Hr(_templateObject424(),c.goto_panel,f,Number(f)===c.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(c){this.playN(Number(c.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:-1*c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(c){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(c.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var c,h=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),x=h.scrollLeft;f.style.visibility=x<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var w=h.scrollWidth-h.clientWidth;v.style.visibility=x>=w?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var c;if(!this.always_single_panel&&!(ee(window).width()<Yh)){var h=(c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages");!h||(Rn("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(c){if(!!this.responsive){var h=ee(this.jidsel).offset(),f=ee(window).height()-h.top-E7;if(this.audio)this.playlist&&this.playlist.length>0&&(Qo=k7),f-=Qo,f=Math.max(x7,f),this.embed||(Rn("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Rn("aspect ratio appears to be: ",v));var x=ee(".container-ia:last").width();Rn("video max rect avail: ",x,"x",f);var w,b,C=!0,P=!1,E=void 0;try{for(var T=[960,840,720,600,480,360,240,180][Symbol.iterator](),m;!(C=(m=T.next()).done)&&(b=m.value,w=Math.round(b*v),Rn("video size try fit: ",w,"x",b),!(w<=x&&b<=f||w<=320));C=!0);}catch(p){P=!0,E=p}finally{try{!C&&T.return!=null&&T.return()}finally{if(P)throw E}}this.width=w,this.height=b,window.AJS&&window.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(c){var a=this;ee(window).on("resize  orientationchange",function(){var p=a;clearTimeout(Tr.throttler),Tr.throttler=setTimeout(function(){new Tr(p.jid).responsiveResize()},250)})}else this.audio||hr(this.jid).resize(this.width,this.height);c||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof Tr.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return Tr.STASH[this.jid];delete Tr.STASH[this.jid]}}},{key:"updated",value:function(c){if(Rn("play updated()",c),"mdapi"in c&&Rn("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){Rn("play firstUpdated up")}},{key:"render",value:function(){var c;Rn("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&ee(this.jidsel).css("margin","auto"),this.add_buttons(this.player),ee(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),ee(".jw-controlbar").css("padding-top","8px"),this.responsive&&Qo>Kc&&ee(this.jidsel).css("height",Qo),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(c=this.playlist[this.trackno||0])==null?void 0:c.image:"";return Hr(_templateObject431(),this.audio&&!this.headless?Hr(_templateObject429(),f?Hr(_templateObject427(),f,this.waveform_clicked):Hr(_templateObject428())):"",this.show_transcripts()?Hr(_templateObject430(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var c=this,h,f,v,x,w=1600,b=1928,C=["78rpm","poohBot","edison-recordings","unlockedrecordings","georgeblood"];if(this.headless||!C.filter(function(m){var a;return(a=c.collections)==null?void 0:a.includes(m)}).length)return!1;var P=String((x=(v=(f=JSON.parse((h=ee(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?x:"6666");if(typeof P!="string")return!1;var E=P.match(/^(\d\d\d\d)$/)||P.match(/^(\d\d\d\d)-\d\d$/)||P.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!E)return!1;var T=Number(E[1]);return T<=b&&T>=w}},{key:"from_attr_identifier",value:function(){var c=this;Rn("from_attr_identifier()"),y7(this.identifier).then(function(h){c.mdapi=h}).catch(function(h){return Rn("error",h)})}},{key:"from_attr_mdapi",value:function(c){var h;Rn("from_attr_mdapi()");var f=new v7(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),x={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},w=[],b=f.jwplaylist(x,m7,w);if(Rn(b),f.showing==="audio"){var C=document.getElementsByTagName("body")[0];C.setAttribute("class","".concat((h=C.getAttribute("class"))!=null?h:""," jwaudio")),x&&!this.embed&&(x.waveformer=!0)}this.construct(c,b,x)}}},{key:"draggable_scrubber",value:function(){var c=this,h=function(w){if(!!f){var b=document.getElementById("ia-scrubber").getBoundingClientRect(),C=Math.min(b.width,Math.max(0,w.clientX-b.left));ee("#ia-scrubber .jw-knob").css({left:"".concat(C,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){c.player.pause(),f=!0}),v.addEventListener("mouseup",function(){c.player.play(),f=!1})}},{key:"headless_create",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!c.length){var h=ee("play-av:not(:first)"),f=ee("play-av:first"),v=window.Play(h.attr("jid")),x=window.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),Rn("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var w=v.headless.tracks[v.trackno];x.playN(Math.max(0,w),!0)}return}this.pause();var b={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:c,has_full_album:!1}},C=[],P=!0,E=!1,T=void 0;try{for(var m=c[Symbol.iterator](),a;!(P=(a=m.next()).done);P=!0){var p=a.value;Number(p)===-1&&(b.headless.has_full_album=!0),C.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(j){E=!0,T=j}finally{try{!P&&m.return!=null&&m.return()}finally{if(E)throw T}}var g=ee("play-av").parent(),y=ee("play-av:first").attr("jid"),_=window.Play(y).trackno;b.headless.playN=Math.max(0,c.indexOf(_)),ee("play-av:first").hide(),ee("play-av[jid=headless]").remove(),delete Tr.STASH.headless,g.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(C).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(b).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(c){return c.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome}},{key:"styles",get:function(){return Cc(_templateObject426(),pi(Jo),pi(Jo/2),pi(Jo)/2,pi(Jo/2),pi(Jo),pi(Jo),pi(Jo/2-9),pi(Yh-1),pi(Yh))}},{key:"css",value:function(){var c=document.getElementsByTagName("head")[0];if(!!c){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(w7,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat($y,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(A7,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(Gh,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(Gh,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),c.appendChild(h)}}},{key:"sec2hms",value:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(c),x=Math.floor(v/3600),w=Math.floor((v-x*3600)/60);v-=x*3600+w*60;var b="",C="";(h||x>0)&&(C="00".concat(x),b+=C.substr(C.length-2,2),b+=":"),C="00".concat(w),b+=C.substr(C.length-2,2),b+=":",C="00".concat(v),b+=C.substr(C.length-2,2);var P=f?".".concat((c%1).toFixed(3).slice(2)):"";return"".concat(b).concat(P)}},{key:"seconds",value:function(c){var h=c.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(c){var h="".concat(c.href,"/").match(/[/#]start\/([\d.]+)\//)||c.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return hr().seek(f),typeof history.pushState=="undefined"?location.href=c.href:history.pushState({},null,c.href),!1}},{key:"mute_click",value:function(){var c,h=!Gr.get("unmute");if((c=window.AJS)!=null&&c.emulator)window.AJS.emulator.setMute(!h);else{var f=hr("jw6");if(f){var v=f.getVolume();v?(Tr.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof Tr.mute_click_prior_volume=="undefined"?100:Tr.mute_click_prior_volume)}}return ee("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?Gr.set("unmute",1,{path:"/details",expires:30}):Gr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var c=function(g){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+g)!=-1||document.currentScript.src.indexOf("&"+g)!=-1)},h=c("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=c("loadCastFramework")||c("loadCastApplicationFramework"),v=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},x=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],w=function(p){p.length?C(p.shift(),function(){w(p)}):E()},b=function(g){return"chrome-extension://"+g+h},C=function(g,y,_){var j=document.createElement("script");j.onerror=y,_&&(j.onload=_),j.src=g,(document.head||document.documentElement).appendChild(j)},P=function(g){return 0<=window.navigator.userAgent.indexOf(g)},E=function(){var g=v();g&&g(!1,"No cast extension found")},T=function(){if(f){var g=2,y=v(),_=function(){g--,g==0&&y&&y(!0)};window.__onGCastApiAvailable=_,C("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",E,_)}};if(P("CriOS")){var m=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;m&&(T(),m({command:"cast.sender.init"}))}else if(P("Android")&&P("Chrome/")&&window.navigator.presentation){T();var a=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);w(["//www.gstatic.com/eureka/clank/"+(a?parseInt(a[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else window.chrome&&window.navigator.presentation&&!P("Edge")?(T(),w(x.map(b))):E()}()}},{key:"filename_char_encoder",value:function(c){var h=c.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(c){if(!!window.archive_analytics){var h=_slicedToArray(c.split("|"),2),f=h[0],v=h[1];window.archive_analytics.send_event(f,v,window.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return Rn("track ".concat(v," clicked"))},f=ee("play-av:first").attr("jid");Tr.headless_callback=h,window.Play(f).headless_create(c,h)}}]),r}(Oo),P7=function(){"use strict";function l(s){_classCallCheck(this,l),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,Rn(s.triggers)}return _createClass(l,[{key:"setup",value:function(r){var d=this;this.play=r,this.p.player.on("time",function(){return d.on_time()}),this.p.player.on("meta",function(c){return Rn("HLS meta",c)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var d=this.playlist_index;if(r>=this.p.triggers[d]+this.WIGGLE)for(Rn("on_time >=",r,">=",this.p.triggers[d]+this.WIGGLE);r>=this.p.triggers[d]-this.WIGGLE;)d+=1;else if(r<this.p.triggers[d-1]+this.WIGGLE)for(Rn("on_time <",r,"<",this.p.triggers[d-1]-this.WIGGLE);d&&r<this.p.triggers[d-1]-this.WIGGLE;)d-=1;if(d!==this.playlist_index){if(Rn("HLS switching tracks:",this.playlist_index,"=>",d),this.playlist_index=d,this.play.track_change(this.p.player,this.playlist_index),ee("#play-hls-duration").html(Tr.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Rn(this.p.playlist[this.playlist_index]);var c=this.p.playlist[this.playlist_index].image;if(c){ee("#waveformer-loader").length||ee("body").append('<img id="waveformer-loader"></img>');var h=ee("#waveformer-loader").get(0);h.onload=function(){return ee(".jw-preview").css("background-color","transparent")},h.src=c,ee(".jw-preview").css("background-color","black"),ee(".jw-preview").css("background-image",'url("'.concat(c,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);ee("#play-hls-elapsed").html(Tr.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){Rn("HLS.update_playlist",r.playlist);var d=ca("mode")==="aac"?"&mode=aac":"";if(0){var c;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(d,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,Rn("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){Rn("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){Rn("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var d=this.playlist_index,c=d?this.p.triggers[d-1]:0,h=this.p.triggers[d]-c;this.p.player.seek(c+h*r)}}]),l}(),!window.Play){Tr.STASH={},Tr.css(),window.Play=function(l,s,r){return new Tr(l,s,r)};var S=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(S=(o=n.next()).done);S=!0){var u=o.value;window.Play[u]=Tr[u]}}catch(l){t=!0,e=l}finally{try{!S&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",Tr)}T7=Tr}}),I7={};qr(I7,{default:function(){return ai}});var Su,Xh,zy,Kh,M7,Zo,Hy,Jh,Fy,R7,L7,D7,$7,B7,ai,RT=Tt({"components/play8/play8.js":function(){da(),np(),ep(),oi(),$b(),vo(),up(),wb(),Md(),Su={},Xh=480,zy=640,Kh=30,M7=350,Zo=Kh,Hy=140,Jh=240,Fy=800,R7=20,L7=370,D7=100,$7=100,B7=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),ai=function(){"use strict";function l(s,r){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=d.start,h=c===void 0?0:c,f=d.embed,v=f===void 0?!1:f,x=d.hide_list,w=x===void 0?!1:x,b=d.autoplay,C=b===void 0?!1:b,P=d.audio,E=P===void 0?!1:P,T=d.width,m=T===void 0?0:T,a=d.height,p=a===void 0?0:a,g=d.responsive,y=g===void 0?!1:g,_=d.aspectratio,j=_===void 0?!1:_,R=d.noshare,D=R===void 0?!1:R,H=d.nolinks,K=H===void 0?!1:H,J=d.logo,F=J===void 0?!1:J,de=d.so,re=de===void 0?!1:de,V=d.tv,X=V===void 0?!1:V,oe=d.tvStart,G=oe===void 0?0:oe,Y=d.tvEnd,Z=Y===void 0?0:Y,ae=d.tvContributor,ie=ae===void 0?!1:ae,je=d.tvSource,Le=je===void 0?!1:je,ke=d.play_just1,Ze=ke===void 0?!1:ke,Ve=d.list_height,Xe=Ve===void 0?0:Ve,dt=d.identifier,yt=dt===void 0?!1:dt,pt=d.onTime,Re=pt===void 0?!1:pt,_e=d.onComplete,Ne=_e===void 0?!1:_e,Je=d.onDisplayClick,Ye=Je===void 0?!1:Je,Te=d.onReady,rt=Te===void 0?!1:Te,ht=d.onPlaylistItem,at=ht===void 0?!1:ht,ut=d.collection,qe=ut===void 0?!1:ut,ze=d.waveformer,Fe=ze===void 0?!1:ze,tt=d.speed,nt=tt===void 0?1:tt,bt=d.details,wt=bt===void 0?location.href:bt,_t=this;_classCallCheck(this,l);var st=X&&r.length===1?r[0].title:"",ye="#".concat(s),N="#".concat(s,"__list"),We=!1,Ie=4/3,et=!1,L=!1,ue=0,ce=!1,pe=v&&!X&&!E&&!C&&h,he=!0,Q=!1,be=0,Ce=0,xe=0;this.construct=function(){var Be=_t;if(K&&(yt=!1,qe=!1,D=!0),nt=parseFloat(nt),!ee(ye).length)return dn("play8.js requires #",s," element on page -- not found"),!1;if(_t.responsiveResize(!0),yt!==!1&&(wt="https://archive.org/details/".concat(yt)),X&&Z&&(wt+="/start/".concat(G,"/end/").concat(Z)),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],h=!0,w=!0),w||(Xe||(Xe=E?L7:D7),Xe=Math.min(Xe,r.length*R7)),!y&&!(m>0&&p>0))if(v){var Ke=ee(window).width(),Pt=ee(window).height();m=E?Math.min(Ke,Fy):Ke,p=E?Zo+Xe:Pt-Xe}else j||(m=E?M7:zy,p=E?Zo+Xe:Xh);if(ue=m,ee.each(r,function(qt,Zt){if(typeof Zt.autoplay!="undefined"&&(Q||(Q=[]),Q[qt-1]=!Zt.autoplay),typeof Zt.sources=="undefined"&&typeof Zt.file!="undefined"&&(Zt.sources=[{file:Zt.file,height:480}]),typeof Zt.sources=="undefined")alert("".concat(qt,": sources undefined!"));else{var un=!0,Rt=!1,rn=void 0;try{for(var Qt=Zt.sources[Symbol.iterator](),Tn;!(un=(Tn=Qt.next()).done);un=!0){var Nt=Tn.value;typeof Nt.file!="undefined"&&(!qt&&Nt.file.indexOf("/download")>=0&&(Nt.file=Nt.file.replace(/\/download\//,"/serve/")),Nt.file=ai.filename_char_encoder(Nt.file))}}catch(Me){Rt=!0,rn=Me}finally{try{!un&&Qt.return!=null&&Qt.return()}finally{if(Rt)throw rn}}}}),!w){var At='<div id="'.concat(s,'__list" style="height:').concat(Xe,'px"> </div>');ee(At).insertAfter(ye)}st&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var Et={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:wt,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:C,fallback:re,width:isNaN(ue)?"100%":ue,height:E?Kh:p,base:Zf};if(y&&!v?Et.displaytitle=!1:j&&(Et.width="100%",Et.aspectratio=j,delete Et.height),yt!==!1){var Jt=X&&Z?"?start=".concat(G,"&end=").concat(Z):"",Dt='<iframe src="https://archive.org/embed/MEDIAID"\n                              width="'.concat(E?500:zy,'"\n                              height="').concat(E?Zo:Xh,'"\n                              frameborder="0"\n                              webkitallowfullscreen="true"\n                              mozallowfullscreen="true"\n                              allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(yt).concat(Jt)).replace(/\s+/g," "),Ht="[archiveorg ".concat(yt).concat(Jt," width=640 height=").concat(E?Zo:Xh," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");Et.mediaid=yt,ee("#embedcodehere").text(Dt),ee("#embedcodehereWP").text(Ht)}if((v&&!E&&!K||F)&&(Et.logo={file:"//av.prod.archive.org/jw/glogo-ghost.png",link:wt,position:"top-right",margin:2,hide:!1}),Ze||Q){var Bt=Ne;Ne=function(qt){var Zt={done:Ze||Q[qt.getPlaylistIndex()]};Zt.done&&qt.stop(),Bt&&Bt(qt,Zt)}}return dn(Et),hr(s).setup(Et),hr(s).on("ready",function(){var qt=Be;dn("IA ",s," is ready");var Zt=hr(s);dn("NOTE: JW version: ",hr.version),Re&&dn("NOTE: onTime() is in use!"),Re&&Zt.on("time",function(){return Re(Zt)}),Ne&&Zt.on("complete",function(){return Ne(Zt)}),Ye&&Zt.on("displayClick",function(){return Ye(Zt)}),E?Zt.on("firstFrame",function(){return ai.track_event("Details-Audio|AudioStarted")}):X||(Zt.on("firstFrame",function(){return ai.track_event("Details-Video|VideoStarted")}),Zt.on("complete",function(){return ai.track_event("Details-Video|VideoEnded")})),We=!0,Be.addClickablePlaylist(),E&&y&&!v&&Be.responsiveResize(),y&&!E&&ee(ye).css("margin","auto"),Be.add_buttons(Zt),y&&!v&&!E&&typeof $t!="undefined"&&$t.theatre_controls_position(!1,0,m,p),y&&Zo>Kh&&ee(ye).css("height",Zo),E&&!Fe&&ee(ye).find(".jw-preview").css("display","none"),!v&&y?Be.details_setup():v&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&Be.embed_setup(),Zt.on("meta",function(un){L||(L=!0,dn("onMeta() fired"),ee("body").addClass("responsive-playing"),!E&&v&&un.width&&un.height&&qt.adjustVideoWidth(qt,un),qt.unpreload(),h&&(dn("SEEK TO: ",h),qt.pause(),hr(s).seek(h)))}),Zt.on("playlistItem",function(un){var Rt=qt,rn=un.index;if(dn("onPlaylistItem: ",rn),xe&&!rn){dn("onPlaylistItem: ignoring since desired index ".concat(xe," !== ").concat(rn," -- and this is likely an event from reloading the playlist"));var Qt=xe;xe=0,hr(s).playlistItem(Qt);return}var Tn=ee(N).find(".jwrow, .jwrowV2");if(Tn.length){Tn.removeClass("playing");var Nt=ee(Tn.get(rn));Nt.addClass("playing"),ee(N).scrollTop(Nt.offset().top-ee(N).offset().top+ee(N).scrollTop())}qt.seeker_playlist(),qt.url_updater(Zt,rn),nt!==1&&setTimeout(function(){Rt.speed(nt)},1e3),qt.waveformer_setup(Zt)}),at&&Zt.on("playlistItem",function(un){dn("onPlaylistItem",{e:un}),at(Zt,un)}),Zt.on("playlistComplete",function(){!E&&qe&&!X&&qt.related_items_click()}),Zt.on("error",function(un){dn("err"),dn(un),ee(ye).css({"background-color":"black"})}),rt&&rt(Zt)}),_t},this.url_updater=function(Be,Ke){if(!(X||v||!yt||typeof history.replaceState=="undefined")){var Pt=Be.getConfig();if(!(!Pt||!Pt.playlist||Pt.playlist.length<=1||!Pt.playlist[Ke]||!Pt.playlist[Ke].orig))if(he){var At="/details/".concat(yt,"/").concat(encodeURIComponent(Pt.playlist[Ke].orig).replace(/%2F/g,"/").replace(/%20/g,"+")),Et=typeof $t!="undefined"&&cf("playset",!0)?"?playset=1&autoplay=1":"";dn("updating url to",At+Et),history.replaceState({},null,At+Et)}else{var Jt=_t;dn("looks like /details/ page loaded cold-state -- leave url AS IS"),Be.once("play",function(){dn("time to start updating urls"),he=!0,Jt.url_updater(Be,Ke)})}}},this.waveformer_setup=function(Be){if(!(!Fe||ce)){var Ke=Be.getConfig().provider==="flash",Pt=ee(ye);Ke&&(Pt=Pt.parent()),Pt.wrap('<div id="'.concat(Fe,'" style="position:relative"></div>')),be=ee("#".concat(Fe)).width(),ee("#".concat(Fe)).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Be.on("time",function(At){!At.duration||(Ce=At.position/At.duration,ee("#waveformer").css({width:Math.round(be*Ce)}))}),ce=!0,setTimeout(function(){Ke||ee(ye).css("background-color","transparent"),ee("#".concat(Fe)).css("background-color","#ddd")},1e3)}},this.on=function(Be,Ke){var Pt=hr&&hr(s);return Pt&&Pt.on(Be,Ke),_t},this.adjustVideoWidth=function(Be,Ke){Ke.height&&Ke.width&&Ke.height>0&&Ke.width>0&&parseInt(Ke.height,10)>0&&(Ie=parseInt(Ke.width,10)/parseInt(Ke.height,10),dn("DAR: ",Ie,Ke.width,"x",Ke.height)),v&&_t.embedResize()},this.embedResize=function(){if(!(!hr||!hr(s))){if(E){hr(s).resize(Math.min(Fy,ee(window).width()),Zo);return}var Be=ee(window).width(),Ke=ee(window).height()-Xe;hr(s).resize(Be,Ke)}},this.playN=function(Be,Ke){var Pt=hr(s);return dn("playN",{readyIA:We,idx:Be,load_paused:Ke,state:Pt.getState()}),Ke&&Pt.once("play",function(){return Pt.pause()}),Pt.playlistItem(Be),!1},this.seeker_playlist=function(){if(!et){if(et=!0,pe){var Be=_t;hr(s).once("seek",function(){Be.pause(),dn("... paused first seek!")})}!h||(_t.pause(),hr(s).seek(h))}},this.embed_setup=function(){ee(window).on("resize  orientationchange",function(){clearTimeout(ai.throttler2),ai.throttler2=setTimeout(function(){new ai(s).embedResize()},250)})},this.unpreload=function(){var Be=hr(s),Ke=Be.getPlaylist(),Pt=Be.getPlaylistIndex();if(dn("unpreload:",{startPlaylistIdx:Pt}),Ke.length&&(typeof Ke[0].file!="undefined"&&(Ke[0].file=Ke[0].file.replace(/\/serve\//,"/download/")),typeof Ke[0].sources!="undefined")){var At=!0,Et=!1,Jt=void 0;try{for(var Dt=Ke[0].sources[Symbol.iterator](),Ht;!(At=(Ht=Dt.next()).done);At=!0){var Bt=Ht.value;Bt.file=Bt.file.replace(/\/serve\//,"/download/")}}catch(qt){Et=!0,Jt=qt}finally{try{!At&&Dt.return!=null&&Dt.return()}finally{if(Et)throw Jt}}}Pt?(Be.on("playlist",function(){dn("unpreload: onplaylist:",{startPlaylistIdx:Pt}),Be.playlistIndex=Pt,Be.playlistItem(Pt)}),xe=Pt):!h&&!C&&(he=!1),Be.load(Ke)},this.details_setup=function(){dn("details_setup");var Be=0,Ke="^/details/".concat(yt,"/([^&?]+)"),Pt=location.pathname.match(Ke);if(Pt){var At=decodeURIComponent(Pt[1].replace(/\+/g,"%20"));dn("looking for: ",At);for(var Et in r){var Jt=Number(Et);if(r[Jt].orig===At){dn("player should seek to track #",Jt),Be=Jt;break}}}if(!Be&&!h&&!C&&(he=!1),!C&&(Be||h)){dn("seek #",Be," to ",h);var Dt=hr(s);Dt.playlistItem(Be)}},this.pause=function(){var Be=hr(s);We&&Be&&Be.getState&&Be.getState()==="playing"&&Be.pause()},this.remove=function(){_t.pause();var Be=hr(s);We&&Be&&Be.getConfig()&&Be.remove(),delete Su[s]},this.speed=function(Be){if(typeof Be=="undefined"||typeof Be=="object"){var Ke=!1;E&&(ee(".jw-controls").css("overflow","initial"),Ke=ee(ye).height()===Jh,ee(ye).css("height",Ke?Hy:Jh)),Ke=Ke||ee("".concat(ye," .jw-controls")).hasClass("jw-settings-open"),Ke?(ee("".concat(ye," .jw-controls")).removeClass("jw-settings-open"),E&&ee(".jw-controls").css("overflow","")):ee("".concat(ye," .jw-controls")).toggleClass("jw-settings-open"),ee("".concat(ye," .jw-settings-topbar .jw-icon")).attr("aria-checked","false"),ee("".concat(ye," .jw-settings-playbackRates")).attr("aria-checked","true");var Pt=ee('.jw-settings-content-item:contains("0.5x")').parent(),At="".concat(ye," .jw-settings-submenu");return ee(At).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),Pt.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),ee(At).addClass("jw-settings-submenu-active"),!1}var Et=Be;(typeof Et=="undefined"||isNaN(Et))&&(Et=1);var Jt=ee("#".concat(s," video")).get(0);return Jt.playbackRate=Et,dn("speed to ".concat(Et)),!1},this.add_buttons=function(Be){var Ke='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',Pt='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',At='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',Et='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(v&&!K){var Jt=st?"".concat(st.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";Be.addButton("/images/glogo-jw.png",Jt,function(){var Bt=document.createElement("a");Bt.setAttribute("href",wt),Bt.setAttribute("target","_blank"),document.body.appendChild(Bt),Bt.click()},"btn-ia")}if(v&&!E&&!D&&!X&&(yt!==!1&&Be.addButton("https://av.prod.archive.org/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(yt)},"btn-mbd"),typeof $t!="undefined"&&(Be.addButton(At,"share",function(){var Bt=ee(".jw-icon[button=btn-shr]").get(0);$t.modal_go(Bt,{ignore_lnk:1,shown:$t.embed_codes_adjust})},"btn-shr"),ee(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),X&&v&&Le!==!1&&Be.addButton("/images/tv/".concat(yt.split("_")[0],".png"),"Look for this show on ".concat(ie," website"),function(){window.top.location.href=Le},"btn-tv"),!E&&qe&&!X){var Dt=_t;Be.addButton("https://av.prod.archive.org/jw/related.png","Related Videos",function(){Dt.related_items_click()},"btn-rel")}if(_t.castable()){var Ht=_t;window.chrome&&ai.cast_sender_setup(),Be.addButton(Et,"Cast media with AirPlay / Chromecast",function(){Ht.cast()},"btn-cast")}!X&&r.length>1&&(Be.addButton(Pt,"next",function(){Be.playlistNext()},"btn-nxt"),Be.addButton(Ke,"previous",function(){Be.playlistPrev()},"btn-prv"))},this.castable=function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome},this.cast=function(){var Be=_t;if(window.WebKitPlaybackTargetAvailabilityEvent){ee("#".concat(s," video")).get(0).webkitShowPlaybackTargetPicker();return}if(!!window.chrome){var Ke=function(At,Et){Et.play(null,function(Jt){dn("media play success",At,Et,Jt)},function(Jt){dn("media play fail",Jt)})};_t.cast_retries=0;var Pt=function(){var At=Be;if(dn("cast_setup #",Be.cast_retries),Be.cast_retries+=1,Be.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(Pt,Be.cast_retries*1e3);var Et=window.chrome.cast,Jt=new Et.SessionRequest(Et.media.DEFAULT_MEDIA_RECEIVER_APP_ID),Dt=new Et.ApiConfig(Jt,function(Ht){Ht.media.length&&Ke("onRequestSessionSuccess",Ht.media[0])},function(Ht){dn("receiver listener fail",Ht)});return Et.initialize(Dt,function(){var Ht=At;dn("cast init success"),Et.requestSession(function(Bt){dn("request session success",Bt);var qt=ee("".concat(ye," video")).attr("src"),Zt="".concat(location.protocol,"//").concat(location.host).concat(qt),un=new Et.media.MediaInfo(Zt),Rt=new Et.media.LoadRequest(un);Bt.loadMedia(Rt,Ke.bind(Ht,"loadMedia"),function(rn){dn("onMediaError",rn)})},function(Bt){dn("request session fail",Bt),setTimeout(Pt,500)})},function(){return dn("cast init failure")}),!0};Pt()}},this.related_items_click=function(){var Be=function(){ee("".concat(ye," .jw-controlbar")).one("click",function(Pt){ee("#related-items-bg").hide(),Pt.preventDefault()})};if(typeof Ra!="undefined"&&!ee("#related-items").length)ee("".concat(ye)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),Kr("#related-items-bg",function(){return ee("#related-items-bg").hide()}),Ra.getRelatedItems(yt,!0).then(function(Pt){var At=Math.floor(Pt.length/2),Et="",Jt=!0,Dt=!1,Ht=void 0;try{for(var Bt=Object.entries(Pt)[Symbol.iterator](),qt;!(Jt=(qt=Bt.next()).done);Jt=!0){var Zt=_slicedToArray(qt.value,2),un=Zt[0],Rt=Zt[1];Number(un)===At&&qe==="prelinger"?(ai.track_event("Details-Video|DonationEndrollDisplayed"),Et+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):Et+='\n<div>\n  <a href="/details/'.concat(Rt.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n    <div class="related-ttl">\n      ').concat(Rt.title!==null?Rt.title:"","\n      ").concat(Rt.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(Rt.creator):"","\n      ").concat(Rt.downloads!==null?"<div>".concat(Rt.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(Rt.identifier,'"/>\n  </a>\n</div>\n')}}catch(rn){Dt=!0,Ht=rn}finally{try{!Jt&&Bt.return!=null&&Bt.return()}finally{if(Dt)throw Ht}}ee("#related-items").html(Et),ee("#related-items-bg").show(),Be()});else{var Ke=ee("#related-items-bg:visible").length;Ke?ee("#related-items-bg").hide():(ee("#related-items-bg").show(),setTimeout(Be,500))}},this.addClickablePlaylist=function(){if(!w){var Be=hr(s).getPlaylist(),Ke=!0;Be.length!==r.length&&(dn("NOTE: jw playlist filtered down -- ",r.length,"==>",Be.length," items"),Ke=!1);var Pt="";ee.each(Be,function(Et,Jt){var Dt=(typeof Jt.title=="undefined"?"":Jt.title).concat(typeof Jt.artist=="undefined"?"":" - ".concat(Jt.artist)),Ht=typeof Jt.duration!="undefined"?Jt.duration:!1;Ht===!1&&(Ht=Ke&&typeof r[Et]!="undefined"&&typeof r[Et].duration!="undefined"?r[Et].duration:0),Ht<=0&&(Ht=!1),Pt+='\n<a href="#" class="js-play8-play-track" data-idx="'.concat(Et,'">\n  <div class="jwrow">\n    <div class="tm">\n      ').concat(Ht?ai.sec2hms(Ht):"",'\n    </div>\n    <div class="n">\n      ').concat(Et+1,'\n    </div>\n    <div class="ttl">\n      ').concat(Dt,"\n    </div>\n  </div>\n</a>")});var At={};y&&(At.width=m,At.margin="auto",E||ee(ye).css("margin","auto")),ee(N).addClass("jwlist").css(At).html(Pt),Kr(".js-play8-play-track",function(Et){return window.Play("".concat(s)).playN(ee(Et.currentTarget).data().idx)}),dn(r)}},this.debug=function(){debugger},this.responsiveResize=function(Be){if(!!y){var Ke=ee(ye).offset(),Pt=ee(window).height()-Ke.top-$7;if(E)r&&r.length>0&&r[0].image&&Fe&&(Zo=Hy),Pt-=Zo,Pt=Math.max(Jh,Pt),v||(dn("responsiveResize() maxH:",Pt),Xe=Pt,dn(ee(N).length),ee(N).css({"max-height":Pt,"overflow-x":"hidden","overflow-y":"auto"}),Fe&&(be=ee("#".concat(Fe)).width(),ee("#waveformer").css({width:Math.round(be*Ce)}))),m="100%",ee("#theatre-controls .fave-share").removeClass("fave-share"),ee("#theatre-controls").offset({top:Ke.top}).css({visibility:"visible","background-color":"black"});else{var At=Ie;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(At=r[0].sources[0].width/r[0].sources[0].height,dn("aspect ratio appears to be: ",At));var Et=ee(".container-ia:last").width();dn("video max rect avail: ",Et,"x",Pt);var Jt,Dt,Ht=!0,Bt=!1,qt=void 0;try{for(var Zt=[960,840,720,600,480,360,240,180][Symbol.iterator](),un;!(Ht=(un=Zt.next()).done)&&(Dt=un.value,Jt=Math.round(Dt*At),dn("video size try fit: ",Jt,"x",Dt),!(Jt<=Et&&Dt<=Pt||Jt<=320));Ht=!0);}catch(Rt){Bt=!0,qt=Rt}finally{try{!Ht&&Zt.return!=null&&Zt.return()}finally{if(Bt)throw qt}}m=Jt,p=Dt,typeof $t!="undefined"&&$t.theatre_controls_position(!1,0,m,p)}Be?ee(window).on("resize  orientationchange",function(){clearTimeout(ai.throttler),ai.throttler=setTimeout(function(){new ai(s).responsiveResize()},250)}):E||hr(s).resize(m,p)}},this.cache=function(){if(!s)return alert("please pass in a unique identifier for this object");if(typeof Su[s]!="undefined"){if(typeof r=="undefined")return Su[s];delete Su[s]}return!1};var Ge=this.cache();if(Ge)return Ge;Su[s]=this,dn("PLAY CONFIG:",arguments[2]),this.construct()}return _createClass(l,null,[{key:"sec2hms",value:function(r,d){var c=Math.round(r),h=Math.floor(c/3600),f=Math.floor((c-h*3600)/60);c-=h*3600+f*60;var v="",x="";return(d||h>0)&&(x="00".concat(h),v+=x.substr(x.length-2,2),v+=":"),x="00".concat(f),v+=x.substr(x.length-2,2),v+=":",x="00".concat(c),v+=x.substr(x.length-2,2),v}},{key:"seconds",value:function(r){var d=r.replace(",","."),c=d.split(":"),h=0;return d.substr(-1)==="s"?h=Number(d.substr(0,d.length-1)):d.substr(-1)==="m"?h=Number(d.substr(0,d.length-1))*60:d.substr(-1)==="h"?h=Number(d.substr(0,d.length-1))*3600:c.length>1?(h=Number(c[c.length-1]),h+=Number(c[c.length-2])*60,c.length===3&&(h+=Number(c[c.length-3])*3600)):h=Number(d),h}},{key:"seek",value:function(r){var d="".concat(r.href,"/").match(/[/#]start\/([\d.]+)\//)||r.href.match(/[?&]start=([\d.]+)/);if(!d)return!0;var c=d[1];return hr().seek(c),typeof history.pushState=="undefined"?location.href=r.href:history.pushState({},null,r.href),!1}},{key:"mute_click",value:function(){var r=!Gr.get("unmute");if($t.emulator)$t.emulator.setMute(!r);else{var d=hr("jw6");if(d){var c=d.getVolume();c?(ai.mute_click_prior_volume=c,d.setVolume(0)):d.setVolume(typeof ai.mute_click_prior_volume=="undefined"?100:ai.mute_click_prior_volume)}}return ee("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),r?Gr.set("unmute",1,{path:"/details",expires:30}):Gr.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var r=function(a){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+a)!=-1||document.currentScript.src.indexOf("&"+a)!=-1)},d=r("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",c=r("loadCastFramework")||r("loadCastApplicationFramework"),h=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},f=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],v=function(m){m.length?w(m.shift(),function(){v(m)}):C()},x=function(a){return"chrome-extension://"+a+d},w=function(a,p,g){var y=document.createElement("script");y.onerror=p,g&&(y.onload=g),y.src=a,(document.head||document.documentElement).appendChild(y)},b=function(a){return 0<=window.navigator.userAgent.indexOf(a)},C=function(){var a=h();a&&a(!1,"No cast extension found")},P=function(){if(c){var a=2,p=h(),g=function(){a--,a==0&&p&&p(!0)};window.__onGCastApiAvailable=g,w("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",C,g)}};if(b("CriOS")){var E=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;E&&(P(),E({command:"cast.sender.init"}))}else if(b("Android")&&b("Chrome/")&&window.navigator.presentation){P();var T=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);v(["//www.gstatic.com/eureka/clank/"+(T?parseInt(T[1],10):0)+d,"//www.gstatic.com/eureka/clank"+d])}else window.chrome&&window.navigator.presentation&&!b("Edge")?(P(),v(f.map(x))):C()}()}},{key:"filename_char_encoder",value:function(r){var d=r.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),c=d.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),h=c+(d.length?".".concat(d.shift(),"?"):"");return h+d.join("")}},{key:"track_event",value:function(r){if(!!window.archive_analytics){var d=_slicedToArray(r.split("|"),2),c=d[0],h=d[1];window.archive_analytics.send_event(c,h,window.location.pathname)}}},{key:"setup",value:function(){ee(".js-play8-config").each(function(r,d){var c=JSON.parse(ee(d).val()),h=c.jid||"jw6",f=ee(".js-play8");f.attr({id:h}),cf("playset",!0)&&(c.onComplete=tp.onComplete),window.Play(h,JSON.parse(ee(".js-play8-playlist").val()),c),Kr(".js-play8-speed",window.Play(h).speed),Kr(".js-play8-gofullscreen",hr(h).setFullscreen)})}}]),l}(),window.Play=function(l,s,r){return new ai(l,s,r)};var S=!0,t=!1,e=void 0;try{for(var n=["sec2hms","seconds","seek","filename_char_encoder","mute_click"][Symbol.iterator](),o;!(S=(o=n.next()).done);S=!0){var u=o.value;window.Play[u]=ai[u]}}catch(l){t=!0,e=l}finally{try{!S&&n.return!=null&&n.return()}finally{if(t)throw e}}B7?ai.setup():ee(ai.setup),ee(function(){Kr(".js-play8-soon",function(){return alert("coming soon!")}),Kr(".js-play8-thumbzilla",function(l){return $t.thumbzilla(ee(l.currentTarget).data().identifier)}),Kr(".js-play8-mute-click",window.Play.mute_click),Kr(".js-play8-seek",function(l){return window.Play.seek(l.currentTarget)})})}}),N7=Tt({"https-url:https://esm.archive.org/v99/lit@2.8.0/deno/html.js":function(){Nu()}}),z7,H7,LT=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/icon-info@1.3.4/deno/icon-info.js":function(){_n(),_n(),z7=Ot(_templateObject432()),H7=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return z7}}],[{key:"styles",get:function(){return Kt(_templateObject433())}}]),e}(Xn),customElements.define("ia-icon-info",H7)}}),Hi,Uy,Vy,F7,U7,V7,Qh,W7,q7,Zh,G7,Y7,ef,X7,K7,J7,Q7,cl,Wy,Z7,eO,tO,nO,tf,rO,nf,rf,iO,oO,aO,sO,lO,Ni,uO,cO,dO,hO,fO=Tt({"https-url:https://esm.archive.org/v99/@internetarchive/ia-book-actions@0.0.30/deno/ia-book-actions.js":function(){_n(),Td(),Ol(),_n(),N7(),Nd(),_n(),N7(),_n(),_n(),_n(),_n(),_n(),_n(),_n(),_n(),vS(),LT(),Hi=function(){"use strict";function S(){_classCallCheck(this,S)}return _createClass(S,null,[{key:"isInIframe",value:function(){var e;try{return window.self!==window.top}catch(n){return(e=window==null?void 0:window.Sentry)==null||e.captureException(n),!0}}},{key:"getRedirectUrl",value:function(){var e;return Hi.isInIframe()?e=window.top.location.href:e=window.location.href,e}},{key:"goToUrl",value:function(e,n){var o;Hi.isInIframe()&&n?o=window.top.location:o=window.location,o.href===e?o.reload():o.href=e}},{key:"isOnStreamPage",value:function(){return window.location.href.indexOf("/stream/")>-1}},{key:"getQueryParam",value:function(e){for(var n=window.location.search.substring(1).split("&"),o="",u=0;u<n.length;u+=1)if(o=n[u].split("="),o[0]===e)return o[1];return Un}},{key:"getBackHref",value:function(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}},{key:"formatUrl",value:function(e,n){return/^https?:/.test(n)?n:"".concat(e).concat(n)}}]),S}(),Uy=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.identifier="",n.ajaxTimeout=6e3,n.bindEvents(),n.returnUrl="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"sendEvent",value:function(o,u){var l;(l=window==null?void 0:window.archive_analytics)==null||l.send_event(o,u,"identifier=".concat(this.identifier))}},{key:"bindEvents",value:function(){var o=this;this.addEventListener("browseBook",function(u){var l=u.detail;o.handleBrowseIt(),o.setConsecutiveLoanCounts();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("browseBookAgain",function(u){var l=u.detail;o.handleBrowseIt(),o.setConsecutiveLoanCounts("browseAgain");var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("returnNow",function(u){var l=u.detail;o.handleReturnIt();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("borrowBook",function(u){var l=u.detail;o.handleBorrowIt();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("loginAndBorrow",function(u){var l=u.detail;o.handleLoginOk();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("leaveWaitlist",function(u){var l=u.detail;o.handleRemoveFromWaitingList();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("joinWaitlist",function(u){var l=u.detail;o.handleReserveIt();var s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("purchaseBook",function(u){var l=u.detail,s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("adminAccess",function(u){var l=u.detail,s=l.event,r=s.category,d=s.action;o.sendEvent(r,d);var c=new URL(window.location.href);c.searchParams.append("admin",1),window.location.search=c.search}),this.addEventListener("exitAdminAccess",function(u){var l=u.detail,s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)}),this.addEventListener("bookTitleBar",function(u){var l=u.detail,s=l.event,r=s.category,d=s.action;o.sendEvent(r,d)})}},{key:"handleBrowseIt",value:function(){var o=this,u="browse_book";this.dispatchToggleActionGroup(),_l({action:u,identifier:this.identifier,success:function(){o.handleReadItNow()},error:function(l){o.dispatchActionError(u,l)}})}},{key:"handleReturnIt",value:function(){var o=this,u="return_loan";this.dispatchToggleActionGroup(),_l({action:u,identifier:this.identifier,success:function(){o.deleteLoanCookies(),Hi.goToUrl(o.returnUrl,!0)},error:function(l){o.dispatchActionError(u,l)}})}},{key:"handleBorrowIt",value:function(){var o=this,u="borrow_book";this.dispatchToggleActionGroup(),_l({action:u,identifier:this.identifier,success:function(){o.handleReadItNow()},error:function(l){o.dispatchActionError(u,l)}})}},{key:"handleReserveIt",value:function(){var o=this,u="join_waitlist";this.dispatchToggleActionGroup(),_l({action:u,identifier:this.identifier,success:function(){Hi.goToUrl(Hi.getRedirectUrl(),!0)},error:function(l){o.dispatchActionError(u,l)}})}},{key:"handleRemoveFromWaitingList",value:function(){var o=this,u="leave_waitlist";this.dispatchToggleActionGroup(),_l({action:u,identifier:this.identifier,success:function(){Hi.goToUrl(Hi.getRedirectUrl(),!0)},error:function(l){o.dispatchActionError(u,l)}})}},{key:"dispatchActionError",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.sendEvent("LendingServiceError",o),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:o,data:u}}))}},{key:"dispatchToggleActionGroup",value:function(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}},{key:"handleLoginOk",value:function(){var o="/account/login?referer=".concat(encodeURIComponent(Hi.getRedirectUrl()));Hi.goToUrl(o,!0)}},{key:"handleReadItNow",value:function(o){var u=new URLSearchParams(window.location.search);if(o){var l=new URLSearchParams(o),s=!0,r=!1,d=void 0;try{for(var c=l.entries()[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],x=f[1];u.append(v,x)}}catch(P){r=!0,d=P}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}var w=u.toString(),b=w?"?".concat(w):"",C=window.location.origin+window.location.pathname+b;setTimeout(function(){Hi.goToUrl(C,!0)},this.ajaxTimeout)}},{key:"setConsecutiveLoanCounts",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Sr(this,null,_regeneratorRuntime.default.mark(function u(){var l,s,r,d,c;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:try{s=1,r="loan-count-".concat(this.identifier),d=k0(r),o==="browseAgain"&&d!==void 0&&(s=d?Number(d)+1:1),c=new Date,c.setHours(c.getHours()+2),vf(r,s,c,"/")}catch(v){(l=window==null?void 0:window.Sentry)==null||l.captureException(v),this.sendEvent("Cookies-Error-Actions",v)}case 2:case"end":return f.stop()}},u,this)}))}},{key:"deleteLoanCookies",value:function(){var o=new Date;o.setTime(o.getTime()-24*60*60*1e3),vf("loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org"),vf("br-loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org")}}]),e}(Xn),Vy=Kt(_templateObject434()),F7=Kt(_templateObject435()),U7=Kt(_templateObject436()),V7=Kt(_templateObject437()),Qh=Kt(_templateObject438()),W7=Kt(_templateObject439()),q7=Kt(_templateObject440()),Zh=Kt(_templateObject441()),G7=Kt(_templateObject442()),Y7=Kt(_templateObject443()),ef=Kt(_templateObject444()),X7=Kt(_templateObject445()),K7=Kt(_templateObject446()),J7=Kt(_templateObject447()),Q7=Kt(_templateObject448(),Vy,Vy,F7,U7,K7,J7,V7,W7,Qh,Qh,Qh,q7,G7,Zh,Zh,Zh,Y7,X7,ef,ef,ef),cl=Kt(_templateObject449()),Wy=Kt(_templateObject450()),Z7=Kt(_templateObject451()),eO=Kt(_templateObject452(),cl,cl,Wy,cl,Z7,Wy,cl,cl,cl),tO=Ot(_templateObject453()),nO=Ot(_templateObject454()),tf=Ot(_templateObject455()),rO=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.primaryActions=[],n.secondaryActions=[],n.primaryColor="",n.dropdownState="close",n.width=0,n.hasAdminAccess=!1,n.dropdownArrow=tf,n.initialButton=!1,n.title="",n.loaderIcon="https://archive.org/upload/images/tree/loading.gif",n.disabled=!1,n.returnUrl="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){(o.has("width")||o.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions()}},{key:"resetActions",value:function(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}},{key:"sortActionButtonOrder",value:function(){var o=1,u=0;this.secondaryActions.length===2&&(o=2),o=this.primaryActions.length-o;var l=this.primaryActions[o],s=this.primaryActions;s.splice(o,1),s.splice(u,0,l),this.primaryActions=s}},{key:"render",value:function(){return Ot(_templateObject456(),Fa({actiongroup:!0,disabled:this.disabled}),this.getLoaderIcon,this.renderPrimaryActions,this.renderSecondaryActions)}},{key:"renderPrimaryActions",get:function(){return this.primaryActions.length===0?Un:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:Ot(_templateObject457(),this.initialActionTemplate,this.primaryColor,this.toggleDropdown,this.dropdownArrow,this.dropdownState,this.getPrimaryItems))}},{key:"renderSecondaryActions",get:function(){var o=this;return this.secondaryActions.length?this.secondaryActions.map(function(u){return o.renderActionButton(u)}):Un}},{key:"renderActionLink",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this;return Ot(_templateObject458(),this.getDeviceType,o.className,o.className,u?"initial":"",o.url,o.target,function(){l.clickHandler(o.id,o.analyticsEvent)},o.id==="purchaseBook"?tO:"",o.text,o.subText)}},{key:"renderActionButton",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this;if(o.url)return this.renderActionLink(o,u);var s=o.analyticsEvent;return Ot(_templateObject459(),o.className,u?"initial":"",function(){l.clickHandler(o.id,s)},o.text)}},{key:"clickHandler",value:function(o,u){if(this.dropdownState="close",this.dropdownArrow=tf,!(!u||!o)){var l=u.category,s=u.action;this.dispatchEvent(new CustomEvent(o,{detail:{event:{category:l,action:s}}}))}}},{key:"initialActionTemplate",get:function(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}},{key:"getPrimaryItems",get:function(){var o=this;return this.primaryActions.slice(1).map(function(u){return Ot(_templateObject460(),o.renderActionButton(u,o.initialButton))})}},{key:"getLoaderIcon",get:function(){return Ot(_templateObject461(),Fa({actionloader:!0,disabled:this.disabled}),this.loaderIcon)}},{key:"isBelowTabletContainer",get:function(){return this.width<=767}},{key:"getDeviceType",get:function(){return this.isBelowTabletContainer?"mobile":"desktop"}},{key:"toggleDropdown",value:function(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=tf,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=nO,this.primaryColor="dark")}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String}}}},{key:"styles",get:function(){return[Q7,eO]}}]),e}(Uy),window.customElements.define("collapsible-action-group",rO),nf={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},rf={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},iO=Ot(_templateObject462()),oO=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.identifier="",n.bookTitle="",n.analyticsCategories=nf,n.analyticsActions=rf,_possibleConstructorReturn(n)}return _createClass(e,[{key:"clickHandler",value:function(){var o={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar},u=o.category,l=o.action;this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:u,action:l}}}))}},{key:"render",value:function(){var o=this;return Ot(_templateObject463(),function(){o.clickHandler()},this.identifier,iO,this.bookTitle)}}],[{key:"properties",get:function(){return{identifier:{type:String},bookTitle:{type:String}}}},{key:"styles",get:function(){return Kt(_templateObject464())}}]),e}(Uy),window.customElements.define("book-title-bar",oO),aO=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.texts="",n.textClass="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject465(),this.textClass,this.texts)}}],[{key:"properties",get:function(){return{texts:{type:String},textClass:{type:String}}}},{key:"styles",get:function(){return Kt(_templateObject466())}}]),e}(Xn),window.customElements.define("text-group",aO),sO=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.iconClass="",n.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return Ot(_templateObject467(),this.iconClass,this.helpURL)}},{key:"getInfoIcon",get:function(){return Ta(_templateObject468(),Ig(this.icon))}}],[{key:"properties",get:function(){return{iconClass:{type:String}}}},{key:"styles",get:function(){return Kt(_templateObject469())}}]),e}(Xn),window.customElements.define("info-icon",sO),lO=function(){"use strict";function S(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,S),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=nf,this.analyticsActions=rf}return _createClass(S,[{key:"firstBrowseConfig",value:function(){return{id:"browseBook",text:"Borrow for 1 hour",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}},{key:"browseAgainConfig",value:function(){return{id:"browseBookAgain",text:"Borrow again",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}},{key:"returnBookConfig",value:function(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing}}}},{key:"borrowBookConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}},{key:"loginAndBorrowBookConfig",value:function(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"leaveWaitlistConfig",value:function(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}},{key:"loginAndWaitlistConfig",value:function(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"waitlistConfig",value:function(){var e=!!this.userid,n=this.lendingStatus||{};return!n.available_to_waitlist||n.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}},{key:"purchaseConfig",value:function(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}},{key:"printDisabilityConfig",value:function(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}},{key:"adminAccessConfig",value:function(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}},{key:"adminOrPrintDisabledExitConfig",value:function(){return{id:"exitAdminAccess",text:"\u2190 Exit ".concat(Hi.getQueryParam("admin")==="1"?"admin":"print-disabled"," access mode"),url:Hi.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}},{key:"unavailableBookConfig",value:function(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}},{key:"isEmbed",value:function(e){return{primaryTitle:"<img src=/images/glogo-jw.png> <a href=/details/".concat(this.identifier,">").concat(e,"</a>"),primaryActions:[],primaryColor:""}}}]),S}(),Ni={available_1hr:"Renewable every hour, pending availability.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Your loan has expired.",unavailable:"This book is not available at this time."},uO=function(){"use strict";function S(t,e,n,o){_classCallCheck(this,S),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.analyticsCategories=nf,this.analyticsActions=rf,this.actionsConfig=new lO(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}return _createClass(S,[{key:"onlyAdminAction",value:function(){return{primaryTitle:Ni.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"adminOrPrintDisabledReadingAction",value:function(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}},{key:"patronIsReadingAction",value:function(){var e=this.lendingStatus||{},n=e.loanCount>=e.maxLoans,o="",u=e.user_has_browsed&&!e.browsingExpired;return u?o=this.getBrowseCountdownTitle():o="Your loan of this book has ".concat(e.daysLeftOnLoan," days left."),{primaryTitle:o,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(n),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:u?"browsed":"borrowed"}}},{key:"claimWaitlistAction",value:function(){var e=this.lendingStatus||{},n=this.actionsConfig.leaveWaitlistConfig(),o=this.actionsConfig.borrowBookConfig(),u=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,l=[o];return u&&l.push(u),l.push(n),{primaryTitle:Ni.claim_waitlist,primaryActions:l,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowPrintDisabledAction",value:function(){return{primaryTitle:Ni.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"onlyPrintDisabledAction",value:function(){var e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:Ni.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}},{key:"onWaitlistAction",value:function(){return{primaryTitle:Ni.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"restrictedAction",value:function(){var e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?Ni.being_borrowed:Ni.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"loggedOutOptions",value:function(){var e=this.lendingStatus||{},n=!e.available_to_waitlist&&!e.available_to_borrow,o=this.actionsConfig.waitlistConfig(),u=null;e.available_to_borrow||e.available_to_browse?u=this.actionsConfig.loginAndBorrowBookConfig():n&&(u=this.actionsConfig.unavailableBookConfig());var l=this.actionsConfig.printDisabilityConfig(),s=[u,o,l].filter(function(r){return r!==null});return{primaryTitle:e.available_to_browse?Ni.available_1hr:e.available_to_borrow?Ni.available_14d:Ni.unavailable,primaryActions:s,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrow1HrAction",value:function(){var e=this.lendingStatus||{},n={one_hour:"Renewable every hour, pending availability.",session_tryagain:"Another patron is using this book. Please check back later.",session_expired:"Your loan has expired."},o=!e.available_to_browse&&e.browsingExpired,u=e.available_to_browse||o,l=u&&e.available_to_borrow,s=u&&!e.available_to_borrow&&e.available_to_waitlist,r=u&&!e.available_to_borrow&&!e.available_to_waitlist,d=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,c=o?Ni.session_expired:!u&&d?Ni.being_borrowed:!u&&e.available_to_waitlist?Ni.available_waitlist:Ni.available_1hr,h=o?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),f=this.actionsConfig.borrowBookConfig(),v=this.actionsConfig.waitlistConfig(),x=this.actionsConfig.printDisabilityConfig();return{primaryTitle:c,primaryActions:r?[h,x]:l?[h,f,x]:s?[h,v,x]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowAction",value:function(){var e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();var n=null,o=this.actionsConfig.waitlistConfig(),u=this.actionsConfig.printDisabilityConfig(),l=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!o?n=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(n=this.actionsConfig.borrowBookConfig(l));var s=[n,o,u].filter(function(r){return r!==null});return{primaryTitle:o?Ni.being_borrowed:"",primaryActions:s,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"getBrowseCountdownTitle",value:function(){var e=this.lendingStatus.secondsLeftOnLoan,n=new Date(+new Date+e*1e3),o=n.getHours()%12,u=(""+n.getMinutes()).replace(/^(\d{1})$/,"0$1"),l=n.getHours()>11?" PM":" AM";return o===0&&(o=12),"Borrow ends at "+o+":"+u+l}},{key:"getCurrentLendingActions",value:function(){var e,n=this.lendingStatus||{},o=Hi.getQueryParam("admin")=="1"&&n.isAdmin,u=Hi.getQueryParam("access")=="1"&&n.user_is_printdisabled,l=n.user_has_borrowed||n.user_has_browsed&&!n.browsingExpired,s=!n.user_has_borrowed&&!n.user_has_browsed,r=!n.available_to_borrow&&!n.available_to_browse,d=n.is_printdisabled&&n.user_is_printdisabled,c=(n.available_to_browse||n.available_to_borrow)&&s&&!n.user_on_waitlist;return o||u?e=this.adminOrPrintDisabledReadingAction():n.isAdmin&&s&&r?e=this.onlyAdminAction():l?e=this.patronIsReadingAction():n.user_can_claim_waitlist?e=this.claimWaitlistAction():d?e=this.borrowPrintDisabledAction():c||n.browsingExpired?e=this.borrowAction():n.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():n.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}}]),S}(),cO=function(){"use strict";function S(t,e,n,o,u){_classCallCheck(this,S),this.identifier=t,this.borrowType=e,this.successCallback=n,this.errorCallback=o,this.pollerDelay=u,this.loanTokenInterval=void 0,this.enableBookAccess()}return _createClass(S,[{key:"disconnectedInterval",value:function(){clearInterval(this.loanTokenInterval),this.loanTokenInterval=void 0}},{key:"enableBookAccess",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,u,l,s,r,d;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(l=1,this.borrowType){if(s=this,this.borrowType==="browsed")try{l=(n=k0("loan-count-".concat(this.identifier)))!=null?n:1}catch(f){(o=window==null?void 0:window.Sentry)==null||o.captureException(f),this.sendEvent("Cookies-Error-Token",f)}this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(this.loanTokenInterval=setInterval(function(){s.handleLoanTokenPoller()},this.pollerDelay)),r="".concat(this.borrowType,"BookAccess"),d="".concat(this.borrowType==="browsed"?"BrowseCounts-":"Counts-").concat(l),this.sendEvent(r,d)}else(u=window==null?void 0:window.Sentry)==null||u.captureMessage("enableBookAccess error"),this.disconnectedInterval();case 3:case"end":return h.stop()}},e,this)}))}},{key:"sendEvent",value:function(e,n){var o;(o=window==null?void 0:window.archive_analytics)==null||o.send_event(e,n,"identifier=".concat(this.identifier))}},{key:"handleLoanTokenPoller",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Sr(this,null,_regeneratorRuntime.default.mark(function n(){var o,u;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=this,u="create_token",_l({identifier:this.identifier,action:u,error:function(r){var d;(d=window==null?void 0:window.Sentry)==null||d.captureMessage("handleLoanTokenPoller error",JSON.stringify(r)),o.disconnectedInterval(),o.errorCallback({detail:{action:u,data:r}}),o.sendEvent("LendingServiceLoanError",u)},success:function(){e&&o.successCallback()}});case 3:case"end":return s.stop()}},n,this)}))}}]),S}(),dO={browseExpired:"IABookReader:BrowsingHasExpired"},hO=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.bookTitle="",n.returnUrl="",n.lendingStatus={},n.width=0,n.bwbPurchaseUrl="",n.lendingBarPostInit=function(){},n.barType="action",n.sharedObserver=void 0,n.disableActionGroup=!1,n.modal=void 0,n.tokenDelay=12e4,n.primaryActions=[],n.primaryTitle="",n.primaryColor="primary",n.secondaryActions=[],n.lendingOptions={},n.borrowType="",n.consecutiveLoanCounts=1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){var o,u;(o=this.tokenPoller)==null||o.disconnectedInterval(),(u=window==null?void 0:window.Sentry)==null||u.captureMessage("disconnectedCallback"),this.disconnectResizeObserver()}},{key:"firstUpdated",value:function(){this.sharedObserver||(this.sharedObserver=new $a,this.setupResizeObserver())}},{key:"updated",value:function(o){(o.has("lendingStatus")||o.has("bwbPurchaseUrl"))&&(this.setupLendingToolbarActions(),this.update()),o.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver())}},{key:"browseHasExpired",value:function(){var o=Ei(Jr({},this.lendingStatus),{browsingExpired:!0});this.lendingStatus=o}},{key:"startBrowseTimer",value:function(){var o=this,u=this.lendingStatus,l=u.browsingExpired,s=u.user_has_browsed,r=u.secondsLeftOnLoan;if(!(!s||l)){var d=r*1e3;setTimeout(function(){o.browseHasExpired()},d)}}},{key:"handleResize",value:function(o){var u=o.target;if(u===this.shadowRoot.host){var l=o.contentRect;this.width=Math.round(l.width)}}},{key:"disconnectResizeObserver",value:function(){var o;(o=this.sharedObserver)==null||o.removeObserver({handler:this,target:this.shadowRoot.host})}},{key:"setupResizeObserver",value:function(){var o;this.shadowRoot&&((o=this.sharedObserver)==null||o.addObserver({handler:this,target:this.shadowRoot.host}))}},{key:"setupLendingToolbarActions",value:function(){return Sr(this,null,_regeneratorRuntime.default.mark(function o(){var u,l,s,r,d,c;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.lendingOptions=new uO(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl),c=this.lendingOptions.getCurrentLendingActions(),c){f.next=5;break}return f.abrupt("return");case 5:if(this.primaryTitle=c.primaryTitle,this.primaryActions=(u=c.primaryActions)==null?void 0:u.filter(function(v){return v!=null}),this.primaryColor=c.primaryColor,this.secondaryActions=(l=c.secondaryActions)==null?void 0:l.filter(function(v){return v!=null}),this.borrowType=c.borrowType,!("browsingExpired"in this.lendingStatus&&((s=this.lendingStatus)==null?void 0:s.browsingExpired))){f.next=8;break}return this.tokenPoller.disconnectedInterval||((r=window==null?void 0:window.Sentry)==null||r.captureMessage("setupLendingToolbarActions hasExpired - no tokenPoller")),(d=this.tokenPoller)==null||d.disconnectedInterval(),this.dispatchEvent(new Event(dO.browseExpired,{bubbles:!0,cancelable:!1,composed:!0})),f.abrupt("return");case 8:if(this.borrowType==="browsed"&&this.startBrowseTimer(),!(!this.borrowType||this.barType==="title")){f.next=11;break}return this.lendingBarPostInit(),f.abrupt("return");case 11:this.startLoanTokenPoller();case 12:case"end":return f.stop()}},o,this)}))}},{key:"render",value:function(){return this.barType==="title"?Ot(_templateObject470(),this.bookTitleBar):Ot(_templateObject471(),this.bookActionBar)}},{key:"bookTitleBar",get:function(){return Ot(_templateObject472(),this.identifier,this.bookTitle)}},{key:"bookActionBar",get:function(){return Ot(_templateObject473(),this.userid,this.identifier,this.primaryColor,this.primaryActions,this.secondaryActions,this.width,this.borrowType,this.returnUrl,this.hasAdminAccess,this.disableActionGroup,this.handleLendingActionError,this.handleToggleActionGroup,this.textGroupTemplate,this.infoIconTemplate)}},{key:"startLoanTokenPoller",value:function(){var o=this,u;this.tokenPoller&&((u=window==null?void 0:window.Sentry)==null||u.captureMessage("startLoanTokenPoller clearing interval"),this.tokenPoller.disconnectedInterval());var l=function(){o.lendingBarPostInit()},s=function(r){o.handleLendingActionError(r)};this.tokenPoller=new cO(this.identifier,this.borrowType,l,s,this.tokenDelay)}},{key:"handleToggleActionGroup",value:function(){this.disableActionGroup=!this.disableActionGroup}},{key:"handleLendingActionError",value:function(o){var u,l,s;this.handleToggleActionGroup();var r=(u=o==null?void 0:o.detail)==null?void 0:u.action,d=(s=(l=o==null?void 0:o.detail)==null?void 0:l.data)==null?void 0:s.error;if(d&&this.showErrorModal(d,r),d&&d.match(/not available to borrow/gm)){var c=this.lendingStatus;r==="browse_book"?c=Ei(Jr({},this.lendingStatus),{available_to_browse:!1}):r==="borrow_book"&&(c=Ei(Jr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=c}}},{key:"showErrorModal",value:function(o,u){return Sr(this,null,_regeneratorRuntime.default.mark(function l(){var s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.disableActionGroup=!1,this.modal||(this.modal=document.querySelector("modal-manager"),this.modal||(this.modal=document.createElement("modal-manager"))),this.modal.id="action-bar-modal",c.next=5,document.body.appendChild(this.modal);case 5:s=new bd({title:"Lending error",message:o,headerColor:"#d9534f",showCloseButton:!0}),u==="create_token"&&(r=Ot(_templateObject474(),function(){return window.location.reload(!0)}),s.message=Ot(_templateObject475(),r,this.identifier)),this.modal.showModal({config:s});case 8:case"end":return c.stop()}},l,this)}))}},{key:"iconClass",get:function(){return this.width<=550?"mobile":"desktop"}},{key:"textClass",get:function(){return this.width>=550?"visible":"hidden"}},{key:"infoIconTemplate",get:function(){return Ot(_templateObject476(),this.iconClass)}},{key:"textGroupTemplate",get:function(){return Ot(_templateObject477(),this.textClass,this.primaryTitle)}},{key:"hasAdminAccess",get:function(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object:Object},tokenDelay:{type:Number}}}},{key:"styles",get:function(){return Kt(_templateObject478())}}]),e}(Xn),window.customElements.define("ia-book-actions",hO)}}),DT=Tt({"https-url:https://esm.archive.org/@internetarchive/ia-book-actions@0.0.30":function(){fO(),fO()}}),pO={};qr(pO,{IaBookTheater:function(){return qy}});var qy,$T=Tt({"components/ia-book-theater/ia-book-theater.js":function(){lu(),Tp(),vo(),DT(),dn("** ia book theater now loading ia-book-actions **"),dn("** ia-book-actions loaded **"),qy=function(S){"use strict";_inherits(e,S);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.baseHost="",n.signedIn=null,n.viewportInFullscreen=!1,n.sharedObserver=void 0,n.manifest=null,n.actionBarHeightPx=0,n.primaryReaderHeightPx=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o,u=(o=document.querySelector(".js-ia-metadata"))==null?void 0:o.value;u&&(this.item=JSON.parse(u)),this.loadObserver()}},{key:"modal",get:function(){return document.querySelector("modal-manager")}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("ia-item-navigator")}},{key:"loadObserver",value:function(){this.sharedObserver=new $a}},{key:"manageFullscreen",value:function(o){var u,l=(u=o.detail)==null?void 0:u.fullscreen;this.viewportInFullscreen=l||null}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var u=_toConsumableArray(o.detail);this.menuContents=u}},{key:"manageSideMenuEvents",value:function(o){var u=o.detail,l=u.menuId,s=u.action;!l||(s==="open"?(this.itemNav.openShortcut(l),this.openShortcut(l)):s==="toggle"&&(this.itemNav.openMenu(l),this.itemNav.toggleMenu()))}},{key:"render",value:function(){return Hr(_templateObject480(),this.item,this.baseHost,this.signedIn,this.sharedObserver,this.modal,this.manageFullscreen)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:function(o){return o==="false"?null:o==="true"||o===!0}},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}},{key:"styles",get:function(){return Cc(_templateObject479())}}]),e}(Oo),customElements.define("ia-book-theater",qy),dn("** ia-book-theater defined **")}}),BT={},NT=Tt({"www/sf/bookreader/SearchInsideAccess.js":function(){la.prototype.init=function(){this.initiateRequest()},la.prototype.grantAccess=function(){this.startTimer();var S=this.requestCount===1&&this.postInitCB;S&&this.postInitCB()},la.prototype.requestError=function(S){if(typeof archive_analytics!="undefined"){var t=S.responseJSON?S.responseJSON.error.replace(/\s/g,"_"):"unknown",e="BRSearchInsideToken-ReqErr-"+S.status+"-From-"+t;window.Sentry&&S.status>=400&&window.Sentry.captureMessage(e)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})},la.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()},la.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(S){this.grantAccess()}.bind(this),function(S){this.requestError(S)}.bind(this))},la.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null},la.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)},la.prototype.hasValidLoanToken=function(){var S="loan-"+this.bookId,t;try{t=document.cookie}catch(e){t=""}return t.indexOf(S)>-1},window.SearchInsideAccess=la}}),zT={},HT=Tt({"www/sf/bookreader/BookReaderJSIA.js":function(){window.BookReaderJSIAinit=function(){var S=function(c,h,f){var v=h||{};return jQuery.extend(!0,v,t(c)),jQuery.extend(!0,v,e(c)),jQuery.extend(!0,v,n(c)),jQuery.extend(!0,v,o(c)),v.bookUrl=c.bookUrl,c.lendingInfo.isOpenLibraryLending?(v.bookUrlText=v.bookTitle+"<br>&larr; Back to book details on Open Library",v.bookUrlTitle="Go to this book's page on Open Library",v.bookUrlMoreInfo="More information on Open Library"):(v.bookUrlText=v.bookTitle+"<br>&larr; Back to item details",v.bookUrlTitle="Go to this book's page on Archive.org",v.bookUrlMoreInfo="More information on Archive.org"),v.imagesBaseURL="https://esm.archive.org/@internetarchive/bookreader@5.0.0-78/BookReader/images/",v.olHost=c.olHost,v.protected=c.lendingInfo.shouldProtectImages,v.thumbnail="//archive.org/download/"+c.id+"/page/cover_t.jpg",v.enableExperimentalControls=!0,v.enablePageResume=!0,isNaN(parseInt(v.defaultStartLeaf))||(v.titleLeaf=v.defaultStartLeaf),f&&jQuery.extend(v,f),v},t=function(c){var h={},f=[],v=Array(c.metadata.title).join(", ");if(v&&f.push({label:"Title",value:v,extraValueClass:"larger"}),c.metadata.creator&&f.push({label:"Author",value:Array(c.metadata.creator).join(", "),extraValueClass:"larger"}),c.metadata.publishDate&&f.push({label:"Publish Data",value:c.metadata.publishDate,extraValueClass:""}),c.metadata.collection&&c.metadata.collection.length>0){var x=$.map(c.metadata.collection,function(b){return'<a href="/details/'+b+'">'+b+"</a>"}).join(", ");f.push({label:"Collections",value:x,extraValueClass:""})}if(c.metadata.sponsor&&c.metadata.contributor&&c.metadata.sponsor==c.metadata.contributor?f.push({label:"Sponsor &amp; Contributor",value:c.metadata.sponsor,extraValueClass:""}):(c.metadata.sponsor&&f.push({label:"Sponsor",value:c.metadata.sponsor,extraValueClass:""}),c.metadata.contributor&&f.push({label:"Contributor",value:c.metadata.contributor,extraValueClass:""})),h.metadata=f,c.metadata.language){var w=typeof c.metadata.language=="string"?c.metadata.language:c.metadata[0]?c.metadata[0]:null;h.bookLanguage=w}return h},e=function(c){var h={},f={};return c.lendingInfo.loanId&&(f.loanId=c.lendingInfo.loanId),h.lendingInfo=f,h},n=function(c){var h={},f=function(x,w){var b="https://"+window.location.host+"/stream/"+c.id;return c.subPrefix!=c.id&&(b+="/"+urlencodePath(c.subPrefix)),b+="?ui=embed",typeof w!="undefined"&&(b+="#"+x.fragmentFromParams(w)),b};return h.getEmbedCode=function(v,x,w){return"<iframe src='"+f(this,w)+"' width='"+v+"' height='"+x+"' frameborder='0' ></iframe>"},h},o=function(c){var h=[],f=BookReader.prototype.getPageURI;return h.getPageURI=function(v,x,w){typeof x=="undefined"&&(x=1),typeof w=="undefined"&&(w=0),x=Math.pow(2,Math.floor(Math.log2(Math.max(1,x))));var b=f.call(this,v,x,w);return b?(b=b+(b.indexOf("?")>-1?"&":"?"),b=b+"scale="+x+"&rotate="+w,b):""},h},u=function(c){var h=BookReader.prototype.getResumeValue;BookReader.prototype.getResumeValue=function(){var v=null;return c.lendingInfo.userid&&BookReader.docCookies&&(v=BookReader.docCookies.getItem("br-resume-"+c.lendingInfo.userid)),v===null&&(v=h?h.call(this):0),v!==null&&(v=parseInt(v)),v};var f=BookReader.prototype.updateResumeValue;BookReader.prototype.updateResumeValue=function(v){var x=c.lendingInfo.userid?"br-resume-"+c.lendingInfo.userid:null;f.call(this,v,x)}},l=function(c){if(!!CustomEvent){var h=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:c});document.dispatchEvent(h)}},s=function(c,h){if(!!CustomEvent){var f=c.lendingStatus,v=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:h||[],lendingStatus:f||{},isAdmin:c.isAdmin}});document.dispatchEvent(v)}},r=function(c,h,f,v){var x=h,w=h.lendingStatus;x=Object.assign({},x,w),x.lendingStatus="";var b=document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+f.bookId,C=document.querySelector("ia-book-actions");C||(C=document.createElement("ia-book-actions")),C.userid=x.userid,C.identifier=f.bookId,C.bookTitle=f.bookTitle,C.lendingStatus=x,C.bwbPurchaseUrl=f.purchaseUrl,C.barType=v||"action",C.lendingBarPostInit=c,C.returnUrl=b,C.classList.add("focus-on-child-only");var P=document.querySelector("#IABookReaderMessageWrapper");P?(P.appendChild(C),P.style.display=""):c()};return function(d,c){var h=d.data,f=d.brOptions,v=d.lendingInfo,x=v.lendingStatus||{},w=d.metadata;h.lendingInfo=v,h.metadata=w,window.onerror=logError;var b=S(h,f,c);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}u(h);var C=new BookReader(b);window.br=C;var P=v.isPrintDisabledOnly||h.isRestricted&&!x.is_login_required||v.isLendingRequired&&v.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",P));var E=!P,T=b.ui==="embed";P&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),l({brVersion:BookReader.version,downloadURLs:h.downloadUrls,isRestricted:h.isRestricted});var m=function(){setTimeout(function(){C.init()},100)},a=function(){setTimeout(function(){s(v,h.downloadUrls),m()},100)};if(E){m(),T&&r(function(){},v,b,"title");return}var p=function(y){y&&typeof y!="undefined"&&y.errorMessage==="no access token"&&(C.options.enableSearch=!1);var _=T?"title":"action";r(a,v,b,_)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(C,w.identifier,p),this.searchInside.init()):p(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:x.available_to_browse||"",available_to_borrow:x.available_to_borrow||"",available_to_waitlist:x.available_to_waitlist||"",user_has_browsed:x.user_has_browsed||"",user_has_borrowed:x.user_has_borrowed||"",user_on_waitlist:x.user_on_waitlist||"",user_can_claim_waitlist:x.user_can_claim_waitlist||""})}}()}});Ol(),np(),Md(),da(),oi(),vo();function vO(){var S=function(){ee("#theatre-ia-wrap").removeClass("flagged"),ee(".bookreader-playlist-container").removeClass("hide")};ee(".toggle-flag-overlay").on("click",function(t){t.preventDefault(),S()}),ee("#flag-checkboxes a").on("click",function(e){e.preventDefault(),ee(this).children(".my-checkbox").toggleClass("checked"),ee.get(ee(this).attr("href")),S()}),VO()&&Gr.get("logged-in-user")!==void 0&&(ee("#flag-popover li").on("click",function(){return ee(this).find("a").trigger("click"),!1}),ee("#flag-popover a").on("click",function(e){e.preventDefault();var n=ee("#item-flags-popup"),o=ee(this),u=ee(o).parent();return ee(u).toggleClass("selected"),ee(n).removeClass("open"),ee.getJSON("".concat(ee(this).attr("href"),"&no_chrome=1"),function(l){var s=ee(l.button);ee(n).replaceWith(s),ee("#flag-button-container").html(l.button),ee("#flag-overlay").html(l.overlay),l.has_flags?ee("#theatre-ia-wrap").addClass("flagged"):ee("#theatre-ia-wrap").removeClass("flagged"),vO()}),!1}))}ee(document).ready(function(){dn("initialize item flags"),vO()}),vo(),oi(),window.$=ee,ee(function(){return Sr(this,null,_regeneratorRuntime.default.mark(function t(){var e,n,o;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=!ee(".js-bookreader").length,l.next=4,Promise.resolve().then(function(){return H8(),A1});case 4:return l.next=6,Promise.resolve().then(function(){return F8(),N1});case 6:return l.next=8,Promise.resolve().then(function(){return U8(),Z1});case 8:return l.next=10,Promise.resolve().then(function(){return V8(),fk});case 10:return l.next=12,Promise.resolve().then(function(){return W8(),Ok});case 12:return l.next=14,Promise.resolve().then(function(){return q8(),Hk});case 14:return l.next=16,Promise.resolve().then(function(){return G8(),tx});case 16:return l.next=18,Promise.resolve().then(function(){return Y8(),vx});case 18:return l.next=20,Promise.resolve().then(function(){return X8(),Ex});case 20:return l.next=22,Promise.resolve().then(function(){return J8(),K8});case 22:return l.next=24,Promise.resolve().then(function(){return Tj(),rA});case 24:if(dn("** BR Resources loaded **",(e=window.BookReader)==null?void 0:e.version),!n){l.next=32;break}return o=document.body.classList.contains("embedded"),l.next=29,Promise.all([Promise.resolve().then(function(){return nE(),w5}),o?Promise.resolve().then(function(){return RT(),I7}):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(function(){return yT(),WC}):Promise.resolve().then(function(){return MT(),b7})]);case 29:dn("** Liner Notes loaded **"),l.next=35;break;case 32:return l.next=34,Promise.all([Promise.resolve().then(function(){return $T(),pO}),Promise.resolve().then(function(){return NT(),BT}),Promise.resolve().then(function(){return HT(),zT})]);case 34:dn("** BR Resources loaded **");case 35:ee(".js-bookreader").each(function(s,r){var d=JSON.parse(ee(r).val());ee.ajax({url:d.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(c){var h=$t.paramsToJSON(),f=function(){return{autoflip:parseInt(h.autoflip,10)===1,flipSpeed:h.flipSpeed||2e3,flipDelay:h.flipDelay||5e3}},v={el:"#BookReader",urlHistoryBasePath:d.urlHistoryBasePath,resumeCookiePath:d.resumeCookiePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:h.view==="theater",initialSearchTerm:d.initialSearchTerm,searchInsidePreTag:"<IA_FTS_MATCH>",searchInsidePostTag:"</IA_FTS_MATCH>",onePage:{autofit:d.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:d.purchase_url};d.br_ui==="embed"&&(v.mode=1,v.ui="embed",v.enableFSLogoShortcut=!1),d.has_multiple_readable_files&&(v.enableMultipleBooks=!0,v.multipleBooksList=d.multipleBooksList);var x=f();window.BookReaderJSIAinit(c.data,v),x.autoflip&&window.br.autoToggle(x);var w=decodeURIComponent(h.options).split("|"),b=h.wrapper==="false"||w.indexOf("view-only")>-1;b&&v.ui!=="embed"&&ee("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})});case 36:case"end":return l.stop()}},t)}))})})();/*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright  [YEAR] W3C (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*//**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2022 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/

// @license-end
//# sourceMappingURL=details-bookreader.min.js.map